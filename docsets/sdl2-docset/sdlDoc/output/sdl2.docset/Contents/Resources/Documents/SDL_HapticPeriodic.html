<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>SDL_HapticPeriodic</title>
    <script type="text/javascript" src="doc.js"></script>
  </head>
  <body>
    <div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><div><table style="width: 100%"><tbody><tr>  <td style="color: #FF0000; ; text-align: center"><p class="line862"> DRAFT</p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line867">
</p><h1 id="SDL_HapticPeriodic-1">SDL_HapticPeriodic</h1>
<span class="anchor" id="line-6"></span><p class="line874">A structure that contains a template for a periodic effect. <span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span></p><p class="line867"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li>
<a href="#SDL_HapticPeriodic-1">SDL_HapticPeriodic</a><ol><li>
<a href="#Data_Fields">Data Fields</a></li><li>
<a href="#Code_Examples">Code Examples</a></li><li>
<a href="#Remarks">Remarks</a></li><li>
<a href="#Related_Structures">Related Structures</a></li></ol></li></ol></div><p class="line874"> <span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span></p><p class="line867">
</p><h2 id="Data_Fields">Data Fields</h2>
<span class="anchor" id="line-11"></span><div><table><tbody><tr>  <td colspan="3" style="background-color: #EDEDED; text-align: center"><p class="line891"><em>Header</em></p></td>
</tr>
<tr>  <td><span class="anchor" id="line-12"></span><p class="line862">Uint16</p></td>
  <td><p class="line891"><strong>type</strong></p></td>
  <td><p class="line862">the shape of the waves; <span class="comment" style="display:none">one of the effects handled by this structure</span> see <a href="/SDL_HapticPeriodic#type">Remarks</a> for details</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-13"></span><p class="line891"><a href="/SDL_HapticDirection">SDL_HapticDirection</a></p></td>
  <td><p class="line891"><strong>direction</strong></p></td>
  <td><p class="line862">direction of the effect (relative to the user)</p></td>
</tr>
<tr>  <td colspan="3" style="background-color: #EDEDED; text-align: center"><span class="anchor" id="line-14"></span><p class="line891"><em>Replay</em></p></td>
</tr>
<tr>  <td><span class="anchor" id="line-15"></span><p class="line862">Uint32</p></td>
  <td><p class="line891"><strong>length</strong></p></td>
  <td><p class="line862">duration of the effect <span class="comment" style="display:none">(is this the same as # of cycles? always in ms?)</span> </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-16"></span><p class="line862">Uint16</p></td>
  <td><p class="line891"><strong>delay</strong></p></td>
  <td><p class="line862">delay before starting the effect <span class="comment" style="display:none">(ms?)</span> </p></td>
</tr>
<tr>  <td colspan="3" style="background-color: #EDEDED; text-align: center"><span class="anchor" id="line-17"></span><p class="line891"><em>Trigger</em></p></td>
</tr>
<tr>  <td><span class="anchor" id="line-18"></span><p class="line862">Uint16</p></td>
  <td><p class="line891"><strong>button</strong></p></td>
  <td><p class="line862">button that triggers the effect</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-19"></span><p class="line862">Uint16</p></td>
  <td><p class="line891"><strong>interval</strong></p></td>
  <td><p class="line862">how soon it can be triggered again after <strong>button</strong> <span class="comment" style="display:none">(ms?) (delay between individual waves or before the effect can be used again?)</span> </p></td>
</tr>
<tr>  <td colspan="3" style="background-color: #EDEDED; text-align: center"><span class="anchor" id="line-20"></span><p class="line891"><em>Periodic</em></p></td>
</tr>
<tr>  <td><span class="anchor" id="line-21"></span><p class="line862">Uint16</p></td>
  <td><p class="line891"><strong>period</strong></p></td>
  <td><p class="line862">period of the wave <span class="comment" style="display:none">(ms?) (like frequency, duration from start to start?)</span> </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-22"></span><p class="line862">Sint16</p></td>
  <td><p class="line891"><strong>magnitude</strong></p></td>
  <td><p class="line862">peak value <span class="comment" style="display:none">(units?) (like amplitude?)</span> </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-23"></span><p class="line862">Sint16</p></td>
  <td><p class="line891"><strong>offset</strong></p></td>
  <td><p class="line862">mean value of the wave <span class="comment" style="display:none">(what aspect of the wave is being offset from what other marker? Is this the distance between waves?)</span> </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-24"></span><p class="line862">Uint16</p></td>
  <td><p class="line891"><strong>phase</strong></p></td>
  <td><p class="line862">horizontal shift given by hundredths of a cycle; see <a href="/SDL_HapticPeriodic#phase">Remarks</a> for details <span class="comment" style="display:none">(what is being shifted? Is this what creates the flat tops? What is the definition of a cycle, 1 sec?)</span> </p></td>
</tr>
<tr>  <td colspan="3" style="background-color: #EDEDED; text-align: center"><span class="anchor" id="line-25"></span><p class="line891"><em>Envelope</em></p></td>
</tr>
<tr>  <td><span class="anchor" id="line-26"></span><p class="line862">Uint16</p></td>
  <td><p class="line891"><strong>attack_length</strong></p></td>
  <td><p class="line862">duration of the attack <span class="comment" style="display:none">(ms?)</span> </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-27"></span><p class="line862">Uint16</p></td>
  <td><p class="line891"><strong>attack_level</strong></p></td>
  <td><p class="line862">level at the start of the attack <span class="comment" style="display:none">(units?)</span> </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-28"></span><p class="line862">Uint16</p></td>
  <td><p class="line891"><strong>fade_length</strong></p></td>
  <td><p class="line862">duration of the fade <span class="comment" style="display:none">(ms?)</span> </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-29"></span><p class="line862">Uint16</p></td>
  <td><p class="line891"><strong>fade_level</strong></p></td>
  <td><p class="line862">level at the end of the fade <span class="comment" style="display:none">(units?)</span> </p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><p class="line867">
</p><h2 id="Code_Examples">Code Examples</h2>
<span class="anchor" id="line-32"></span><p class="line867"><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-pygments_233\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-pygments_233" lang="en"><span class="line"><span class="n">You</span> <span class="n">can</span> <span class="n">add</span> <span class="n">your</span> <span class="n">code</span> <span class="n">example</span> <span class="n">here</span>
</span></pre></div><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><p class="line867">
</p><h2 id="Remarks">Remarks</h2>
<span class="anchor" id="line-37"></span><p class="line867"><span class="comment" style="display:none">There are several typing and grammatical errors in this section of the header. May not require fixing but probably should at least be looked at. Changes from header have been made below.</span> <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span></p><p class="line867"><span class="anchor" id="type"></span> <span class="anchor" id="line-40"></span>A periodic effect consists of a wave-shaped effect that repeats itself over time. The type determines the shape of the wave and the other parameters determine the dimensions of the wave.  <span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span></p><pre><span class="anchor" id="line-1-1"></span>button         period
<span class="anchor" id="line-2-1"></span>press          |     |
<span class="anchor" id="line-3-1"></span>  ||      __    __    __    __    __    _
<span class="anchor" id="line-4-1"></span>  ||     |  |  |  |  |  |  |  |  |  |   magnitude
<span class="anchor" id="line-5-1"></span>  \/     |  |__|  |__|  |__|  |__|  |   _
<span class="anchor" id="line-6-1"></span>    -----
<span class="anchor" id="line-7-1"></span>      |            offset?
<span class="anchor" id="line-8-1"></span>    delay          phase?
<span class="anchor" id="line-9-1"></span>
<span class="anchor" id="line-10-1"></span>-------------------------------------
<span class="anchor" id="line-11-1"></span>              length
<span class="anchor" id="line-12-1"></span>===================================================
<span class="anchor" id="line-13-1"></span>                      interval</pre><span class="anchor" id="line-56"></span><p class="line867"><span class="comment" style="display:none">Does this structure warrant a simple .bmp diagram? Something that can use colors and such?</span> <span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span></p><p class="line867"><strong>type</strong> may be one of the following: <span class="anchor" id="line-59"></span></p><div><table><tbody><tr>  <td><p class="line862">SDL_HAPTIC_SINE</p></td>
  <td><p class="line891"><tt class="backtick">  __      __      __      __</tt><br>
<tt class="backtick"> /  \    /  \    /  \    /</tt><br>
<tt class="backtick">/    \__/    \__/    \__/</tt></p></td>
</tr>
<tr>  <td><span class="anchor" id="line-60"></span><p class="line862">SDL_HAPTIC_SQUARE</p></td>
  <td><p class="line891"><tt class="backtick"> __    __    __    __    __</tt><br>
<tt class="backtick">|  |  |  |  |  |  |  |  |  |</tt><br>
<tt class="backtick">|  |__|  |__|  |__|  |__|  |</tt></p></td>
</tr>
<tr>  <td><span class="anchor" id="line-61"></span><p class="line862">SDL_HAPTIC_TRIANGLE</p></td>
  <td><p class="line891"><tt class="backtick">  /\    /\    /\    /\    /\</tt><br>
<tt class="backtick"> /  \  /  \  /  \  /  \  /</tt><br>
<tt class="backtick">/    \/    \/    \/    \/</tt></p></td>
</tr>
<tr>  <td><span class="anchor" id="line-62"></span><p class="line862">SDL_HAPTIC_SAWTOOTHUP</p></td>
  <td><p class="line891"><tt class="backtick">  /|  /|  /|  /|  /|  /|  /|</tt><br>
<tt class="backtick"> / | / | / | / | / | / | / |</tt><br>
<tt class="backtick">/  |/  |/  |/  |/  |/  |/  |</tt></p></td>
</tr>
<tr>  <td><span class="anchor" id="line-63"></span><p class="line862">SDL_HAPTIC_SAWTOOTHDOWN</p></td>
  <td><p class="line891"><tt class="backtick">\  |\  |\  |\  |\  |\  |\  |</tt><br>
<tt class="backtick"> \ | \ | \ | \ | \ | \ | \ |</tt><br>
<tt class="backtick">  \|  \|  \|  \|  \|  \|  \| </tt></p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><p class="line867"><span class="anchor" id="phase"></span><strong>phase</strong> is given by hundredths of a cycle, meaning that giving the phase a value of 9000 will displace it 25% of it's period. Here are sample values: <span class="anchor" id="line-66"></span></p><div><table><tbody><tr>  <td><p class="line862">0</p></td>
  <td><p class="line862">No phase displacement</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-67"></span><p class="line862">9000</p></td>
  <td><p class="line862">Displaced 25% of it's period</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-68"></span><p class="line862">18000</p></td>
  <td><p class="line862">Displaced 50% of it's period</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-69"></span><p class="line862">27000</p></td>
  <td><p class="line862">Displaced 75% of it's period</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-70"></span><p class="line862">36000</p></td>
  <td><p class="line862">Displaced 100% of it's period, same as 0, but 0 is preferred</p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-71"></span><p class="line867"><span class="comment" style="display:none">This is not at all clear unless it is a common thing that a programmer would know.  Is phase describing the duration of an individual wave from start to finish or the duration from the start of one wave to the start of the next?</span> <span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span></p><p class="line867">
</p><h2 id="Related_Structures">Related Structures</h2>
<span class="anchor" id="line-74"></span><ul><li style="list-style-type:none"><p class="line891"><a href="/SDL_HapticDirection">SDL_HapticDirection</a> <span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span></p></li></ul><p class="line867"><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span></p><p class="line867"></p><hr><p class="line874"> <span class="anchor" id="line-79"></span><a href="/CategoryStruct"><strong class="highlight">CategoryStruct</strong></a>, <a href="/CategoryForceFeedback">CategoryForceFeedback</a> <span class="anchor" id="line-80"></span><span class="anchor" id="bottom"></span></p></div>
  </body>
</html>
