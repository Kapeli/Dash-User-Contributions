<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>SDL_AudioSpec</title>
    <script type="text/javascript" src="doc.js"></script>
  </head>
  <body>
    <div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><p class="line867">
</p><h1 id="SDL_AudioSpec-1">SDL_AudioSpec</h1>
<span class="anchor" id="line-5"></span><p class="line874">A structure that contains the audio output format. It also contains a callback that is called when the audio device needs more data. <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span></p><p class="line867"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li>
<a href="#SDL_AudioSpec-1">SDL_AudioSpec</a><ol><li>
<a href="#Data_Fields">Data Fields</a></li><li>
<a href="#Code_Examples">Code Examples</a></li><li>
<a href="#Remarks">Remarks</a></li><li>
<a href="#Related_Functions">Related Functions</a></li></ol></li></ol></div><p class="line874"> <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span></p><p class="line867">
</p><h2 id="Data_Fields">Data Fields</h2>
<span class="anchor" id="line-10"></span><div><table><tbody><tr>  <td><p class="line862">int</p></td>
  <td><p class="line891"><strong>freq</strong></p></td>
  <td><p class="line862">DSP frequency (samples per second); see <a href="/SDL_AudioSpec#Remarks">Remarks</a> for details</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-11"></span><p class="line891"><a href="/SDL_AudioFormat">SDL_AudioFormat</a></p></td>
  <td><p class="line891"><strong>format</strong></p></td>
  <td><p class="line862">audio data format; see <a href="/SDL_AudioSpec#Remarks">Remarks</a> for details</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-12"></span><p class="line862">Uint8</p></td>
  <td><p class="line891"><strong>channels</strong></p></td>
  <td><p class="line862">number of separate sound channels: see <a href="/SDL_AudioSpec#Remarks">Remarks</a> for details</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-13"></span><p class="line862">Uint8</p></td>
  <td><p class="line891"><strong>silence</strong></p></td>
  <td><p class="line862">audio buffer silence value (calculated)</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-14"></span><p class="line862">Uint16</p></td>
  <td><p class="line891"><strong>samples</strong></p></td>
  <td><p class="line862">audio buffer size in samples (power of 2); see <a href="/SDL_AudioSpec#Remarks">Remarks</a> for details</p></td>
</tr>
<tr>  <td style="color: #808080;"><span class="anchor" id="line-15"></span><p class="line862">Uint16</p></td>
  <td style="color: #808080;"><p class="line891"><strong>padding</strong></p></td>
  <td style="color: #808080;"></td>
</tr>
<tr>  <td><span class="anchor" id="line-16"></span><p class="line862">Uint32</p></td>
  <td><p class="line891"><strong>size</strong></p></td>
  <td><p class="line862">audio buffer size in bytes (calculated)</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-17"></span><p class="line862">SDL_AudioCallback</p></td>
  <td><p class="line891"><strong>callback</strong></p></td>
  <td><p class="line862">the function to call when the audio device needs more data; see <a href="/SDL_AudioSpec#callback">Remarks</a> for details</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-18"></span><p class="line862">void*</p></td>
  <td><p class="line891"><strong>userdata</strong></p></td>
  <td><p class="line862">a pointer that is passed to <strong>callback</strong> (otherwise ignored by SDL)</p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><p class="line867">
</p><h2 id="Code_Examples">Code Examples</h2>
<span class="anchor" id="line-21"></span><p class="line867"><span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-pygments_324\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-pygments_324" lang="en"><span class="line"><span class="n">SDL_AudioSpec</span> <span class="n">want</span><span class="p">,</span> <span class="n">have</span><span class="p">;</span>
</span><span class="line"><span class="n">SDL_AudioDeviceID</span> <span class="n">dev</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="n">SDL_zero</span><span class="p">(</span><span class="n">want</span><span class="p">);</span>
</span><span class="line"><span class="n">want</span><span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">48000</span><span class="p">;</span>
</span><span class="line"><span class="n">want</span><span class="p">.</span><span class="n">format</span> <span class="o">=</span> <span class="n">AUDIO_F32</span><span class="p">;</span>
</span><span class="line"><span class="n">want</span><span class="p">.</span><span class="n">channels</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</span><span class="line"><span class="n">want</span><span class="p">.</span><span class="n">samples</span> <span class="o">=</span> <span class="mi">4096</span><span class="p">;</span>
</span><span class="line"><span class="n">want</span><span class="p">.</span><span class="n">callback</span> <span class="o">=</span> <span class="n">MyAudioCallback</span><span class="p">;</span>  <span class="c1">// you wrote this function elsewhere.</span>
</span><span class="line"><span class="n">dev</span> <span class="o">=</span> <span class="n">SDL_OpenAudioDevice</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">want</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">have</span><span class="p">,</span> <span class="n">SDL_AUDIO_ALLOW_FORMAT_CHANGE</span><span class="p">);</span>
</span></pre></div><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><p class="line867">
</p><h2 id="Remarks">Remarks</h2>
<span class="anchor" id="line-35"></span><p class="line862">This structure is used by <a href="/SDL_OpenAudioDevice">SDL_OpenAudioDevice</a>() and <a href="/SDL_LoadWAV">SDL_LoadWAV</a>(). While all fields are used by <a href="/SDL_OpenAudioDevice">SDL_OpenAudioDevice</a>(), only <strong>freq</strong>, <strong>format</strong>, <strong>channels</strong>, and <strong>samples</strong> are used by <a href="/SDL_LoadWAV">SDL_LoadWAV</a>(). <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span></p><p class="line867"><strong>freq</strong> specifies the number of sample frames sent to the sound device per second. Common values are 11025, 22050, 44100 and 48000. Larger values produce cleaner audio, in much the same way that larger resolutions produce cleaner graphics. <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span></p><p class="line867"><strong>format</strong> specifies the size and type of each sample element and may be one of the following: <span class="anchor" id="line-40"></span></p><div dir="ltr" id="SDL_AudioFormat.content" lang="en"><span class="anchor" id="SDL_AudioFormat.top"></span>
<span class="anchor" id="SDL_AudioFormat.line-1"></span><span class="anchor" id="SDL_AudioFormat.line-2"></span><div><table><tbody><tr>  <td colspan="2" style="background-color: #EDEDED; text-align: center"><p class="line891"><em>8-bit support</em></p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-3"></span><p class="line862">AUDIO_S8</p></td>
  <td><p class="line862">signed 8-bit samples</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-4"></span><p class="line862">AUDIO_U8</p></td>
  <td><p class="line862">unsigned 8-bit samples</p></td>
</tr>
<tr>  <td colspan="2" style="background-color: #EDEDED; text-align: center"><span class="anchor" id="SDL_AudioFormat.line-5"></span><p class="line891"><em>16-bit support</em></p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-6"></span><p class="line862">AUDIO_S16LSB</p></td>
  <td><p class="line862">signed 16-bit samples in little-endian byte order</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-7"></span><p class="line862">AUDIO_S16MSB</p></td>
  <td><p class="line862">signed 16-bit samples in big-endian byte order</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-8"></span><p class="line862">AUDIO_S16SYS</p></td>
  <td><p class="line862">signed 16-bit samples in native byte order</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-9"></span><p class="line862">AUDIO_S16</p></td>
  <td><p class="line862">AUDIO_S16LSB</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-10"></span><p class="line862">AUDIO_U16LSB</p></td>
  <td><p class="line862">unsigned 16-bit samples in little-endian byte order</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-11"></span><p class="line862">AUDIO_U16MSB</p></td>
  <td><p class="line862">unsigned 16-bit samples in big-endian byte order</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-12"></span><p class="line862">AUDIO_U16SYS</p></td>
  <td><p class="line862">unsigned 16-bit samples in native byte order</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-13"></span><p class="line862">AUDIO_U16</p></td>
  <td><p class="line862">AUDIO_U16LSB</p></td>
</tr>
<tr>  <td colspan="2" style="background-color: #EDEDED; text-align: center"><span class="anchor" id="SDL_AudioFormat.line-14"></span><p class="line891"><em>32-bit support (new to SDL 2.0)</em></p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-15"></span><p class="line862">AUDIO_S32LSB</p></td>
  <td><p class="line862">32-bit integer samples in little-endian byte order</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-16"></span><p class="line862">AUDIO_S32MSB</p></td>
  <td><p class="line862">32-bit integer samples in big-endian byte order</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-17"></span><p class="line862">AUDIO_S32SYS</p></td>
  <td><p class="line862">32-bit integer samples in native byte order</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-18"></span><p class="line862">AUDIO_S32</p></td>
  <td><p class="line862">AUDIO_S32LSB</p></td>
</tr>
<tr>  <td colspan="2" style="background-color: #EDEDED; text-align: center"><span class="anchor" id="SDL_AudioFormat.line-19"></span><p class="line891"><em>float support (new to SDL 2.0)</em></p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-20"></span><p class="line862">AUDIO_F32LSB</p></td>
  <td><p class="line862">32-bit floating point samples in little-endian byte order</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-21"></span><p class="line862">AUDIO_F32MSB</p></td>
  <td><p class="line862">32-bit floating point samples in big-endian byte order</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-22"></span><p class="line862">AUDIO_F32SYS</p></td>
  <td><p class="line862">32-bit floating point samples in native byte order</p></td>
</tr>
<tr>  <td><span class="anchor" id="SDL_AudioFormat.line-23"></span><p class="line862">AUDIO_F32</p></td>
  <td><p class="line862">AUDIO_F32LSB</p></td>
</tr>
</tbody></table></div><span class="anchor" id="SDL_AudioFormat.line-24"></span><span class="anchor" id="SDL_AudioFormat.line-25"></span><span class="anchor" id="SDL_AudioFormat.bottom"></span></div> <span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><p class="line862">See <a href="/SDL_AudioFormat">SDL_AudioFormat</a> for more info. <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span></p><p class="line867"><strong>channels</strong> specifies the number of output channels. As of SDL 2.0, supported values are 1 (mono), 2 (stereo), 4 (quad), and 6 (5.1). <span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span></p><p class="line867"><strong>samples</strong> specifies a unit of audio data.  When used with <a href="/SDL_OpenAudioDevice">SDL_OpenAudioDevice</a>() this refers to the size of the audio buffer in sample frames. A sample frame is a chunk of audio data of the size specified in <strong>format</strong> multiplied by the number of channels. When the <a href="/SDL_AudioSpec">SDL_AudioSpec</a> is used with <a href="/SDL_LoadWAV">SDL_LoadWAV</a>() <strong>samples</strong> is set to 4096. This field's value must be a power of two. <span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span></p><p class="line862">The values <strong>silence</strong> and <strong>size</strong> are calculated by <a href="/SDL_OpenAudioDevice">SDL_OpenAudioDevice</a>(). <span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span></p><p class="line874">Channel data is interleaved. Stereo samples are stored in left/right ordering. Quad is stored in front-left/front-right/rear-left/rear-right order. 5.1 is stored in front-left/front-right/center/low-freq/rear-left/rear-right ordering ("low-freq" is the ".1" speaker). <span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span></p><p class="line867"><span class="anchor" id="callback"></span> <span class="anchor" id="line-53"></span>The function prototype for <strong>callback</strong> is: <span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-pygments_325\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-pygments_325" lang="en"><span class="line"><span class="kt">void</span> <span class="nf">SDL_AudioCallback</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">userdata</span><span class="p">,</span> <span class="n">Uint8</span><span class="o">*</span> <span class="n">stream</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">);</span>
</span></pre></div><span class="anchor" id="line-57"></span><ul><li style="list-style-type:none">where its parameters are: <span class="anchor" id="line-58"></span><div><table><tbody><tr>  <td><p class="line891"><tt class="backtick">userdata</tt></p></td>
  <td><p class="line862">an application-specific parameter saved in the <a href="/SDL_AudioSpec">SDL_AudioSpec</a> structure's <strong>userdata</strong> field</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-59"></span><p class="line891"><tt class="backtick">stream</tt></p></td>
  <td><p class="line862">a pointer to the audio data buffer filled in by SDL_AudioCallback()</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-60"></span><p class="line891"><tt class="backtick">len</tt></p></td>
  <td><p class="line862">the length of that buffer in bytes</p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span></li></ul><p class="line874">Once the callback returns, the buffer will no longer be valid. <span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span></p><p class="line862">The callback <em>must</em> completely initialize the buffer; as of SDL 2.0, this buffer is not initialized before the callback is called. If there is nothing to play, the callback should fill the buffer with silence. <span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span></p><p class="line867">
</p><h2 id="Related_Functions">Related Functions</h2>
<span class="anchor" id="line-67"></span><ul><li style="list-style-type:none"><p class="line891"><a href="/SDL_LoadWAV">SDL_LoadWAV</a> <span class="anchor" id="line-68"></span></p></li><li style="list-style-type:none"><p class="line891"><a href="/SDL_LoadWAV_RW">SDL_LoadWAV_RW</a> <span class="anchor" id="line-69"></span></p></li><li style="list-style-type:none"><p class="line891"><a href="/SDL_OpenAudioDevice">SDL_OpenAudioDevice</a> <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span></p></li></ul><p class="line867"></p><hr><p class="line874"> <span class="anchor" id="line-72"></span><a href="/CategoryStruct"><strong class="highlight">CategoryStruct</strong></a>, <a href="/CategoryAudio">CategoryAudio</a> <span class="anchor" id="line-73"></span><span class="anchor" id="bottom"></span></p></div>
  </body>
</html>
