<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>SDL_SetEventFilter</title>
    <script type="text/javascript" src="doc.js"></script>
  </head>
  <body>
    <div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><p class="line867">
</p><h1 id="SDL_SetEventFilter-1">SDL_SetEventFilter</h1>
<span class="anchor" id="line-5"></span><p class="line874">Use this function to set up a filter to process all events before they change internal state and are posted to the internal event queue. <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span></p><p class="line867"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li>
<a href="#SDL_SetEventFilter-1">SDL_SetEventFilter</a><ol><li>
<a href="#Syntax">Syntax</a></li><li>
<a href="#Function_Parameters">Function Parameters</a></li><li>
<a href="#Code_Examples">Code Examples</a></li><li>
<a href="#Remarks">Remarks</a></li><li>
<a href="#Related_Functions">Related Functions</a></li></ol></li></ol></div><p class="line874"> <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span></p><p class="line867">
</p><h2 id="Syntax">Syntax</h2>
<span class="anchor" id="line-10"></span><p class="line867"><span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-pygments_461\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-pygments_461" lang="en"><span class="line"><span class="kt">void</span> <span class="n">SDL_SetEventFilter</span><span class="p">(</span><span class="n">SDL_EventFilter</span> <span class="n">filter</span><span class="p">,</span>
</span><span class="line">                        <span class="kt">void</span><span class="o">*</span>           <span class="n">userdata</span><span class="p">)</span>
</span></pre></div><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><p class="line867">
</p><h2 id="Function_Parameters">Function Parameters</h2>
<span class="anchor" id="line-16"></span><div><table><tbody><tr>  <td><p class="line891"><strong>filter</strong></p></td>
  <td><p class="line862">the function to call when an event happens; see <a href="/SDL_SetEventFilter#Remarks">Remarks</a> for details</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-17"></span><p class="line891"><strong>userdata</strong></p></td>
  <td><p class="line862">a pointer that is passed to <strong>filter</strong></p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><p class="line867">
</p><h2 id="Code_Examples">Code Examples</h2>
<span class="anchor" id="line-20"></span><p class="line867"><span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-pygments_462\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-pygments_462" lang="en"><span class="line"><span class="n">You</span> <span class="n">can</span> <span class="n">add</span> <span class="n">your</span> <span class="n">code</span> <span class="n">example</span> <span class="n">here</span>
</span></pre></div><span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><p class="line867">
</p><h2 id="Remarks">Remarks</h2>
<span class="anchor" id="line-25"></span><p class="line867"><span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span></p><p class="line862">The function prototype for <strong>filter</strong> is: <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-pygments_463\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-pygments_463" lang="en"><span class="line"><span class="kt">int</span> <span class="n">YourEventFilter</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span>      <span class="n">userdata</span><span class="p">,</span>
</span><span class="line">                    <span class="n">SDL_Event</span><span class="o">*</span> <span class="n">event</span><span class="p">)</span>
</span></pre></div><span class="anchor" id="line-32"></span><p class="line867"><span class="anchor" id="line-33"></span></p><ul><li style="list-style-type:none"><p class="line862">where <tt class="backtick">YourEventFilter</tt> is the name of your function and its parameters are: <span class="anchor" id="line-34"></span></p><div><table><tbody><tr>  <td><p class="line891"><tt class="backtick">userdata</tt></p></td>
  <td><p class="line862">what was passed as <strong>userdata</strong> to <a href="/SDL_SetEventFilter">SDL_SetEventFilter</a>()</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-35"></span><p class="line891"><tt class="backtick">event</tt></p></td>
  <td><p class="line862">the event that triggered the callback</p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span></li><li class="gap" style="list-style-type:none"><p class="line862">If <strong>filter</strong> returns 1, then the event will be added to the internal queue.  If it returns 0, then the event will be dropped from the queue, but the internal state will still be updated.  This allows selective filtering of dynamically arriving events. <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span></p></li></ul><p class="line867"><img alt="/!\" height="16" src="/moin_static195/fixedleft/img/alert.png" title="/!\" width="16"> Be very careful of what you do in the event filter function, as it may run in a different thread! <span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span></p><p class="line874">There is one caveat when dealing with the SDL_QUITEVENT event type.  The event filter is only called when the window manager desires to close the application window.  If the event filter returns 1, then the window will be closed, otherwise the window will remain open if possible. <span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span></p><p class="line874">If the quit event is generated by an interrupt signal, it will bypass the internal queue and be delivered to the application at the next event poll. <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span></p><p class="line862">Note: Disabled events never make it to the event filter function; see <a href="/SDL_EventState">SDL_EventState</a>(). <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span></p><p class="line862">Note: If you just want to inspect events without filtering, you should use <a href="/SDL_AddEventWatch">SDL_AddEventWatch</a>() instead. <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span></p><p class="line862">Note: Events pushed onto the queue with <a href="/SDL_PushEvent">SDL_PushEvent</a>() get passed through the event filter, but events pushed onto the queue with or <a href="/SDL_PeepEvents">SDL_PeepEvents</a>() do not.  <span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span></p><p class="line867">
</p><h2 id="Related_Functions">Related Functions</h2>
<span class="anchor" id="line-52"></span><ul><li style="list-style-type:none"><p class="line891"><a href="/SDL_AddEventWatch">SDL_AddEventWatch</a> <span class="anchor" id="line-53"></span></p></li><li style="list-style-type:none"><p class="line891"><a href="/SDL_EventState">SDL_EventState</a> <span class="anchor" id="line-54"></span></p></li><li style="list-style-type:none"><p class="line891"><a href="/SDL_GetEventFilter">SDL_GetEventFilter</a> <span class="anchor" id="line-55"></span></p></li><li style="list-style-type:none"><p class="line891"><a href="/SDL_PeepEvents">SDL_PeepEvents</a> <span class="anchor" id="line-56"></span></p></li><li style="list-style-type:none"><p class="line891"><a href="/SDL_PushEvent">SDL_PushEvent</a> <span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span></p></li></ul><p class="line867"></p><hr><p class="line874"> <span class="anchor" id="line-59"></span><a href="/CategoryAPI"><strong class="highlight">CategoryAPI</strong></a>, <a href="/CategoryEvents">CategoryEvents</a> <span class="anchor" id="line-60"></span><span class="anchor" id="bottom"></span></p></div>
  </body>
</html>
