<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>SDL_GetPrefPath</title>
    <script type="text/javascript" src="doc.js"></script>
  </head>
  <body>
    <div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><p class="line867">
</p><h1 id="SDL_GetPrefPath-1">SDL_GetPrefPath</h1>
<span class="anchor" id="line-5"></span><p class="line874">Use this function to get the "pref dir". This is meant to be where the application can write personal files (Preferences and save games, etc.) that are specific to the application.  This directory is unique per user and per application. <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span></p><p class="line867"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li>
<a href="#SDL_GetPrefPath-1">SDL_GetPrefPath</a><ol><li>
<a href="#Syntax">Syntax</a></li><li>
<a href="#Function_Parameters">Function Parameters</a></li><li>
<a href="#Return_Value">Return Value</a></li><li>
<a href="#Code_Examples">Code Examples</a></li><li>
<a href="#Remarks">Remarks</a></li><li>
<a href="#Version">Version</a></li><li>
<a href="#Related_Functions">Related Functions</a></li></ol></li></ol></div><p class="line874"> <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span></p><p class="line867">
</p><h2 id="Syntax">Syntax</h2>
<span class="anchor" id="line-11"></span><p class="line867"><span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-pygments_393\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-pygments_393" lang="en"><span class="line"><span class="kt">char</span><span class="o">*</span> <span class="n">SDL_GetPrefPath</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">org</span><span class="p">,</span>
</span><span class="line">                      <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">app</span><span class="p">)</span>
</span></pre></div><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><p class="line867">
</p><h2 id="Function_Parameters">Function Parameters</h2>
<span class="anchor" id="line-17"></span><div><table><tbody><tr>  <td><p class="line891"><strong>org</strong></p></td>
  <td><p class="line862">the name of your organization</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-18"></span><p class="line891"><strong>app</strong></p></td>
  <td><p class="line862">the name of your application</p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><p class="line867">
</p><h2 id="Return_Value">Return Value</h2>
<span class="anchor" id="line-22"></span><p class="line874">Returns a UTF-8 string of the user directory in platform-dependent notation. NULL if there's a problem (creating directory failed, etc.). <span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span></p><p class="line874">The return path will be guaranteed to end with a path separator ('\' on Windows, '/' on most other platforms). <span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span></p><p class="line874">The pointer returned is owned by you. Please call SDL_free() on the pointer when you are done with it. <span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span></p><p class="line867">
</p><h2 id="Code_Examples">Code Examples</h2>
<span class="anchor" id="line-29"></span><p class="line867"><span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span></p><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-pygments_394\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-pygments_394" lang="en"><span class="line"><span class="kt">char</span> <span class="o">*</span><span class="n">pref_path</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kt">void</span> <span class="nf">InitializePrefPath</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kt">char</span> <span class="o">*</span><span class="n">base_path</span> <span class="o">=</span> <span class="n">SDL_GetPrefPath</span><span class="p">(</span><span class="s">"My Company"</span><span class="p">,</span> <span class="s">"My Awesome SDL 2 Game"</span><span class="p">);</span>
</span><span class="line">    <span class="k">if</span> <span class="p">(</span><span class="n">base_path</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="n">pref_path</span> <span class="o">=</span> <span class="n">SDL_strdup</span><span class="p">(</span><span class="n">base_path</span><span class="p">);</span>
</span><span class="line">        <span class="n">SDL_free</span><span class="p">(</span><span class="n">base_path</span><span class="p">);</span>
</span><span class="line">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">        <span class="cm">/* Do something to disable writing in-game */</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></pre></div><span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><p class="line867">
</p><h2 id="Remarks">Remarks</h2>
<span class="anchor" id="line-45"></span><p class="line862">You should assume the path returned by this function is the only safe place to write files (and that <a href="/SDL_GetBasePath">SDL_GetBasePath</a>(), while it might be writable, or even the parent of the returned path, aren't where you should be writing things). <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span></p><p class="line874">Both the org and app strings may become part of a directory name, so please follow these rules: <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span></p><ul><li>Try to use the same org string (including case-sensitivity) for all your applications that use this function. <span class="anchor" id="line-50"></span></li><li>Always use a unique app string for each one, and make sure it never changes for an app once you've decided on it. <span class="anchor" id="line-51"></span></li><li>Unicode characters are legal, as long as it's UTF-8 encoded, but... <span class="anchor" id="line-52"></span></li><li>...only use letters, numbers, and spaces. Avoid punctuation like "Game Name 2: Bad Guy's Revenge!" ... "Game Name 2" is sufficient. <span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span></li></ul><p class="line867">
</p><h2 id="Version">Version</h2>
<span class="anchor" id="line-55"></span><p class="line874">This function is available in SDL 2.0.1 <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span></p><p class="line867">
</p><h2 id="Related_Functions">Related Functions</h2>
<span class="anchor" id="line-58"></span><ul><li style="list-style-type:none"><p class="line891"><a href="/SDL_GetBasePath">SDL_GetBasePath</a> <span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span></p></li></ul><p class="line867"></p><hr><p class="line874"> <span class="anchor" id="line-61"></span><a href="/CategoryAPI"><strong class="highlight">CategoryAPI</strong></a>, <a href="/CategoryFilesystem">CategoryFilesystem</a> <span class="anchor" id="line-62"></span><span class="anchor" id="bottom"></span></p></div>
  </body>
</html>
