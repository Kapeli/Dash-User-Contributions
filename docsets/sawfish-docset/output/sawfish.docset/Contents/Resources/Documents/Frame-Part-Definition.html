<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>sawfish Programming Manual: Frame Part Definition</title>

<meta name="description" content="sawfish Programming Manual: Frame Part Definition">
<meta name="keywords" content="sawfish Programming Manual: Frame Part Definition">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Function-Index.html#Function-Index" rel="index" title="Function Index">
<link href="Concept-Index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Window-Frames.html#Window-Frames" rel="up" title="Window Frames">
<link href="Frame-Functions.html#Frame-Functions" rel="next" title="Frame Functions">
<link href="Frame-Part-Classes.html#Frame-Part-Classes" rel="previous" title="Frame Part Classes">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Frame-Part-Definition"></a>
<div class="header">
<p>
Next: <a href="Frame-Functions.html#Frame-Functions" accesskey="n" rel="next">Frame Functions</a>, Previous: <a href="Frame-Part-Classes.html#Frame-Part-Classes" accesskey="p" rel="previous">Frame Part Classes</a>, Up: <a href="Window-Frames.html#Window-Frames" accesskey="u" rel="up">Window Frames</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Function-Index.html#Function-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Frame-Part-Definitions"></a>
<h3 class="section">10.3 Frame Part Definitions</h3>
<a name="index-Frame-part-definitions"></a>
<a name="index-Window-frames_002c-frame-part-definitions"></a>

<p>Each frame part is defined as an association list (or alist), a list of
cons cells, the car of each cell defines the attribute, the cdr defines
the value given to that attribute. So, for example, the alist
<code>((foo . 1) (bar . 2))</code> specifies two attributes: <code>foo</code> with
value <code>1</code>, and <code>bar</code> with value <code>2</code>. See <a href="../librep/Association-Lists.html#Association-Lists">Association Lists</a> in <cite>The Librep Manual</cite>.
</p>
<p>The attributes that may be defined are as follows:
</p>
<dl compact="compact">
<dt><code>(class . <var>class</var>)</code></dt>
<dd><p>Specifies the frame part class of the part.
</p>
</dd>
<dt><code>(background . <var>data</var>)</code></dt>
<dt><code>(background . (<var>normal</var> <var>focused</var> <var>highlighted</var> <var>clicked</var>))</code></dt>
<dd><p>Specifies the background of the part. May be a color, an image, or a
string naming a color. If a single element, then it is used for all
states of the part, otherwise if a list, then each of the four elements
defines the background for that particular state.
</p>
<p>If an image is used it will be scaled to the size of the frame part,
unless it&rsquo;s <code>tiled</code> property is set, in which case it will be
tiled across the frame part.
</p>
</dd>
<dt><code>(foreground . <var>data</var>)</code></dt>
<dt><code>(foreground . (<var>normal</var> <var>focused</var> <var>highlighted</var> <var>clicked</var>))</code></dt>
<dd><p>Specifies a foreground color or image for the frame part, either for
all states, or for each individual state.
</p>
<p>Unlike the <code>background</code> attribute, by default images are not
scaled when used to define the foreground of a frame part.
</p>
</dd>
<dt><code>(scale-foreground . <var>value</var>)</code></dt>
<dd><p>When <var>value</var> is non-<code>nil</code>, the foreground image of the frame
part will be scaled to the size of the part.
</p>
</dd>
<dt><code>(font . <var>font</var>)</code></dt>
<dt><code>(font . (<var>normal</var> <var>focused</var> <var>highlighted</var> <var>clicked</var>))</code></dt>
<dd><p>Specifies the font(s) of the part.
</p>
</dd>
<dt><code>(text . <var>value</var>)</code></dt>
<dd><p>Specifies the string to draw in the foreground of the frame part
(unless the <code>foreground</code> property is an image). Either a string,
or a function, that will be called each time that the part is
refreshed, that will return the string to draw.
</p>
</dd>
<dt><code>(x-justify . <var>value</var>)</code></dt>
<dd><p>Defines the horizontal position of the foreground contents of the part
(i.e. the text or foreground image). May be one of the symbols
<code>left</code>, <code>right</code> or <code>center</code>, or a number. If a number it
defines the number of pixels from the left edge if positive, or the
right edge if negative.
</p>
</dd>
<dt><code>(y-justify . <var>value</var>)</code></dt>
<dd><p>Similar to <code>x-justify</code>, but the accepted symbols are <code>top</code>,
<code>bottom</code> or <code>center</code> instead.
</p>
</dd>
<dt><code>(renderer . <var>function</var>)</code></dt>
<dd><p>This attribute may be used instead of the <code>background</code> attribute.
When the part needs to be drawn <var>function</var> will be called with an
image in which to render the background, and the current state of the
part, a symbol <code>focused</code>, <code>highlighted</code>, <code>clicked</code>, or
<code>nil</code> (for the normal state).
</p>
</dd>
<dt><code>(render-scale . <var>value</var>)</code></dt>
<dd><p>This attribute causes the size of the image used with the
<code>renderer</code> property to be reduced by a factor of <var>value</var>, an
integer.
</p>
</dd>
<dt><code>(left-edge . <var>value</var>)</code></dt>
<dd><p>Defines the position of the left edge of the part, in relation to the
left edge of the client window.
</p>
</dd>
<dt><code>(right-edge . <var>value</var>)</code></dt>
<dd><p>Defines the position of the right edge of the part, in relation to the
right edge of the client window.
</p>
</dd>
<dt><code>(top-edge . <var>value</var>)</code></dt>
<dd><p>Defines the position of the top edge of the part, in relation to the
top edge of the client window.
</p>
</dd>
<dt><code>(bottom-edge . <var>value</var>)</code></dt>
<dd><p>Defines the position of the bottom edge of the part, in relation to the
bottom edge of the client window.
</p>
</dd>
<dt><code>(width . <var>value</var>)</code></dt>
<dd><p>Defines the width of the frame part.
</p>
</dd>
<dt><code>(height . <var>value</var>)</code></dt>
<dd><p>Defines the height of the frame part.
</p>
</dd>
<dt><code>(border-width . <var>value</var>)</code></dt>
<dt><code>(border-color . <var>value</var>)</code></dt>
<dd><p>Defines the border width and color. A &ldquo;border&rdquo; if present surrounds
the window and all other frame parts. Both width and color are applied
to the whole window instead of current frame part. (Thus they should
be properties of window, not frame parts. Sorry.)
</p>
</dd>
<dt><code>(keymap . <var>value</var>)</code></dt>
<dd><p>Defines the keymap to use when evaluating events originating in this
frame part.
</p>
</dd>
<dt><code>(cursor . <var>cursor</var>)</code></dt>
<dd><p>Defines the cursor to display when the mouse is in this part. May be
either a cursor object, or the argument to <code>get-cursor</code> to create
the required cursor object.
</p>
</dd>
<dt><code>(removable . <var>value</var>)</code></dt>
<dd><p>When specified and <var>value</var> is non-<code>nil</code>, this frame part may
be removed from the frame without being detrimental to the overall
appearance of the frame. This is only important for button classes,
which may sometimes be removed at the request of the client window.
</p>
</dd>
<dt><code>(below-client . <var>value</var>)</code></dt>
<dd><p>When specified and <var>value</var> is non-<code>nil</code>, then this frame part
will be displayed beneath the client window. The default action is for
frame parts to be stacked above the client window.
</p>
</dd>
<dt><code>(hidden . <var>value</var>)</code></dt>
<dd><p>When specified and <var>value</var> is non-<code>nil</code>, don&rsquo;t display this
frame part.
</p>
</dd>
</dl>

<p>The values specified for the <code>background</code>, <code>foreground</code>,
<code>render-scale</code>, <code>font</code>, <code>left-edge</code>, <code>right-edge</code>,
<code>top-edge</code>, <code>bottom-edge</code>, <code>width</code>, <code>height</code>,
<code>border-color</code>, <code>cursor</code>, <code>below-client</code> and
<code>hidden</code> attributes may actually be functions. In which case the
function will be called (with a single argument, the window object)
when the frame is constructed, the value returned will be used as the
actual value of the attribute.
</p>
<p>The coordinate system used for specifying the part&rsquo;s position is
relative to the window edge that the position is defined against.
Positive values count in from the window edge towards the center of the
window, while negative values count out from the edge, away from the
center of the window.
</p>
<p>Consider the following example, a solid black title bar that is twenty
pixels high, directly above the client window:
</p>
<div class="lisp">
<pre class="lisp">`((background . &quot;black&quot;)
  (foreground . &quot;white&quot;)
  (text . ,window-name)
  (x-justify . 30)
  (y-justify . center)
  (left-edge . 0)
  (right-edge . 0)
  (top-edge . -20)
  (height . 20)
  (class . title))
</pre></div>

<p>The backquote operator is used since the definition is only mostly
constant, the comma operator inserts the value of the
<code>window-name</code> variable (a function giving the name of a window)
into the definition; see <a href="../librep/Backquoting.html#Backquoting">Backquoting</a> in <cite>The
Librep Manual</cite>).
</p>
<p>This function is then used to dynamically specify the string drawn in
the foreground. The window manager will automatically refresh the
foreground of all frame parts of a window whenever any X property of
that window changes.
</p>
<p>Given a framed window, and a particular frame part class, it is
possible to retrieve the values of individual attributes from the
complete list of definitions (including inherited or overrided
definitions).
</p>
<dl>
<dt><a name="index-frame_002dpart_002dget"></a>Function: <strong>frame-part-get</strong> <em>part property</em></dt>
<dd><p>Returns the value of the property <var>property</var> for the frame part
object <var>part</var>.  Returns <code>nil</code> if no such attribute exists.
</p></dd></dl>

<dl>
<dt><a name="index-frame_002dpart_002dput"></a>Function: <strong>frame-part-put</strong> <em>part prop value</em></dt>
<dd><p>Set the property <var>prop</var> of frame part <var>part</var> to <var>value</var>.
</p></dd></dl>

<dl>
<dt><a name="index-frame_002dpart_002dstate"></a>Function: <strong>frame-part-state</strong> <em>part</em></dt>
<dd><p>Return the current state for frame part <var>part</var>, one of the symbols
<code>focused</code>, <code>highlighted</code>, <code>clicked</code>,
<code>inactive-highlighted</code>, <code>inactive-clicked</code>, or <code>nil</code> if
the part is inactive.
</p></dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="Frame-Functions.html#Frame-Functions" accesskey="n" rel="next">Frame Functions</a>, Previous: <a href="Frame-Part-Classes.html#Frame-Part-Classes" accesskey="p" rel="previous">Frame Part Classes</a>, Up: <a href="Window-Frames.html#Window-Frames" accesskey="u" rel="up">Window Frames</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Function-Index.html#Function-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
