<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>sawfish Programming Manual: Frame Part Classes</title>

<meta name="description" content="sawfish Programming Manual: Frame Part Classes">
<meta name="keywords" content="sawfish Programming Manual: Frame Part Classes">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Function-Index.html#Function-Index" rel="index" title="Function Index">
<link href="Concept-Index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Window-Frames.html#Window-Frames" rel="up" title="Window Frames">
<link href="Frame-Part-Definition.html#Frame-Part-Definition" rel="next" title="Frame Part Definition">
<link href="Frame-Basics.html#Frame-Basics" rel="previous" title="Frame Basics">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Frame-Part-Classes"></a>
<div class="header">
<p>
Next: <a href="Frame-Part-Definition.html#Frame-Part-Definition" accesskey="n" rel="next">Frame Part Definition</a>, Previous: <a href="Frame-Basics.html#Frame-Basics" accesskey="p" rel="previous">Frame Basics</a>, Up: <a href="Window-Frames.html#Window-Frames" accesskey="u" rel="up">Window Frames</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Function-Index.html#Function-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Frame-Part-Classes-1"></a>
<h3 class="section">10.2 Frame Part Classes</h3>
<a name="index-Frame-part-classes"></a>
<a name="index-Window-frames_002c-frame-part-classes"></a>
<a name="index-Classes_002c-of-frame-parts"></a>

<p>Although one of the aims of Sawfish is to provide as much flexibility
as possible, this can sometimes be detrimental to the overall
experience. For example, it would be easier for the user if all themes
use consistent keymaps and cursor images in conceptually similar parts
of window frames. That is, it would be better if all close buttons had
the same mouse button bindings and the same mouse cursor displayed when
the pointer is over them.
</p>
<p>To achieve this, Sawfish defines a number of <em>classes</em> of frame
parts, each with several default attributes. When defining a window
frame, the definitions of each part then specifies which class it is a
member of, and inherits the associated default attributes (provided
that it hasn&rsquo;t explicitly specified values for these attributes).
</p>
<dl>
<dt><a name="index-frame_002dpart_002dclasses"></a>Variable: <strong>frame-part-classes</strong></dt>
<dd><p>This variable is an association list, associating symbols naming frame
part classes with an association list of default attributes for that
class.
</p></dd></dl>

<p>The names of the pre-defined classes are as follows, their meanings
should be self-explanatory:
</p>
<p><code>title</code>, <code>menu-button</code>, <code>close-button</code>,
<code>iconify-button</code>, <code>maximize-button</code>, <code>sticky-button</code>,
<code>lock-button</code>, <code>rename-button</code>, <code>move-resize-button</code>,
<code>raise-lower-button</code>, <code>top-border</code>, <code>left-border</code>,
<code>right-border</code>, <code>bottom-border</code>, <code>top-left-corner</code>,
<code>top-right-corner</code>, <code>bottom-left-corner</code>, <code>bottom-right-corner</code>.
</p>
<p>Extra classes can be created by adding to <code>frame-part-classes</code>.
However, it&rsquo;s likely that more than one theme may need to use the same
class, and that the user may then wish to customize any extra keymaps
used. The <code>def-frame-class</code> macro should be used to add new
classes, since it handles these situations.
</p>
<dl>
<dt><a name="index-def_002dframe_002dclass"></a>Macro: <strong>def-frame-class</strong> <em>class alist-form &amp;rest binding-forms &hellip;</em></dt>
<dd><p>Creates a new frame part class named by the symbol <var>CLASS</var>.
</p>
<p>The <var>ALIST-FORM</var> is evaluated to give an association list defining
attributes for the class. Each key-value pairs is only set if no
existing value exists for that key.
</p>
<p>If <var>binding-forms</var> are given, they will be evaluated when no keymap
already exists for the class. A keymap will be created, and stored in
the variable named &lsquo;<samp><var>class</var>-name</samp>&rsquo;. This variable may then be
used within the <var>binding-forms</var>.
</p></dd></dl>

<p>So to define a hypothetical <code>shade-button</code> class, the following
might be used:
</p>
<div class="lisp">
<pre class="lisp">(def-frame-class shade-button '((cursor . left_ptr))
  (bind-keys shade-button-keymap
    &quot;Button1-Off&quot; 'toggle-window-shaded))
</pre></div>

<p>In some cases it might be valuable to be able to override pre-defined
frame part properties. For example, it might be your preference that
text in window title bars is always blue.
</p>
<dl>
<dt><a name="index-define_002dframe_002dclass"></a>Function: <strong>define-frame-class</strong> <em>class alist-form <tt>#!optional</tt> with-keymap</em></dt>
<dd><p>Creates a new frame part class named by the symbol <var>class</var>.
</p>
<p>Unlike <code>def-frame-class</code>, the trailing argument is just a boolean
flag.  This flag only indicates whether to create a keymap for the
class.  Any bindings have to be established through a separate call to
<code>bind-keys</code>.
</p>
<p>The function returns <code>t</code> if it was able to create and bind the
empty keymap, <code>nil</code> otherwise.  This allows us to check for
errors.
</p></dd></dl>

<dl>
<dt><a name="index-override_002dframe_002dpart_002dclasses"></a>Variable: <strong>override-frame-part-classes</strong></dt>
<dd><p>Similar to <code>frame-part-classes</code> except that the properties take
precedence over values defined both in that variable and in the frame
style itself.
</p></dd></dl>

<p>The following function may be used to simplify the customization of
these two variables:
</p>
<dl>
<dt><a name="index-set_002dframe_002dpart_002dvalue"></a>Function: <strong>set-frame-part-value</strong> <em>class key value <tt>#!optional</tt> override</em></dt>
<dd><p>Associate <var>value</var> with property <var>key</var> for all frame parts of
class <var>class</var>.
</p>
<p>If <var>override</var> is non-nil, then the setting is installed in the
<code>override-frame-part-classes</code> variable, otherwise it&rsquo;s stored in
the <code>frame-part-classes</code> variable.
</p></dd></dl>

<p>The following example would override the colors of all title bars:
</p>
<div class="lisp">
<pre class="lisp">(set-frame-part-value 'title 'background
                      '(&quot;black&quot; &quot;white&quot; &quot;green&quot; &quot;blue&quot;) t)
</pre></div>

<p>(See the next section for details about what is actually being set
here.)
</p>

<hr>
<div class="header">
<p>
Next: <a href="Frame-Part-Definition.html#Frame-Part-Definition" accesskey="n" rel="next">Frame Part Definition</a>, Previous: <a href="Frame-Basics.html#Frame-Basics" accesskey="p" rel="previous">Frame Basics</a>, Up: <a href="Window-Frames.html#Window-Frames" accesskey="u" rel="up">Window Frames</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Function-Index.html#Function-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
