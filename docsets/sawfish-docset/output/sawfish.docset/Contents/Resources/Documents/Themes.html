<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.1, http://www.gnu.org/software/texinfo/ -->
<head>
<title>sawfish Programming Manual: Themes</title>

<meta name="description" content="sawfish Programming Manual: Themes">
<meta name="keywords" content="sawfish Programming Manual: Themes">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Function-Index.html#Function-Index" rel="index" title="Function Index">
<link href="Concept-Index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Window-Frames.html#Window-Frames" rel="up" title="Window Frames">
<link href="Removing-Frame-Parts.html#Removing-Frame-Parts" rel="next" title="Removing Frame Parts">
<link href="Frame-Styles.html#Frame-Styles" rel="previous" title="Frame Styles">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Themes"></a>
<div class="header">
<p>
Next: <a href="Removing-Frame-Parts.html#Removing-Frame-Parts" accesskey="n" rel="next">Removing Frame Parts</a>, Previous: <a href="Frame-Styles.html#Frame-Styles" accesskey="p" rel="previous">Frame Styles</a>, Up: <a href="Window-Frames.html#Window-Frames" accesskey="u" rel="up">Window Frames</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Function-Index.html#Function-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Themes-1"></a>
<h3 class="section">10.7 Themes</h3>
<a name="index-Themes"></a>
<a name="index-Window-frames_002c-themes"></a>

<p>Themes and frame styles are currently almost synonymous, the slight
difference being that themes provide a mechanism for loading frame
styles from the filing system as they are required. Although it is
possible that themes may include other user-interface settings in a
later version, at the moment it seems unlikely.
</p>
<p>When a frame style is requested, if it is not already available (i.e.
if the <code>add-frame-style</code> function hasn&rsquo;t been called for that
style) then the window manager will attempt to load a theme of the same
name from the filing system.
</p>
<p>Each theme is stored in a directory; this directory must have the same
name as the name of the theme itself. Within this directory there must
be a Lisp script named <samp>theme.jl</samp> or <samp>theme.jlc</samp>. This script
will be evaluated, it should provide a frame style of the same name as
the theme (by calling <code>add-frame-style</code>).
</p>
<p>While the theme script is evaluating the <code>image-load-path</code>
variable is set to include the theme directory as its first element.
This ensures that any image files stored in the directory can be loaded
using the <code>make-image</code> function.
</p>
<p>Since rep has no module system, any global variables defined within the
theme must be prefixed by the name of the theme to ensure their
uniqueness. For example, in the theme <code>foo</code>, a variable <code>bar</code>
would actually be called <code>foo:bar</code>.
</p>
<p>In most cases however, rep&rsquo;s lexical scoping can be used to avoid
declaring any global variables or functions, the only usual exception
is when declaring customization options with <code>defcustom</code>; these
must be globally visible.
</p>
<p>Since themes are generally passed around very casually, sawfish
evaluates all theme code in a very restricted environment; the idea
being that themes should only be able to affect the look of the window
manager. Despite this, it is still possible for malicious themes to
lock, and possibly crash, the window manager; in the first case sending
a <code>SIGINT</code> signal may unblock it. Hopefully themes are unable to
affect the rest of the user&rsquo;s environment, but there are no
guarantees&hellip;
</p>
<dl>
<dt><a name="index-theme_002dload_002dpath"></a>Variable: <strong>theme-load-path</strong></dt>
<dd><p>A list of directory names, provides the search path for locating theme
directories. By default this includes the user&rsquo;s theme directory and
the system theme directory.
</p></dd></dl>

<dl>
<dt><a name="index-user_002dtheme_002ddirectory"></a>Variable: <strong>user-theme-directory</strong></dt>
<dd><p>The name of the user&rsquo;s theme directory, by default
<samp>~/.sawfish/themes</samp>.
</p></dd></dl>

<dl>
<dt><a name="index-system_002dtheme_002ddirectory"></a>Variable: <strong>system-theme-directory</strong></dt>
<dd><p>The name of the directory holding themes from the current Sawfish
version, by default
</p><div class="lisp">
<pre class="lisp">(expand-file-name &quot;../themes&quot; sawfish-lisp-lib-directory)
</pre></div>
</dd></dl>

<dl>
<dt><a name="index-site_002dtheme_002ddirectory"></a>Variable: <strong>site-theme-directory</strong></dt>
<dd><p>The name of the directory holding system-wide themes, by default
</p><div class="lisp">
<pre class="lisp">(expand-file-name &quot;../../themes&quot; sawfish-lisp-lib-directory)
</pre></div>
</dd></dl>

<dl>
<dt><a name="index-theme_002dupdate_002dinterval"></a>Variable: <strong>theme-update-interval</strong></dt>
<dd><p>Number of seconds between checking if theme files have been modified.
Default 60.
</p></dd></dl>

<dl>
<dt><a name="index-themes_002dare_002dgaoled"></a>Variable: <strong>themes-are-gaoled</strong></dt>
<dd><p>If <code>t</code>, non-nil themes are assumed to be malicious.  They will be
evaluated in a restricted environment.
</p></dd></dl>

<dl>
<dt><a name="index-frame_002dtype_002dfallback_002dalist"></a>Variable: <strong>frame-type-fallback-alist</strong></dt>
<dd><p>Frame type fallbacks. This is an alist whose elements are
(required-type . fallback-type). When REQUIRED-TYPE is not supported
by the current theme, then FALLBACK-TYPE is used instead.&quot;
</p></dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="Removing-Frame-Parts.html#Removing-Frame-Parts" accesskey="n" rel="next">Removing Frame Parts</a>, Previous: <a href="Frame-Styles.html#Frame-Styles" accesskey="p" rel="previous">Frame Styles</a>, Up: <a href="Window-Frames.html#Window-Frames" accesskey="u" rel="up">Window Frames</a> &nbsp; [<a href="Concept-Index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Function-Index.html#Function-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
