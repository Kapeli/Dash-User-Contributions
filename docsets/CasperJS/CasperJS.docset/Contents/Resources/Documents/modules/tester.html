<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The tester module &mdash; CasperJS 1.1.0-DEV documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.1.0-DEV',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/casperjs-favicon.ico"/>
    <link rel="top" title="CasperJS 1.1.0-DEV documentation" href="../index.html" />
    <link rel="up" title="API Documentation" href="index.html" />
    <link rel="next" title="The utils module" href="utils.html" />
    <link rel="prev" title="The mouse module" href="mouse.html" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Asap:400,700,400italic,700italic&amp;subset=latin,latin-ext">
    <link rel="stylesheet" title="Dark theme" href="../_static/casperjs-dark.css">
    <link rel="alternate stylesheet" title="Light theme" href="../_static/casperjs-light.css">
    <script type="text/javascript" src="../_static/style-switcher.js"></script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="utils.html" title="The utils module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mouse.html" title="The mouse module"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">CasperJS 1.1.0-DEV documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">API Documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="tester-module"></span><div class="section" id="the-tester-module">
<span id="index-0"></span><h1>The <tt class="docutils literal"><span class="pre">tester</span></tt> module<a class="headerlink" href="#the-tester-module" title="Permalink to this headline">¶</a></h1>
<p>Casper ships with a <tt class="docutils literal"><span class="pre">tester</span></tt> module and a <tt class="docutils literal"><span class="pre">Tester</span></tt> class providing an API for unit &amp; functional testing purpose. By default you can access an instance of this class through the <tt class="docutils literal"><span class="pre">test</span></tt> property of any <tt class="docutils literal"><span class="pre">Casper</span></tt> class instance.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The best way to learn how to use the Tester API and see it in action is probably to have a look at <a class="reference external" href="https://github.com/n1k0/casperjs/blob/master/tests/suites/">CasperJS&#8217; own test suites</a>.</p>
</div>
<div class="section" id="the-tester-prototype">
<h2>The <tt class="docutils literal"><span class="pre">Tester</span></tt> prototype<a class="headerlink" href="#the-tester-prototype" title="Permalink to this headline">¶</a></h2>
<div class="section" id="assert">
<h3><tt class="docutils literal"><span class="pre">assert()</span></tt><a class="headerlink" href="#assert" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assert(Boolean</span> <span class="pre">condition[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that the provided condition strictly resolves to a boolean <tt class="docutils literal"><span class="pre">true</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;true&#39;s true&quot;</span><span class="p">);</span>
<span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="o">!</span><span class="kc">false</span><span class="p">,</span> <span class="s2">&quot;truth is out&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#assertnot">assertNot()</a></p>
</div>
</div>
<div class="section" id="assertdoesntexist">
<span id="index-1"></span><h3><tt class="docutils literal"><span class="pre">assertDoesntExist()</span></tt><a class="headerlink" href="#assertdoesntexist" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertDoesntExist(String</span> <span class="pre">selector[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that an element matching the provided <a class="reference internal" href="../selectors.html#selectors"><em>selector expression</em></a> doesn&#8217;t exists within the remote DOM environment:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertDoesntExist() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;heaven&quot;&gt;&lt;/div&gt;&#39;</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertDoesntExist</span><span class="p">(</span><span class="s1">&#39;.taxes&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#assertexists">assertExists()</a></p>
</div>
</div>
<div class="section" id="assertequals">
<h3><tt class="docutils literal"><span class="pre">assertEquals()</span></tt><a class="headerlink" href="#assertequals" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertEquals(mixed</span> <span class="pre">testValue,</span> <span class="pre">mixed</span> <span class="pre">expected[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that two values are strictly equivalent:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertEquals() tests&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">assertEquals</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">assertEquals</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">assertEquals</span><span class="p">({</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">});</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#assertnotequals">assertNotEquals()</a></p>
</div>
</div>
<div class="section" id="asserteval">
<span id="index-2"></span><h3><tt class="docutils literal"><span class="pre">assertEval()</span></tt><a class="headerlink" href="#asserteval" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertEval(Function</span> <span class="pre">fn[,</span> <span class="pre">String</span> <span class="pre">message,</span> <span class="pre">Mixed</span> <span class="pre">arguments])</span></tt></p>
<p>Asserts that a <a class="reference internal" href="casper.html#casper-evaluate"><em>code evaluation in remote DOM</em></a> strictly resolves to a boolean <tt class="docutils literal"><span class="pre">true</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertEval() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;heaven&quot;&gt;beer&lt;/div&gt;&#39;</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertEval</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">__utils__</span><span class="p">.</span><span class="nx">findOne</span><span class="p">(</span><span class="s1">&#39;.heaven&#39;</span><span class="p">).</span><span class="nx">textContent</span> <span class="o">===</span> <span class="s1">&#39;beer&#39;</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="assertevalequals">
<h3><tt class="docutils literal"><span class="pre">assertEvalEquals()</span></tt><a class="headerlink" href="#assertevalequals" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertEvalEquals(Function</span> <span class="pre">fn,</span> <span class="pre">mixed</span> <span class="pre">expected[,</span> <span class="pre">String</span> <span class="pre">message,</span> <span class="pre">Mixed</span> <span class="pre">arguments])</span></tt></p>
<p>Asserts that the result of a <a class="reference internal" href="casper.html#casper-evaluate"><em>code evaluation in remote DOM</em></a> strictly equals to the expected value:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertEvalEquals() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;heaven&quot;&gt;beer&lt;/div&gt;&#39;</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertEvalEquals</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">__utils__</span><span class="p">.</span><span class="nx">findOne</span><span class="p">(</span><span class="s1">&#39;.heaven&#39;</span><span class="p">).</span><span class="nx">textContent</span><span class="p">;</span>
        <span class="p">},</span> <span class="s1">&#39;beer&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="assertelementcount">
<span id="tester-assertelementcount"></span><h3><tt class="docutils literal"><span class="pre">assertElementCount()</span></tt><a class="headerlink" href="#assertelementcount" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertElementCount(String</span> <span class="pre">selector,</span> <span class="pre">Number</span> <span class="pre">count[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that a <a class="reference internal" href="../selectors.html#selectors"><em>selector expression</em></a> matches a given number of elements:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertElementCount() tests&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">page</span><span class="p">.</span><span class="nx">content</span> <span class="o">=</span> <span class="s1">&#39;&lt;ul&gt;&lt;li&gt;1&lt;/li&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;3&lt;/li&gt;&lt;/ul&gt;&#39;</span><span class="p">;</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertElementCount</span><span class="p">(</span><span class="s1">&#39;ul&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertElementCount</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertElementCount</span><span class="p">(</span><span class="s1">&#39;address&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="assertexists">
<span id="index-3"></span><h3><tt class="docutils literal"><span class="pre">assertExists()</span></tt><a class="headerlink" href="#assertexists" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertExists(String</span> <span class="pre">selector[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that an element matching the provided <a class="reference internal" href="../selectors.html#selectors"><em>selector expression</em></a> exists in remote DOM environment:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertExists() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;heaven&quot;&gt;beer&lt;/div&gt;&#39;</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertExists</span><span class="p">(</span><span class="s1">&#39;.heaven&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#assertdoesntexist">assertDoesntExist()</a></p>
</div>
</div>
<div class="section" id="assertfalsy">
<span id="index-4"></span><h3><tt class="docutils literal"><span class="pre">assertFalsy()</span></tt><a class="headerlink" href="#assertfalsy" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertFalsy(Mixed</span> <span class="pre">subject[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0.</span></p>
</div>
<p>Asserts that a given subject is <a class="reference external" href="http://11heavens.com/falsy-and-truthy-in-javascript">falsy</a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#asserttruthy">assertTruthy()</a></p>
</div>
</div>
<div class="section" id="assertfield">
<span id="index-5"></span><h3><tt class="docutils literal"><span class="pre">assertField()</span></tt><a class="headerlink" href="#assertfield" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertField(String|Object</span> <span class="pre">input,</span> <span class="pre">String</span> <span class="pre">expected[,</span> <span class="pre">String</span> <span class="pre">message,</span> <span class="pre">Object</span> <span class="pre">options])</span></tt></p>
<p>Asserts that a given form field has the provided value with input name or <a class="reference internal" href="../selectors.html#selectors"><em>selector expression</em></a>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertField() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://www.google.fr/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">fill</span><span class="p">(</span><span class="s1">&#39;form[name=&quot;gs&quot;]&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">q</span><span class="o">:</span> <span class="s1">&#39;plop&#39;</span> <span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertField</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="s1">&#39;plop&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>

<span class="c1">// Path usage with type &#39;css&#39;</span>
<span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertField() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://www.google.fr/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">fill</span><span class="p">(</span><span class="s1">&#39;form[name=&quot;gs&quot;]&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">q</span><span class="o">:</span> <span class="s1">&#39;plop&#39;</span> <span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertField</span><span class="p">({</span><span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;css&#39;</span><span class="p">,</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;.q.foo&#39;</span><span class="p">},</span> <span class="s1">&#39;plop&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0.</span></p>
</div>
<p>This also works with any input type: <tt class="docutils literal"><span class="pre">select</span></tt>, <tt class="docutils literal"><span class="pre">textarea</span></tt>, etc.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1.</span></p>
</div>
<p>The <cite>options</cite> parameter allows to set the options to use with
<a class="reference internal" href="clientutils.html#clientutils-getfieldvalue"><em>ClientUtils#getFieldValue()</em></a>.</p>
<p><cite>input</cite> parameter introspects whether or not a <cite>type</cite> key is passed in with <cite>xpath</cite> or <cite>css</cite> and a property <cite>path</cite> specified along with it.</p>
</div>
<div class="section" id="assertfieldname">
<h3><tt class="docutils literal"><span class="pre">assertFieldName()</span></tt><a class="headerlink" href="#assertfieldname" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertFieldName(String</span> <span class="pre">inputName,</span> <span class="pre">String</span> <span class="pre">expected[,</span> <span class="pre">String</span> <span class="pre">message,</span> <span class="pre">Object</span> <span class="pre">options])</span></tt></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1-beta3.</span></p>
</div>
<p>Asserts that a given form field has the provided value:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertField() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://www.google.fr/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">fill</span><span class="p">(</span><span class="s1">&#39;form[name=&quot;gs&quot;]&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">q</span><span class="o">:</span> <span class="s1">&#39;plop&#39;</span> <span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertField</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="s1">&#39;plop&#39;</span><span class="p">,</span> <span class="s1">&#39;did not plop&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">formSelector</span><span class="o">:</span> <span class="s1">&#39;plopper&#39;</span><span class="p">});</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="assertfieldcss">
<h3><tt class="docutils literal"><span class="pre">assertFieldCSS()</span></tt><a class="headerlink" href="#assertfieldcss" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertFieldCSS(String</span> <span class="pre">cssSelector,</span> <span class="pre">String</span> <span class="pre">expected,</span> <span class="pre">String</span> <span class="pre">message)</span></tt></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1.</span></p>
</div>
<p>Asserts that a given form field has the provided value given a CSS selector:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertField() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://www.google.fr/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">fill</span><span class="p">(</span><span class="s1">&#39;form[name=&quot;gs&quot;]&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">q</span><span class="o">:</span> <span class="s1">&#39;plop&#39;</span> <span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertField</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="s1">&#39;plop&#39;</span><span class="p">,</span> <span class="s1">&#39;did not plop&#39;</span><span class="p">,</span> <span class="s1">&#39;input.plop&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="assertfieldxpath">
<h3><tt class="docutils literal"><span class="pre">assertFieldXPath()</span></tt><a class="headerlink" href="#assertfieldxpath" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertFieldXPath(String</span> <span class="pre">xpathSelector,</span> <span class="pre">String</span> <span class="pre">expected,</span> <span class="pre">String</span> <span class="pre">message)</span></tt></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1.</span></p>
</div>
<p>Asserts that a given form field has the provided value given a XPath selector:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertField() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://www.google.fr/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">fill</span><span class="p">(</span><span class="s1">&#39;form[name=&quot;gs&quot;]&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">q</span><span class="o">:</span> <span class="s1">&#39;plop&#39;</span> <span class="p">},</span> <span class="kc">false</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertField</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="s1">&#39;plop&#39;</span><span class="p">,</span> <span class="s1">&#39;did not plop&#39;</span><span class="p">,</span> <span class="s1">&#39;/html/body/form[0]/input[1]&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="asserthttpstatus">
<span id="index-6"></span><h3><tt class="docutils literal"><span class="pre">assertHttpStatus()</span></tt><a class="headerlink" href="#asserthttpstatus" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertHttpStatus(Number</span> <span class="pre">status[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that current <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">HTTP status code</a> is the same as the one passed as argument:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;casperjs.org is up and running&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://casperjs.org/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertHttpStatus</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="assertmatch">
<h3><tt class="docutils literal"><span class="pre">assertMatch()</span></tt><a class="headerlink" href="#assertmatch" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertMatch(mixed</span> <span class="pre">subject,</span> <span class="pre">RegExp</span> <span class="pre">pattern[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that a provided string matches a provided javascript <tt class="docutils literal"><span class="pre">RegExp</span></tt> pattern:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">assertMatch</span><span class="p">(</span><span class="s1">&#39;Chuck Norris&#39;</span><span class="p">,</span> <span class="sr">/^chuck/i</span><span class="p">,</span> <span class="s1">&#39;Chuck Norris\&#39; first name is Chuck&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="#asserturlmatch">assertUrlMatch()</a></li>
<li><a class="reference internal" href="#asserttitlematch">assertTitleMatch()</a></li>
</ul>
</div>
</div>
<div class="section" id="assertnot">
<h3><tt class="docutils literal"><span class="pre">assertNot()</span></tt><a class="headerlink" href="#assertnot" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertNot(mixed</span> <span class="pre">subject[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that the passed subject resolves to some <a class="reference external" href="http://11heavens.com/falsy-and-truthy-in-javascript">falsy value</a>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">assertNot</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span> <span class="s2">&quot;Universe is still operational&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#assert">assert()</a></p>
</div>
</div>
<div class="section" id="assertnotequals">
<h3><tt class="docutils literal"><span class="pre">assertNotEquals()</span></tt><a class="headerlink" href="#assertnotequals" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertNotEquals(mixed</span> <span class="pre">testValue,</span> <span class="pre">mixed</span> <span class="pre">expected[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.6.7.</span></p>
</div>
<p>Asserts that two values are <strong>not</strong> strictly equals:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">assertNotEquals</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;true&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#assertequals">assertEquals()</a></p>
</div>
</div>
<div class="section" id="assertnotvisible">
<h3><tt class="docutils literal"><span class="pre">assertNotVisible()</span></tt><a class="headerlink" href="#assertnotvisible" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertNotVisible(String</span> <span class="pre">selector[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that the element matching the provided <a class="reference internal" href="../selectors.html#selectors"><em>selector expression</em></a> is not visible:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertNotVisible() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;foo&quot; style=&quot;display:none&gt;boo&lt;/div&gt;&#39;</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertNotVisible</span><span class="p">(</span><span class="s1">&#39;.foo&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#assertvisible">assertVisible()</a></p>
</div>
</div>
<div class="section" id="assertraises">
<span id="index-7"></span><h3><tt class="docutils literal"><span class="pre">assertRaises()</span></tt><a class="headerlink" href="#assertraises" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertRaises(Function</span> <span class="pre">fn,</span> <span class="pre">Array</span> <span class="pre">args[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that the provided function called with the given parameters raises a javascript <tt class="docutils literal"><span class="pre">Error</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">assertRaises</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">throwIt</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">throwIt</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;thrown&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">},</span> <span class="p">[</span><span class="kc">true</span><span class="p">],</span> <span class="s1">&#39;Error has been raised.&#39;</span><span class="p">);</span>

<span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">assertRaises</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">throwIt</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">throwIt</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;thrown&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">},</span> <span class="p">[</span><span class="kc">false</span><span class="p">],</span> <span class="s1">&#39;Error has been raised.&#39;</span><span class="p">);</span> <span class="c1">// fails</span>
</pre></div>
</div>
</div>
<div class="section" id="assertselectordoesnthavetext">
<h3><tt class="docutils literal"><span class="pre">assertSelectorDoesntHaveText()</span></tt><a class="headerlink" href="#assertselectordoesnthavetext" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertSelectorDoesntHaveText(String</span> <span class="pre">selector,</span> <span class="pre">String</span> <span class="pre">text[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that given text does not exist in all the elements matching the provided <a class="reference internal" href="../selectors.html#selectors"><em>selector expression</em></a>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertSelectorDoesntHaveText() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://google.com/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertSelectorDoesntHaveText</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;Yahoo!&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#assertselectorhastext">assertSelectorHasText()</a></p>
</div>
</div>
<div class="section" id="assertselectorhastext">
<span id="index-8"></span><h3><tt class="docutils literal"><span class="pre">assertSelectorHasText()</span></tt><a class="headerlink" href="#assertselectorhastext" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertSelectorHasText(String</span> <span class="pre">selector,</span> <span class="pre">String</span> <span class="pre">text[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that given text exists in elements matching the provided <a class="reference internal" href="../selectors.html#selectors"><em>selector expression</em></a>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertSelectorHasText() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://google.com/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertSelectorHasText</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;Google&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#assertselectordoesnthavetext">assertSelectorDoesntHaveText()</a></p>
</div>
</div>
<div class="section" id="assertresourceexists">
<span id="index-9"></span><h3><tt class="docutils literal"><span class="pre">assertResourceExists()</span></tt><a class="headerlink" href="#assertresourceexists" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertResourceExists(Function</span> <span class="pre">testFx[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>The <tt class="docutils literal"><span class="pre">testFx</span></tt> function is executed against all loaded assets and the test passes when at least one resource matches:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertResourceExists() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://www.google.fr/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertResourceExists</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">resource</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">resource</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="s1">&#39;logo3w.png&#39;</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Shorter:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertResourceExists() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://www.google.fr/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertResourceExists</span><span class="p">(</span><span class="s1">&#39;logo3w.png&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">Check the documentation for <a class="reference internal" href="casper.html#casper-resourceexists"><em>Casper.resourceExists()</em></a>.</p>
</div>
</div>
<div class="section" id="asserttextexists">
<h3><tt class="docutils literal"><span class="pre">assertTextExists()</span></tt><a class="headerlink" href="#asserttextexists" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertTextExists(String</span> <span class="pre">expected[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that body <strong>plain text content</strong> contains the given string:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertTextExists() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://www.google.fr/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertTextExists</span><span class="p">(</span><span class="s1">&#39;google&#39;</span><span class="p">,</span> <span class="s1">&#39;page body contains &quot;google&quot;&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#asserttextdoesntexist">assertTextDoesntExist()</a></p>
</div>
</div>
<div class="section" id="asserttextdoesntexist">
<h3><tt class="docutils literal"><span class="pre">assertTextDoesntExist()</span></tt><a class="headerlink" href="#asserttextdoesntexist" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertTextDoesntExist(String</span> <span class="pre">unexpected[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0.</span></p>
</div>
<p>Asserts that body <strong>plain text content</strong> doesn&#8217;t contain the given string:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertTextDoesntExist() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://www.google.fr/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertTextDoesntExist</span><span class="p">(</span><span class="s1">&#39;bing&#39;</span><span class="p">,</span> <span class="s1">&#39;page body does not contain &quot;bing&quot;&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#asserttextexists">assertTextExists()</a></p>
</div>
</div>
<div class="section" id="asserttitle">
<h3><tt class="docutils literal"><span class="pre">assertTitle()</span></tt><a class="headerlink" href="#asserttitle" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertTitle(String</span> <span class="pre">expected[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that title of the remote page equals to the expected one:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertTitle() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://www.google.fr/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertTitle</span><span class="p">(</span><span class="s1">&#39;Google&#39;</span><span class="p">,</span> <span class="s1">&#39;google.fr has the correct title&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#asserttitlematch">assertTitleMatch()</a></p>
</div>
</div>
<div class="section" id="asserttitlematch">
<h3><tt class="docutils literal"><span class="pre">assertTitleMatch()</span></tt><a class="headerlink" href="#asserttitlematch" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertTitleMatch(RegExp</span> <span class="pre">pattern[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that title of the remote page matches the provided RegExp pattern:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertTitleMatch() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://www.google.fr/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertTitleMatch</span><span class="p">(</span><span class="sr">/Google/</span><span class="p">,</span> <span class="s1">&#39;google.fr has a quite predictable title&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#asserttitle">assertTitle()</a></p>
</div>
</div>
<div class="section" id="asserttruthy">
<span id="index-10"></span><h3><tt class="docutils literal"><span class="pre">assertTruthy()</span></tt><a class="headerlink" href="#asserttruthy" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertTruthy(Mixed</span> <span class="pre">subject[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0.</span></p>
</div>
<p>Asserts that a given subject is <a class="reference external" href="http://11heavens.com/falsy-and-truthy-in-javascript">truthy</a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#assertfalsy">assertFalsy()</a></p>
</div>
</div>
<div class="section" id="asserttype">
<span id="index-11"></span><h3><tt class="docutils literal"><span class="pre">assertType()</span></tt><a class="headerlink" href="#asserttype" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertType(mixed</span> <span class="pre">input,</span> <span class="pre">String</span> <span class="pre">type[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that the provided input is of the given type:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertType() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">suite</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">assertType</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="s2">&quot;number&quot;</span><span class="p">,</span> <span class="s2">&quot;Okay, 42 is a number&quot;</span><span class="p">);</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">assertType</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span> <span class="s2">&quot;We can test for arrays too!&quot;</span><span class="p">);</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Type names are always expressed in lower case.</p>
</div>
</div>
<div class="section" id="assertinstanceof">
<span id="index-12"></span><h3><tt class="docutils literal"><span class="pre">assertInstanceOf()</span></tt><a class="headerlink" href="#assertinstanceof" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertInstanceOf(mixed</span> <span class="pre">input,</span> <span class="pre">Function</span> <span class="pre">constructor[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1.</span></p>
</div>
<p>Asserts that the provided input is of the given constructor:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">Cow</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">moo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">moo</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">&#39;moo!&#39;</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>
<span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertInstanceOf() tests&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">suite</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">daisy</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Cow</span><span class="p">();</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">assertInstanceOf</span><span class="p">(</span><span class="nx">daisy</span><span class="p">,</span> <span class="nx">Cow</span><span class="p">,</span> <span class="s2">&quot;Ok, daisy is a cow.&quot;</span><span class="p">);</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">assertInstanceOf</span><span class="p">([</span><span class="s2">&quot;moo&quot;</span><span class="p">,</span> <span class="s2">&quot;boo&quot;</span><span class="p">],</span> <span class="nb">Array</span><span class="p">,</span> <span class="s2">&quot;We can test for arrays too!&quot;</span><span class="p">);</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="asserturlmatch">
<span id="index-13"></span><h3><tt class="docutils literal"><span class="pre">assertUrlMatch()</span></tt><a class="headerlink" href="#asserturlmatch" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertUrlMatch(Regexp</span> <span class="pre">pattern[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that the current page url matches the provided RegExp pattern:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertUrlMatch() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://www.google.fr/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertUrlMatch</span><span class="p">(</span><span class="sr">/^http:\/\//</span><span class="p">,</span> <span class="s1">&#39;google.fr is served in http://&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="assertvisible">
<span id="index-14"></span><h3><tt class="docutils literal"><span class="pre">assertVisible()</span></tt><a class="headerlink" href="#assertvisible" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">assertVisible(String</span> <span class="pre">selector[,</span> <span class="pre">String</span> <span class="pre">message])</span></tt></p>
<p>Asserts that the element matching the provided <a class="reference internal" href="../selectors.html#selectors"><em>selector expression</em></a> is visible:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;assertVisible() tests&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://www.google.fr/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertVisible</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#assertnotvisible">assertNotVisible()</a></p>
</div>
<span class="target" id="tester-begin"></span></div>
<div class="section" id="begin">
<span id="index-15"></span><h3><tt class="docutils literal"><span class="pre">begin()</span></tt><a class="headerlink" href="#begin" title="Permalink to this headline">¶</a></h3>
<p><strong>Signatures:</strong></p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">begin(String</span> <span class="pre">description,</span> <span class="pre">Number</span> <span class="pre">planned,</span> <span class="pre">Function</span> <span class="pre">suite)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">begin(String</span> <span class="pre">description,</span> <span class="pre">Function</span> <span class="pre">suite)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">begin(String</span> <span class="pre">description,</span> <span class="pre">Number</span> <span class="pre">planned,</span> <span class="pre">Object</span> <span class="pre">config)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">begin(String</span> <span class="pre">description,</span> <span class="pre">Object</span> <span class="pre">config)</span></tt></li>
</ul>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1.</span></p>
</div>
<p>Starts a suite of <tt class="docutils literal"><span class="pre">&lt;planned&gt;</span></tt> tests (if defined). The <tt class="docutils literal"><span class="pre">suite</span></tt> callback will get the current <tt class="docutils literal"><span class="pre">Tester</span></tt> instance as its first argument:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">Cow</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">mowed</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">moo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">moo</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">mowed</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">// mootable state: don&#39;t do that</span>
        <span class="k">return</span> <span class="s1">&#39;moo!&#39;</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="c1">// unit style synchronous test case</span>
<span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;Cow can moo&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">suite</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">cow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Cow</span><span class="p">();</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">assertEquals</span><span class="p">(</span><span class="nx">cow</span><span class="p">.</span><span class="nx">moo</span><span class="p">(),</span> <span class="s1">&#39;moo!&#39;</span><span class="p">);</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">cow</span><span class="p">.</span><span class="nx">mowed</span><span class="p">);</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <tt class="docutils literal"><span class="pre">planned</span></tt> argument is especially useful in case a given test script is abruptly interrupted leaving you with no obvious way to know it and an erroneously successful status.</p>
</div>
<p>A more asynchronous example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;Casperjs.org is navigable&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">suite</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://casperjs.org/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertTitleMatches</span><span class="p">(</span><span class="sr">/casperjs/i</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">clickLabel</span><span class="p">(</span><span class="s1">&#39;Testing&#39;</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">casper</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertUrlMatches</span><span class="p">(</span><span class="sr">/testing\.html$/</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">casper</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last"><a class="reference internal" href="#done">done()</a> <strong>must</strong> be called in order to terminate the suite. This is specially important when doing asynchronous tests so ensure it&#8217;s called when everything has actually been performed.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#done">done()</a></p>
</div>
<p><tt class="docutils literal"><span class="pre">Tester#begin()</span></tt> also accepts a test configuration object, so you can add <tt class="docutils literal"><span class="pre">setUp()</span></tt> and <tt class="docutils literal"><span class="pre">tearDown()</span></tt> methods:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="c1">// cow-test.js</span>
<span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;Cow can moo&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">setUp</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">cow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Cow</span><span class="p">();</span>
    <span class="p">},</span>

    <span class="nx">tearDown</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">cow</span><span class="p">.</span><span class="nx">destroy</span><span class="p">();</span>
    <span class="p">},</span>

    <span class="nx">test</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertEquals</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cow</span><span class="p">.</span><span class="nx">moo</span><span class="p">(),</span> <span class="s1">&#39;moo!&#39;</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cow</span><span class="p">.</span><span class="nx">mowed</span><span class="p">);</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="colorize">
<span id="index-16"></span><h3><tt class="docutils literal"><span class="pre">colorize()</span></tt><a class="headerlink" href="#colorize" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">colorize(String</span> <span class="pre">message,</span> <span class="pre">String</span> <span class="pre">style)</span></tt></p>
<p>Render a colorized output. Basically a proxy method for <tt class="docutils literal"><span class="pre">Casper.Colorizer#colorize()</span></tt>.</p>
</div>
<div class="section" id="comment">
<h3><tt class="docutils literal"><span class="pre">comment()</span></tt><a class="headerlink" href="#comment" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">comment(String</span> <span class="pre">message)</span></tt></p>
<p>Writes a comment-style formatted message to stdout:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">comment</span><span class="p">(</span><span class="s2">&quot;Hi, I&#39;m a comment&quot;</span><span class="p">);</span>
</pre></div>
</div>
<span class="target" id="tester-done"></span></div>
<div class="section" id="done">
<span id="index-17"></span><h3><tt class="docutils literal"><span class="pre">done()</span></tt><a class="headerlink" href="#done" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">done()</span></tt></p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.1: </span><tt class="docutils literal"><span class="pre">planned</span></tt> parameter is deprecated</p>
</div>
<p>Flag a test suite started with <a class="reference internal" href="#begin">begin()</a> as processed:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;my test suite&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">assertNot</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</div>
<p>More asynchronously:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;Casperjs.org is navigable&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">suite</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://casperjs.org/&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertTitleMatches</span><span class="p">(</span><span class="sr">/casperjs/i</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">clickLabel</span><span class="p">(</span><span class="s1">&#39;Testing&#39;</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">casper</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">assertUrlMatches</span><span class="p">(</span><span class="sr">/testing\.html$/</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">casper</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#begin">begin()</a></p>
</div>
</div>
<div class="section" id="error">
<h3><tt class="docutils literal"><span class="pre">error()</span></tt><a class="headerlink" href="#error" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">error(String</span> <span class="pre">message)</span></tt></p>
<p>Writes an error-style formatted message to stdout:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;Hi, I&#39;m an error&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="fail">
<span id="index-18"></span><h3><tt class="docutils literal"><span class="pre">fail()</span></tt><a class="headerlink" href="#fail" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">fail(String</span> <span class="pre">message)</span></tt></p>
<p>Adds a failed test entry to the stack:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="s2">&quot;Georges W. Bush&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pass">pass()</a></p>
</div>
</div>
<div class="section" id="formatmessage">
<h3><tt class="docutils literal"><span class="pre">formatMessage()</span></tt><a class="headerlink" href="#formatmessage" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">formatMessage(String</span> <span class="pre">message,</span> <span class="pre">String</span> <span class="pre">style)</span></tt></p>
<p>Formats a message to highlight some parts of it. Only used internally by the tester.</p>
</div>
<div class="section" id="getfailures">
<h3><tt class="docutils literal"><span class="pre">getFailures()</span></tt><a class="headerlink" href="#getfailures" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">getFailures()</span></tt></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 1.1.</span></p>
</div>
<p>Retrieves failures for current test suite:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">assertEquals</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nx">require</span><span class="p">(</span><span class="s1">&#39;utils&#39;</span><span class="p">).</span><span class="nx">dump</span><span class="p">(</span><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">getFailures</span><span class="p">());</span>
<span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
</pre></div>
</div>
<p>That will give something like this:</p>
<div class="highlight-text"><div class="highlight"><pre>$ casperjs test test-getFailures.js
Test file: test-getFailures.js
FAIL Subject equals the expected value
#    type: assertEquals
#    subject: true
#    expected: false
{
    &quot;length&quot;: 1,
    &quot;cases&quot;: [
        {
            &quot;success&quot;: false,
            &quot;type&quot;: &quot;assertEquals&quot;,
            &quot;standard&quot;: &quot;Subject equals the expected value&quot;,
            &quot;file&quot;: &quot;test-getFailures.js&quot;,
            &quot;values&quot;: {
                &quot;subject&quot;: true,
                &quot;expected&quot;: false
            }
        }
    ]
}
FAIL 1 tests executed, 0 passed, 1 failed.

Details for the 1 failed test:

In c.js:0
   assertEquals: Subject equals the expected value
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In CasperJS 1.1, you can recorded test failures by listening to the tester <tt class="docutils literal"><span class="pre">fail</span></tt> event:</p>
<div class="last highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">failures</span> <span class="o">=</span> <span class="p">[];</span>

<span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;fail&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">failure</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">failures</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">failure</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getpasses">
<h3><tt class="docutils literal"><span class="pre">getPasses()</span></tt><a class="headerlink" href="#getpasses" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">getPasses()</span></tt></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.0.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 1.1.</span></p>
</div>
<p>Retrieves a report for successful test cases in the current test suite:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">assertEquals</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">require</span><span class="p">(</span><span class="s1">&#39;utils&#39;</span><span class="p">).</span><span class="nx">dump</span><span class="p">(</span><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">getPasses</span><span class="p">());</span>
<span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
</pre></div>
</div>
<p>That will give something like this:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">$</span> <span class="nx">casperjs</span> <span class="nx">test</span> <span class="nx">test</span><span class="o">-</span><span class="nx">getPasses</span><span class="p">.</span><span class="nx">js</span>
<span class="nx">Test</span> <span class="nx">file</span><span class="o">:</span> <span class="nx">test</span><span class="o">-</span><span class="nx">getPasses</span><span class="p">.</span><span class="nx">js</span>
<span class="nx">PASS</span> <span class="nx">Subject</span> <span class="nx">equals</span> <span class="nx">the</span> <span class="nx">expected</span> <span class="nx">value</span>
<span class="p">{</span>
    <span class="s2">&quot;length&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;cases&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;success&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;assertEquals&quot;</span><span class="p">,</span>
            <span class="s2">&quot;standard&quot;</span><span class="o">:</span> <span class="s2">&quot;Subject equals the expected value&quot;</span><span class="p">,</span>
            <span class="s2">&quot;file&quot;</span><span class="o">:</span> <span class="s2">&quot;test-getPasses.js&quot;</span><span class="p">,</span>
            <span class="s2">&quot;values&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;subject&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="s2">&quot;expected&quot;</span><span class="o">:</span> <span class="kc">true</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
<span class="nx">PASS</span> <span class="mi">1</span> <span class="nx">tests</span> <span class="nx">executed</span><span class="p">,</span> <span class="mi">1</span> <span class="nx">passed</span><span class="p">,</span> <span class="mi">0</span> <span class="nx">failed</span><span class="p">.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In CasperJS 1.1, you can recorded test successes by listening to the tester <tt class="docutils literal"><span class="pre">success</span></tt> event:</p>
<div class="last highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">successes</span> <span class="o">=</span> <span class="p">[];</span>

<span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;success&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">success</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">successes</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">success</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="info">
<h3><tt class="docutils literal"><span class="pre">info()</span></tt><a class="headerlink" href="#info" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">info(String</span> <span class="pre">message)</span></tt></p>
<p>Writes an info-style formatted message to stdout:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="s2">&quot;Hi, I&#39;m an informative message.&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="pass">
<span id="index-19"></span><h3><tt class="docutils literal"><span class="pre">pass()</span></tt><a class="headerlink" href="#pass" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">pass(String</span> <span class="pre">message)</span></tt></p>
<p>Adds a successful test entry to the stack:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">pass</span><span class="p">(</span><span class="s2">&quot;Barrack Obama&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#fail">fail()</a></p>
</div>
</div>
<div class="section" id="renderresults">
<h3><tt class="docutils literal"><span class="pre">renderResults()</span></tt><a class="headerlink" href="#renderresults" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">renderResults(Boolean</span> <span class="pre">exit,</span> <span class="pre">Number</span> <span class="pre">status,</span> <span class="pre">String</span> <span class="pre">save)</span></tt></p>
<p>Render test results, save results in an XUnit formatted file, and optionally exits phantomjs:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">renderResults</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;test-results.xml&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method is not to be called when using the <tt class="docutils literal"><span class="pre">casperjs</span> <span class="pre">test</span></tt> command (see documentation for <a class="reference internal" href="../testing.html"><em>testing</em></a>), where it&#8217;s done automatically for you.</p>
</div>
</div>
<div class="section" id="setup">
<h3><tt class="docutils literal"><span class="pre">setUp()</span></tt><a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">setUp([Function</span> <span class="pre">fn])</span></tt></p>
<p>Defines a function which will be executed before every test defined using <a class="reference internal" href="#begin">begin()</a>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">setUp</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">().</span><span class="nx">userAgent</span><span class="p">(</span><span class="s1">&#39;Mosaic 0.1&#39;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<p>To perform asynchronous operations, use the <tt class="docutils literal"><span class="pre">done</span></tt> argument:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">setUp</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://foo&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="nx">done</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Don&#8217;t specify the <tt class="docutils literal"><span class="pre">done</span></tt> argument if you don&#8217;t intend to use the method asynchronously.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#teardown">tearDown()</a></p>
</div>
</div>
<div class="section" id="skip">
<h3><tt class="docutils literal"><span class="pre">skip()</span></tt><a class="headerlink" href="#skip" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">skip(Number</span> <span class="pre">nb,</span> <span class="pre">String</span> <span class="pre">message)</span></tt></p>
<p>Skips a given number of planned tests:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">begin</span><span class="p">(</span><span class="s1">&#39;Skip tests&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="s1">&#39;First test executed&#39;</span><span class="p">);</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="s1">&#39;Second test executed&#39;</span><span class="p">);</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">skip</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Two tests skipped&#39;</span><span class="p">);</span>
    <span class="nx">test</span><span class="p">.</span><span class="nx">done</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="teardown">
<h3><tt class="docutils literal"><span class="pre">tearDown()</span></tt><a class="headerlink" href="#teardown" title="Permalink to this headline">¶</a></h3>
<p><strong>Signature:</strong> <tt class="docutils literal"><span class="pre">tearDown([Function</span> <span class="pre">fn])</span></tt></p>
<p>Defines a function which will be executed before after every test defined using <a class="reference internal" href="#begin">begin()</a>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">tearDown</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">echo</span><span class="p">(</span><span class="s1">&#39;See ya&#39;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<p>To perform asynchronous operations, use the <tt class="docutils literal"><span class="pre">done</span></tt> argument:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">casper</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">tearDown</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">casper</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;http://foo/goodbye&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}).</span><span class="nx">run</span><span class="p">(</span><span class="nx">done</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Don&#8217;t specify the <tt class="docutils literal"><span class="pre">done</span></tt> argument if you don&#8217;t intend to use the method asynchronously.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#setup">setUp()</a></p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Document Outline</a></h3>
  <ul>
<li><a class="reference internal" href="#">The <tt class="docutils literal"><span class="pre">tester</span></tt> module</a><ul>
<li><a class="reference internal" href="#the-tester-prototype">The <tt class="docutils literal"><span class="pre">Tester</span></tt> prototype</a><ul>
<li><a class="reference internal" href="#assert"><tt class="docutils literal"><span class="pre">assert()</span></tt></a></li>
<li><a class="reference internal" href="#assertdoesntexist"><tt class="docutils literal"><span class="pre">assertDoesntExist()</span></tt></a></li>
<li><a class="reference internal" href="#assertequals"><tt class="docutils literal"><span class="pre">assertEquals()</span></tt></a></li>
<li><a class="reference internal" href="#asserteval"><tt class="docutils literal"><span class="pre">assertEval()</span></tt></a></li>
<li><a class="reference internal" href="#assertevalequals"><tt class="docutils literal"><span class="pre">assertEvalEquals()</span></tt></a></li>
<li><a class="reference internal" href="#assertelementcount"><tt class="docutils literal"><span class="pre">assertElementCount()</span></tt></a></li>
<li><a class="reference internal" href="#assertexists"><tt class="docutils literal"><span class="pre">assertExists()</span></tt></a></li>
<li><a class="reference internal" href="#assertfalsy"><tt class="docutils literal"><span class="pre">assertFalsy()</span></tt></a></li>
<li><a class="reference internal" href="#assertfield"><tt class="docutils literal"><span class="pre">assertField()</span></tt></a></li>
<li><a class="reference internal" href="#assertfieldname"><tt class="docutils literal"><span class="pre">assertFieldName()</span></tt></a></li>
<li><a class="reference internal" href="#assertfieldcss"><tt class="docutils literal"><span class="pre">assertFieldCSS()</span></tt></a></li>
<li><a class="reference internal" href="#assertfieldxpath"><tt class="docutils literal"><span class="pre">assertFieldXPath()</span></tt></a></li>
<li><a class="reference internal" href="#asserthttpstatus"><tt class="docutils literal"><span class="pre">assertHttpStatus()</span></tt></a></li>
<li><a class="reference internal" href="#assertmatch"><tt class="docutils literal"><span class="pre">assertMatch()</span></tt></a></li>
<li><a class="reference internal" href="#assertnot"><tt class="docutils literal"><span class="pre">assertNot()</span></tt></a></li>
<li><a class="reference internal" href="#assertnotequals"><tt class="docutils literal"><span class="pre">assertNotEquals()</span></tt></a></li>
<li><a class="reference internal" href="#assertnotvisible"><tt class="docutils literal"><span class="pre">assertNotVisible()</span></tt></a></li>
<li><a class="reference internal" href="#assertraises"><tt class="docutils literal"><span class="pre">assertRaises()</span></tt></a></li>
<li><a class="reference internal" href="#assertselectordoesnthavetext"><tt class="docutils literal"><span class="pre">assertSelectorDoesntHaveText()</span></tt></a></li>
<li><a class="reference internal" href="#assertselectorhastext"><tt class="docutils literal"><span class="pre">assertSelectorHasText()</span></tt></a></li>
<li><a class="reference internal" href="#assertresourceexists"><tt class="docutils literal"><span class="pre">assertResourceExists()</span></tt></a></li>
<li><a class="reference internal" href="#asserttextexists"><tt class="docutils literal"><span class="pre">assertTextExists()</span></tt></a></li>
<li><a class="reference internal" href="#asserttextdoesntexist"><tt class="docutils literal"><span class="pre">assertTextDoesntExist()</span></tt></a></li>
<li><a class="reference internal" href="#asserttitle"><tt class="docutils literal"><span class="pre">assertTitle()</span></tt></a></li>
<li><a class="reference internal" href="#asserttitlematch"><tt class="docutils literal"><span class="pre">assertTitleMatch()</span></tt></a></li>
<li><a class="reference internal" href="#asserttruthy"><tt class="docutils literal"><span class="pre">assertTruthy()</span></tt></a></li>
<li><a class="reference internal" href="#asserttype"><tt class="docutils literal"><span class="pre">assertType()</span></tt></a></li>
<li><a class="reference internal" href="#assertinstanceof"><tt class="docutils literal"><span class="pre">assertInstanceOf()</span></tt></a></li>
<li><a class="reference internal" href="#asserturlmatch"><tt class="docutils literal"><span class="pre">assertUrlMatch()</span></tt></a></li>
<li><a class="reference internal" href="#assertvisible"><tt class="docutils literal"><span class="pre">assertVisible()</span></tt></a></li>
<li><a class="reference internal" href="#begin"><tt class="docutils literal"><span class="pre">begin()</span></tt></a></li>
<li><a class="reference internal" href="#colorize"><tt class="docutils literal"><span class="pre">colorize()</span></tt></a></li>
<li><a class="reference internal" href="#comment"><tt class="docutils literal"><span class="pre">comment()</span></tt></a></li>
<li><a class="reference internal" href="#done"><tt class="docutils literal"><span class="pre">done()</span></tt></a></li>
<li><a class="reference internal" href="#error"><tt class="docutils literal"><span class="pre">error()</span></tt></a></li>
<li><a class="reference internal" href="#fail"><tt class="docutils literal"><span class="pre">fail()</span></tt></a></li>
<li><a class="reference internal" href="#formatmessage"><tt class="docutils literal"><span class="pre">formatMessage()</span></tt></a></li>
<li><a class="reference internal" href="#getfailures"><tt class="docutils literal"><span class="pre">getFailures()</span></tt></a></li>
<li><a class="reference internal" href="#getpasses"><tt class="docutils literal"><span class="pre">getPasses()</span></tt></a></li>
<li><a class="reference internal" href="#info"><tt class="docutils literal"><span class="pre">info()</span></tt></a></li>
<li><a class="reference internal" href="#pass"><tt class="docutils literal"><span class="pre">pass()</span></tt></a></li>
<li><a class="reference internal" href="#renderresults"><tt class="docutils literal"><span class="pre">renderResults()</span></tt></a></li>
<li><a class="reference internal" href="#setup"><tt class="docutils literal"><span class="pre">setUp()</span></tt></a></li>
<li><a class="reference internal" href="#skip"><tt class="docutils literal"><span class="pre">skip()</span></tt></a></li>
<li><a class="reference internal" href="#teardown"><tt class="docutils literal"><span class="pre">tearDown()</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>

<h3><a href="../index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Using the command line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../selectors.html">Selectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing.html">Testing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="casper.html">The <tt class="docutils literal"><span class="pre">casper</span></tt> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="clientutils.html">The <tt class="docutils literal"><span class="pre">clientutils</span></tt> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="colorizer.html">The <tt class="docutils literal"><span class="pre">colorizer</span></tt> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mouse.html">The <tt class="docutils literal"><span class="pre">mouse</span></tt> module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">The <tt class="docutils literal"><span class="pre">tester</span></tt> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">The <tt class="docutils literal"><span class="pre">utils</span></tt> module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../writing_modules.html">Writing CasperJS modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../events-filters.html">Events &amp; filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending.html">Extending</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrading/index.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="mouse.html"
                        title="previous chapter">The <tt class="docutils literal"><span class="pre">mouse</span></tt> module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="utils.html"
                        title="next chapter">The <tt class="docutils literal"><span class="pre">utils</span></tt> module</a></p><h3>Index</h3>
<p><a href="../genindex.html">Thesaurus</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/modules/tester.txt"
           rel="nofollow">Show Source</a></li>
   
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Donate</h3>
<div class="donate">
    <div class="paypal">
        <form action="https://www.paypal.com/cgi-bin/webscr" method="post">
            <input type="hidden" name="cmd" value="_s-xclick">
            <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHRwYJKoZIhvcNAQcEoIIHODCCBzQCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYC4JCGS/3BUKEbRk75JLTu8saEZukn/6Zl5RMoVI55A2wpXdaYcILRy3L7CC4Exu9QaUzHTqQY5livIcptZaOM+aJYYr4ltJbyRW1hvFfrp0ZKMEgUuaU3m9+KQl4kzF9mRUIb5fwTd2j0FfEOllIDYLhEs6sCf39iI8yNeHsuTqjELMAkGBSsOAwIaBQAwgcQGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIHb+LDTLRE8+AgaD85VPtS5//ZnqYKJMBxlWxI6ob8L8Zk71t9NAwDY3YB3phdkyYSQtax1QxSYz1zFdNlaN5+zlFVg3chctbR6W/kC1sf4hI+AVRm9JlwYKdPOE2FOescC7QuqwAiCZlTfdejznoE0B3aVfq4OMx2k0STtVv3Ld9prW57EtMZ7xDXIW5ss62IWpsBY8eW2VPbX/Xy8TncrpDLHzJ67OKmj/KoIIDhzCCA4MwggLsoAMCAQICAQAwDQYJKoZIhvcNAQEFBQAwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tMB4XDTA0MDIxMzEwMTMxNVoXDTM1MDIxMzEwMTMxNVowgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDBR07d/ETMS1ycjtkpkvjXZe9k+6CieLuLsPumsJ7QC1odNz3sJiCbs2wC0nLE0uLGaEtXynIgRqIddYCHx88pb5HTXv4SZeuv0Rqq4+axW9PLAAATU8w04qqjaSXgbGLP3NmohqM6bV9kZZwZLR/klDaQGo1u9uDb9lr4Yn+rBQIDAQABo4HuMIHrMB0GA1UdDgQWBBSWn3y7xm8XvVk/UtcKG+wQ1mSUazCBuwYDVR0jBIGzMIGwgBSWn3y7xm8XvVk/UtcKG+wQ1mSUa6GBlKSBkTCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb22CAQAwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQUFAAOBgQCBXzpWmoBa5e9fo6ujionW1hUhPkOBakTr3YCDjbYfvJEiv/2P+IobhOGJr85+XHhN0v4gUkEDI8r2/rNk1m0GA8HKddvTjyGw/XqXa+LSTlDYkqI8OwR8GEYj4efEtcRpRYBxV8KxAW93YDWzFGvruKnnLbDAF6VR5w/cCMn5hzGCAZowggGWAgEBMIGUMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbQIBADAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTIwNjI0MTUzOTU1WjAjBgkqhkiG9w0BCQQxFgQUCTlRbQ9Lu+bilBvGXOco0qlRC/8wDQYJKoZIhvcNAQEBBQAEgYBVibaMfUxJXJkA636MBqV4iWXc/F070Tsov5/kALg++/rD5qmH5MV6U8X0H8V1bCFZMBpTtLbCQ9xgeMjaK1gaCrvUw0503tBnvuPDz4bS1dspNHE9boiBJdN5vNZGqxXKij8CgKBeHYmcyCKjywHyUfSDADt1vgb7qQ5bOIvbzA==-----END PKCS7-----">
            <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="Donate" title="Donate">
            <img alt="" border="0" src="https://www.paypalobjects.com/fr_FR/i/scr/pixel.gif" width="1" height="1">
        </form>
        <small>(ghosts have bills, you know)</small>
    </div>
    <div class="flattr">
        <a href="http://flattr.com/thing/586241/CasperJS-a-navigation-scripting-and-testing-utility-for-PhantomJS" class="flattr" target="_blank"><img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0"></a>
    </div>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="utils.html" title="The utils module"
             >next</a> |</li>
        <li class="right" >
          <a href="mouse.html" title="The mouse module"
             >previous</a> |</li>
        <li><a href="../index.html">CasperJS 1.1.0-DEV documentation</a> &raquo;</li>
          <li><a href="index.html" >API Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2014 Nicolas Perriault and contributors. CasperJS logo by Jeremy Forveille.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>