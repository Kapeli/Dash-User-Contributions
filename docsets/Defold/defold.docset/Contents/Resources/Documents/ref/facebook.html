<h1><a name='//apple_ref/cpp/Field/facebook.AUDIENCE_EVERYONE' class='dashAnchor'></a><a name='facebook.AUDIENCE_EVERYONE'>facebook.AUDIENCE_EVERYONE</a></h1><p>Publish permission to reach everyone.</p><h1><a name='//apple_ref/cpp/Field/facebook.AUDIENCE_FRIENDS' class='dashAnchor'></a><a name='facebook.AUDIENCE_FRIENDS'>facebook.AUDIENCE_FRIENDS</a></h1><p>Publish permission to reach user friends.</p><h1><a name='//apple_ref/cpp/Field/facebook.AUDIENCE_NONE' class='dashAnchor'></a><a name='facebook.AUDIENCE_NONE'>facebook.AUDIENCE_NONE</a></h1><p>Publish permission to reach no audience.</p><h1><a name='//apple_ref/cpp/Field/facebook.AUDIENCE_ONLYME' class='dashAnchor'></a><a name='facebook.AUDIENCE_ONLYME'>facebook.AUDIENCE_ONLYME</a></h1><p>Publish permission to reach only me (private to current user).</p><h1><a name='//apple_ref/cpp/Field/facebook.EVENT_ADDED_PAYMENT_INFO' class='dashAnchor'></a><a name='facebook.EVENT_ADDED_PAYMENT_INFO'>facebook.EVENT_ADDED_PAYMENT_INFO</a></h1><p>Log this event when the user has entered their payment info.</p><h1><a name='//apple_ref/cpp/Field/facebook.EVENT_ADDED_TO_CART' class='dashAnchor'></a><a name='facebook.EVENT_ADDED_TO_CART'>facebook.EVENT_ADDED_TO_CART</a></h1><p>Log this event when the user has added an item to their cart. The</p><p>value_to_sum passed to facebook.post_event should be the item's price.</p><h1><a name='//apple_ref/cpp/Field/facebook.EVENT_ADDED_TO_WISHLIST' class='dashAnchor'></a><a name='facebook.EVENT_ADDED_TO_WISHLIST'>facebook.EVENT_ADDED_TO_WISHLIST</a></h1><p>Log this event when the user has added an item to their wishlist. The</p><p>value_to_sum passed to facebook.post_event should be the item's price.</p><h1><a name='//apple_ref/cpp/Field/facebook.EVENT_COMPLETED_REGISTRATION' class='dashAnchor'></a><a name='facebook.EVENT_COMPLETED_REGISTRATION'>facebook.EVENT_COMPLETED_REGISTRATION</a></h1><p>Log this event when a user has completed registration with the app.</p><h1><a name='//apple_ref/cpp/Field/facebook.EVENT_COMPLETED_TUTORIAL' class='dashAnchor'></a><a name='facebook.EVENT_COMPLETED_TUTORIAL'>facebook.EVENT_COMPLETED_TUTORIAL</a></h1><p>Log this event when the user has completed a tutorial in the app.</p><h1><a name='//apple_ref/cpp/Field/facebook.EVENT_INITIATED_CHECKOUT' class='dashAnchor'></a><a name='facebook.EVENT_INITIATED_CHECKOUT'>facebook.EVENT_INITIATED_CHECKOUT</a></h1><p>Log this event when the user has entered the checkout process. The</p><p>value_to_sum passed to facebook.post_event should be the total price in
the cart.</p><h1><a name='//apple_ref/cpp/Field/facebook.EVENT_PURCHASED' class='dashAnchor'></a><a name='facebook.EVENT_PURCHASED'>facebook.EVENT_PURCHASED</a></h1><p>Log this event when the user has completed a purchase.</p><h1><a name='//apple_ref/cpp/Field/facebook.EVENT_RATED' class='dashAnchor'></a><a name='facebook.EVENT_RATED'>facebook.EVENT_RATED</a></h1><p>Log this event when the user has rated an item in the app. The</p><p>value_to_sum  passed to facebook.post_event should be the numeric rating.</p><h1><a name='//apple_ref/cpp/Field/facebook.EVENT_SEARCHED' class='dashAnchor'></a><a name='facebook.EVENT_SEARCHED'>facebook.EVENT_SEARCHED</a></h1><p>Log this event when a user has performed a search within the app.</p><h1><a name='//apple_ref/cpp/Field/facebook.EVENT_SPENT_CREDITS' class='dashAnchor'></a><a name='facebook.EVENT_SPENT_CREDITS'>facebook.EVENT_SPENT_CREDITS</a></h1><p>Log this event when the user has spent app credits. The value_to_sum</p><p>passed to facebook.post_event should be the number of credits spent.

<p>
<b>NOTE!</b> This event is currently an undocumented event in the Facebook
SDK.
</p></p><h1><a name='//apple_ref/cpp/Field/facebook.EVENT_TIME_BETWEEN_SESSIONS' class='dashAnchor'></a><a name='facebook.EVENT_TIME_BETWEEN_SESSIONS'>facebook.EVENT_TIME_BETWEEN_SESSIONS</a></h1><p>Log this event when measuring the time between user sessions.</p><h1><a name='//apple_ref/cpp/Field/facebook.EVENT_UNLOCKED_ACHIEVEMENT' class='dashAnchor'></a><a name='facebook.EVENT_UNLOCKED_ACHIEVEMENT'>facebook.EVENT_UNLOCKED_ACHIEVEMENT</a></h1><p>Log this event when the user has unlocked an achievement in the app.</p><h1><a name='//apple_ref/cpp/Field/facebook.EVENT_VIEWED_CONTENT' class='dashAnchor'></a><a name='facebook.EVENT_VIEWED_CONTENT'>facebook.EVENT_VIEWED_CONTENT</a></h1><p>Log this event when a user has viewed a form of content in the app.</p><h1><a name='//apple_ref/cpp/Field/facebook.GAMEREQUEST_ACTIONTYPE_ASKFOR' class='dashAnchor'></a><a name='facebook.GAMEREQUEST_ACTIONTYPE_ASKFOR'>facebook.GAMEREQUEST_ACTIONTYPE_ASKFOR</a></h1><p>Game Request action type "askfor" for "apprequests" dialog</p><h1><a name='//apple_ref/cpp/Field/facebook.GAMEREQUEST_ACTIONTYPE_NONE' class='dashAnchor'></a><a name='facebook.GAMEREQUEST_ACTIONTYPE_NONE'>facebook.GAMEREQUEST_ACTIONTYPE_NONE</a></h1><p>Game Request action type "none" for "apprequests" dialog</p><h1><a name='//apple_ref/cpp/Field/facebook.GAMEREQUEST_ACTIONTYPE_SEND' class='dashAnchor'></a><a name='facebook.GAMEREQUEST_ACTIONTYPE_SEND'>facebook.GAMEREQUEST_ACTIONTYPE_SEND</a></h1><p>Game Request action type "send" for "apprequests" dialog</p><h1><a name='//apple_ref/cpp/Field/facebook.GAMEREQUEST_ACTIONTYPE_TURN' class='dashAnchor'></a><a name='facebook.GAMEREQUEST_ACTIONTYPE_TURN'>facebook.GAMEREQUEST_ACTIONTYPE_TURN</a></h1><p>Game Request action type "turn" for "apprequests" dialog</p><h1><a name='//apple_ref/cpp/Field/facebook.GAMEREQUEST_FILTER_APPNONUSERS' class='dashAnchor'></a><a name='facebook.GAMEREQUEST_FILTER_APPNONUSERS'>facebook.GAMEREQUEST_FILTER_APPNONUSERS</a></h1><p>Gamerequest filter type "app_non_users" for "apprequests" dialog</p><h1><a name='//apple_ref/cpp/Field/facebook.GAMEREQUEST_FILTER_APPUSERS' class='dashAnchor'></a><a name='facebook.GAMEREQUEST_FILTER_APPUSERS'>facebook.GAMEREQUEST_FILTER_APPUSERS</a></h1><p>Gamerequest filter type "app_users" for "apprequests" dialog</p><h1><a name='//apple_ref/cpp/Field/facebook.GAMEREQUEST_FILTER_NONE' class='dashAnchor'></a><a name='facebook.GAMEREQUEST_FILTER_NONE'>facebook.GAMEREQUEST_FILTER_NONE</a></h1><p>Gamerequest filter type "none" for "apprequests" dialog</p><h1><a name='//apple_ref/cpp/Field/facebook.PARAM_CONTENT_ID' class='dashAnchor'></a><a name='facebook.PARAM_CONTENT_ID'>facebook.PARAM_CONTENT_ID</a></h1><p>Parameter key used to specify an ID for the specific piece of content</p><p>being logged about. Could be an EAN, article identifier, etc., depending
 on the nature of the app.</p><h1><a name='//apple_ref/cpp/Field/facebook.PARAM_CONTENT_TYPE' class='dashAnchor'></a><a name='facebook.PARAM_CONTENT_TYPE'>facebook.PARAM_CONTENT_TYPE</a></h1><p>Parameter key used to specify a generic content type/family for the logged</p><p>event, e.g. "music", "photo", "video". Options to use will vary based upon
 what the app is all about.</p><h1><a name='//apple_ref/cpp/Field/facebook.PARAM_CURRENCY' class='dashAnchor'></a><a name='facebook.PARAM_CURRENCY'>facebook.PARAM_CURRENCY</a></h1><p>Parameter key used to specify currency used with logged event. E.g. "USD",</p><p>"EUR", "GBP". See ISO-4217 for specific values.</p><h1><a name='//apple_ref/cpp/Field/facebook.PARAM_DESCRIPTION' class='dashAnchor'></a><a name='facebook.PARAM_DESCRIPTION'>facebook.PARAM_DESCRIPTION</a></h1><p>Parameter key used to specify a description appropriate to the event being</p><p>logged. E.g., the name of the achievement unlocked in the
 facebook.EVENT_UNLOCKED_ACHIEVEMENT event.</p><h1><a name='//apple_ref/cpp/Field/facebook.PARAM_LEVEL' class='dashAnchor'></a><a name='facebook.PARAM_LEVEL'>facebook.PARAM_LEVEL</a></h1><p>Parameter key used to specify the level achieved.</p><h1><a name='//apple_ref/cpp/Field/facebook.PARAM_MAX_RATING_VALUE' class='dashAnchor'></a><a name='facebook.PARAM_MAX_RATING_VALUE'>facebook.PARAM_MAX_RATING_VALUE</a></h1><p>Parameter key used to specify the maximum rating available for the</p><p>facebook.EVENT_RATED event. E.g., "5" or "10".</p><h1><a name='//apple_ref/cpp/Field/facebook.PARAM_NUM_ITEMS' class='dashAnchor'></a><a name='facebook.PARAM_NUM_ITEMS'>facebook.PARAM_NUM_ITEMS</a></h1><p>Parameter key used to specify how many items are being processed for an</p><p>facebook.EVENT_INITIATED_CHECKOUT or facebook.EVENT_PURCHASED event.</p><h1><a name='//apple_ref/cpp/Field/facebook.PARAM_PAYMENT_INFO_AVAILABLE' class='dashAnchor'></a><a name='facebook.PARAM_PAYMENT_INFO_AVAILABLE'>facebook.PARAM_PAYMENT_INFO_AVAILABLE</a></h1><p>Parameter key used to specify whether payment info is available for the</p><p>facebook.EVENT_INITIATED_CHECKOUT event.</p><h1><a name='//apple_ref/cpp/Field/facebook.PARAM_REGISTRATION_METHOD' class='dashAnchor'></a><a name='facebook.PARAM_REGISTRATION_METHOD'>facebook.PARAM_REGISTRATION_METHOD</a></h1><p>Parameter key used to specify method user has used to register for the</p><p>app, e.g., "Facebook", "email", "Twitter", etc.</p><h1><a name='//apple_ref/cpp/Field/facebook.PARAM_SEARCH_STRING' class='dashAnchor'></a><a name='facebook.PARAM_SEARCH_STRING'>facebook.PARAM_SEARCH_STRING</a></h1><p>Parameter key used to specify the string provided by the user for a search</p><p>operation.</p><h1><a name='//apple_ref/cpp/Field/facebook.PARAM_SOURCE_APPLICATION' class='dashAnchor'></a><a name='facebook.PARAM_SOURCE_APPLICATION'>facebook.PARAM_SOURCE_APPLICATION</a></h1><p>Parameter key used to specify source application package.</p><h1><a name='//apple_ref/cpp/Field/facebook.PARAM_SUCCESS' class='dashAnchor'></a><a name='facebook.PARAM_SUCCESS'>facebook.PARAM_SUCCESS</a></h1><p>Parameter key used to specify whether the activity being logged about was</p><p>successful or not.</p><h1><a name='//apple_ref/cpp/Field/facebook.STATE_CLOSED_LOGIN_FAILED' class='dashAnchor'></a><a name='facebook.STATE_CLOSED_LOGIN_FAILED'>facebook.STATE_CLOSED_LOGIN_FAILED</a></h1><p>The Facebook login session has closed because login failed</p><h1><a name='//apple_ref/cpp/Field/facebook.STATE_OPEN' class='dashAnchor'></a><a name='facebook.STATE_OPEN'>facebook.STATE_OPEN</a></h1><p>The Facebook login session is open</p><h1><a name='//apple_ref/cpp/Function/facebook.access_token' class='dashAnchor'></a><a name='facebook.access_token'>facebook.access_token()</a></h1><p>get the current Facebook access token</p><h3>RETURN</h3><p>the access token (string)</p><h1><a name='//apple_ref/cpp/Function/facebook.disable_event_usage' class='dashAnchor'></a><a name='facebook.disable_event_usage'>facebook.disable_event_usage()</a></h1><p>Disable event usage with Facebook Analytics</p><p>This function will disable event usage for Facebook Analytics which means
that Facebook won't be able to use event data for ad-tracking. Events will
still be sent to Facebook for insights.

<b>NOTE!</b> Event usage cannot be controlled and is always enabled for the
Facebook Canvas platform, therefore this function has no effect on Facebook
Canvas.</p><h1><a name='//apple_ref/cpp/Function/facebook.enable_event_usage' class='dashAnchor'></a><a name='facebook.enable_event_usage'>facebook.enable_event_usage()</a></h1><p>Enable event usage with Facebook Analytics</p><p>This function will enable event usage for Facebook Analytics which means
that Facebook will be able to use event data for ad-tracking.

<b>NOTE!</b> Event usage cannot be controlled and is always enabled for the
Facebook Canvas platform, therefore this function has no effect on Facebook
Canvas.</p><h1><a name='//apple_ref/cpp/Function/facebook.login' class='dashAnchor'></a><a name='facebook.login'>facebook.login()</a></h1><p>initiate a Facebook login</p><p>This function opens a Facebook login dialog allowing the user to log into Facebook
with his/her account. This performs a login requesting read permission for:
<ul>
  <li><code>"public_profile"</code></li>
  <li><code>"email"</code></li>
  <li><code>"user_friends"</code></li>
</ul>
The actual permission that the user grants can be retrieved with <code>facebook.permissions()</code>.</p><h3>PARAMETERS</h3><p>callback - callback function with parameters (self, status, error), when the login attempt is done. (function)</p><h3>EXAMPLES</h3><p><pre>
facebook.login(function (self, status, error)
    if error or status ~= facebook.STATE_OPEN then
        print("Facebook log in error: " .. status)
        return
    end
end)
</pre></p><h1><a name='//apple_ref/cpp/Function/facebook.logout' class='dashAnchor'></a><a name='facebook.logout'>facebook.logout()</a></h1><p>logout from Facebook</p><p>Logout from Facebook.</p><h1><a name='//apple_ref/cpp/Function/facebook.me' class='dashAnchor'></a><a name='facebook.me'>facebook.me()</a></h1><p>return a table with "me" user data</p><p>This function returns a table of user data as requested from the Facebook Graph API
"me" path. The user data is fetched during facebook.login().

The table contains the following fields:

<ul>
  <li><code>"name"</code></li>
  <li><code>"last_name"</code></li>
  <li><code>"first_name"</code></li>
  <li><code>"id"</code></li>
  <li><code>"email"</code></li>
  <li><code>"link"</code></li>
  <li><code>"gender"</code></li>
  <li><code>"locale"</code></li>
  <li><code>"updated_time"</code></li>
</ul></p><h3>RETURN</h3><p>table with user data fields (table)</p><h1><a name='//apple_ref/cpp/Function/facebook.permissions' class='dashAnchor'></a><a name='facebook.permissions'>facebook.permissions()</a></h1><p>get the currently granted permissions</p><p>This function returns a table with all the currently granted permission strings.</p><h3>RETURN</h3><p>the permissions (table)</p><h3>EXAMPLES</h3><p><pre>
for _,permission in ipairs(facebook.permissions()) do
    if permission == "user_likes" then
        -- "user_likes" granted...
        break
    end
end
</pre></p><h1><a name='//apple_ref/cpp/Function/facebook.post_event' class='dashAnchor'></a><a name='facebook.post_event'>facebook.post_event()</a></h1><p>post an event to Facebook Analytics</p><p>This function will post an event to Facebook Analytics where it can be used
in the Facebook Insights system.</p><h3>PARAMETERS</h3><p>event - (constant|text) An event can either be one of the predefined
constants below or a text which can be used to define a custom event that is
registered with Facebook Analytics.
<ul>
    <li>facebook.EVENT_ACHIEVED_LEVEL</li>
    <li>facebook.EVENT_ACTIVATED_APP</li>
    <li>facebook.EVENT_ADDED_PAYMENT_INFO</li>
    <li>facebook.EVENT_ADDED_TO_CART</li>
    <li>facebook.EVENT_ADDED_TO_WISHLIST</li>
    <li>facebook.EVENT_COMPLETED_REGISTRATION</li>
    <li>facebook.EVENT_COMPLETED_TUTORIAL</li>
    <li>facebook.EVENT_DEACTIVATED_APP</li>
    <li>facebook.EVENT_INITIATED_CHECKOUT</li>
    <li>facebook.EVENT_PURCHASED</li>
    <li>facebook.EVENT_RATED</li>
    <li>facebook.EVENT_SEARCHED</li>
    <li>facebook.EVENT_SESSION_INTERRUPTIONS</li>
    <li>facebook.EVENT_SPENT_CREDITS</li>
    <li>facebook.EVENT_TIME_BETWEEN_SESSIONS</li>
    <li>facebook.EVENT_UNLOCKED_ACHIEVEMENT</li>
    <li>facebook.EVENT_VIEWED_CONTENT</li>
</ul></p><p>value_to_sum - (number) A numeric value for the event. This should
represent the value of the event, such as the level achieved, price for an
item or number of orcs killed.</p><p>params - (table) A table with parameters and their values. A key in the
table can either be one of the predefined constants below or a text which
can be used to define a custom parameter. Optional argument.
<ul>
    <li>facebook.PARAM_CONTENT_ID</li>
    <li>facebook.PARAM_CONTENT_TYPE</li>
    <li>facebook.PARAM_CURRENCY</li>
    <li>facebook.PARAM_DESCRIPTION</li>
    <li>facebook.PARAM_LEVEL</li>
    <li>facebook.PARAM_MAX_RATING_VALUE</li>
    <li>facebook.PARAM_NUM_ITEMS</li>
    <li>facebook.PARAM_PAYMENT_INFO_AVAILABLE</li>
    <li>facebook.PARAM_REGISTRATION_METHOD</li>
    <li>facebook.PARAM_SEARCH_STRING</li>
    <li>facebook.PARAM_SOURCE_APPLICATION</li>
    <li>facebook.PARAM_SUCCESS</li>
</ul></p><h3>EXAMPLES</h3><p><pre>
params = {facebook.PARAM_LEVEL = 30, facebook.PARAM_NUM_ITEMS = 2};
facebook.post_event(facebook.EVENT_SPENT_CREDITS, 25, params);
</pre></p><h1><a name='//apple_ref/cpp/Function/facebook.request_publish_permissions' class='dashAnchor'></a><a name='facebook.request_publish_permissions'>facebook.request_publish_permissions()</a></h1><p>logs the user in with the requested publish permissions</p><p>Log in the user on Facebook with the specified publish permissions. Check the permissions the user
 actually granted with <code>facebook.permissions()</code>.</p><h3>PARAMETERS</h3><p>permissions - a table with the requested permissions (table)</p><p>audience - (constant|number)
<ul>
    <li>facebook.AUDIENCE_NONE</li>
    <li>facebook.AUDIENCE_ONLYME</li>
    <li>facebook.AUDIENCE_FRIENDS</li>
    <li>facebook.AUDIENCE_EVERYONE</li>
</ul></p><p>callback - callback function with parameters (self, error) that is called when the permission request dialog is closed. (function)</p><h3>EXAMPLES</h3><p><pre>
facebook.request_publish_permissions({ "user_friends", "email" }, function (self, error)
    if error then
        -- Something bad happened
        return
    end
end)
</pre></p><h1><a name='//apple_ref/cpp/Function/facebook.request_read_permissions' class='dashAnchor'></a><a name='facebook.request_read_permissions'>facebook.request_read_permissions()</a></h1><p>logs the user in with the requested read permissions</p><p>Log in the user on Facebook with the specified read permissions. Check the permissions the user
actually granted with <code>facebook.permissions()</code>.</p><h3>PARAMETERS</h3><p>permissions - a table with the requested permission strings (table)
The following strings are valid permission identifiers and are requested by default on login:
<ul>
  <li><code>"public_profile"</code></li>
  <li><code>"email"</code></li>
  <li><code>"user_friends"</code></li>
</ul>
A comprehensive list of permissions can be found at <a href='https://developers.facebook.com/docs/facebook-login/permissions/v2.6'>https://developers.facebook.com/docs/facebook-login/permissions/v2.6</a></p><p>callback - callback function with parameters (self, error) that is called when the permission request dialog is closed. (function)</p><h3>EXAMPLES</h3><p><pre>
facebook.request_read_permissions({ "user_friends", "email" }, function (self, error)
    if error then
        -- Something bad happened
        return
    end
end)
</pre></p><h1><a name='//apple_ref/cpp/Function/facebook.show_dialog' class='dashAnchor'></a><a name='facebook.show_dialog'>facebook.show_dialog()</a></h1><p>show facebook web dialog</p><p>Display a Facebook web dialog of the type specified in the <code>dialog</code> parameter.
The <code>param</code> table should be set up according to the requirements of each dialog
type. Note that some parameters are mandatory. Below is the list of available dialogs and
where to find Facebook's developer documentation on parameters and response data.

<code>apprequests</code>

Shows a Game Request dialog. Game Requests allows players to invite their friends to play a
game. Available parameters:

<ul>
  <li><code>title</code> (string)</li>
  <li><code>message</code> (string)</li>
  <li><code>action_type</code> (number)</li>
  <li><code>filters</code> (number)</li>
  <li><code>data</code> (string)</li>
  <li><code>object_id</code> (string)</li>
  <li><code>suggestions</code> (table)</li>
  <li><code>recipients</code> (table)</li>
  <li><code>to</code> (string)</li>
</ul>

On success, the "result" table parameter passed to the callback function will include the following fields:
<ul>
  <li><code>request_id</code> (string)</li>
  <li><code>to</code> (table)</li>
</ul>

Details for each parameter: <a href='https://developers.facebook.com/docs/games/services/gamerequests/v2.6#dialogparameters'>https://developers.facebook.com/docs/games/services/gamerequests/v2.6#dialogparameters</a>

<code>feed</code>

The Feed Dialog allows people to publish individual stories to their timeline.

<ul>
  <li><code>caption</code> (string)</li>
  <li><code>description</code> (string)</li>
  <li><code>picture</code> (string)</li>
  <li><code>link</code> (string)</li>
  <li><code>people_ids</code> (table)</li>
  <li><code>place_id</code> (string)</li>
  <li><code>ref</code> (string)</li>
</ul>

On success, the "result" table parameter passed to the callback function will include the following fields:
<ul>
  <li><code>post_id</code> (string)</li>
</ul>

Details for each parameter: <a href='https://developers.facebook.com/docs/sharing/reference/feed-dialog/v2.6#params'>https://developers.facebook.com/docs/sharing/reference/feed-dialog/v2.6#params</a>

<code>appinvite</code>

The App Invite dialog is available only on iOS and Android. Note that the <code>url</code> parameter
corresponds to the appLinkURL (iOS) and setAppLinkUrl (Android) properties.

<ul>
  <li><code>url</code> (string)</li>
  <li><code>preview_image</code> (string)</li>
</ul>

Details for each parameter: <a href='https://developers.facebook.com/docs/reference/ios/current/class/FBSDKAppInviteContent/'>https://developers.facebook.com/docs/reference/ios/current/class/FBSDKAppInviteContent/</a></p><h3>PARAMETERS</h3><p>dialog - dialog to show. "apprequests", "feed" or "appinvite" (string)</p><p>param - table with dialog parameters (table)</p><p>callback - callback function with parameters (self, result, error) that is called when the dialog is closed. Result is table with an url-field set. (function)</p>