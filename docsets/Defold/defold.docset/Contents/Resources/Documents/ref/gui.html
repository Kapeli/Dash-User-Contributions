<h1><a name='//apple_ref/cpp/Function/final' class='dashAnchor'></a><a name='final'>final()</a></h1><p>called when a gui component is finalized</p><p>This is a callback-function, which is called by the engine when a gui component is finalized (destroyed). It can
be used to e.g. take some last action, report the finalization to other game object instances
or release user input focus (see <code>release_input_focus</code>). There is no use in starting any animations or similar
from this function since the gui component is about to be destroyed.</p><h3>PARAMETERS</h3><p>self - reference to the script state to be used for storing data (script_ref)</p><h3>EXAMPLES</h3><p><pre>
function final(self)
    -- report finalization
    msg.post("my_friend_instance", "im_dead", {my_stats = self.some_value})
end
</pre></p><h1><a name='//apple_ref/cpp/Field/gui.ADJUST_FIT' class='dashAnchor'></a><a name='gui.ADJUST_FIT'>gui.ADJUST_FIT</a></h1><p>fit adjust mode</p><p>Adjust mode is used when the screen resolution differs from the project settings.
The fit mode ensures that the entire node is visible in the adjusted gui scene.</p><h1><a name='//apple_ref/cpp/Field/gui.ADJUST_STRETCH' class='dashAnchor'></a><a name='gui.ADJUST_STRETCH'>gui.ADJUST_STRETCH</a></h1><p>stretch adjust mode</p><p>Adjust mode is used when the screen resolution differs from the project settings.
The stretch mode ensures that the node is displayed as is in the adjusted gui scene, which might scale it non-uniformally.</p><h1><a name='//apple_ref/cpp/Field/gui.ADJUST_ZOOM' class='dashAnchor'></a><a name='gui.ADJUST_ZOOM'>gui.ADJUST_ZOOM</a></h1><p>zoom adjust mode</p><p>Adjust mode is used when the screen resolution differs from the project settings.
The zoom mode ensures that the node fills its entire area and might make the node exceed it.</p><h1><a name='//apple_ref/cpp/Field/gui.ANCHOR_BOTTOM' class='dashAnchor'></a><a name='gui.ANCHOR_BOTTOM'>gui.ANCHOR_BOTTOM</a></h1><p>bottom y-anchor</p><h1><a name='//apple_ref/cpp/Field/gui.ANCHOR_LEFT' class='dashAnchor'></a><a name='gui.ANCHOR_LEFT'>gui.ANCHOR_LEFT</a></h1><p>left x-anchor</p><h1><a name='//apple_ref/cpp/Field/gui.ANCHOR_RIGHT' class='dashAnchor'></a><a name='gui.ANCHOR_RIGHT'>gui.ANCHOR_RIGHT</a></h1><p>right x-anchor</p><h1><a name='//apple_ref/cpp/Field/gui.ANCHOR_TOP' class='dashAnchor'></a><a name='gui.ANCHOR_TOP'>gui.ANCHOR_TOP</a></h1><p>top y-anchor</p><h1><a name='//apple_ref/cpp/Field/gui.BLEND_ADD' class='dashAnchor'></a><a name='gui.BLEND_ADD'>gui.BLEND_ADD</a></h1><p>additive blending</p><h1><a name='//apple_ref/cpp/Field/gui.BLEND_ADD_ALPHA' class='dashAnchor'></a><a name='gui.BLEND_ADD_ALPHA'>gui.BLEND_ADD_ALPHA</a></h1><p>additive alpha blending</p><h1><a name='//apple_ref/cpp/Field/gui.BLEND_ALPHA' class='dashAnchor'></a><a name='gui.BLEND_ALPHA'>gui.BLEND_ALPHA</a></h1><p>alpha blending</p><h1><a name='//apple_ref/cpp/Field/gui.BLEND_MULT' class='dashAnchor'></a><a name='gui.BLEND_MULT'>gui.BLEND_MULT</a></h1><p>multiply blending</p><h1><a name='//apple_ref/cpp/Field/gui.CLIPPING_MODE_NONE' class='dashAnchor'></a><a name='gui.CLIPPING_MODE_NONE'>gui.CLIPPING_MODE_NONE</a></h1><p>clipping mode none</p><h1><a name='//apple_ref/cpp/Field/gui.CLIPPING_MODE_STENCIL' class='dashAnchor'></a><a name='gui.CLIPPING_MODE_STENCIL'>gui.CLIPPING_MODE_STENCIL</a></h1><p>clipping mode stencil</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INBACK' class='dashAnchor'></a><a name='gui.EASING_INBACK'>gui.EASING_INBACK</a></h1><p>in-back</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INBOUNCE' class='dashAnchor'></a><a name='gui.EASING_INBOUNCE'>gui.EASING_INBOUNCE</a></h1><p>in-bounce</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INCIRC' class='dashAnchor'></a><a name='gui.EASING_INCIRC'>gui.EASING_INCIRC</a></h1><p>in-circlic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INCUBIC' class='dashAnchor'></a><a name='gui.EASING_INCUBIC'>gui.EASING_INCUBIC</a></h1><p>in-cubic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INELASTIC' class='dashAnchor'></a><a name='gui.EASING_INELASTIC'>gui.EASING_INELASTIC</a></h1><p>in-elastic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INEXPO' class='dashAnchor'></a><a name='gui.EASING_INEXPO'>gui.EASING_INEXPO</a></h1><p>in-exponential</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INOUTBACK' class='dashAnchor'></a><a name='gui.EASING_INOUTBACK'>gui.EASING_INOUTBACK</a></h1><p>in-out-back</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INOUTBOUNCE' class='dashAnchor'></a><a name='gui.EASING_INOUTBOUNCE'>gui.EASING_INOUTBOUNCE</a></h1><p>in-out-bounce</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INOUTCIRC' class='dashAnchor'></a><a name='gui.EASING_INOUTCIRC'>gui.EASING_INOUTCIRC</a></h1><p>in-out-circlic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INOUTCUBIC' class='dashAnchor'></a><a name='gui.EASING_INOUTCUBIC'>gui.EASING_INOUTCUBIC</a></h1><p>in-out-cubic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INOUTELASTIC' class='dashAnchor'></a><a name='gui.EASING_INOUTELASTIC'>gui.EASING_INOUTELASTIC</a></h1><p>in-out-elastic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INOUTEXPO' class='dashAnchor'></a><a name='gui.EASING_INOUTEXPO'>gui.EASING_INOUTEXPO</a></h1><p>in-out-exponential</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INOUTQUAD' class='dashAnchor'></a><a name='gui.EASING_INOUTQUAD'>gui.EASING_INOUTQUAD</a></h1><p>in-out-quadratic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INOUTQUART' class='dashAnchor'></a><a name='gui.EASING_INOUTQUART'>gui.EASING_INOUTQUART</a></h1><p>in-out-quartic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INOUTQUINT' class='dashAnchor'></a><a name='gui.EASING_INOUTQUINT'>gui.EASING_INOUTQUINT</a></h1><p>in-out-quintic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INOUTSINE' class='dashAnchor'></a><a name='gui.EASING_INOUTSINE'>gui.EASING_INOUTSINE</a></h1><p>in-out-sine</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INQUAD' class='dashAnchor'></a><a name='gui.EASING_INQUAD'>gui.EASING_INQUAD</a></h1><p>in-quadratic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INQUART' class='dashAnchor'></a><a name='gui.EASING_INQUART'>gui.EASING_INQUART</a></h1><p>in-quartic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INQUINT' class='dashAnchor'></a><a name='gui.EASING_INQUINT'>gui.EASING_INQUINT</a></h1><p>in-quintic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_INSINE' class='dashAnchor'></a><a name='gui.EASING_INSINE'>gui.EASING_INSINE</a></h1><p>in-sine</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_LINEAR' class='dashAnchor'></a><a name='gui.EASING_LINEAR'>gui.EASING_LINEAR</a></h1><p>linear interpolation</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTBACK' class='dashAnchor'></a><a name='gui.EASING_OUTBACK'>gui.EASING_OUTBACK</a></h1><p>out-back</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTBOUNCE' class='dashAnchor'></a><a name='gui.EASING_OUTBOUNCE'>gui.EASING_OUTBOUNCE</a></h1><p>out-bounce</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTCIRC' class='dashAnchor'></a><a name='gui.EASING_OUTCIRC'>gui.EASING_OUTCIRC</a></h1><p>out-circlic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTCUBIC' class='dashAnchor'></a><a name='gui.EASING_OUTCUBIC'>gui.EASING_OUTCUBIC</a></h1><p>out-cubic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTELASTIC' class='dashAnchor'></a><a name='gui.EASING_OUTELASTIC'>gui.EASING_OUTELASTIC</a></h1><p>out-elastic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTEXPO' class='dashAnchor'></a><a name='gui.EASING_OUTEXPO'>gui.EASING_OUTEXPO</a></h1><p>out-exponential</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTINBACK' class='dashAnchor'></a><a name='gui.EASING_OUTINBACK'>gui.EASING_OUTINBACK</a></h1><p>out-in-back</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTINBOUNCE' class='dashAnchor'></a><a name='gui.EASING_OUTINBOUNCE'>gui.EASING_OUTINBOUNCE</a></h1><p>out-in-bounce</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTINCIRC' class='dashAnchor'></a><a name='gui.EASING_OUTINCIRC'>gui.EASING_OUTINCIRC</a></h1><p>out-in-circlic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTINCUBIC' class='dashAnchor'></a><a name='gui.EASING_OUTINCUBIC'>gui.EASING_OUTINCUBIC</a></h1><p>out-in-cubic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTINELASTIC' class='dashAnchor'></a><a name='gui.EASING_OUTINELASTIC'>gui.EASING_OUTINELASTIC</a></h1><p>out-in-elastic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTINEXPO' class='dashAnchor'></a><a name='gui.EASING_OUTINEXPO'>gui.EASING_OUTINEXPO</a></h1><p>out-in-exponential</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTINQUAD' class='dashAnchor'></a><a name='gui.EASING_OUTINQUAD'>gui.EASING_OUTINQUAD</a></h1><p>out-in-quadratic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTINQUART' class='dashAnchor'></a><a name='gui.EASING_OUTINQUART'>gui.EASING_OUTINQUART</a></h1><p>out-in-quartic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTINQUINT' class='dashAnchor'></a><a name='gui.EASING_OUTINQUINT'>gui.EASING_OUTINQUINT</a></h1><p>out-in-quintic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTINSINE' class='dashAnchor'></a><a name='gui.EASING_OUTINSINE'>gui.EASING_OUTINSINE</a></h1><p>out-in-sine</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTQUAD' class='dashAnchor'></a><a name='gui.EASING_OUTQUAD'>gui.EASING_OUTQUAD</a></h1><p>out-quadratic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTQUART' class='dashAnchor'></a><a name='gui.EASING_OUTQUART'>gui.EASING_OUTQUART</a></h1><p>out-quartic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTQUINT' class='dashAnchor'></a><a name='gui.EASING_OUTQUINT'>gui.EASING_OUTQUINT</a></h1><p>out-quintic</p><h1><a name='//apple_ref/cpp/Field/gui.EASING_OUTSINE' class='dashAnchor'></a><a name='gui.EASING_OUTSINE'>gui.EASING_OUTSINE</a></h1><p>out-sine</p><h1><a name='//apple_ref/cpp/Field/gui.KEYBOARD_TYPE_DEFAULT' class='dashAnchor'></a><a name='gui.KEYBOARD_TYPE_DEFAULT'>gui.KEYBOARD_TYPE_DEFAULT</a></h1><p>default keyboard</p><h1><a name='//apple_ref/cpp/Field/gui.KEYBOARD_TYPE_EMAIL' class='dashAnchor'></a><a name='gui.KEYBOARD_TYPE_EMAIL'>gui.KEYBOARD_TYPE_EMAIL</a></h1><p>email keyboard</p><h1><a name='//apple_ref/cpp/Field/gui.KEYBOARD_TYPE_NUMBER_PAD' class='dashAnchor'></a><a name='gui.KEYBOARD_TYPE_NUMBER_PAD'>gui.KEYBOARD_TYPE_NUMBER_PAD</a></h1><p>number input keyboard</p><h1><a name='//apple_ref/cpp/Field/gui.KEYBOARD_TYPE_PASSWORD' class='dashAnchor'></a><a name='gui.KEYBOARD_TYPE_PASSWORD'>gui.KEYBOARD_TYPE_PASSWORD</a></h1><p>password keyboard</p><h1><a name='//apple_ref/cpp/Field/gui.PIEBOUNDS_ELLIPSE' class='dashAnchor'></a><a name='gui.PIEBOUNDS_ELLIPSE'>gui.PIEBOUNDS_ELLIPSE</a></h1><p>elliptical pie node bounds</p><h1><a name='//apple_ref/cpp/Field/gui.PIEBOUNDS_RECTANGLE' class='dashAnchor'></a><a name='gui.PIEBOUNDS_RECTANGLE'>gui.PIEBOUNDS_RECTANGLE</a></h1><p>rectangular pie node bounds</p><h1><a name='//apple_ref/cpp/Field/gui.PIVOT_CENTER' class='dashAnchor'></a><a name='gui.PIVOT_CENTER'>gui.PIVOT_CENTER</a></h1><p>center pivor</p><h1><a name='//apple_ref/cpp/Field/gui.PIVOT_E' class='dashAnchor'></a><a name='gui.PIVOT_E'>gui.PIVOT_E</a></h1><p>east pivot</p><h1><a name='//apple_ref/cpp/Field/gui.PIVOT_N' class='dashAnchor'></a><a name='gui.PIVOT_N'>gui.PIVOT_N</a></h1><p>north pivot</p><h1><a name='//apple_ref/cpp/Field/gui.PIVOT_NE' class='dashAnchor'></a><a name='gui.PIVOT_NE'>gui.PIVOT_NE</a></h1><p>north-east pivot</p><h1><a name='//apple_ref/cpp/Field/gui.PIVOT_NW' class='dashAnchor'></a><a name='gui.PIVOT_NW'>gui.PIVOT_NW</a></h1><p>north-west pivot</p><h1><a name='//apple_ref/cpp/Field/gui.PIVOT_S' class='dashAnchor'></a><a name='gui.PIVOT_S'>gui.PIVOT_S</a></h1><p>south pivot</p><h1><a name='//apple_ref/cpp/Field/gui.PIVOT_SE' class='dashAnchor'></a><a name='gui.PIVOT_SE'>gui.PIVOT_SE</a></h1><p>south-east pivot</p><h1><a name='//apple_ref/cpp/Field/gui.PIVOT_SW' class='dashAnchor'></a><a name='gui.PIVOT_SW'>gui.PIVOT_SW</a></h1><p>south-west pivot</p><h1><a name='//apple_ref/cpp/Field/gui.PIVOT_W' class='dashAnchor'></a><a name='gui.PIVOT_W'>gui.PIVOT_W</a></h1><p>west pivot</p><h1><a name='//apple_ref/cpp/Field/gui.PLAYBACK_LOOP_BACKWARD' class='dashAnchor'></a><a name='gui.PLAYBACK_LOOP_BACKWARD'>gui.PLAYBACK_LOOP_BACKWARD</a></h1><p>loop backward</p><h1><a name='//apple_ref/cpp/Field/gui.PLAYBACK_LOOP_FORWARD' class='dashAnchor'></a><a name='gui.PLAYBACK_LOOP_FORWARD'>gui.PLAYBACK_LOOP_FORWARD</a></h1><p>loop forward</p><h1><a name='//apple_ref/cpp/Field/gui.PLAYBACK_LOOP_PINGPONG' class='dashAnchor'></a><a name='gui.PLAYBACK_LOOP_PINGPONG'>gui.PLAYBACK_LOOP_PINGPONG</a></h1><p>ping pong loop</p><h1><a name='//apple_ref/cpp/Field/gui.PLAYBACK_ONCE_BACKWARD' class='dashAnchor'></a><a name='gui.PLAYBACK_ONCE_BACKWARD'>gui.PLAYBACK_ONCE_BACKWARD</a></h1><p>once backward</p><h1><a name='//apple_ref/cpp/Field/gui.PLAYBACK_ONCE_FORWARD' class='dashAnchor'></a><a name='gui.PLAYBACK_ONCE_FORWARD'>gui.PLAYBACK_ONCE_FORWARD</a></h1><p>once forward</p><h1><a name='//apple_ref/cpp/Field/gui.PLAYBACK_ONCE_PINGPONG' class='dashAnchor'></a><a name='gui.PLAYBACK_ONCE_PINGPONG'>gui.PLAYBACK_ONCE_PINGPONG</a></h1><p>once forward and then backward</p><h1><a name='//apple_ref/cpp/Field/gui.PROP_COLOR' class='dashAnchor'></a><a name='gui.PROP_COLOR'>gui.PROP_COLOR</a></h1><p>color property</p><h1><a name='//apple_ref/cpp/Field/gui.PROP_FILL_ANGLE' class='dashAnchor'></a><a name='gui.PROP_FILL_ANGLE'>gui.PROP_FILL_ANGLE</a></h1><p>fill_angle property</p><h1><a name='//apple_ref/cpp/Field/gui.PROP_INNER_RADIUS' class='dashAnchor'></a><a name='gui.PROP_INNER_RADIUS'>gui.PROP_INNER_RADIUS</a></h1><p>inner_radius property</p><h1><a name='//apple_ref/cpp/Field/gui.PROP_OUTLINE' class='dashAnchor'></a><a name='gui.PROP_OUTLINE'>gui.PROP_OUTLINE</a></h1><p>outline color property</p><h1><a name='//apple_ref/cpp/Field/gui.PROP_POSITION' class='dashAnchor'></a><a name='gui.PROP_POSITION'>gui.PROP_POSITION</a></h1><p>position property</p><h1><a name='//apple_ref/cpp/Field/gui.PROP_ROTATION' class='dashAnchor'></a><a name='gui.PROP_ROTATION'>gui.PROP_ROTATION</a></h1><p>rotation property</p><h1><a name='//apple_ref/cpp/Field/gui.PROP_SCALE' class='dashAnchor'></a><a name='gui.PROP_SCALE'>gui.PROP_SCALE</a></h1><p>scale property</p><h1><a name='//apple_ref/cpp/Field/gui.PROP_SHADOW' class='dashAnchor'></a><a name='gui.PROP_SHADOW'>gui.PROP_SHADOW</a></h1><p>shadow color property</p><h1><a name='//apple_ref/cpp/Field/gui.PROP_SIZE' class='dashAnchor'></a><a name='gui.PROP_SIZE'>gui.PROP_SIZE</a></h1><p>size property</p><h1><a name='//apple_ref/cpp/Field/gui.PROP_SLICE9' class='dashAnchor'></a><a name='gui.PROP_SLICE9'>gui.PROP_SLICE9</a></h1><p>slice9 property</p><h1><a name='//apple_ref/cpp/Function/gui.animate' class='dashAnchor'></a><a name='gui.animate'>gui.animate()</a></h1><p>animates a node property</p><p><p>
This starts an animation of a node property according to the specified parameters. If the node property is already being
animated, that animation will be canceled and replaced by the new one. Note however that several different node properties
can be animated simultaneously. Use <code>gui.cancel_animation</code> to stop the animation before it has completed.
</p>
<p>
Composite properties of type vector3, vector4 or quaternion also expose their sub-components (x, y, z and w).
You can address the components individually by suffixing the name with a dot '.' and the name of the component.
For instance, "position.x" (the position x coordinate) or "color.w" (the color alpha value).
</p>
<p>
If a <code>complete_function</code> (Lua function) is specified, that function will be called when the animation has completed.
By starting a new animation in that function, several animations can be sequenced together. See the examples for more information.
</p></p><h3>PARAMETERS</h3><p>node - node to animate (node)</p><p>property - property to animate (string|constant)
<ul>
  <li><code>"position"</code></li>
  <li><code>"rotation"</code></li>
  <li><code>"scale"</code></li>
  <li><code>"color"</code></li>
  <li><code>"outline"</code></li>
  <li><code>"shadow"</code></li>
  <li><code>"size"</code></li>
  <li><code>"fill_angle"</code> (pie nodes)</li>
  <li><code>"inner_radius"</code> (pie nodes)</li>
  <li><code>"slice9"</code> (slice9 nodes)</li>
</ul>
The following property constants are also defined equalling the corresponding property string names.
<ul>
  <li><code>gui.PROP_POSITION</code></li>
  <li><code>gui.PROP_ROTATION</code></li>
  <li><code>gui.PROP_SCALE</code></li>
  <li><code>gui.PROP_COLOR</code></li>
  <li><code>gui.PROP_OUTLINE</code></li>
  <li><code>gui.PROP_SHADOW</code></li>
  <li><code>gui.PROP_SIZE</code></li>
  <li><code>gui.PROP_FILL_ANGLE</code></li>
  <li><code>gui.PROP_INNER_RADIUS</code></li>
  <li><code>gui.PROP_SLICE9</code></li>
</ul>
<p>

</p></p><p>to - target property value (vector3|vector4)</p><p>easing - easing to use during animation. Either specify one of the gui.EASING_* constants or provide a vmath.vector with a custom curve. (constant|vector)</p><p>duration - duration of the animation (number)</p><p>[delay] - delay before the animation starts (number)</p><p>[complete_function] - function to call when the animation has completed (function)</p><p>[playback] - playback mode (constant)
<ul>
  <li><code>gui.PLAYBACK_ONCE_FORWARD</code></li>
  <li><code>gui.PLAYBACK_ONCE_BACKWARD</code></li>
  <li><code>gui.PLAYBACK_ONCE_PINGPONG</code></li>
  <li><code>gui.PLAYBACK_LOOP_FORWARD</code></li>
  <li><code>gui.PLAYBACK_LOOP_BACKWARD</code></li>
  <li><code>gui.PLAYBACK_LOOP_PINGPONG</code></li>
</ul></p><h3>EXAMPLES</h3><p><p>
How to start a simple color animation, where the node fades in to white during 0.5 seconds:
<pre>
gui.set_color(node, vmath.vector4(0, 0, 0, 0)) -- node is fully transparent
gui.animate(node, gui.PROP_COLOR, vmath.vector4(1, 1, 1, 1), gui.EASING_INOUTQUAD, 0.5) -- start animation
</pre>
</p>
<p>
How to start a sequenced animation where the node fades in to white during 0.5 seconds, stays visible for 2 seconds and then fades out:
</p>
<pre>
local function on_animation_done(self, node)
    -- fade out node, but wait 2 seconds before the animation starts
    gui.animate(node, gui.PROP_COLOR, vmath.vector4(0, 0, 0, 0), gui.EASING_OUTQUAD, 0.5, 2.0)
end

function init(self)
    -- fetch the node we want to animate
    local my_node = gui.get_node("my_node")
    -- node is initially set to fully transparent
    gui.set_color(my_node, vmath.vector4(0, 0, 0, 0))
    -- animate the node immediately and call on_animation_done when the animation has completed
    gui.animate(my_node, gui.PROP_COLOR, vmath.vector4(1, 1, 1, 1), gui.EASING_INOUTQUAD, 0.5, 0.0, on_animation_done)
end
</pre>
<p>How to animate a node's y position using a crazy custom easing curve:</p>
<pre>
function init(self)
    local values = { 0, 0, 0, 0, 0, 0, 0, 0,
                     1, 1, 1, 1, 1, 1, 1, 1,
                     0, 0, 0, 0, 0, 0, 0, 0,
                     1, 1, 1, 1, 1, 1, 1, 1,
                     0, 0, 0, 0, 0, 0, 0, 0,
                     1, 1, 1, 1, 1, 1, 1, 1,
                     0, 0, 0, 0, 0, 0, 0, 0,
                     1, 1, 1, 1, 1, 1, 1, 1 }
    local vec = vmath.vector(values)
    local node = gui.get_node("box")
    gui.animate(node, "position.y", 100, vec, 4.0, 0, nil, gui.PLAYBACK_LOOP_PINGPONG)
end
</pre></p><h1><a name='//apple_ref/cpp/Function/gui.cancel_animation' class='dashAnchor'></a><a name='gui.cancel_animation'>gui.cancel_animation()</a></h1><p>cancels an ongoing animation</p><p>If an animation of the specified node is currently running (started by <code>gui.animate</code>), it will immediately be canceled.</p><h3>PARAMETERS</h3><p>node - node that should have its animation canceled (node)</p><p>property - property for which the animation should be canceled (string|constant)
<ul>
  <li><code>"position"</code></li>
  <li><code>"rotation"</code></li>
  <li><code>"scale"</code></li>
  <li><code>"color"</code></li>
  <li><code>"outline"</code></li>
  <li><code>"shadow"</code></li>
  <li><code>"size"</code></li>
  <li><code>"fill_angle"</code> (pie nodes)</li>
  <li><code>"inner_radius"</code> (pie nodes)</li>
  <li><code>"slice9"</code> (slice9 nodes)</li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.cancel_flipbook' class='dashAnchor'></a><a name='gui.cancel_flipbook'>gui.cancel_flipbook()</a></h1><p>cancel a node flipbook animation</p><p>Cancels any running flipbook animation on the specified node.</p><h3>PARAMETERS</h3><p>node - node cancel flipbook animation for (node)</p><h3>EXAMPLES</h3><p><pre>
local node = gui.get_node("anim_node")
gui.cancel_flipbook(node)
</pre></p><h1><a name='//apple_ref/cpp/Function/gui.clone' class='dashAnchor'></a><a name='gui.clone'>gui.clone()</a></h1><p>clone a node</p><p>This does not include its children. Use gui.clone_tree for that purpose.</p><h3>PARAMETERS</h3><p>node - node to clone (node)</p><h3>RETURN</h3><p>the cloned node (node)</p><h1><a name='//apple_ref/cpp/Function/gui.clone_tree' class='dashAnchor'></a><a name='gui.clone_tree'>gui.clone_tree()</a></h1><p>clone a node including its children</p><p>Use gui.clone to clone a node excluding its children.</p><h3>PARAMETERS</h3><p>node - root node to clone (node)</p><h3>RETURN</h3><p>a table mapping node ids to the corresponding cloned nodes (table)</p><h1><a name='//apple_ref/cpp/Function/gui.delete_node' class='dashAnchor'></a><a name='gui.delete_node'>gui.delete_node()</a></h1><p>deletes a node</p><h3>PARAMETERS</h3><p>node - node to delete (node)</p><h1><a name='//apple_ref/cpp/Function/gui.delete_texture' class='dashAnchor'></a><a name='gui.delete_texture'>gui.delete_texture()</a></h1><p>delete texture</p><p>Delete a dynamically created texture.</p><h3>PARAMETERS</h3><p>texture - texture id (string|hash)</p><h3>EXAMPLES</h3><p><pre>
function init(self)
     -- Create a texture.
     if gui.new_texture("temp_tx", 10, 10, "rgb", string.rep('\0', 10 * 10 * 3)) then
         -- Do something with the texture.
         ...

         -- Delete the texture
         gui.delete_texture("temp_tx")
     end
end
</pre></p><h1><a name='//apple_ref/cpp/Function/gui.get_adjust_mode' class='dashAnchor'></a><a name='gui.get_adjust_mode'>gui.get_adjust_mode()</a></h1><p>gets the node adjust mode</p><p>Adjust mode defines how the node will adjust itself to a screen resolution which differs from the project settings.</p><h3>PARAMETERS</h3><p>node - node from which to get the adjust mode (node)</p><h3>RETURN</h3><p>node adjust mode (constant)
<ul>
  <li><code>gui.ADJUST_FIT</code></li>
  <li><code>gui.ADJUST_ZOOM</code></li>
  <li><code>gui.ADJUST_STRETCH</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.get_blend_mode' class='dashAnchor'></a><a name='gui.get_blend_mode'>gui.get_blend_mode()</a></h1><p>gets the node blend mode</p><p>Blend mode defines how the node will be blended with the background.</p><h3>PARAMETERS</h3><p>node - node from which to get the blend mode (node)</p><h3>RETURN</h3><p>node blend mode (constant)
<ul>
  <li><code>gui.BLEND_ALPHA</code></li>
  <li><code>gui.BLEND_ADD</code></li>
  <li><code>gui.BLEND_ADD_ALPHA</code></li>
  <li><code>gui.BLEND_MULT</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.get_clipping_inverted' class='dashAnchor'></a><a name='gui.get_clipping_inverted'>gui.get_clipping_inverted()</a></h1><p>gets node clipping inverted state</p><p>If node is set as an inverted clipping node, it will clip anything inside as opposed to outside.</p><h3>PARAMETERS</h3><p>node - node from which to get the clipping inverted state (node)</p><h3>RETURN</h3><p>true or false</p><h1><a name='//apple_ref/cpp/Function/gui.get_clipping_mode' class='dashAnchor'></a><a name='gui.get_clipping_mode'>gui.get_clipping_mode()</a></h1><p>gets the node clipping mode</p><p>Clipping mode defines how the node will clipping it's children nodes</p><h3>PARAMETERS</h3><p>node - node from which to get the clipping mode (node)</p><h3>RETURN</h3><p>node clipping mode (constant)
<ul>
  <li><code>gui.CLIPPING_MODE_NONE</code></li>
  <li><code>gui.CLIPPING_MODE_STENCIL</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.get_clipping_visible' class='dashAnchor'></a><a name='gui.get_clipping_visible'>gui.get_clipping_visible()</a></h1><p>gets node clipping visibility state</p><p>If node is set as visible clipping node, it will be shown as well as clipping. Otherwise, it will only clip but not show visually.</p><h3>PARAMETERS</h3><p>node - node from which to get the clipping visibility state (node)</p><h3>RETURN</h3><p>true or false</p><h1><a name='//apple_ref/cpp/Function/gui.get_color' class='dashAnchor'></a><a name='gui.get_color'>gui.get_color()</a></h1><p>gets the node color</p><h3>PARAMETERS</h3><p>node - node to get the color from (node)</p><h3>RETURN</h3><p>node color (vector4)</p><h1><a name='//apple_ref/cpp/Function/gui.get_fill_angle' class='dashAnchor'></a><a name='gui.get_fill_angle'>gui.get_fill_angle()</a></h1><p>gets the angle for the filled pie sector</p><h3>PARAMETERS</h3><p>node - node from which to get the fill angle (node)</p><h3>RETURN</h3><p>sector angle</p><h1><a name='//apple_ref/cpp/Function/gui.get_flipbook' class='dashAnchor'></a><a name='gui.get_flipbook'>gui.get_flipbook()</a></h1><p>gets the node flipbook animation</p><p>Get node flipbook animation.</p><h3>PARAMETERS</h3><p>node - node to get flipbook animation from (node)</p><h3>RETURN</h3><p>animation animation id (hash)</p><h1><a name='//apple_ref/cpp/Function/gui.get_font' class='dashAnchor'></a><a name='gui.get_font'>gui.get_font()</a></h1><p>gets the node font</p><p>This is only useful for text nodes. The font must be mapped to the gui scene in the gui editor.</p><h3>PARAMETERS</h3><p>node - node from which to get the font (node)</p><h3>RETURN</h3><p>font id (hash)</p><h1><a name='//apple_ref/cpp/Function/gui.get_height' class='dashAnchor'></a><a name='gui.get_height'>gui.get_height()</a></h1><p>gets the scene height</p><h3>RETURN</h3><p>scene height (number)</p><h1><a name='//apple_ref/cpp/Function/gui.get_id' class='dashAnchor'></a><a name='gui.get_id'>gui.get_id()</a></h1><p>gets the id of the specified node</p><h3>PARAMETERS</h3><p>node - node to retrieve the id from (node)</p><h3>RETURN</h3><p>id of the node (hash)</p><h1><a name='//apple_ref/cpp/Function/gui.get_index' class='dashAnchor'></a><a name='gui.get_index'>gui.get_index()</a></h1><p>gets the index of the specified node</p><p>The index defines the order in which a node appear in a gui scene.
Higher index means the node is drawn above lower indexed nodes.</p><h3>PARAMETERS</h3><p>node - node to retrieve the id from (node)</p><h3>RETURN</h3><p>id of the node (hash)</p><h1><a name='//apple_ref/cpp/Function/gui.get_inner_radius' class='dashAnchor'></a><a name='gui.get_inner_radius'>gui.get_inner_radius()</a></h1><p>gets the pie inner radius (defined along the x dimension)</p><h3>PARAMETERS</h3><p>node - node from where to get the inner radius (node)</p><h3>RETURN</h3><p>inner radius</p><h1><a name='//apple_ref/cpp/Function/gui.get_layer' class='dashAnchor'></a><a name='gui.get_layer'>gui.get_layer()</a></h1><p>gets the node layer</p><p>The layer must be mapped to the gui scene in the gui editor.</p><h3>PARAMETERS</h3><p>node - node from which to get the layer (node)</p><h3>RETURN</h3><p>layer id (hash)</p><h1><a name='//apple_ref/cpp/Function/gui.get_layout' class='dashAnchor'></a><a name='gui.get_layout'>gui.get_layout()</a></h1><p>gets the scene current layout</p><h3>RETURN</h3><p>layout id (hash)</p><h1><a name='//apple_ref/cpp/Function/gui.get_leading' class='dashAnchor'></a><a name='gui.get_leading'>gui.get_leading()</a></h1><p>gets the leading of the text node</p><h3>PARAMETERS</h3><p>node - node from where to get the leading (node)</p><h3>RETURN</h3><p>scaling number (default=1) (number)</p><h1><a name='//apple_ref/cpp/Function/gui.get_line_break' class='dashAnchor'></a><a name='gui.get_line_break'>gui.get_line_break()</a></h1><p>get line-break mode</p><p>This is only useful for text nodes.</p><h3>PARAMETERS</h3><p>node - node from which to get the line-break for (node)</p><h3>RETURN</h3><p>line-break (bool)</p><h1><a name='//apple_ref/cpp/Function/gui.get_node' class='dashAnchor'></a><a name='gui.get_node'>gui.get_node()</a></h1><p>gets the node with the specified id</p><h3>PARAMETERS</h3><p>id - id of the node to retrieve (string|hash)</p><h3>RETURN</h3><p>node instance (node)</p><h1><a name='//apple_ref/cpp/Function/gui.get_outer_bounds' class='dashAnchor'></a><a name='gui.get_outer_bounds'>gui.get_outer_bounds()</a></h1><p>gets the pie outer bounds mode</p><h3>PARAMETERS</h3><p>node - node from where to get the outer bounds mode (node)</p><h3>RETURN</h3><p>BOUNDS_RECTANGLE or BOUNDS_ELLIPSE</p><h1><a name='//apple_ref/cpp/Function/gui.get_outline' class='dashAnchor'></a><a name='gui.get_outline'>gui.get_outline()</a></h1><p>gets the node outline color</p><h3>PARAMETERS</h3><p>node - node to get the outline color from (node)</p><h3>RETURN</h3><p>node outline color (vector4)</p><h1><a name='//apple_ref/cpp/Function/gui.get_parent' class='dashAnchor'></a><a name='gui.get_parent'>gui.get_parent()</a></h1><p>gets the parent of the specified node</p><p>If the specified node does not have a parent, nil is returned.</p><h3>PARAMETERS</h3><p>node - the node from which to retrieve its parent (node)</p><h3>RETURN</h3><p>parent instance (node)</p><h1><a name='//apple_ref/cpp/Function/gui.get_perimeter_vertices' class='dashAnchor'></a><a name='gui.get_perimeter_vertices'>gui.get_perimeter_vertices()</a></h1><p>gets the number of generarted vertices around the perimeter</p><h3>RETURN</h3><p>vertex count (number)</p><h1><a name='//apple_ref/cpp/Function/gui.get_pivot' class='dashAnchor'></a><a name='gui.get_pivot'>gui.get_pivot()</a></h1><p>gets the pivot of a node</p><p>The pivot specifies how the node is drawn and rotated from its position.</p><h3>PARAMETERS</h3><p>node - node to get pivot from (node)</p><h3>RETURN</h3><p>pivot constant (constant)
<ul>
  <li><code>gui.PIVOT_CENTER</code></li>
  <li><code>gui.PIVOT_N</code></li>
  <li><code>gui.PIVOT_NE</code></li>
  <li><code>gui.PIVOT_E</code></li>
  <li><code>gui.PIVOT_SE</code></li>
  <li><code>gui.PIVOT_S</code></li>
  <li><code>gui.PIVOT_SW</code></li>
  <li><code>gui.PIVOT_W</code></li>
  <li><code>gui.PIVOT_NW</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.get_position' class='dashAnchor'></a><a name='gui.get_position'>gui.get_position()</a></h1><p>gets the node position</p><h3>PARAMETERS</h3><p>node - node to get the position from (node)</p><h3>RETURN</h3><p>node position (vector3)</p><h1><a name='//apple_ref/cpp/Function/gui.get_rotation' class='dashAnchor'></a><a name='gui.get_rotation'>gui.get_rotation()</a></h1><p>gets the node rotation</p><h3>PARAMETERS</h3><p>node - node to get the rotation from (node)</p><h3>RETURN</h3><p>node rotation (vector3)</p><h1><a name='//apple_ref/cpp/Function/gui.get_scale' class='dashAnchor'></a><a name='gui.get_scale'>gui.get_scale()</a></h1><p>gets the node scale</p><h3>PARAMETERS</h3><p>node - node to get the scale from (node)</p><h3>RETURN</h3><p>node scale (vector3)</p><h1><a name='//apple_ref/cpp/Function/gui.get_screen_position' class='dashAnchor'></a><a name='gui.get_screen_position'>gui.get_screen_position()</a></h1><p>gets the node screen position</p><h3>PARAMETERS</h3><p>node - node to get the screen position from (node)</p><h3>RETURN</h3><p>node screen position (vector3)</p><h1><a name='//apple_ref/cpp/Function/gui.get_shadow' class='dashAnchor'></a><a name='gui.get_shadow'>gui.get_shadow()</a></h1><p>gets the node shadow color</p><h3>PARAMETERS</h3><p>node - node to get the shadow color from (node)</p><h3>RETURN</h3><p>node shadow color (vector4)</p><h1><a name='//apple_ref/cpp/Function/gui.get_size' class='dashAnchor'></a><a name='gui.get_size'>gui.get_size()</a></h1><p>gets the node size</p><h3>PARAMETERS</h3><p>node - node to get the size from (node)</p><h3>RETURN</h3><p>node size (vector3)</p><h1><a name='//apple_ref/cpp/Function/gui.get_size_mode' class='dashAnchor'></a><a name='gui.get_size_mode'>gui.get_size_mode()</a></h1><p>gets the node size mode</p><p>Size mode defines how the node will adjust itself in size according to mode.</p><h3>PARAMETERS</h3><p>node - node from which to get the size mode (node)</p><h3>RETURN</h3><p>node size mode (constant)
<ul>
  <li><code>gui.SIZE_MODE_MANUAL</code></li>
  <li><code>gui.SIZE_MODE_AUTOMATIC</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.get_slice9' class='dashAnchor'></a><a name='gui.get_slice9'>gui.get_slice9()</a></h1><p>get the slice9 values for the node</p><h3>PARAMETERS</h3><p>node - node to manipulate</p><h3>RETURN</h3><p>vector4 with configuration values</p><h1><a name='//apple_ref/cpp/Function/gui.get_text' class='dashAnchor'></a><a name='gui.get_text'>gui.get_text()</a></h1><p>gets the node text</p><p>This is only useful for text nodes.</p><h3>PARAMETERS</h3><p>node - node from which to get the text (node)</p><h3>RETURN</h3><p>text value (string)</p><h1><a name='//apple_ref/cpp/Function/gui.get_text_metrics' class='dashAnchor'></a><a name='gui.get_text_metrics'>gui.get_text_metrics()</a></h1><p>get text metrics</p><p>Get text metrics</p><h3>PARAMETERS</h3><p>font - font id. (hash|string)</p><p>text - text to measure</p><p>width - max-width. use for line-breaks (default=FLT_MAX)</p><p>line_breaks - true to break lines accordingly to width (default=false)</p><p>leading - scale value for line spacing (default=1)</p><p>tracking - scale value for letter spacing (default=0)</p><h3>RETURN</h3><p>a table with the following fields: width, height, max_ascent, max_descent</p><h1><a name='//apple_ref/cpp/Function/gui.get_text_metrics_from_node' class='dashAnchor'></a><a name='gui.get_text_metrics_from_node'>gui.get_text_metrics_from_node()</a></h1><p>get text metrics from node</p><p>Get text metrics</p><h3>PARAMETERS</h3><p>node - text node to measure text from</p><h3>RETURN</h3><p>a table with the following fields: width, height, max_ascent, max_descent</p><h1><a name='//apple_ref/cpp/Function/gui.get_texture' class='dashAnchor'></a><a name='gui.get_texture'>gui.get_texture()</a></h1><p>gets the node texture</p><p>This is currently only useful for box or pie nodes. The texture must be mapped to the gui scene in the gui editor.</p><h3>PARAMETERS</h3><p>node - node to get texture from (node)</p><h3>RETURN</h3><p>texture id (hash)</p><h1><a name='//apple_ref/cpp/Function/gui.get_tracking' class='dashAnchor'></a><a name='gui.get_tracking'>gui.get_tracking()</a></h1><p>gets the tracking of the text node</p><h3>PARAMETERS</h3><p>node - node from where to get the tracking (node)</p><h3>RETURN</h3><p>scaling number (default=0) (number)</p><h1><a name='//apple_ref/cpp/Function/gui.get_width' class='dashAnchor'></a><a name='gui.get_width'>gui.get_width()</a></h1><p>gets the scene width</p><h3>RETURN</h3><p>scene width (number)</p><h1><a name='//apple_ref/cpp/Function/gui.get_xanchor' class='dashAnchor'></a><a name='gui.get_xanchor'>gui.get_xanchor()</a></h1><p>gets the x-anchor of a node</p><p>The x-anchor specifies how the node is moved when the game is run in a different resolution.</p><h3>PARAMETERS</h3><p>node - node to get x-anchor from (node)</p><h3>RETURN</h3><p>anchor anchor constant (constant)
<ul>
  <li><code>gui.ANCHOR_NONE</code></li>
  <li><code>gui.ANCHOR_LEFT</code></li>
  <li><code>gui.ANCHOR_RIGHT</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.get_yanchor' class='dashAnchor'></a><a name='gui.get_yanchor'>gui.get_yanchor()</a></h1><p>gets the y-anchor of a node</p><p>The y-anchor specifies how the node is moved when the game is run in a different resolution.</p><h3>PARAMETERS</h3><p>node - node to get y-anchor from (node)</p><h3>RETURN</h3><p>anchor anchor constant (constant)
<ul>
  <li><code>gui.ANCHOR_NONE</code></li>
  <li><code>gui.ANCHOR_TOP</code></li>
  <li><code>gui.ANCHOR_BOTTOM</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.hide_keyboard' class='dashAnchor'></a><a name='gui.hide_keyboard'>gui.hide_keyboard()</a></h1><p>hide on-display keyboard if available</p><p>Hide the on-display keyboard on the device.</p><h1><a name='//apple_ref/cpp/Function/gui.is_enabled' class='dashAnchor'></a><a name='gui.is_enabled'>gui.is_enabled()</a></h1><p>retrieves if a node is enabled or not</p><p>Disabled nodes are not rendered and animations acting on them are not evaluated.</p><h3>PARAMETERS</h3><p>node - node to query (node)</p><h3>RETURN</h3><p>whether the node is enabled or not (boolean)</p><h1><a name='//apple_ref/cpp/Function/gui.move_above' class='dashAnchor'></a><a name='gui.move_above'>gui.move_above()</a></h1><p>moves the first node above the second</p><p>Supply nil as the second argument to move the first node to the top.</p><h3>PARAMETERS</h3><p>node - to move (node)</p><p>ref - reference node above which the first node should be moved (node)</p><h1><a name='//apple_ref/cpp/Function/gui.move_below' class='dashAnchor'></a><a name='gui.move_below'>gui.move_below()</a></h1><p>moves the first node below the second</p><p>Supply nil as the second argument to move the first node to the bottom.</p><h3>PARAMETERS</h3><p>node - to move (node)</p><p>ref - reference node below which the first node should be moved (node)</p><h1><a name='//apple_ref/cpp/Function/gui.new_box_node' class='dashAnchor'></a><a name='gui.new_box_node'>gui.new_box_node()</a></h1><p>creates a new box node</p><h3>PARAMETERS</h3><p>pos - node position (vector3|vector4)</p><p>size - node size (vector3)</p><h3>RETURN</h3><p>new box node (node)</p><h1><a name='//apple_ref/cpp/Function/gui.new_pie_node' class='dashAnchor'></a><a name='gui.new_pie_node'>gui.new_pie_node()</a></h1><p>creates a new pie node</p><h3>PARAMETERS</h3><p>pos - node position (vector3|vector4)</p><p>size - node size (vector3)</p><h3>RETURN</h3><p>new box node (node)</p><h1><a name='//apple_ref/cpp/Function/gui.new_text_node' class='dashAnchor'></a><a name='gui.new_text_node'>gui.new_text_node()</a></h1><p>creates a new text node</p><h3>PARAMETERS</h3><p>pos - node position (vector3|vector4)</p><p>text - node text (string)</p><h3>RETURN</h3><p>new text node (node)</p><h1><a name='//apple_ref/cpp/Function/gui.new_texture' class='dashAnchor'></a><a name='gui.new_texture'>gui.new_texture()</a></h1><p>create new texture</p><p>Dynamically create a new texture.</p><h3>PARAMETERS</h3><p>texture - texture id (string|hash)</p><p>width - texture width (number)</p><p>height - texture height (number)</p><p>type - texture type (string|constant)
<ul>
  <li><code>"rgb"</code> - RGB</li>
  <li><code>"rgba"</code> - RGBA</li>
  <li><code>"l"</code> - LUMINANCE</li>
</ul></p><p>buffer - texture data (string)</p><h3>RETURN</h3><p>texture creation was successful (boolean)</p><h3>EXAMPLES</h3><p><pre>
function init(self)
     local w = 200
     local h = 300

     -- A nice orange. String with the RGB values.
     local orange = string.char(0xff) .. string.char(0x80) .. string.char(0x10)

     -- Create the texture. Repeat the color string for each pixel.
     if gui.new_texture("orange_tx", w, h, "rgb", string.rep(orange, w * h)) then
         -- Create a box node and apply the texture to it.
         local n = gui.new_box_node(vmath.vector3(200, 200, 0), vmath.vector3(w, h, 0))
         gui.set_texture(n, "orange_tx")
     else
         -- Could not create texture...
         ...
     end
end
</pre></p><h1><a name='//apple_ref/cpp/Function/gui.pick_node' class='dashAnchor'></a><a name='gui.pick_node'>gui.pick_node()</a></h1><p>determines if the node is pickable by the supplied coordinates</p><h3>PARAMETERS</h3><p>node - node to be tested for picking (node)</p><p>x - x-coordinate (see <a href="#on_input">on_input</a> )</p><p>y - y-coordinate (see <a href="#on_input">on_input</a> )</p><h3>RETURN</h3><p>pick result (boolean)</p><h1><a name='//apple_ref/cpp/Function/gui.play_flipbook' class='dashAnchor'></a><a name='gui.play_flipbook'>gui.play_flipbook()</a></h1><p>play node flipbook animation</p><p>Play flipbook animation on a box or pie node. The current node texture must contain the animation.</p><h3>PARAMETERS</h3><p>node - node to set animation for (node)</p><p>animation - animation id (string|hash)</p><p>[complete_function] - function to call when the animation has completed (function)</p><h1><a name='//apple_ref/cpp/Function/gui.reset_keyboard' class='dashAnchor'></a><a name='gui.reset_keyboard'>gui.reset_keyboard()</a></h1><p>reset on-display keyboard if available</p><p>Reset input context of keyboard. This will clear marked text.</p><h1><a name='//apple_ref/cpp/Function/gui.reset_nodes' class='dashAnchor'></a><a name='gui.reset_nodes'>gui.reset_nodes()</a></h1><p>reset all nodes to initial state</p><p>reset only applies to static node loaded from the scene. Nodes created dynamically from script are not affected</p><h1><a name='//apple_ref/cpp/Function/gui.set_adjust_mode' class='dashAnchor'></a><a name='gui.set_adjust_mode'>gui.set_adjust_mode()</a></h1><p>sets node adjust mode</p><p>Adjust mode defines how the node will adjust itself to a screen resolution which differs from the project settings.</p><h3>PARAMETERS</h3><p>node - node to set adjust mode for (node)</p><p>adjust_mode - adjust mode to set (constant)
<ul>
  <li><code>gui.ADJUST_FIT</code></li>
  <li><code>gui.ADJUST_ZOOM</code></li>
  <li><code>gui.ADJUST_STRETCH</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.set_blend_mode' class='dashAnchor'></a><a name='gui.set_blend_mode'>gui.set_blend_mode()</a></h1><p>sets node blend mode</p><p>Blend mode defines how the node will be blended with the background.</p><h3>PARAMETERS</h3><p>node - node to set blend mode for (node)</p><p>blend_mode - blend mode to set (constant)
<ul>
  <li><code>gui.BLEND_ALPHA</code></li>
  <li><code>gui.BLEND_ADD</code></li>
  <li><code>gui.BLEND_ADD_ALPHA</code></li>
  <li><code>gui.BLEND_MULT</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.set_clipping_inverted' class='dashAnchor'></a><a name='gui.set_clipping_inverted'>gui.set_clipping_inverted()</a></h1><p>sets node clipping visibility</p><p>If node is set as an inverted clipping node, it will clip anything inside as opposed to outside.</p><h3>PARAMETERS</h3><p>node - node to set clipping inverted state for (node)</p><p>visible - true or false</p><h1><a name='//apple_ref/cpp/Function/gui.set_clipping_mode' class='dashAnchor'></a><a name='gui.set_clipping_mode'>gui.set_clipping_mode()</a></h1><p>sets node clipping mode state</p><p>Clipping mode defines how the node will clipping it's children nodes</p><h3>PARAMETERS</h3><p>node - node to set clipping mode for (node)</p><p>clipping_mode - clipping mode to set (constant)
<ul>
  <li><code>gui.CLIPPING_MODE_NONE</code></li>
  <li><code>gui.CLIPPING_MODE_STENCIL</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.set_clipping_visible' class='dashAnchor'></a><a name='gui.set_clipping_visible'>gui.set_clipping_visible()</a></h1><p>sets node clipping visibility</p><p>If node is set as an visible clipping node, it will be shown as well as clipping. Otherwise, it will only clip but not show visually.</p><h3>PARAMETERS</h3><p>node - node to set clipping visibility for (node)</p><p>visible - true or false</p><h1><a name='//apple_ref/cpp/Function/gui.set_color' class='dashAnchor'></a><a name='gui.set_color'>gui.set_color()</a></h1><p>sets the node color</p><h3>PARAMETERS</h3><p>node - node to set the color for (node)</p><p>color - new color (vector3|vector4)</p><h1><a name='//apple_ref/cpp/Function/gui.set_enabled' class='dashAnchor'></a><a name='gui.set_enabled'>gui.set_enabled()</a></h1><p>enables/disables a node</p><p>Disabled nodes are not rendered and animations acting on them are not evaluated.</p><h3>PARAMETERS</h3><p>node - node to be enabled/disabled (node)</p><p>enabled - whether the node should be enabled or not (boolean)</p><h1><a name='//apple_ref/cpp/Function/gui.set_fill_angle' class='dashAnchor'></a><a name='gui.set_fill_angle'>gui.set_fill_angle()</a></h1><p>sets the angle for the filled pie sector</p><h3>PARAMETERS</h3><p>node - node to set the fill angle for (node)</p><p>sector - angle</p><h1><a name='//apple_ref/cpp/Function/gui.set_font' class='dashAnchor'></a><a name='gui.set_font'>gui.set_font()</a></h1><p>sets the node font</p><p>This is only useful for text nodes. The font must be mapped to the gui scene in the gui editor.</p><h3>PARAMETERS</h3><p>node - node for which to set the font (node)</p><p>font - font id (string|hash)</p><h1><a name='//apple_ref/cpp/Function/gui.set_id' class='dashAnchor'></a><a name='gui.set_id'>gui.set_id()</a></h1><p>sets the id of the specified node</p><h3>PARAMETERS</h3><p>node - node to set the id for (node)</p><p>id - id to set (string|hash)</p><h1><a name='//apple_ref/cpp/Function/gui.set_inner_radius' class='dashAnchor'></a><a name='gui.set_inner_radius'>gui.set_inner_radius()</a></h1><p>sets the pie inner radius (defined along the x dimension)</p><h3>PARAMETERS</h3><p>node - node to set the inner radius for (node)</p><p>inner - radius</p><h1><a name='//apple_ref/cpp/Function/gui.set_layer' class='dashAnchor'></a><a name='gui.set_layer'>gui.set_layer()</a></h1><p>sets the node layer</p><p>The layer must be mapped to the gui scene in the gui editor.</p><h3>PARAMETERS</h3><p>node - node for which to set the layer (node)</p><p>layer - layer id (string|hash)</p><h1><a name='//apple_ref/cpp/Function/gui.set_leading' class='dashAnchor'></a><a name='gui.set_leading'>gui.set_leading()</a></h1><p>sets the leading of the text node</p><h3>PARAMETERS</h3><p>node - node for which to set the leading (node)</p><p>leading - a scaling number for the line spacing (default=1) (number)</p><h1><a name='//apple_ref/cpp/Function/gui.set_line_break' class='dashAnchor'></a><a name='gui.set_line_break'>gui.set_line_break()</a></h1><p>set line-break mode</p><p>This is only useful for text nodes.</p><h3>PARAMETERS</h3><p>node - node to set line-break for (node)</p><p>text - text to set (string)</p><h1><a name='//apple_ref/cpp/Function/gui.set_outer_bounds' class='dashAnchor'></a><a name='gui.set_outer_bounds'>gui.set_outer_bounds()</a></h1><p>sets the pie outer bounds mode</p><h3>PARAMETERS</h3><p>node - node for which to set the outer bounds mode (node)</p><p>BOUNDS_RECTANGLE - or BOUNDS_ELLIPSE</p><h1><a name='//apple_ref/cpp/Function/gui.set_outline' class='dashAnchor'></a><a name='gui.set_outline'>gui.set_outline()</a></h1><p>sets the node outline color</p><h3>PARAMETERS</h3><p>node - node to set the outline color for (node)</p><p>color - new outline color (vector3|vector4)</p><h1><a name='//apple_ref/cpp/Function/gui.set_parent' class='dashAnchor'></a><a name='gui.set_parent'>gui.set_parent()</a></h1><p>set the parent of the node</p><h3>PARAMETERS</h3><p>node - node for which to set its parent (node)</p><p>parent - parent node to set (node)</p><h1><a name='//apple_ref/cpp/Function/gui.set_perimeter_vertices' class='dashAnchor'></a><a name='gui.set_perimeter_vertices'>gui.set_perimeter_vertices()</a></h1><p>sets the number of generarted vertices around the perimeter</p><h3>PARAMETERS</h3><p>vertex - count (number)</p><h1><a name='//apple_ref/cpp/Function/gui.set_pivot' class='dashAnchor'></a><a name='gui.set_pivot'>gui.set_pivot()</a></h1><p>sets the pivot of a node</p><p>The pivot specifies how the node is drawn and rotated from its position.</p><h3>PARAMETERS</h3><p>node - node to set pivot for (node)</p><p>pivot - pivot constant (constant)
<ul>
  <li><code>gui.PIVOT_CENTER</code></li>
  <li><code>gui.PIVOT_N</code></li>
  <li><code>gui.PIVOT_NE</code></li>
  <li><code>gui.PIVOT_E</code></li>
  <li><code>gui.PIVOT_SE</code></li>
  <li><code>gui.PIVOT_S</code></li>
  <li><code>gui.PIVOT_SW</code></li>
  <li><code>gui.PIVOT_W</code></li>
  <li><code>gui.PIVOT_NW</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.set_position' class='dashAnchor'></a><a name='gui.set_position'>gui.set_position()</a></h1><p>sets the node position</p><h3>PARAMETERS</h3><p>node - node to set the position for (node)</p><p>position - new position (vector3|vector4)</p><h1><a name='//apple_ref/cpp/Function/gui.set_render_order' class='dashAnchor'></a><a name='gui.set_render_order'>gui.set_render_order()</a></h1><p>set the render ordering for the current GUI scene</p><p>Set the order number for the current GUI scene. The number dictates the sorting of the "gui" render predicate, in other words
in which order the scene will be rendered in relation to other currently rendered GUI scenes.

The number must be in the range 0 to 7.</p><h3>PARAMETERS</h3><p>order - rendering order (number)</p><h1><a name='//apple_ref/cpp/Function/gui.set_rotation' class='dashAnchor'></a><a name='gui.set_rotation'>gui.set_rotation()</a></h1><p>sets the node rotation</p><h3>PARAMETERS</h3><p>node - node to set the rotation for (node)</p><p>rotation - new rotation (vector3|vector4)</p><h1><a name='//apple_ref/cpp/Function/gui.set_scale' class='dashAnchor'></a><a name='gui.set_scale'>gui.set_scale()</a></h1><p>sets the node scale</p><h3>PARAMETERS</h3><p>node - node to set the scale for (node)</p><p>scale - new scale (vector3|vector4)</p><h1><a name='//apple_ref/cpp/Function/gui.set_shadow' class='dashAnchor'></a><a name='gui.set_shadow'>gui.set_shadow()</a></h1><p>sets the node shadow color</p><h3>PARAMETERS</h3><p>node - node to set the shadow color for (node)</p><p>color - new shadow color (vector3|vector4)</p><h1><a name='//apple_ref/cpp/Function/gui.set_size' class='dashAnchor'></a><a name='gui.set_size'>gui.set_size()</a></h1><p>sets the node size</p><p><b>NOTE!</b> You can only set size on nodes with size mode set to SIZE_MODE_MANUAL</p><h3>PARAMETERS</h3><p>node - node to set the size for (node)</p><p>size - new size (vector3|vector4)</p><h1><a name='//apple_ref/cpp/Function/gui.set_size_mode' class='dashAnchor'></a><a name='gui.set_size_mode'>gui.set_size_mode()</a></h1><p>sets node size mode</p><p>Size mode defines how the node will adjust itself in size according to mode.</p><h3>PARAMETERS</h3><p>node - node to set size mode for (node)</p><p>size_mode - size mode to set (constant)
<ul>
  <li><code>gui.SIZE_MODE_MANUAL</code></li>
  <li><code>gui.SIZE_MODE_AUTOMATIC</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.set_slice9' class='dashAnchor'></a><a name='gui.set_slice9'>gui.set_slice9()</a></h1><p>set the slice9 configuration for the node</p><h3>PARAMETERS</h3><p>node - node to manipulate</p><p>params - new value (vector4)</p><h1><a name='//apple_ref/cpp/Function/gui.set_text' class='dashAnchor'></a><a name='gui.set_text'>gui.set_text()</a></h1><p>sets the node text</p><p>This is only useful for text nodes.</p><h3>PARAMETERS</h3><p>node - node to set text for (node)</p><p>text - text to set (string)</p><h1><a name='//apple_ref/cpp/Function/gui.set_texture' class='dashAnchor'></a><a name='gui.set_texture'>gui.set_texture()</a></h1><p>sets the node texture</p><p>Set the texture on a box or pie node. The texture must be mapped to the gui scene in the gui editor.</p><h3>PARAMETERS</h3><p>node - node to set texture for (node)</p><p>texture - texture id (string|hash)</p><h1><a name='//apple_ref/cpp/Function/gui.set_texture_data' class='dashAnchor'></a><a name='gui.set_texture_data'>gui.set_texture_data()</a></h1><p>set the buffer data for a texture</p><p>Set the texture buffer data for a dynamically created texture.</p><h3>PARAMETERS</h3><p>texture - texture id (string|hash)</p><p>width - texture width (number)</p><p>height - texture height (number)</p><p>type - texture type (string|constant)
<ul>
  <li><code>"rgb"</code> - RGB</li>
  <li><code>"rgba"</code> - RGBA</li>
  <li><code>"l"</code> - LUMINANCE</li>
</ul></p><p>buffer - texture data (string)</p><h3>RETURN</h3><p>setting the data was successful (boolean)</p><h3>EXAMPLES</h3><p><pre>
function init(self)
     local w = 200
     local h = 300

     -- Create a dynamic texture, all white.
     if gui.new_texture("dynamic_tx", w, h, "rgb", string.rep(string.char(0xff), w * h * 3)) then
         -- Create a box node and apply the texture to it.
         local n = gui.new_box_node(vmath.vector3(200, 200, 0), vmath.vector3(w, h, 0))
         gui.set_texture(n, "dynamic_tx")

         ...

         -- Change the data in the texture to a nice orange.
         local orange = string.char(0xff) .. string.char(0x80) .. string.char(0x10)
         if gui.set_texture_data("dynamic_tx", w, h, "rgb", string.rep(orange, w * h)) then
             -- Go on and to more stuff
             ...
         end
     else
         -- Something went wrong
         ...
     end
end
</pre></p><h1><a name='//apple_ref/cpp/Function/gui.set_tracking' class='dashAnchor'></a><a name='gui.set_tracking'>gui.set_tracking()</a></h1><p>sets the tracking of the text node</p><h3>PARAMETERS</h3><p>node - node for which to set the tracking (node)</p><p>tracking - a scaling number for the letter spacing (default=0) (number)</p><h1><a name='//apple_ref/cpp/Function/gui.set_xanchor' class='dashAnchor'></a><a name='gui.set_xanchor'>gui.set_xanchor()</a></h1><p>sets the x-anchor of a node</p><p>The x-anchor specifies how the node is moved when the game is run in a different resolution.</p><h3>PARAMETERS</h3><p>node - node to set x-anchor for (node)</p><p>anchor - anchor constant (constant)
<ul>
  <li><code>gui.ANCHOR_NONE</code></li>
  <li><code>gui.ANCHOR_LEFT</code></li>
  <li><code>gui.ANCHOR_RIGHT</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.set_yanchor' class='dashAnchor'></a><a name='gui.set_yanchor'>gui.set_yanchor()</a></h1><p>sets the y-anchor of a node</p><p>The y-anchor specifies how the node is moved when the game is run in a different resolution.</p><h3>PARAMETERS</h3><p>node - node to set y-anchor for (node)</p><p>anchor - anchor constant (constant)
<ul>
  <li><code>gui.ANCHOR_NONE</code></li>
  <li><code>gui.ANCHOR_TOP</code></li>
  <li><code>gui.ANCHOR_BOTTOM</code></li>
</ul></p><h1><a name='//apple_ref/cpp/Function/gui.show_keyboard' class='dashAnchor'></a><a name='gui.show_keyboard'>gui.show_keyboard()</a></h1><p>display on-display keyboard if available</p><p>The specified type of keyboard is displayed, if it is available on
the device.</p><h3>PARAMETERS</h3><p>type - keyboard type (constant)
<ul>
  <li><code>gui.KEYBOARD_TYPE_DEFAULT</code></li>
  <li><code>gui.KEYBOARD_TYPE_EMAIL</code></li>
  <li><code>gui.KEYBOARD_TYPE_NUMBER_PAD</code></li>
  <li><code>gui.KEYBOARD_TYPE_PASSWORD</code></li>
</ul></p><p>autoclose - close keyboard automatically when clicking outside</p><h1><a name='//apple_ref/cpp/Function/init' class='dashAnchor'></a><a name='init'>init()</a></h1><p>called when a gui component is initialized</p><p>This is a callback-function, which is called by the engine when a gui component is initialized. It can be used
to set the initial state of the script and gui scene.</p><h3>PARAMETERS</h3><p>self - reference to the script state to be used for storing data (script_ref)</p><h3>EXAMPLES</h3><p><pre>
function init(self)
    -- set up useful data
    self.my_value = 1
end
</pre></p><h1><a name='//apple_ref/cpp/Function/on_input' class='dashAnchor'></a><a name='on_input'>on_input()</a></h1><p>called when user input is received</p><p><p>
This is a callback-function, which is called by the engine when user input is sent to the instance of the gui component.
It can be used to take action on the input, e.g. modify the gui according to the input.
</p>
<p>
For an instance to obtain user input, it must first acquire input focuse through the message <code>acquire_input_focus</code>.
See the documentation of that message for more information.
</p>
<p>
The <code>action</code> parameter is a table containing data about the input mapped to the <code>action_id</code>.
For mapped actions it specifies the value of the input and if it was just pressed or released.
Actions are mapped to input in an input_binding-file.
</p>
<p>
Mouse movement is specifically handled and uses <code>nil</code> as its <code>action_id</code>.
The <code>action</code> only contains positional parameters in this case, such as x and y of the pointer.
</p>
<p>
Here is a brief description of the available table fields:
</p>
<table>
  <th>Field</th>
  <th>Description</th>
  <tr><td><code>value</code></td><td>The amount of input given by the user. This is usually 1 for buttons and 0-1 for analogue inputs. This is not present for mouse movement.</td></tr>
  <tr><td><code>pressed</code></td><td>If the input was pressed this frame, 0 for false and 1 for true. This is not present for mouse movement.</td></tr>
  <tr><td><code>released</code></td><td>If the input was released this frame, 0 for false and 1 for true. This is not present for mouse movement.</td></tr>
  <tr><td><code>repeated</code></td><td>If the input was repeated this frame, 0 for false and 1 for true. This is similar to how a key on a keyboard is repeated when you hold it down. This is not present for mouse movement.</td></tr>
  <tr><td><code>x</code></td><td>The x value of a pointer device, if present.</td></tr>
  <tr><td><code>y</code></td><td>The y value of a pointer device, if present.</td></tr>
  <tr><td><code>screen_x</code></td><td>The screen space x value of a pointer device, if present.</td></tr>
  <tr><td><code>screen_y</code></td><td>The screen space y value of a pointer device, if present.</td></tr>
  <tr><td><code>dx</code></td><td>The change in x value of a pointer device, if present.</td></tr>
  <tr><td><code>dy</code></td><td>The change in y value of a pointer device, if present.</td></tr>
  <tr><td><code>screen_dx</code></td><td>The change in screen space x value of a pointer device, if present.</td></tr>
  <tr><td><code>screen_dy</code></td><td>The change in screen space y value of a pointer device, if present.</td></tr>
  <tr><td><code>touch</code></td><td>List of touch input, one element per finger, if present. See table below about touch input</td></tr>
</table>

<p>
Touch input table:
</p>
<table>
  <th>Field</th>
  <th>Description</th>
  <tr><td><code>pressed</code></td><td>True if the finger was pressed this frame.</td></tr>
  <tr><td><code>released</code></td><td>True if the finger was released this frame.</td></tr>
  <tr><td><code>tap_count</code></td><td>Number of taps, one for single, two for double-tap, etc</td></tr>
  <tr><td><code>x</code></td><td>The x touch location.</td></tr>
  <tr><td><code>y</code></td><td>The y touch location.</td></tr>
  <tr><td><code>dx</code></td><td>The change in x value.</td></tr>
  <tr><td><code>dy</code></td><td>The change in y value.</td></tr>
  <tr><td><code>acc_x</code></td><td>Accelerometer x value (if present).</td></tr>
  <tr><td><code>acc_y</code></td><td>Accelerometer y value (if present).</td></tr>
  <tr><td><code>acc_z</code></td><td>Accelerometer z value (if present).</td></tr>
</table></p><h3>PARAMETERS</h3><p>self - reference to the script state to be used for storing data (script_ref)</p><p>action_id - id of the received input action, as mapped in the input_binding-file (hash)</p><p>action - a table containing the input data, see above for a description (table)</p><h3>EXAMPLES</h3><p><pre>
function on_input(self, action_id, action)
    -- check for input
    if action_id == hash("my_action") then
        -- take appropritate action
        self.my_value = action.value
    end
end
</pre></p><h1><a name='//apple_ref/cpp/Function/on_message' class='dashAnchor'></a><a name='on_message'>on_message()</a></h1><p>called when a message has been sent to the gui component</p><p><p>
This is a callback-function, which is called by the engine whenever a message has been sent to the gui component.
It can be used to take action on the message, e.g. update the gui or send a response back to the sender of the message.
</p>
<p>
The <code>message</code> parameter is a table containing the message data. If the message is sent from the engine, the
documentation of the message specifies which data is supplied.
</p>
<p>See the <code>update</code> function for examples on how to use this callback-function.</p></p><h3>PARAMETERS</h3><p>self - reference to the script state to be used for storing data (script_ref)</p><p>message_id - id of the received message (hash)</p><p>message - a table containing the message data (table)</p><h1><a name='//apple_ref/cpp/Function/on_reload' class='dashAnchor'></a><a name='on_reload'>on_reload()</a></h1><p>called when the gui script is reloaded</p><p><p>
This is a callback-function, which is called by the engine when the gui script is reloaded, e.g. from the editor.
It can be used for live development, e.g. to tweak constants or set up the state properly for the script.
</p></p><h3>PARAMETERS</h3><p>self - reference to the script state to be used for storing data (script_ref)</p><h3>EXAMPLES</h3><p><pre>
function on_reload(self)
    -- restore some color (or similar)
    gui.set_color(gui.get_node("my_node"), self.my_original_color)
end
</pre></p><h1><a name='//apple_ref/cpp/Function/update' class='dashAnchor'></a><a name='update'>update()</a></h1><p>called every frame to update the gui component</p><p>This is a callback-function, which is called by the engine every frame to update the state of a gui component.
It can be used to perform any kind of gui related tasks, e.g. animating nodes.</p><h3>PARAMETERS</h3><p>self - reference to the script state to be used for storing data (script_ref)</p><p>dt - the time-step of the frame update</p><h3>EXAMPLES</h3><p><p>
This example demonstrates how to update a text node that displays game score in a counting fashion.
It is assumed that the gui component receives messages from the game when a new score is to be shown.
</p>
<pre>
function init(self)
    -- fetch the score text node for later use (assumes it is called "score")
    self.score_node = gui.get_node("score")
    -- keep track of the current score counted up so far
    self.current_score = 0
    -- keep track of the target score we should count up to
    self.current_score = 0
    -- how fast we will update the score, in score/second
    self.score_update_speed = 1
end

function update(self, dt)
    -- check if target score is more than current score
    if self.current_score < self.target_score
        -- increment current score according to the speed
        self.current_score = self.current_score + dt * self.score_update_speed
        -- check if we went past the target score, clamp current score in that case
        if self.current_score > self.target_score then
            self.current_score = self.target_score
        end
        -- update the score text node
        gui.set_text(self.score_node, "" .. math.floor(self.current_score))
    end
end

function on_message(self, message_id, message, sender)
    -- check the message
    if message_id == hash("set_score") then
        self.target_score = message.score
    end
end
</pre></p>