<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://ogp.me/ns/fb#" charset="utf-8"><head><meta charset="UTF-8"><title></title>
<link rel="stylesheet" href="css/normalize.css">
<link rel="stylesheet" type="text/css" href="css/main.css">
<link rel="stylesheet" href="css/style.css">
<style>
html,body {
margin: 0px;
padding: 10px;
width: 210mm;
max-width: 210mm;
overflow-x: hidden;
}
pre {
	width: 100%;
	overflow-x: hidden;
}
</style></head><body><h1>Introduction  </h1><a name="whatsinthismanual"></a><div class="all-questions"><h2> <a name="whatsinthismanual_welcome_to_the_search_reference"><span class="mw-headline" id="Welcome_to_the_Search_Reference"> Welcome to the Search Reference </span></a></h2>
<p>In this manual, you'll find a reference guide for the Splunk user who is looking for a catalog of the search commands with complete syntax, descriptions, and examples for usage.
</p><p>If you're looking for an introduction to searching in Splunk, refer to  the Search Tutorial to get you started. For more information about Splunk search, refer to the Search Manual.
</p><p>See the <a href="#listofsearchcommands" class="external text">"List of search commands"</a> in the Search Commands and Functions chapter for a catalog of the search commands, with a short description of what they do and related search commands. Each search command links you to its reference page in the Search Command Reference chapter of this manual. If you want to just jump right in and start searching, the <a href="#searchcheatsheet" class="external text">Search command cheat sheet</a> is a quick reference complete with descriptions and examples.
</p><p>Before you continue, read <a href="#howtousethismanual" class="external text">"How to use this manual"</a> for the conventions and rules used in this manual. 
</p>
<h4><font size="3"><b><i> <a name="whatsinthismanual_make_a_pdf"><span class="mw-headline" id="Make_a_PDF">Make a PDF</span></a></i></b></font></h4>
<p>If you'd like a PDF version of this manual, click the red <b>Download the Search Reference as PDF</b> link below the table of contents on the left side of this page. A PDF version of the manual is generated on the fly for you, and you can save it or print it out to read later.
</p>
<a name="howtousethismanual"></a><h2> <a name="howtousethismanual_how_to_use_this_manual"><span class="mw-headline" id="How_to_use_this_manual"> How to use this manual </span></a></h2>
<p>This manual serves as a reference guide for the Splunk user who is looking for a catalog of the search commands with complete syntax, descriptions, and examples for usage.
</p>
<h3> <a name="howtousethismanual_layout_for_each_topic"><span class="mw-headline" id="Layout_for_each_topic"> Layout for each topic </span></a></h3>
<p>Each search command topic contains the following headers: synopsis, description, examples, and see also.
</p>
<dl><dt> <b>Synopsis</b>
</dt><dd> The synopsis includes a short description of each search command, the complete syntax for each search command, and a description for each argument. If the arguments have another hierarchy of options, each of these sets of options follow the argument descriptions.
</dd></dl><dl><dt> <b>Required arguments</b>
</dt><dd> The list of required parameters and their syntax.
</dd></dl><dl><dt> <b>Optional arguments</b>
</dt><dd> The list of optional parameters and their syntax.
</dd></dl><dl><dt> <b>Description</b>
</dt><dd> The description includes details about how to use the search command.
</dd></dl><dl><dt> <b>Examples</b>
</dt><dd> This section lists examples of usage for the search command.
</dd></dl><dl><dt> <b>See also</b>
</dt><dd> This sections lists and links to all related or similar search commands.
</dd></dl><h3> <a name="howtousethismanual_conventions_used_to_describe_syntax"><span class="mw-headline" id="Conventions_used_to_describe_syntax"> Conventions used to describe syntax </span></a></h3>
<p>The syntax for each search command is defined under the "Synopsis". The arguments are presented in the syntax in the order they are meant to be used.
</p>
<h3> <a name="howtousethismanual_conventions_used_to_describe_arguments"><span class="mw-headline" id="Conventions_used_to_describe_arguments"> Conventions used to describe arguments </span></a></h3>
<p>Arguments are either Required or Optional and are listed alphabetically under their respective subheadings. For each argument, there is a <b>Syntax</b> and <b>Description</b> part. The description includes usage information and defaults. 
</p>
<h4><font size="3"><b><i> <a name="howtousethismanual_boolean_values"><span class="mw-headline" id="Boolean_values"> Boolean values </span></a></i></b></font></h4>
<p>Where Boolean values are required, the documentation specifies 'true' or 'false'. Other variations are accepted in commands. For example, for 'true' you can also use 'T', 'TRUE', and '1'.
</p>
<h1>Search Reference Overview</h1><a name="searchcheatsheet"></a><h2> <a name="searchcheatsheet_search_command_cheat_sheet_and_splunk_enterprise_quick_reference_guide"><span class="mw-headline" id="Search_Command_Cheat_Sheet_and_Splunk_Enterprise_Quick_Reference_Guide"> Search Command Cheat Sheet and Splunk Enterprise Quick Reference Guide </span></a></h2>
<p>This topic lists resources you can use as a quick reference and cheat sheet for learning the Splunk Search Language. 
</p>
<h3> <a name="searchcheatsheet_download_the_splunk_enterprise_quick_reference_guide"><span class="mw-headline" id="Download_the_Splunk_Enterprise_Quick_Reference_Guide"> Download the Splunk Enterprise Quick Reference Guide </span></a></h3>
<p>The Splunk Enterprise Quick Reference Guide (updated for version 6.1), is available only as a PDF file. It is a six-page reference card that provides fundamental search concepts, commands, functions, and examples.
</p>
<h3> <a name="searchcheatsheet_download_the_search_command_cheat_sheet"><span class="mw-headline" id="Download_the_Search_Command_Cheat_Sheet"> Download the Search Command Cheat Sheet </span></a></h3>
<p>The Search Command Cheat Sheet is a quick command reference complete with descriptions and examples. The Search Command Cheat Sheet is also available for download as an eight-page PDF file.
</p><p><b>Note:</b> In the examples on this page, a leading ellipsis (...) indicates that there is a search before the pipe operator. A leading pipe indicates that the search command is a generating command and prevents the command-line interface and Splunk Web from prepending the <code><font size="2">search</font></code> command to your search.
</p>
<h4><font size="3"><b><i> <a name="searchcheatsheet_administrative"><span class="mw-headline" id="Administrative"> Administrative </span></a></i></b></font></h4>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> View information in the "audit" index.
</td><td valign="center" align="left"><code><font size="2">index=_audit | audit</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Crawl root and home directories and add all possible inputs found. Then, adds configuration information to <code><font size="2">inputs.conf</font></code>.
</td><td valign="center" align="left"><code><font size="2">| crawl root="/;/Users/" | input add</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return information about the buckets in the <code><font size="2">_internal</font></code> index.
</td><td valign="center" align="left"><code><font size="2">| dbinspect index=_internal</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return the values of <code><font size="2">host</font></code> for events in the <code><font size="2">_internal</font></code> index.
</td><td valign="center" align="left"><code><font size="2">| metadata type=hosts index=_internal</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return typeahead information for sources in the <code><font size="2">_internal</font></code> index.
</td><td valign="center" align="left"><code><font size="2">| typeahead prefix=source count=10 index=_internal</font></code>
</td></tr></table><h4><font size="3"><b><i> <a name="searchcheatsheet_alerting"><span class="mw-headline" id="Alerting"> Alerting </span></a></i></b></font></h4>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Send an email notification with a pdf attachment, a message, and raw inline results.
</td><td valign="center" align="left"><code><font size="2">index=_internal | head 5 | sendemail to=example@splunk.com server=mail.example.com subject="Here is an email from Splunk" message="This is an example message" sendresults=true inline=true format=raw sendpdf=true</font></code>
</td></tr></table><h4><font size="3"><b><i> <a name="searchcheatsheet_fields"><span class="mw-headline" id="Fields"> Fields </span></a></i></b></font></h4>
<h5> <a name="searchcheatsheet_add"><span class="mw-headline" id="Add"> Add </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Save the running total of <code><font size="2">count</font></code> in a field called <code><font size="2">total_count</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | accum count AS total_count</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Add information about the search to each event.
</td><td valign="center" align="left"><code><font size="2">... | addinfo</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Search for "404" events and append the fields in each event to the previous search results.
</td><td valign="center" align="left"><code><font size="2">... | appendcols [search 404]</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> For each event where the <code><font size="2">count</font></code> field exists, compute the difference between <code><font size="2">count</font></code> and its previous value and store the result in <code><font size="2">countdiff</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | delta count AS countdiff</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Extract out values like "7/01", and put them into the <code><font size="2">monthday</font></code> field.
</td><td valign="center" align="left"><code><font size="2">... | erex monthday examples="7/01"</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Define a field named <code><font size="2">velocity</font></code> that is calculated as <code><font size="2">distance / time</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | eval velocity=distance/time</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Extract field/value pairs and reload field extraction settings from disk.
</td><td valign="center" align="left"><code><font size="2">... | extract reload=true</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Extract field/value pairs that are delimited by <code><font size="2">|;</font></code>, and values of fields that are delimited by <code><font size="2">=:</font></code> .
</td><td valign="center" align="left"><code><font size="2">... | extract pairdelim="|;", kvdelim="=:", auto=f</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Add location information (based on IP address).
</td><td valign="center" align="left"><code><font size="2">... | iplocation clientip</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Extract values from <code><font size="2">eventtype.form</font></code> if the file exists.
</td><td valign="center" align="left"><code><font size="2">... | kvform field=eventtype</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> There is a lookup table specified in a stanza name <code><font size="2">usertogroup</font></code> in <code><font size="2">transforms.conf</font></code>.  This lookup table contains (at least) two fields, <code><font size="2">user</font></code> and <code><font size="2">group</font></code>. For each event, we look up the value of the field <code><font size="2">local_user</font></code> in the table and for any entries that matches, the value of the <code><font size="2">group</font></code> field in the lookup table will be written to the field <code><font size="2">user_group</font></code> in the event.
</td><td valign="center" align="left"><code><font size="2">... | lookup usertogroup user as local_user OUTPUT group as user_group</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Extract the <code><font size="2">COMMAND</font></code> field when it occurs in rows that contain <code><font size="2">splunkd</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | multikv fields COMMAND filter splunkd</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Set <code><font size="2">range</font></code> to "green" if the <code><font size="2">date_second</font></code> is between 1-30; "blue", if between 31-39; "red", if between 40-59; and "gray", if no range matches (for example, if date_second=0).
</td><td valign="center" align="left"><code><font size="2">... | rangemap field=date_second green=1-30 blue=31-39 red=40-59 default=gray</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Calculate the relevancy of the search and sort the results in descending order.
</td><td valign="center" align="left"><code><font size="2">disk error | relevancy | sort -relevancy</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Extract <code><font size="2">from</font></code> and <code><font size="2">to</font></code> fields using regular expressions. If a raw event contains <code><font size="2">From: Susan To: Bob</font></code>, then <code><font size="2">from=Susan</font></code> and <code><font size="2">to=Bob</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | rex field=_raw "From: (?&lt;from&gt;.*) To: (?&lt;to&gt;.*)"</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Extract the <code><font size="2">author</font></code> field from XML or JSON formatted data about books.
</td><td valign="center" align="left"><code><font size="2">... | spath output=author path=book{@author}</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Add the field: <code><font size="2">comboIP</font></code>. Values of <code><font size="2">comboIP = "sourceIP + "/" + destIP"</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | strcat sourceIP "/" destIP comboIP</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Extract field/value pairs from XML formatted data. <code><font size="2">xmlkv</font></code> automatically extracts values between XML tags.
</td><td valign="center" align="left"><code><font size="2">... | xmlkv</font></code>
</td></tr></table><h5> <a name="searchcheatsheet_convert"><span class="mw-headline" id="Convert"> Convert </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Convert every field value to a number value except for values in the field <code><font size="2">foo</font></code>. Use the <code><font size="2">none</font></code> argument to specify fields to ignore.
</td><td valign="center" align="left"><code><font size="2">... | convert auto(*) none(foo)</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Change all memory values in the <code><font size="2">virtual</font></code> field to kilobytes.
</td><td valign="center" align="left"><code><font size="2">... | convert memk(virtual)</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Change the sendmail syslog duration format (D+HH:MM:SS) to seconds. For example, if <code><font size="2">delay="00:10:15"</font></code>, the resulting value will be <code><font size="2">delay="615"</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | convert dur2sec(delay)</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Convert values of the <code><font size="2">duration</font></code> field into number value by removing string values in the field value. For example,  if <code><font size="2">duration="212 sec"</font></code>, the resulting value will be <code><font size="2">duration="212"</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | convert rmunit(duration)</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Separate the value of <code><font size="2">foo</font></code> into multiple values.
</td><td valign="center" align="left"><code><font size="2">... | makemv delim=":" allowempty=t foo</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> For sendmail events, combine the values of the <code><font size="2">senders</font></code> field into a single value. Then, display the top 10 values.
</td><td valign="center" align="left"><code><font size="2">eventtype="sendmail" | nomv senders | top senders</font></code>
</td></tr></table><h5> <a name="searchcheatsheet_filter"><span class="mw-headline" id="Filter"> Filter </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Keep the <code><font size="2">host</font></code> and <code><font size="2">ip</font></code> fields, and display them in the order: <code><font size="2">host</font></code>, <code><font size="2">ip</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | fields + host, ip</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Remove the <code><font size="2">host</font></code> and <code><font size="2">ip</font></code> fields.
</td><td valign="center" align="left"><code><font size="2">... | fields - host, ip</font></code>
</td></tr></table><h5> <a name="searchcheatsheet_modify"><span class="mw-headline" id="Modify"> Modify </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Build a time series chart of web events by <code><font size="2">host</font></code> and fill all empty fields with NULL.
</td><td valign="center" align="left"><code><font size="2">sourcetype="web" | timechart count by host | fillnull value=NULL</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Rename the <code><font size="2">_ip</font></code> field as <code><font size="2">IPAddress</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | rename _ip as IPAddress</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Change any <code><font size="2">host</font></code> value that ends with <code><font size="2">localhost</font></code> to <code><font size="2">localhost</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | replace *localhost with localhost in host</font></code>
</td></tr></table><h4><font size="3"><b><i> <a name="searchcheatsheet_format"><span class="mw-headline" id="Format"> Format </span></a></i></b></font></h4>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Show a summary of up to five lines for each search result.
</td><td valign="center" align="left"><code><font size="2">... |abstract maxlines=5</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Compare the <code><font size="2">ip</font></code> values of the first and third search results.
</td><td valign="center" align="left"><code><font size="2">... | diff pos1=1 pos2=3 attribute=ip</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Highlight the terms <code><font size="2">login</font></code> and <code><font size="2">logout</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | highlight login,logout</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Output the <code><font size="2">_raw</font></code> field of your current search into <code><font size="2">_xml</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | outputtext</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Anonymize the current search results.
</td><td valign="center" align="left"><code><font size="2">... | scrub</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Un-escape all XML characters.
</td><td valign="center" align="left"><code><font size="2">... | xmlunescape</font></code>
</td></tr></table><h4><font size="3"><b><i> <a name="searchcheatsheet_geography"><span class="mw-headline" id="Geography"> Geography </span></a></i></b></font></h4>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Add location information to web access events, and return a table of the IP address, City and Country for each client error.
</td><td valign="center" align="left"><code><font size="2">sourcetype=access_* status=404 | head 20 | iplocation clientip | table clientip, City, Country</font></code>
</td></tr><tr valign="top"><td valign="center" align="left">Compute the average rating for each gender after clustering/grouping the events by their coordinate values.
</td><td valign="center" align="left"><code><font size="2">... | geostats latfield=eventlat longfield=eventlong avg(rating) by gender</font></code>
</td></tr></table><h4><font size="3"><b><i> <a name="searchcheatsheet_index"><span class="mw-headline" id="Index"> Index </span></a></i></b></font></h4>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Add each source found by crawl in the default index with automatic source classification.
</td><td valign="center" align="left"><code><font size="2">| crawl | input add</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Delete events from the <code><font size="2">imap</font></code> index that contain the word "invalid".
</td><td valign="center" align="left"><code><font size="2">index=imap invalid | delete</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Put <code><font size="2">download</font></code> events into an index named <code><font size="2">downloadcount</font></code>
</td><td valign="center" align="left"> <code><font size="2">eventtypetag="download" | collect index=downloadcount</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Find overlapping events in the <code><font size="2">summary</font></code> index.
</td><td valign="center" align="left"> <code><font size="2">index=summary | overlap</font></code>
</td></tr></table><h4><font size="3"><b><i> <a name="searchcheatsheet_prediction_and_trends"><span class="mw-headline" id="Prediction_and_trends"> Prediction and trends </span></a></i></b></font></h4>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Predict future downloads based on previous download numbers.
</td><td valign="center" align="left"> predict count
</td></tr><tr valign="top"><td valign="center" align="left"> Compute moving averages for fields <code><font size="2">foo</font></code> and <code><font size="2">bar</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | trendline sma5(foo) as smoothed_foo ema10(bar)</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Calculate the trend in the data, without the seasonality.
</td><td valign="center" align="left"> <code><font size="2">index=download | timechart span=1d count(file) as count | x11 mult15(count)</font></code>
</td></tr></table><h4><font size="3"><b><i> <a name="searchcheatsheet_reporting"><span class="mw-headline" id="Reporting"> Reporting </span></a></i></b></font></h4>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Calculate the sums of the numeric fields of each result, and put the sums in the field "sum".
</td><td valign="center" align="left"><code><font size="2">... | addtotals fieldname=sum</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Analyze the numerical fields to predict the value of <code><font size="2">is_activated</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | af classfield=is_activated</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return events with uncommon values.
</td><td valign="center" align="left"><code><font size="2">... | anomalousvalue action=filter pthresh=0.02</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return results associated with each other (that have at least 3 references to each other).
</td><td valign="center" align="left"><code><font size="2">... | associate supcnt=3</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> For each event, copy the 2nd, 3rd, 4th, and 5th previous values of the <code><font size="2">count</font></code> field into the respective fields <code><font size="2">count_p2</font></code>, <code><font size="2">count_p3</font></code>, <code><font size="2">count_p4</font></code>, and <code><font size="2">count_p5</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | autoregress count p=2-5</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Bucket search results into 10 bins, and return the count of raw events for each bucket.
</td><td valign="center" align="left"><code><font size="2">... | bucket size bins=10 | stats count(_raw) by size</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return the average <code><font size="2">thruput</font></code> of each <code><font size="2">host</font></code> for each five minute time span.
</td><td valign="center" align="left"><code><font size="2">... | bucket _time span=5m | stats avg(thruput) by _time host</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return the average (mean) <code><font size="2">size</font></code> for each distinct <code><font size="2">host</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | chart avg(size) by host</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return the maximum <code><font size="2">delay</font></code> by <code><font size="2">size</font></code>, where <code><font size="2">size</font></code> is broken down into a maximum of 10 equal sized buckets.
</td><td valign="center" align="left"><code><font size="2">... | chart max(delay) by size bins=10</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return the ratio of the average (mean) <code><font size="2">size</font></code> to the maximum <code><font size="2">delay</font></code> for each distinct <code><font size="2">host</font></code> and <code><font size="2">user</font></code> pair.
</td><td valign="center" align="left"><code><font size="2">... | chart eval(avg(size)/max(delay)) by host user</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Calculate the <code><font size="2">max(delay)</font></code> for each value of <code><font size="2">foo</font></code> split by the value of <code><font size="2">bar</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | chart max(delay) over foo by bar</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Build a contingency table of <code><font size="2">datafields</font></code> from all events.
</td><td valign="center" align="left"><code><font size="2">... | contingency datafield1 datafield2 maxrows=5 maxcols=5 usetotal=F</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Calculate the co-occurrence correlation between all fields.
</td><td valign="center" align="left"><code><font size="2">... | correlate type=cocur</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return the number of events in the <code><font size="2">_internal</font></code> index.
</td><td valign="center" align="left"><code><font size="2">| eventcount index=_internal</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Compute the overall average duration and add <code><font size="2">avgdur</font></code> as a new field to each event where the <code><font size="2">duration</font></code> field exists
</td><td valign="center" align="left"><code><font size="2">... | eventstats avg(duration) as avgdur</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Make <code><font size="2">_time</font></code> continuous with a span of 10 minutes.
</td><td valign="center" align="left"><code><font size="2">... | makecontinuous _time span=10m</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Remove all outlying numerical values.
</td><td valign="center" align="left"><code><font size="2">... | outlier</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return the least common values of the <code><font size="2">url</font></code> field.
</td><td valign="center" align="left"><code><font size="2">... | rare url</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Remove duplicates of results with the same <code><font size="2">host</font></code> value and return the total count of the remaining results.
</td><td valign="center" align="left"><code><font size="2">... | stats dc(host)</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return the average for each hour, of any unique field that ends with the string <code><font size="2">lay</font></code> (for example, delay, xdelay, relay, etc).
</td><td valign="center" align="left"><code><font size="2">... | stats avg(*lay) BY date_hour</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Search the access logs, and return the number of hits from the top 100 values of "referer_domain".
</td><td valign="center" align="left"><code><font size="2">sourcetype=access_combined | top limit=100 referer_domain | stats sum(count)</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> For each event, add a count field that represent the number of event seen so far (including that event).  i.e., 1 for the first event, 2 for the second, 3, 4 ... and so on
</td><td valign="center" align="left"><code><font size="2">... | streamstats count</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Graph the average <code><font size="2">thruput</font></code> of <code><font size="2">hosts</font></code> over time.
</td><td valign="center" align="left"><code><font size="2">... | timechart span=5m avg(thruput) by host</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Create a timechart of average <code><font size="2">cpu_seconds</font></code> by <code><font size="2">host</font></code>, and remove outlying values that may distort the timechart's axis.
</td><td valign="center" align="left"><code><font size="2">... | timechart avg(cpu_seconds) by host | outlier action=t</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Calculate the average value of <code><font size="2">CPU</font></code> each minute for each <code><font size="2">host</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | timechart span=1m avg(CPU) by host</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Create a timechart of the count of from <code><font size="2">web</font></code> sources by <code><font size="2">host</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | timechart count by host</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Compute the product of the average <code><font size="2">CPU</font></code> and average <code><font size="2">MEM</font></code> each minute for each <code><font size="2">host</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | timechart span=1m eval(avg(CPU) * avg(MEM)) by host</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return the 20 most common values of the <code><font size="2">url</font></code> field.
</td><td valign="center" align="left"><code><font size="2">... | top limit=20 url</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Reformat the search results and display only specified fields.
</td><td valign="center" align="left"><code><font size="2">... | timechart avg(delay) by host | untable _time host avg_delay</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Reformat the search results into a format suitable for charting.
</td><td valign="center" align="left"><code><font size="2">... | xyseries delay host_type host</font></code>
</td></tr></table><h4><font size="3"><b><i> <a name="searchcheatsheet_results"><span class="mw-headline" id="Results"> Results </span></a></i></b></font></h4>
<h5> <a name="searchcheatsheet_append"><span class="mw-headline" id="Append"> Append </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Count the number of different IP addresses who accessed the Web server and also find the user who accessed the web server the most for each type of page request (<code><font size="2">method</font></code>).
</td><td valign="center" align="left"><code><font size="2">sourcetype=access_* | stats dc(clientip), count by method | append [search sourcetype=access_* | top 1 clientip by method]</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Joins previous result set with results from the subsearch, on the <code><font size="2">id</font></code> field.
</td><td valign="center" align="left"><code><font size="2">... | join id [search foo]</font></code>
</td></tr></table><h5> <a name="searchcheatsheet_filter_2"><span class="mw-headline" id="Filter_2"> Filter </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Return only anomalous events.
</td><td valign="center" align="left"><code><font size="2">... | anomalies</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Remove duplicates of results with the same <code><font size="2">host</font></code> value.
</td><td valign="center" align="left"><code><font size="2">... | dedup host</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Combine the values of <code><font size="2">foo</font></code> with a colon delimiter.
</td><td valign="center" align="left"><code><font size="2">... | mvcombine delim=":" foo</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Keep only search results whose raw text contains IP addresses in the non-routable class A (10.0.0.0/8).
</td><td valign="center" align="left"><code><font size="2">... | regex _raw="(?&lt;!\d)10.\d{1,3}\.\d{1,3}\.\d{1,3}(?!\d)"</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Join results with itself on <code><font size="2">id</font></code> field.
</td><td valign="center" align="left"><code><font size="2">... | selfjoin id</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> For the current search, keep only unique results.
</td><td valign="center" align="left"><code><font size="2">... | uniq</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return <code><font size="2">physicsobjs</font></code> events with a speed greater than 100.
</td><td valign="center" align="left"><code><font size="2">sourcetype=physicsobjs | where distance/time &gt; 100</font></code>
</td></tr></table><h5> <a name="searchcheatsheet_generate"><span class="mw-headline" id="Generate"> Generate </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> All daily time ranges from Oct 25 till today.
</td><td valign="center" align="left"><code><font size="2">| gentimes start=10/25/07</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Loads the events that were generated by the search job with <code><font size="2">id=1233886270.2</font></code>.
</td><td valign="center" align="left"><code><font size="2">| loadjob 1233886270.2 events=t</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Create new events for each value of multivalue field, <code><font size="2">foo</font></code>.
</td><td valign="center" align="left"><code><font size="2">... | mvexpand foo</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Run the saved search named <code><font size="2">mysecurityquery</font></code>.
</td><td valign="center" align="left"><code><font size="2">| savedsearch mysecurityquery</font></code>
</td></tr></table><h5> <a name="searchcheatsheet_group"><span class="mw-headline" id="Group"> Group </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Cluster events together and sort them by their <code><font size="2">cluster_count</font></code> values. Then return the 20 largest clusters (in data size).
</td><td valign="center" align="left"><code><font size="2">... | cluster t=0.9 showcount=true | sort - cluster_count | head 20</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Group search results into 4 clusters based on the values of the <code><font size="2">date_hour</font></code> and <code><font size="2">date_minute</font></code> fields.
</td><td valign="center" align="left"><code><font size="2">... | kmeans k=4 date_hour date_minute</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Group search results that have the same <code><font size="2">host</font></code> and <code><font size="2">cookie</font></code>, occur within 30 seconds of each other, and do not have a pause greater than 5 seconds between each event into a transaction.
</td><td valign="center" align="left"><code><font size="2">... | transaction host cookie maxspan=30s maxpause=5s</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Force Splunk to apply event types that you have configured. Splunk Web automatically does this when you view the <code><font size="2">eventtype</font></code> field.
</td><td valign="center" align="left"><code><font size="2">... | typer</font></code>
</td></tr></table><h5> <a name="searchcheatsheet_order"><span class="mw-headline" id="Order"> Order </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Return the first 20 results.
</td><td valign="center" align="left"><code><font size="2">... | head 20</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Reverse the order of a result set.
</td><td valign="center" align="left"><code><font size="2">... | reverse</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Sort results by <code><font size="2">ip</font></code> value in ascending order and then by <code><font size="2">url</font></code> value in descending order.
</td><td valign="center" align="left"><code><font size="2">... | sort ip, -url</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return the last 20 results (in reverse order).
</td><td valign="center" align="left"><code><font size="2">... | tail 20</font></code>
</td></tr></table><h5> <a name="searchcheatsheet_read"><span class="mw-headline" id="Read"> Read </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Read in results from the CSV file: <code><font size="2">$SPLUNK_HOME/var/run/splunk/all.csv</font></code>. Keep any that contain the string "error". Then, save the results to the file: <code><font size="2">$SPLUNK_HOME/var/run/splunk/error.csv</font></code> .
</td><td valign="center" align="left"><code><font size="2">| inputcsv all.csv | search error | outputcsv errors.csv</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Read in <code><font size="2">users.csv</font></code> lookup file, which is located in <code><font size="2">$SPLUNK_HOME/etc/system/lookups</font></code> or <code><font size="2">$SPLUNK_HOME/etc/apps/*/lookups</font></code> .
</td><td valign="center" align="left"><code><font size="2">| inputlookup users.csv</font></code>
</td></tr></table><h5> <a name="searchcheatsheet_write"><span class="mw-headline" id="Write"> Write </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Output search results to the CSV file, <code><font size="2">mysearch.csv</font></code> .
</td><td valign="center" align="left"><code><font size="2">... | outputcsv mysearch</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Write to <code><font size="2">users.csv</font></code> lookup file, which is located in <code><font size="2">$SPLUNK_HOME/etc/system/lookups</font></code> or <code><font size="2">$SPLUNK_HOME/etc/apps/*/lookups</font></code> .
</td><td valign="center" align="left"><code><font size="2">| outputlookup users.csv</font></code>
</td></tr></table><h4><font size="3"><b><i> <a name="searchcheatsheet_search"><span class="mw-headline" id="Search"> Search </span></a></i></b></font></h4>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Keep only search results that have the specified <code><font size="2">src</font></code> or <code><font size="2">dst</font></code> values.
</td><td valign="center" align="left"><code><font size="2">src="10.9.165.*" OR dst="10.9.165.8"</font></code>
</td></tr></table><h5> <a name="searchcheatsheet_external"><span class="mw-headline" id="External"> External </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Run the Python script <code><font size="2">myscript</font></code> with arguments: <code><font size="2">myarg1</font></code> and <code><font size="2">myarg2</font></code>. Then, email the results.
</td><td valign="center" align="left"><code><font size="2">... | script python myscript myarg1 myarg2 | sendemail to=david@splunk.com</font></code>
</td></tr></table><h5> <a name="searchcheatsheet_subsearch"><span class="mw-headline" id="Subsearch"> Subsearch </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Get the top two results and create a search from their <code><font size="2">host</font></code>, <code><font size="2">source</font></code>, and <code><font size="2">sourcetype</font></code> that returns a single search result with a <code><font size="2">_query</font></code> field: <code><font size="2">_query=( ( "host::mylaptop" AND "source::syslog.log" AND "sourcetype::syslog" ) OR ( "host::bobslaptop" AND "source::bob-syslog.log" AND "sourcetype::syslog" ) )</font></code>
</td><td valign="center" align="left"><code><font size="2">... | head 2 | fields source, sourcetype, host | format</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Search the time range of each previous result for "failure".
</td><td valign="center" align="left"><code><font size="2">... | localize maxpause=5m | map search="search failure starttimeu=$starttime$ endtimeu=$endtime$"</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Return values of <code><font size="2">url</font></code> that contain the string "404" or "303" but not both.
</td><td valign="center" align="left"><code><font size="2">| set diff [search 404 | fields url] [search 303 | fields url]</font></code>
</td></tr></table><h5> <a name="searchcheatsheet_miscellaneous"><span class="mw-headline" id="Miscellaneous"> Miscellaneous </span></a></h5>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Run commands on the local search head only. In this case, all events returned by the initial search for "FOO and BAR" forwards from remote peers to the local search head where the iplocation command runs.
</td><td valign="center" align="left"><code><font size="2">FOO BAR | localop | iplocation allfields=t clientip</font></code>
</td></tr></table><h4><font size="3"><b><i> <a name="searchcheatsheet_time"><span class="mw-headline" id="Time"> Time </span></a></i></b></font></h4>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr valign="top"><td width="50%" valign="center" align="left"> Returns all events that occurred hourly from Oct 1 till Oct 5.
</td><td valign="center" align="left"><code><font size="2">... | gentimes start=10/1/14 end=10/5/14 increment=1h</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Search the time range of each previous result for "failure".
</td><td valign="center" align="left"><code><font size="2">... | localize maxpause=5m | map search="search failure starttimeu=$starttime$ endtimeu=$endtime$"</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"> Add a field called <code><font size="2">reltime</font></code> that describes the time the event occurred, such as "5 seconds ago" and "1 minute ago".
</td><td valign="center" align="left"> <code><font size="2">status=503 | reltime</font></code>
</td></tr></table><h3> <a name="searchcheatsheet_learn_more_on_splunk_answers"><span class="mw-headline" id="Learn_more_on_Splunk_Answers">Learn more on Splunk Answers</span></a></h3>
<p>If you can't find what you're looking for here, check out Splunk Answers and see what questions and answers other Splunk users had about the search language.
</p>
<a name="listofpopularsearchcommands"></a><h2> <a name="listofpopularsearchcommands_popular_search_commands"><span class="mw-headline" id="Popular_search_commands"> Popular search commands </span></a></h2>
<p>The following table lists the more frequently used Splunk search commands. Some of these commands share functions -- you can see a list of these functions with descriptions and examples on the following pages: <a href="#commonevalfunctions" class="external text">Functions for eval and where</a> and <a href="#commonstatsfunctions" class="external text">Functions for stats, chart, and timechart</a>.
</p>
<table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Alias(es)
</th><th bgcolor="#C0C0C0">Description
</th><th bgcolor="#C0C0C0">See also
</th></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#bucket" class="external text">bucket</a></font></code>
</td><td valign="center" align="left">bin, discretize
</td><td valign="center" align="left">Puts continuous numerical values into discrete sets.
</td><td valign="center" align="left"><code><font size="2">chart, timechart</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Returns results in a tabular output for charting. See also, <a href="#commonstatsfunctions" class="external text">Functions for stats, chart, and timechart</a>.
</td><td valign="center" align="left"><code><font size="2">bucket, sichart, timechart</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#dedup" class="external text">dedup</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Removes subsequent results that match a specified criteria.
</td><td valign="center" align="left"><code><font size="2">uniq</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#eval" class="external text">eval</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Calculates an expression and puts the value into a field. See also, <a href="#commonevalfunctions" class="external text">Functions for eval and where</a>.
</td><td valign="center" align="left"><code><font size="2">where</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#extract" class="external text">extract</a></font></code>
</td><td valign="center" align="left">kv
</td><td valign="center" align="left">Extracts field-value pairs from search results.
</td><td valign="center" align="left"><code><font size="2">kvform, multikv, xmlkv, rex</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#fields" class="external text">fields</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Removes fields from search results.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#head" class="external text">head</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Returns the first number n of specified results.
</td><td valign="center" align="left"><code><font size="2">reverse, tail</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#lookup" class="external text">lookup</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Explicitly invokes field value lookups.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#multikv" class="external text">multikv</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Extracts field-values from table-formatted events.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rangemap" class="external text">rangemap</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Sets RANGE field to the name of the ranges that match.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rare" class="external text">rare</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Displays the least common values of a field.
</td><td valign="center" align="left"><code><font size="2">sirare, stats, top</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rename" class="external text">rename</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Renames a specified field; wildcards can be used to specify multiple fields.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#replace" class="external text">replace</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Replaces values of specified fields with a specified new value.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rex" class="external text">rex</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Specify a Perl regular expression named groups to extract fields while you search.
</td><td valign="center" align="left"><code><font size="2">extract, kvform, multikv, xmlkv, regex</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#search" class="external text">search</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Searches Splunk indexes for matching events.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#spath" class="external text">spath</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Extracts key-value pairs from XML or JSON formats.
</td><td valign="center" align="left"><code><font size="2">extract, kvform, multikv, rex, xmlkv</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sort" class="external text">sort</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Sorts search results by the specified fields.
</td><td valign="center" align="left"><code><font size="2">reverse</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#stats" class="external text">stats</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Provides statistics, grouped optionally by fields. See also, <a href="#commonstatsfunctions" class="external text">Functions for stats, chart, and timechart</a>.
</td><td valign="center" align="left"><code><font size="2">eventstats, top, rare</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#tail" class="external text">tail</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Returns the last number n of specified results.
</td><td valign="center" align="left"><code><font size="2">head, reverse</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Create a time series chart and corresponding table of statistics. See also, <a href="#commonstatsfunctions" class="external text">Functions for stats, chart, and timechart</a>.
</td><td valign="center" align="left"><code><font size="2">chart, bucket</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#top" class="external text">top</a></font></code>
</td><td valign="center" align="left">common
</td><td valign="center" align="left">Displays the most common values of a field.
</td><td valign="center" align="left"><code><font size="2">rare, stats</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#transaction" class="external text">transaction</a></font></code>
</td><td valign="center" align="left">transam
</td><td valign="center" align="left">Groups search results into transactions.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#where" class="external text">where</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Performs arbitrary filtering on your data. See also, <a href="#commonevalfunctions" class="external text">Functions for eval and where</a>.
</td><td valign="center" align="left"><code><font size="2">eval</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#xmlkv" class="external text">xmlkv</a></font></code>
</td><td valign="center" align="left">
</td><td valign="center" align="left">Extracts XML key-value pairs.
</td><td valign="center" align="left"><code><font size="2">extract, kvform, multikv, rex, spath</font></code>
</td></tr></table><h3> <a name="listofpopularsearchcommands_answers"><span class="mw-headline" id="Answers">Answers</span></a></h3>
<p>Have questions about search commands? Check out Splunk Answers to see what questions and answers other Splunk users had about the search language.
</p>
<a name="sqltosplunk"></a><h2> <a name="sqltosplunk_splunk_for_sql_users"><span class="mw-headline" id="Splunk_for_SQL_users"> Splunk for SQL users </span></a></h2>
<p>This is not a perfect mapping between SQL and Splunk search commands, but if you are familiar with SQL, this quick comparison might be helpful as a jump-start into using Splunk.
</p>
<h3> <a name="sqltosplunk_concepts"><span class="mw-headline" id="Concepts"> Concepts </span></a></h3>
<p>In database terms, Splunk is a distributed, non-relational, semi-structured database with an implicit time dimension.  Splunk is not a database in the normative sense -- relational databases require that all table columns be defined up-front and they don't automatically scale by just plugging in new hardware -- but there are analogs to many of the concepts in the database world.   
</p><p><br></p>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0"> DB Concept
</th><th bgcolor="#C0C0C0"> Splunk Concept
</th><th bgcolor="#C0C0C0"> Notes
</th></tr><tr><td width="15%" valign="center" align="left"> SQL query
</td><td width="15%" valign="center" align="left"> Splunk search
</td><td valign="center" align="left"> A Splunk search retrieves indexed data and can perform transforming and reporting operations. Results from one search can be "piped", or transferred, from command to command, to filter, modify, reorder, and group your results.
</td></tr><tr><td valign="center" align="left"> table/view
</td><td valign="center" align="left"> search results
</td><td valign="center" align="left"> Search results can be thought of as a database view, a dynamically generated table of rows, with columns.
</td></tr><tr><td valign="center" align="left"> index
</td><td valign="center" align="left"> index
</td><td valign="center" align="left"> All values and fields are indexed in Splunk, so there is no need to manually add, update, drop, or even think about indexing columns. Everything can be quickly retrieved automatically.
</td></tr><tr><td valign="center" align="left"> row
</td><td valign="center" align="left"> result/event
</td><td valign="center" align="left"> A result in Splunk is a list of field (i.e., column) values, corresponding to a table row. An event is a result that has a timestamp and raw text. Typically an event is a record from a log file, such as:
<p><code><font size="2">173.26.34.223 - - [01/Jul/2009:12:05:27 -0700] "GET /trade/app?action=logout HTTP/1.1" 200 2953</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> column
</td><td valign="center" align="left"> field
</td><td valign="center" align="left"> Fields in Splunk are dynamically returned from a search, meaning that one search might return a set of fields, while another search might return another set. After teaching Splunk how to extract out more fields from the raw underlying data, the same search will return more fields that it previously did. Fields in Splunk are not tied to a datatype.
</td></tr><tr><td valign="center" align="left"> database/schema
</td><td valign="center" align="left"> index/app
</td><td valign="center" align="left"> In Splunk, an index is a collection of data, somewhat like a database has a collection of tables. Domain knowledge of that data, how to extract it, what reports to run, etc, are stored in a Splunk app.
</td></tr></table><h3> <a name="sqltosplunk_from_sql_to_splunk"><span class="mw-headline" id="From_SQL_to_Splunk"> From SQL to Splunk </span></a></h3>
<p>The examples below use the value of the Splunk field "source" as a proxy for "table". In Splunk, "source" is the name of the file, stream, or other input from which a particular piece of data originates, for example /var/log/messages or UDP:514.
</p><p>When translating from any language to another, often the translation is longer because of idioms in the original language. Some of the Splunk search examples shown below could be more concise, but for parallelism and clarity, the table and field names are kept the same from the sql. Also, searches rarely need the FIELDS command to filter out columns as the user interface provides a more convenient method; and you never have to use "AND" in boolean searches, as they are implied between terms.
</p><p><br></p>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0"> SQL command
</th><th bgcolor="#C0C0C0"> SQL example
</th><th bgcolor="#C0C0C0"> Splunk example
</th></tr><tr><td width="20%" valign="center" align="left"> SELECT *
</td><td width="40%" valign="center" align="left"> <code><font size="2">SELECT *
<p>FROM mytable</p></font></code>

</td><td width="40%" valign="center" align="left"> <code><font size="2">source=mytable</font></code>
</td></tr><tr><td valign="center" align="left"> WHERE
</td><td valign="center" align="left"> <code><font size="2">SELECT *
<p>FROM mytable
</p><p>WHERE mycolumn=5</p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable mycolumn=5</font></code>
</td></tr><tr><td valign="center" align="left"> SELECT
</td><td valign="center" align="left"> <code><font size="2">SELECT mycolumn1, mycolumn2
<p>FROM mytable</p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable
<p>| FIELDS mycolumn1, mycolumn2</p></font></code>

</td></tr><tr><td valign="center" align="left"> AND/OR
</td><td valign="center" align="left"> <code><font size="2">SELECT *
<p>FROM mytable
</p><p>WHERE (mycolumn1="true" OR mycolumn2="red") AND mycolumn3="blue"</p></font></code> 

</td><td valign="center" align="left"> <code><font size="2">source=mytable
<p>AND (mycolumn1="true" OR mycolumn2="red")
</p><p>AND mycolumn3="blue"</p></font></code>

</td></tr><tr><td valign="center" align="left"> AS (alias)
</td><td valign="center" align="left"> <code><font size="2">SELECT mycolumn AS column_alias
<p>FROM mytable </p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable
<p>| RENAME mycolumn as column_alias
</p><p>| FIELDS column_alias</p></font></code>

</td></tr><tr><td valign="center" align="left"> BETWEEN
</td><td valign="center" align="left"> <code><font size="2">SELECT *
<p>FROM mytable
</p><p>WHERE mycolumn
</p><p>BETWEEN 1 AND 5</p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable mycolumn&gt;=1 mycolumn&lt;=5</font></code>
</td></tr><tr><td valign="center" align="left"> GROUP BY
</td><td valign="center" align="left"> <code><font size="2">SELECT mycolumn, avg(mycolumn)
<p>FROM mytable
</p><p>WHERE mycolumn=value
</p><p>GROUP BY mycolumn</p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable mycolumn=value
<p>| STATS avg(mycolumn) BY mycolumn
</p><p>| FIELDS mycolumn, avg(mycolumn) </p></font></code>

</td></tr><tr><td valign="center" align="left"> HAVING
</td><td valign="center" align="left"> <code><font size="2">SELECT mycolumn, avg(mycolumn)
<p>FROM mytable
</p><p>WHERE mycolumn=value
</p><p>GROUP BY mycolumn
</p><p>HAVING avg(mycolumn)=value</p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable mycolumn=value
<p>| STATS avg(mycolumn) BY mycolumn
</p><p>| SEARCH avg(mycolumn)=value
</p><p>| FIELDS mycolumn, avg(mycolumn)</p></font></code>

</td></tr><tr><td valign="center" align="left"> LIKE
</td><td valign="center" align="left"> <code><font size="2">SELECT *
<p>FROM mytable
</p><p>WHERE mycolumn LIKE "%some text%"</p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable mycolumn="*some text*"</font></code>
<p><b>Note:</b> The most common search usage in Splunk is actually something that is nearly impossible in SQL -- to search all fields for a substring. The following search will return all rows that contain "some text" anywhere:
</p><p><code><font size="2">source=mytable "some text" </font></code>
</p>
</td></tr><tr><td valign="center" align="left"> ORDER BY
</td><td valign="center" align="left"> <code><font size="2">SELECT *
<p>FROM mytable
</p><p>ORDER BY mycolumn desc </p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable
<p>| SORT -mycolumn</p></font></code>

</td></tr><tr><td valign="center" align="left"> SELECT DISTINCT
</td><td valign="center" align="left"> <code><font size="2">SELECT DISTINCT mycolumn1, mycolumn2
<p>FROM mytable</p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable
<p>| DEDUP mycolumn1
</p><p>| FIELDS mycolumn1, mycolumn2</p></font></code>

</td></tr><tr><td valign="center" align="left"> SELECT TOP
</td><td valign="center" align="left"> <code><font size="2">SELECT TOP 5 mycolumn1, mycolumn2
<p>FROM mytable </p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable
<p>| TOP mycolumn1, mycolumn2 </p></font></code>

</td></tr><tr><td valign="center" align="left"> INNER JOIN
</td><td valign="center" align="left"> <code><font size="2">SELECT *
<p>FROM mytable1
</p><p>INNER JOIN mytable2
</p><p>ON mytable1.mycolumn=mytable2.mycolumn</p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable1
<p>| JOIN type=inner mycolumn [ SEARCH source=mytable2 ] </p></font></code>
<p><b>Note:</b> There are two other methods to do a join:
</p>
<ul><li> Use the lookup command to add fields from an external table:
</li></ul><p><code><font size="2">... | LOOKUP myvaluelookup mycolumn OUTPUT myoutputcolumn</font></code>
</p>
<ul><li> Use a subsearch:
</li></ul><p><code><font size="2">source=mytable1 [
</font></code></p><p>SEARCH source=mytable2 mycolumn2=myvalue
</p><p>| FIELDS mycolumn2
</p><p>]
</p>
</td></tr><tr><td valign="center" align="left"> LEFT (OUTER) JOIN
</td><td valign="center" align="left"> <code><font size="2">SELECT *
<p>FROM mytable1
</p><p>LEFT JOIN mytable2
</p><p>ON mytable1.mycolumn=mytable2.mycolumn</p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable1
<p>| JOIN type=left mycolumn [ SEARCH source=mytable2 ] </p></font></code>

</td></tr><tr><td valign="center" align="left"> SELECT INTO
</td><td valign="center" align="left"> <code><font size="2">SELECT *
<p>INTO new_mytable IN mydb2
</p><p>FROM old_mytable</p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=old_mytable
<p>| EVAL source=new_mytable
</p><p>| COLLECT index=mydb2</p></font></code>
<p><b>Note:</b> COLLECT is typically used to store expensively calculated fields back into Splunk so that future access is much faster. This current example is atypical but shown for comparison with SQL's command. source will be renamed orig_source 
</p>
</td></tr><tr><td valign="center" align="left"> TRUNCATE TABLE
</td><td valign="center" align="left"> <code><font size="2">TRUNCATE TABLE mytable</font></code>
</td><td valign="center" align="left"> <code><font size="2">source=mytable
<p>| DELETE</p></font></code>

</td></tr><tr><td valign="center" align="left"> INSERT INTO
</td><td valign="center" align="left"> <code><font size="2">INSERT INTO mytable
<p>VALUES (value1, value2, value3,....)</p></font></code>

</td><td valign="center" align="left"> <b>Note:</b> see SELECT INTO. Individual records are not added via the search language, but can be added via the API if need be.
</td></tr><tr><td valign="center" align="left"> UNION
</td><td valign="center" align="left"> <code><font size="2">SELECT mycolumn
<p>FROM mytable1
</p><p>UNION
</p><p>SELECT mycolumn FROM mytable2</p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable1
<p>| APPEND [ SEARCH source=mytable2]
</p><p>| DEDUP mycolumn</p></font></code>

</td></tr><tr><td valign="center" align="left"> UNION ALL
</td><td valign="center" align="left"> <code><font size="2">SELECT *
<p>FROM mytable1
</p><p>UNION ALL
</p><p>SELECT * FROM mytable2</p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable1
<p>| APPEND [ SEARCH source=mytable2] </p></font></code>

</td></tr><tr><td valign="center" align="left"> DELETE
</td><td valign="center" align="left"> <code><font size="2">DELETE FROM mytable
<p>WHERE mycolumn=5</p></font></code>

</td><td valign="center" align="left"> <code><font size="2">source=mytable1 mycolumn=5
<p>| DELETE </p></font></code>

</td></tr><tr><td valign="center" align="left"> UPDATE
</td><td valign="center" align="left"> <code><font size="2">UPDATE mytable
<p>SET column1=value, column2=value,...
</p><p>WHERE some_column=some_value</p></font></code>

</td><td valign="center" align="left"> <b>Note:</b> There are a few things to think about when updating records in Splunk. First, you can just add the new values into Splunk (see INSERT INTO) and not worry about deleting the old values, because Splunk always returns the most recent results first. Second, on retrieval, you can always de-duplicate the results to ensure only the latest values are used (see SELECT DISTINCT). Finally, you can actually delete the old records (see DELETE).
</td></tr></table><h1>Search Commands and Functions</h1><a name="listofsearchcommands"></a><h2> <a name="listofsearchcommands_list_of_search_commands"><span class="mw-headline" id="List_of_search_commands"> List of search commands </span></a></h2>
<p>The table below lists all search commands with a short description and links to their individual reference pages. For a quick guide with examples for use of these search commands, refer to the <a href="#searchcheatsheet" class="external text">Search cheat sheet</a>.
</p><p>Some of these commands share functions -- you can see a list of these functions with descriptions and examples on the following pages: <a href="#commonevalfunctions" class="external text">Functions for eval and where</a> and <a href="#commonstatsfunctions" class="external text">Functions for stats, chart, and timechart</a>.
</p>
<table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th><th bgcolor="#C0C0C0">See also
</th></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#abstract" class="external text">abstract</a></font></code>
</td><td valign="center" align="left">Produces a summary of each search result.
</td><td valign="center" align="left"><code><font size="2">highlight</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#accum" class="external text">accum</a></font></code>
</td><td valign="center" align="left">Keeps a running total of the specified numeric field.
</td><td valign="center" align="left"><code><font size="2">autoregress, delta, trendline, streamstats</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#addcoltotals" class="external text">addcoltotals</a></font></code>
</td><td valign="center" align="left">Computes an event that contains sum of all numeric fields for previous events.
</td><td valign="center" align="left"><code><font size="2">addtotals</font></code>, <code><font size="2">stats</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#addinfo" class="external text">addinfo</a></font></code>
</td><td valign="center" align="left">Add fields that contain common information about the current search.
</td><td valign="center" align="left"><code><font size="2">search</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#addtotals" class="external text">addtotals</a></font></code>
</td><td valign="center" align="left">Computes the sum of all numeric fields for each result.
</td><td valign="center" align="left"><code><font size="2">addcoltotals</font></code>, <code><font size="2">stats</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#af" class="external text">analyzefields</a></font></code>
</td><td valign="center" align="left">Analyze numerical fields for their ability to predict another discrete field.
</td><td valign="center" align="left"><code><font size="2">anomalousvalue</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#anomalies" class="external text">anomalies</a></font></code>
</td><td valign="center" align="left">Computes an "unexpectedness" score for an event.
</td><td valign="center" align="left"><code><font size="2">anomalousvalue, cluster, kmeans, outlier</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#anomalousvalue" class="external text">anomalousvalue</a></font></code>
</td><td valign="center" align="left">Finds and summarizes irregular, or uncommon, search results.
</td><td valign="center" align="left"><code><font size="2">analyzefields, anomalies, cluster, kmeans, outlier</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#append" class="external text">append</a></font></code>
</td><td valign="center" align="left">Appends subsearch results to current results.
</td><td valign="center" align="left"><code><font size="2">appendcols, appendcsv, appendlookup, join, set</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#appendcols" class="external text">appendcols</a></font></code>
</td><td valign="center" align="left">Appends the fields of the subsearch results to current results, first results to first result, second to second, etc.
</td><td valign="center" align="left"><code><font size="2">append, appendcsv, join, set</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#appendpipe" class="external text">appendpipe</a></font></code>
</td><td valign="center" align="left">Appends the result of the subpipeline applied to the current result set to results.
</td><td valign="center" align="left"><code><font size="2">append</font></code>, <code><font size="2">appendcols</font></code>, <code><font size="2">join</font></code>, <code><font size="2">set</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#arules" class="external text">arules</a></font></code>
</td><td valign="center" align="left">Finds association rules between field values.
</td><td valign="center" align="left"><code><font size="2"><a href="#associate" class="external text">associate</a>, <a href="#correlate" class="external text">correlate</a></font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#associate" class="external text">associate</a></font></code>
</td><td valign="center" align="left">Identifies correlations between fields.
</td><td valign="center" align="left"><code><font size="2">correlate, contingency</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#audit" class="external text">audit</a></font></code>
</td><td valign="center" align="left">Returns audit trail information that is stored in the local audit index.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#autoregress" class="external text">autoregress</a></font></code>
</td><td valign="center" align="left">Sets up data for calculating the moving average.
</td><td valign="center" align="left"><code><font size="2">accum, autoregress, delta, trendline, streamstats</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#bucket" class="external text">bucket, bin, discretize</a></font></code>
</td><td valign="center" align="left">Puts continuous numerical values into discrete sets.
</td><td valign="center" align="left"><code><font size="2">chart, timechart</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#bucketdir" class="external text">bucketdir</a></font></code>
</td><td valign="center" align="left">Replaces a field value with higher-level grouping, such as replacing filenames with directories.
</td><td valign="center" align="left"><code><font size="2">cluster, dedup</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>
</td><td valign="center" align="left">Returns results in a tabular output for charting. See also, <a href="#commonstatsfunctions" class="external text">Functions for stats, chart, and timechart</a>.
</td><td valign="center" align="left"><code><font size="2">bucket, sichart, timechart</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#cluster" class="external text">cluster</a></font></code>
</td><td valign="center" align="left">Clusters similar events together.
</td><td valign="center" align="left"><code><font size="2">anomalies, anomalousvalue, cluster, kmeans, outlier</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#collect" class="external text">collect, stash</a></font></code>
</td><td valign="center" align="left">Puts search results into a summary index.
</td><td valign="center" align="left"><code><font size="2">overlap</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#concurrency" class="external text">concurrency</a></font></code>
</td><td valign="center" align="left">Uses a duration field to find the number of "concurrent" events for each event.
</td><td valign="center" align="left"><code><font size="2">timechart</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#contingency" class="external text">contingency, counttable, ctable</a></font></code>
</td><td valign="center" align="left">Builds a contingency table for two fields.
</td><td valign="center" align="left"><code><font size="2">associate, correlate</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#convert" class="external text">convert</a></font></code>
</td><td valign="center" align="left">Converts field values into numerical values.
</td><td valign="center" align="left"> <code><font size="2">eval</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#correlate" class="external text">correlate</a></font></code>
</td><td valign="center" align="left">Calculates the correlation between different fields.
</td><td valign="center" align="left"><code><font size="2">associate, contingency</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#crawl" class="external text">crawl</a></font></code>
</td><td valign="center" align="left">Crawls the filesystem for new sources to index.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#datamodel" class="external text">datamodel</a></font></code>
</td><td valign="center" align="left">Examine data model or data model object and search a data model object.
</td><td valign="center" align="left"><code><font size="2">pivot</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#dbinspect" class="external text">dbinspect</a></font></code>
</td><td valign="center" align="left">Returns information about the specified index.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#dedup" class="external text">dedup</a></font></code>
</td><td valign="center" align="left">Removes subsequent results that match a specified criteria.
</td><td valign="center" align="left"><code><font size="2">uniq</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#delete" class="external text">delete</a></font></code>
</td><td valign="center" align="left">Delete specific events or search results.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#delta" class="external text">delta</a></font></code>
</td><td valign="center" align="left">Computes the difference in field value between nearby results.
</td><td valign="center" align="left"> <code><font size="2">accum, autoregress, trendline, streamstats</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#diff" class="external text">diff</a></font></code>
</td><td valign="center" align="left">Returns the difference between two search results.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#dispatch" class="external text">dispatch</a></font></code>
</td><td valign="center" align="left">Encapsulates long running, streaming reports.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#erex" class="external text">erex</a></font></code>
</td><td valign="center" align="left">Allows you to specify example or counter example values to automatically extract fields that have similar values.
</td><td valign="center" align="left"><code><font size="2">extract</font></code>, <code><font size="2">kvform</font></code>, <code><font size="2">multikv</font></code>, <code><font size="2">regex</font></code>, <code><font size="2">rex</font></code>, <code><font size="2">xmlkv</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#eval" class="external text">eval</a></font></code>
</td><td valign="center" align="left">Calculates an expression and puts the value into a field. See also, <a href="#commonevalfunctions" class="external text">Functions for eval and where</a>.
</td><td valign="center" align="left"><code><font size="2">where</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#eventcount" class="external text">eventcount</a></font></code>
</td><td valign="center" align="left">Returns the number of events in an index.
</td><td valign="center" align="left"><code><font size="2">dbinspect</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#eventstats" class="external text">eventstats</a></font></code>
</td><td valign="center" align="left">Adds summary statistics to all search results.
</td><td valign="center" align="left"><code><font size="2">stats</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#extract" class="external text">extract, kv</a></font></code>
</td><td valign="center" align="left">Extracts field-value pairs from search results.
</td><td valign="center" align="left"><code><font size="2">kvform, multikv, xmlkv, rex</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#fieldformat" class="external text">fieldformat</a></font></code>
</td><td valign="center" align="left">Expresses how to render a field at output time without changing the underlying value.
</td><td valign="center" align="left"><code><font size="2">eval, where</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#fields" class="external text">fields</a></font></code>
</td><td valign="center" align="left">Removes fields from search results.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#fieldsummary" class="external text">fieldsummary</a></font></code>
</td><td valign="center" align="left"> Generates summary information for all or a subset of the fields.
</td><td valign="center" align="left"> <code><font size="2">af, anomalies, anomalousvalue, stats</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2">file</font></code>
</td><td valign="center" align="left">This command is no longer supported. See <a href="#inputcsv" class="external text">inputcsv</a>.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#filldown" class="external text">filldown</a></font></code>
</td><td valign="center" align="left">Replaces NULL values with the last non-NULL value.
</td><td valign="center" align="left"><code><font size="2">fillnull</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#fillnull" class="external text">fillnull</a></font></code>
</td><td valign="center" align="left">Replaces null values with a specified value.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#findtypes" class="external text">findtypes</a></font></code>
</td><td valign="center" align="left"> Generates a list of suggested event types.
</td><td valign="center" align="left"> <code><font size="2">typer</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#folderize" class="external text">folderize</a></font></code>
</td><td valign="center" align="left"> Creates a higher-level grouping, such as replacing filenames with directories.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#foreach" class="external text">foreach</a></font></code>
</td><td valign="center" align="left">Run a templatized streaming subsearch for each field in a wildcarded field list.
</td><td valign="center" align="left"><code><font size="2"><a href="#eval" class="external text">eval</a></font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#format" class="external text">format</a></font></code>
</td><td valign="center" align="left">Takes the results of a subsearch and formats them into a single result.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#gauge" class="external text">gauge</a></font></code>
</td><td valign="center" align="left">Transforms results into a format suitable for display by the Gauge chart types.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#gentimes" class="external text">gentimes</a></font></code>
</td><td valign="center" align="left">Generates time-range results.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#geostats" class="external text">geostats</a></font></code>
</td><td valign="center" align="left">Generate statistics which are clustered into geographical bins to be rendered on a world map.
</td><td valign="center" align="left"><code><font size="2"><a href="#stats" class="external text">stats</a>, <a href="#xyseries" class="external text">xyseries</a></font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#head" class="external text">head</a></font></code>
</td><td valign="center" align="left">Returns the first number n of specified results.
</td><td valign="center" align="left"><code><font size="2">reverse, tail</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#highlight" class="external text">highlight</a></font></code>
</td><td valign="center" align="left">Causes Splunk Web to highlight specified terms.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#history" class="external text">history</a></font></code>
</td><td valign="center" align="left">Returns a history of searches formatted as an events list or as a table.
</td><td valign="center" align="left"><code><font size="2">search</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#input" class="external text">input</a></font></code>
</td><td valign="center" align="left">Adds sources to Splunk or disables sources from being processed by Splunk.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#inputcsv" class="external text">inputcsv</a></font></code>
</td><td valign="center" align="left">Loads search results from the specified CSV file.
</td><td valign="center" align="left"><code><font size="2">loadjob, outputcsv</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#inputlookup" class="external text">inputlookup</a></font></code>
</td><td valign="center" align="left">Loads search results from a specified static lookup table.
</td><td valign="center" align="left"><code><font size="2">inputcsv</font></code>, <code><font size="2">join</font></code>, <code><font size="2">lookup</font></code>, <code><font size="2">outputlookup</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#iplocation" class="external text">iplocation</a></font></code>
</td><td valign="center" align="left">Extracts location information from IP addresses.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#join" class="external text">join</a></font></code>
</td><td valign="center" align="left">Combine the results of a subsearch with the results of a main search.
</td><td valign="center" align="left"><code><font size="2">appendcols, lookup, selfjoin</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#kmeans" class="external text">kmeans</a></font></code>
</td><td valign="center" align="left">Performs k-means clustering on selected fields.
</td><td valign="center" align="left"><code><font size="2">anomalies, anomalousvalue, cluster, outlier</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#kvform" class="external text">kvform</a></font></code>
</td><td valign="center" align="left">Extracts values from search results, using a form template.
</td><td valign="center" align="left"><code><font size="2">extract, kvform, multikv, xmlkv, rex</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#loadjob" class="external text">loadjob</a></font></code>
</td><td valign="center" align="left">Loads events or results of a previously completed search job.
</td><td valign="center" align="left"><code><font size="2">inputcsv</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#localize" class="external text">localize</a></font></code>
</td><td valign="center" align="left">Returns a list of the time ranges in which the search results were found.
</td><td valign="center" align="left"><code><font size="2">map, transaction</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#localop" class="external text">localop</a></font></code>
</td><td valign="center" align="left"> Tells Splunk to run subsequent commands, that is all commands following this, locally and not on a remote peer(s).
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#lookup" class="external text">lookup</a></font></code>
</td><td valign="center" align="left">Explicitly invokes field value lookups.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#makecontinuous" class="external text">makecontinuous</a></font></code>
</td><td valign="center" align="left">Makes a field that is supposed to be the x-axis continuous (invoked by chart/timechart)
</td><td valign="center" align="left"><code><font size="2">chart, timechart</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#makemv" class="external text">makemv</a></font></code>
</td><td valign="center" align="left">Change a specified field into a multivalued field during a search.
</td><td valign="center" align="left"><code><font size="2">mvcombine, mvexpand, nomv</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#map" class="external text">map</a></font></code>
</td><td valign="center" align="left">A looping operator, performs a search over each search result.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#metadata" class="external text">metadata</a></font></code>
</td><td valign="center" align="left"> Returns a list of source, sourcetypes, or hosts from a specified index or distributed search peer.
</td><td valign="center" align="left"><code><font size="2">dbinspect</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#metasearch" class="external text">metasearch</a></font></code>
</td><td valign="center" align="left">Retrieves event metadata from indexes based on terms in the logical expression.
</td><td valign="center" align="left"><code><font size="2">metadata</font></code>, <code><font size="2">search</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#multikv" class="external text">multikv</a></font></code>
</td><td valign="center" align="left"> Extracts field-values from table-formatted events.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#multisearch" class="external text">multisearch</a></font></code>
</td><td valign="center" align="left"> Run multiple <b>streaming searches</b> at the same time.
</td><td valign="center" align="left"> <code><font size="2">append, join</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#mvcombine" class="external text">mvcombine</a></font></code>
</td><td valign="center" align="left">Combines events in search results that have a single differing field value into one result with a multivalue field of the differing field.
</td><td valign="center" align="left"><code><font size="2">mvexpand, makemv, nomv</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#mvexpand" class="external text">mvexpand</a></font></code>
</td><td valign="center" align="left">Expands the values of a multivalue field into separate events for each value of the multivalue field.
</td><td valign="center" align="left"><code><font size="2">mvcombine, makemv, nomv</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#nomv" class="external text">nomv</a></font></code>
</td><td valign="center" align="left">Changes a specified multivalued field into a single-value field at search time.
</td><td valign="center" align="left"><code><font size="2">makemv, mvcombine, mvexpand</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#outlier" class="external text">outlier</a></font></code>
</td><td valign="center" align="left">Removes outlying numerical values.
</td><td valign="center" align="left"><code><font size="2">anomalies, anomalousvalue, cluster, kmeans</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#outputcsv" class="external text">outputcsv</a></font></code>
</td><td valign="center" align="left">Outputs search results to a specified CSV file.
</td><td valign="center" align="left"><code><font size="2">inputcsv, outputtext</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#outputlookup" class="external text">outputlookup</a></font></code>
</td><td valign="center" align="left">Writes search results to the specified static lookup table.
</td><td valign="center" align="left"><code><font size="2">inputlookup</font></code>, <code><font size="2">lookup</font></code>, <code><font size="2">outputcsv</font></code>, <code><font size="2">outputlookup</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#outputtext" class="external text">outputtext</a></font></code>
</td><td valign="center" align="left">Ouputs the raw text field (<code><font size="2">_raw</font></code>) of results into the <code><font size="2">_xml</font></code> field.
</td><td valign="center" align="left"><code><font size="2">outputtext</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#overlap" class="external text">overlap</a></font></code>
</td><td valign="center" align="left">Finds events in a summary index that overlap in time or have missed events.
</td><td valign="center" align="left"><code><font size="2">collect</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#pivot" class="external text">pivot</a>
</font></code></td><td valign="center" align="left"> Run pivot searches against a particular data model object.
</td><td valign="center" align="left"> &lt;code&gt;datamodel
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#predict" class="external text">predict</a></font></code>
</td><td valign="center" align="left"> Enables you to use time series algorithms to predict future values of fields.
</td><td valign="center" align="left"> <code><font size="2">x11</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rangemap" class="external text">rangemap</a></font></code>
</td><td valign="center" align="left">Sets RANGE field to the name of the ranges that match.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rare" class="external text">rare</a></font></code>
</td><td valign="center" align="left">Displays the least common values of a field.
</td><td valign="center" align="left"><code><font size="2">sirare, stats, top</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#regex" class="external text">regex</a></font></code>
</td><td valign="center" align="left">Removes results that do not match the specified regular expression.
</td><td valign="center" align="left"><code><font size="2">rex</font></code>, <code><font size="2">search</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#relevancy" class="external text">relevancy</a></font></code>
</td><td valign="center" align="left">Calculates how well the event matches the query.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#reltime" class="external text">reltime</a></font></code>
</td><td valign="center" align="left">Converts the difference between 'now' and '_time' to a human-readable value and adds adds this value to the field, 'reltime', in your search results.
</td><td valign="center" align="left"><code><font size="2">convert</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rename" class="external text">rename</a></font></code>
</td><td valign="center" align="left">Renames a specified field; wildcards can be used to specify multiple fields.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#replace" class="external text">replace</a></font></code>
</td><td valign="center" align="left">Replaces values of specified fields with a specified new value.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#rest" class="external text">rest</a></font></code>
</td><td valign="center" align="left"> Access a REST endpoint and display the returned entities as search results.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#return" class="external text">return</a></font></code>
</td><td valign="center" align="left"> Specify the values to return from a subsearch.
</td><td valign="center" align="left"> <code><font size="2">format, search</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#reverse" class="external text">reverse</a></font></code>
</td><td valign="center" align="left">Reverses the order of the results.
</td><td valign="center" align="left"><code><font size="2">head, sort, tail</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rex" class="external text">rex</a></font></code>
</td><td valign="center" align="left">Specify a Perl regular expression named groups to extract fields while you search.
</td><td valign="center" align="left"><code><font size="2">extract, kvform, multikv, xmlkv, regex</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rtorder" class="external text">rtorder</a></font></code>
</td><td valign="center" align="left">Buffers events from real-time search to emit them in ascending time order when possible.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#run" class="external text">run</a></font></code>
</td><td valign="center" align="left">See <code><font size="2">script</font></code>.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#savedsearch" class="external text">savedsearch</a></font></code>
</td><td valign="center" align="left">Returns the search results of a saved search.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#script" class="external text">script, run</a></font></code>
</td><td valign="center" align="left">Runs an external Perl or Python script as part of your search.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#scrub" class="external text">scrub</a></font></code>
</td><td valign="center" align="left">Anonymizes the search results.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#search" class="external text">search</a></font></code>
</td><td valign="center" align="left">Searches Splunk indexes for matching events.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#searchtxn" class="external text">searchtxn</a></font></code>
</td><td valign="center" align="left">Finds transaction events within specified search constraints.
</td><td valign="center" align="left"><code><font size="2">transaction</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#selfjoin" class="external text">selfjoin</a></font></code>
</td><td valign="center" align="left"> Joins results with itself.
</td><td valign="center" align="left"><code><font size="2">join</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sendemail" class="external text">sendemail</a></font></code>
</td><td valign="center" align="left">Emails search results to a specified email address.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#set" class="external text">set</a></font></code>
</td><td valign="center" align="left"> Performs set operations (union, diff, intersect) on subsearches.
</td><td valign="center" align="left"><code><font size="2">append, appendcols, join, diff</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#setfields" class="external text">setfields</a></font></code>
</td><td valign="center" align="left">Sets the field values for all results to a common value.
</td><td valign="center" align="left"><code><font size="2">eval</font></code>, <code><font size="2">fillnull</font></code>, <code><font size="2">rename</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sichart" class="external text">sichart</a></font></code>
</td><td valign="center" align="left">Summary indexing version of chart.
</td><td valign="center" align="left">chart, sitimechart, timechart
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sirare" class="external text">sirare</a></font></code>
</td><td valign="center" align="left">Summary indexing version of rare.
</td><td valign="center" align="left">rare
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sistats" class="external text">sistats</a></font></code>
</td><td valign="center" align="left">Summary indexing version of stats.
</td><td valign="center" align="left">stats
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sitimechart" class="external text">sitimechart</a></font></code>
</td><td valign="center" align="left">Summary indexing version of timechart.
</td><td valign="center" align="left">chart, sichart, timechart
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sitop" class="external text">sitop</a></font></code>
</td><td valign="center" align="left">Summary indexing version of top.
</td><td valign="center" align="left">top
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sort" class="external text">sort</a></font></code>
</td><td valign="center" align="left">Sorts search results by the specified fields.
</td><td valign="center" align="left"><code><font size="2">reverse</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#spath" class="external text">spath</a></font></code>
</td><td valign="center" align="left"> Provides a straightforward means for extracting fields from structured data formats, XML and JSON.
</td><td valign="center" align="left"><code><font size="2">xpath</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#stats" class="external text">stats</a></font></code>
</td><td valign="center" align="left">Provides statistics, grouped optionally by fields. See also, <a href="#commonstatsfunctions" class="external text">Functions for stats, chart, and timechart</a>.
</td><td valign="center" align="left"><code><font size="2">eventstats, top, rare</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#strcat" class="external text">strcat</a></font></code>
</td><td valign="center" align="left">Concatenates string values.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#streamstats" class="external text">streamstats</a></font></code>
</td><td valign="center" align="left">Adds summary statistics to all search results in a streaming manner.
</td><td valign="center" align="left">eventstats, stats
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#table" class="external text">table</a></font></code>
</td><td valign="center" align="left">Creates a table using the specified fields.
</td><td valign="center" align="left"><code><font size="2">fields</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#tags" class="external text">tags</a></font></code>
</td><td valign="center" align="left">Annotates specified fields in your search results with tags.
</td><td valign="center" align="left"><code><font size="2">eval</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#tail" class="external text">tail</a></font></code>
</td><td valign="center" align="left">Returns the last number n of specified results.
</td><td valign="center" align="left"><code><font size="2">head, reverse</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">Create a time series chart and corresponding table of statistics. See also, <a href="#commonstatsfunctions" class="external text">Functions for stats, chart, and timechart</a>.
</td><td valign="center" align="left"><code><font size="2">chart, bucket</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#top" class="external text">top</a></font></code>
</td><td valign="center" align="left">Displays the most common values of a field.
</td><td valign="center" align="left"><code><font size="2">rare, stats</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#transaction" class="external text">transaction</a></font></code>
</td><td valign="center" align="left">Groups search results into transactions.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#transpose" class="external text">transpose</a></font></code>
</td><td valign="center" align="left">Reformats rows of search results as columns.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#trendline" class="external text">trendline</a></font></code>
</td><td valign="center" align="left">Computes moving averages of fields.
</td><td valign="center" align="left"><code><font size="2">timechart</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#tscollect" class="external text">tscollect</a></font></code>
</td><td valign="center" align="left">Writes results into tsidx file(s) for later use by <a href="#tstats" class="external text">tstats command</a>.
</td><td valign="center" align="left"><code><font size="2"><a href="#collect" class="external text">collect</a>, <a href="#stats" class="external text">stats</a>, <a href="#tstats" class="external text">tstats</a></font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#tstats" class="external text">tstats</a></font></code>
</td><td valign="center" align="left">Calculates statistics over tsidx files created with the tscollect command.
</td><td valign="center" align="left"><code><font size="2"><a href="#stats" class="external text">stats</a>, <a href="#tscollect" class="external text">tscollect</a></font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#typeahead" class="external text">typeahead</a></font></code>
</td><td valign="center" align="left">Returns typeahead information on a specified prefix.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#typelearner" class="external text">typelearner</a></font></code>
</td><td valign="center" align="left">Generates suggested eventtypes.
</td><td valign="center" align="left"><code><font size="2">typer</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#typer" class="external text">typer</a></font></code>
</td><td valign="center" align="left">Calculates the eventtypes for the search results.
</td><td valign="center" align="left"><code><font size="2">typelearner</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#uniq" class="external text">uniq</a></font></code>
</td><td valign="center" align="left">Removes any search that is an exact duplicate with a previous result.
</td><td valign="center" align="left"><code><font size="2">dedup</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#untable" class="external text">untable</a></font></code>
</td><td valign="center" align="left">Converts results from a tabular format to a format similar to <code><font size="2">stats</font></code> output. Inverse of <code><font size="2">xyseries</font></code> and <code><font size="2">maketable</font></code>.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#where" class="external text">where</a></font></code>
</td><td valign="center" align="left">Performs arbitrary filtering on your data. See also, <a href="#commonevalfunctions" class="external text">Functions for eval and where</a>.
</td><td valign="center" align="left"><code><font size="2">eval</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#x11" class="external text">x11</a></font></code>
</td><td valign="center" align="left"> Enables you to determine the trend in your data by removing the seasonal pattern.
</td><td valign="center" align="left"> <code><font size="2">predict</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#xmlkv" class="external text">xmlkv</a></font></code>
</td><td valign="center" align="left">Extracts XML key-value pairs.
</td><td valign="center" align="left"><code><font size="2">extract, kvform, multikv, rex</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#xmlunescape" class="external text">xmlunescape</a></font></code>
</td><td valign="center" align="left">Unescapes XML.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#xpath" class="external text">xpath</a></font></code>
</td><td valign="center" align="left">Redefines the XML path.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#xyseries" class="external text">xyseries</a></font></code>
</td><td valign="center" align="left">Converts results into a format suitable for graphing.
</td><td valign="center" align="left">
</td></tr></table><a name="commandsbycategory"></a><h2> <a name="commandsbycategory_list_of_search_commands_by_category"><span class="mw-headline" id="List_of_search_commands_by_category"> List of search commands by category </span></a></h2>
<p>The table below lists all the search commands categorized by their usage. Some commands fit into more than one category based on the options that you specify. 
</p>
<h3> <a name="commandsbycategory_correlation"><span class="mw-headline" id="Correlation"> Correlation </span></a></h3>
<p>These commands can be used to build correlation searches.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#append" class="external text">append</a></font></code>
</td><td valign="center" align="left"> Appends subsearch results to current results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#appendcols" class="external text">appendcols</a></font></code>
</td><td valign="center" align="left">Appends the fields of the subsearch results to current results, first results to first result, second to second, etc.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#appendpipe" class="external text">appendpipe</a></font></code>
</td><td valign="center" align="left">Appends the result of the subpipeline applied to the current result set to results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#arules" class="external text">arules</a></font></code>
</td><td valign="center" align="left">Finds association rules between field values.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#associate" class="external text">associate</a></font></code>
</td><td valign="center" align="left">Identifies correlations between fields.
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#contingency" class="external text">contingency, counttable, ctable</a></font></code>
</td><td valign="center" align="left">Builds a contingency table for two fields.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#correlate" class="external text">correlate</a></font></code>
</td><td valign="center" align="left">Calculates the correlation between different fields.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#diff" class="external text">diff</a></font></code>
</td><td valign="center" align="left">Returns the difference between two search results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#join" class="external text">join</a></font></code>
</td><td valign="center" align="left">SQL-like joining of results from the main results pipeline with the results from the subpipeline.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#lookup" class="external text">lookup</a></font></code>
</td><td valign="center" align="left">Explicitly invokes field value lookups.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#selfjoin" class="external text">selfjoin</a></font></code>
</td><td valign="center" align="left"> Joins results with itself.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#set" class="external text">set</a></font></code>
</td><td valign="center" align="left"> Performs set operations (union, diff, intersect) on subsearches.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#stats" class="external text">stats</a></font></code>
</td><td valign="center" align="left">Provides statistics, grouped optionally by fields. See also, <a href="#commonstatsfunctions" class="external text">Functions for stats, chart, and timechart</a>.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#transaction" class="external text">transaction</a></font></code>
</td><td valign="center" align="left">Groups search results into transactions.
</td></tr></table><h3> <a name="commandsbycategory_data_and_indexes"><span class="mw-headline" id="Data_and_indexes"> Data and indexes </span></a></h3>
<p>These commands can be used to learn more about your data, add and delete data sources, or manage the data in your summary indexes.
</p>
<h4><font size="3"><b><i> <a name="commandsbycategory_view_data"><span class="mw-headline" id="View_data"> View data </span></a></i></b></font></h4>
<p>These commands return information about the data you have in your indexes. They do not modify your data or indexes in any way.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"><code><font size="2"><a href="#audit" class="external text">audit</a></font></code>
</td><td valign="center" align="left">Returns audit trail information that is stored in the local audit index.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#datamodel" class="external text">datamodel</a></font></code>
</td><td valign="center" align="left">Return information about a data model or data model object.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#dbinspect" class="external text">dbinspect</a></font></code>
</td><td valign="center" align="left">Returns information about the specified index.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#eventcount" class="external text">eventcount</a></font></code>
</td><td valign="center" align="left">Returns the number of events in an index.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#metadata" class="external text">metadata</a></font></code>
</td><td valign="center" align="left">Returns a list of source, sourcetypes, or hosts from a specified index or distributed search peer.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#typeahead" class="external text">typeahead</a></font></code>
</td><td valign="center" align="left">Returns typeahead information on a specified prefix.
</td></tr></table><h4><font size="3"><b><i> <a name="commandsbycategory_manage_data"><span class="mw-headline" id="Manage_data"> Manage data </span></a></i></b></font></h4>
<p>These are some commands you can use to add data sources to or delete specific data from your indexes.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#crawl" class="external text">crawl</a></font></code>
</td><td valign="center" align="left">Crawls the filesystem for new sources to add to an index.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#delete" class="external text">delete</a></font></code>
</td><td valign="center" align="left">Delete specific events or search results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#input" class="external text">input</a></font></code>
</td><td valign="center" align="left">Adds sources to Splunk or disables sources from being processed by Splunk.
</td></tr></table><h4><font size="3"><b><i> <a name="commandsbycategory_manage_summary_indexes"><span class="mw-headline" id="Manage_summary_indexes"> Manage summary indexes </span></a></i></b></font></h4>
<p>These commands are used to create and manage your summary indexes.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#collect" class="external text">collect, stash</a></font></code>
</td><td valign="center" align="left">Puts search results into a summary index.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#overlap" class="external text">overlap</a></font></code>
</td><td valign="center" align="left">Finds events in a summary index that overlap in time or have missed events.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sichart" class="external text">sichart</a></font></code>
</td><td valign="center" align="left">Summary indexing version of chart. Computes the necessary information for you to later run a chart search on the summary index.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sirare" class="external text">sirare</a></font></code>
</td><td valign="center" align="left">Summary indexing version of rare. Computes the necessary information for you to later run a rare search on the summary index.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sistats" class="external text">sistats</a></font></code>
</td><td valign="center" align="left">Summary indexing version of stats. Computes the necessary information for you to later run a stats search on the summary index.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sitimechart" class="external text">sitimechart</a></font></code>
</td><td valign="center" align="left">Summary indexing version of timechart. Computes the necessary information for you to later run a timechart search on the summary index.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sitop" class="external text">sitop</a></font></code>
</td><td valign="center" align="left">Summary indexing version of top. Computes the necessary information for you to later run a top search on the summary index.
</td></tr></table><h3> <a name="commandsbycategory_fields"><span class="mw-headline" id="Fields"> Fields </span></a></h3>
<p>These are commands you can use to add, extract, and modify fields or field values. The most useful command for manipulating fields is <code><font size="2"><a href="#eval" class="external text">eval</a></font></code> and its <a href="#commonevalfunctions" class="external text">functions</a>.
</p>
<h4><font size="3"><b><i> <a name="commandsbycategory_add_fields"><span class="mw-headline" id="Add_fields"> Add fields </span></a></i></b></font></h4>
<p>Use these commands to add new fields.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"><code><font size="2"><a href="#accum" class="external text">accum</a></font></code>
</td><td valign="center" align="left"> Keeps a running total of the specified numeric field.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#addinfo" class="external text">addinfo</a></font></code>
</td><td valign="center" align="left">Add fields that contain common information about the current search.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#addtotals" class="external text">addtotals</a></font></code>
</td><td valign="center" align="left">Computes the sum of all numeric fields for each result.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#delta" class="external text">delta</a></font></code>
</td><td valign="center" align="left">Computes the difference in field value between nearby results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#eval" class="external text">eval</a></font></code>
</td><td valign="center" align="left">Calculates an expression and puts the value into a field. See also, <a href="#commonevalfunctions" class="external text">Functions for eval and where</a>.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#iplocation" class="external text">iplocation</a></font></code>
</td><td valign="center" align="left">Adds location information, such as city, country, latitude, longitude, and so on, based on IP addresses.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#lookup" class="external text">lookup</a></font></code>
</td><td valign="center" align="left">For configured lookup tables, explicitly invokes the field value lookup and adds fields from the lookup table to the events.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#multikv" class="external text">multikv</a></font></code>
</td><td valign="center" align="left"> Extracts field-values from table-formatted events.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rangemap" class="external text">rangemap</a></font></code>
</td><td valign="center" align="left">Sets RANGE field to the name of the ranges that match.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#relevancy" class="external text">relevancy</a></font></code>
</td><td valign="center" align="left">Adds a relevancy field, which indicates how well the event matches the query.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#strcat" class="external text">strcat</a></font></code>
</td><td valign="center" align="left">Concatenates string values and saves the result to a specified field.
</td></tr></table><h4><font size="3"><b><i> <a name="commandsbycategory_extract_fields"><span class="mw-headline" id="Extract_fields"> Extract fields </span></a></i></b></font></h4>
<p>These commands provide different ways to extract new fields from search results.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#erex" class="external text">erex</a></font></code>
</td><td valign="center" align="left">Allows you to specify example or counter example values to automatically extract fields that have similar values.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#extract" class="external text">extract, kv</a></font></code>
</td><td valign="center" align="left">Extracts field-value pairs from search results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#kvform" class="external text">kvform</a></font></code>
</td><td valign="center" align="left">Extracts values from search results, using a form template.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rex" class="external text">rex</a></font></code>
</td><td valign="center" align="left">Specify a Perl regular expression named groups to extract fields while you search.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#spath" class="external text">spath</a></font></code>
</td><td valign="center" align="left"> Provides a straightforward means for extracting fields from structured data formats, XML and JSON.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#xmlkv" class="external text">xmlkv</a></font></code>
</td><td valign="center" align="left">Extracts XML key-value pairs.
</td></tr></table><h4><font size="3"><b><i> <a name="commandsbycategory_modify_fields_and_field_values"><span class="mw-headline" id="Modify_fields_and_field_values"> Modify fields and field values </span></a></i></b></font></h4>
<p>Use these commands to modify fields or their values.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#convert" class="external text">convert</a></font></code>
</td><td valign="center" align="left">Converts field values into numerical values.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#filldown" class="external text">filldown</a></font></code>
</td><td valign="center" align="left">Replaces NULL values with the last non-NULL value.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#fillnull" class="external text">fillnull</a></font></code>
</td><td valign="center" align="left">Replaces null values with a specified value.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#makemv" class="external text">makemv</a></font></code>
</td><td valign="center" align="left">Change a specified field into a multivalue field during a search.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#nomv" class="external text">nomv</a></font></code>
</td><td valign="center" align="left">Changes a specified multivalue field into a single-value field at search time.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#reltime" class="external text">reltime</a></font></code>
</td><td valign="center" align="left">Converts the difference between 'now' and '_time' to a human-readable value and adds adds this value to the field, 'reltime', in your search results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rename" class="external text">rename</a></font></code>
</td><td valign="center" align="left">Renames a specified field. Use wildcards to specify multiple fields.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#replace" class="external text">replace</a></font></code>
</td><td valign="center" align="left">Replaces values of specified fields with a specified new value.
</td></tr></table><h3> <a name="commandsbycategory_find_anomalies"><span class="mw-headline" id="Find_anomalies"> Find anomalies </span></a></h3>
<p>These commands are used to find anomalies in your data. Either search for uncommon or outlying events and fields or cluster similar events together.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#af" class="external text">analyzefields, af</a></font></code>
</td><td valign="center" align="left">Analyze numerical fields for their ability to predict another discrete field.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#anomalies" class="external text">anomalies</a></font></code>
</td><td valign="center" align="left">Computes an "unexpectedness" score for an event.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#anomalousvalue" class="external text">anomalousvalue</a></font></code>
</td><td valign="center" align="left">Finds and summarizes irregular, or uncommon, search results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#cluster" class="external text">cluster</a></font></code>
</td><td valign="center" align="left">Clusters similar events together.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#kmeans" class="external text">kmeans</a></font></code>
</td><td valign="center" align="left">Performs k-means clustering on selected fields.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#outlier" class="external text">outlier</a></font></code>
</td><td valign="center" align="left">Removes outlying numerical values.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rare" class="external text">rare</a></font></code>
</td><td valign="center" align="left">Displays the least common values of a field.
</td></tr></table><h3> <a name="commandsbycategory_geoip_and_location"><span class="mw-headline" id="Geoip_and_location"> Geoip and location </span></a></h3>
<p>These commands add geographical information to your search results.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#iplocation" class="external text">iplocation</a></font></code>
</td><td valign="center" align="left">Returns location information, such as city, country, latitude, longitude, and so on, based on IP addresses.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#geostats" class="external text">geostats</a></font></code>
</td><td valign="center" align="left">Generate statistics which are clustered into geographical bins to be rendered on a world map.
</td></tr></table><h3> <a name="commandsbycategory_prediction_and_trending"><span class="mw-headline" id="Prediction_and_trending"> Prediction and trending </span></a></h3>
<p>These commands predict future values and calculate trendlines that can be used to create visualizations.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#predict" class="external text">predict</a></font></code>
</td><td valign="center" align="left"> Enables you to use time series algorithms to predict future values of fields.
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#trendline" class="external text">trendline</a></font></code>
</td><td valign="center" align="left"> Computes moving averages of fields.
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#x11" class="external text">x11</a></font></code>
</td><td valign="center" align="left"> Enables you to determine the trend in your data by removing the seasonal pattern.
</td></tr></table><p><br></p>
<h3> <a name="commandsbycategory_reports"><span class="mw-headline" id="Reports"> Reports </span></a></h3>
<p>These commands are used to build <b>transforming searches</b>. These commands return statistical data tables required for charts and other kinds of data visualizations. 
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"><code><font size="2"><a href="#addtotals" class="external text">addtotals</a></font></code>
</td><td valign="center" align="left">Computes the sum of all numeric fields for each result.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#bucket" class="external text">bucket, bin, discretize</a></font></code>
</td><td valign="center" align="left">Puts continuous numerical values into discrete sets.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>
</td><td valign="center" align="left">Returns results in a tabular output for charting. See also, <a href="#commonstatsfunctions" class="external text">Functions for stats, chart, and timechart</a>.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#contingency" class="external text">contingency, counttable, ctable</a></font></code>
</td><td valign="center" align="left">Builds a contingency table for two fields.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#correlate" class="external text">correlate</a></font></code>
</td><td valign="center" align="left">Calculates the correlation between different fields.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#eventcount" class="external text">eventcount</a></font></code>
</td><td valign="center" align="left">Returns the number of events in an index.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#eventstats" class="external text">eventstats</a></font></code>
</td><td valign="center" align="left">Adds summary statistics to all search results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#gauge" class="external text">gauge</a></font></code>
</td><td valign="center" align="left">Transforms results into a format suitable for display by the Gauge chart types.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#makecontinuous" class="external text">makecontinuous</a></font></code>
</td><td valign="center" align="left">Makes a field that is supposed to be the x-axis continuous (invoked by chart/timechart)
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#outlier" class="external text">outlier</a></font></code>
</td><td valign="center" align="left">Removes outlying numerical values.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#rare" class="external text">rare</a></font></code>
</td><td valign="center" align="left">Displays the least common values of a field.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#stats" class="external text">stats</a></font></code>
</td><td valign="center" align="left">Provides statistics, grouped optionally by fields. See also, <a href="#commonstatsfunctions" class="external text">Functions for stats, chart, and timechart</a>.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#streamstats" class="external text">streamstats</a></font></code>
</td><td valign="center" align="left">Adds summary statistics to all search results in a streaming manner.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">Create a time series chart and corresponding table of statistics. See also, <a href="#commonstatsfunctions" class="external text">Functions for stats, chart, and timechart</a>.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#top" class="external text">top</a></font></code>
</td><td valign="center" align="left">Displays the most common values of a field.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#trendline" class="external text">trendline</a></font></code>
</td><td valign="center" align="left">Computes moving averages of fields.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#untable" class="external text">untable</a></font></code>
</td><td valign="center" align="left">Converts results from a tabular format to a format similar to <code><font size="2">stats</font></code> output. Inverse of <code><font size="2">xyseries</font></code> and <code><font size="2">maketable</font></code>.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#xyseries" class="external text">xyseries</a></font></code>
</td><td valign="center" align="left">Converts results into a format suitable for graphing.
</td></tr></table><h3> <a name="commandsbycategory_results"><span class="mw-headline" id="Results"> Results </span></a></h3>
<p>These commands can be used to manage search results. For example, you can append one set of results with another, filter more events from the results, reformat the results, and so on.
</p>
<h4><font size="3"><b><i> <a name="commandsbycategory_alerting"><span class="mw-headline" id="Alerting"> Alerting </span></a></i></b></font></h4>
<p>Use this command to email the results of a search.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#sendemail" class="external text">sendemail</a></font></code>
</td><td valign="center" align="left"> Emails search results, either inline or as an attachment, to one or more specified email addresses.
</td></tr></table><p><br></p>
<h4><font size="3"><b><i> <a name="commandsbycategory_append"><span class="mw-headline" id="Append"> Append </span></a></i></b></font></h4>
<p>Use these commands to append one set of results with another set or to itself.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#append" class="external text">append</a></font></code>
</td><td valign="center" align="left">Appends subsearch results to current results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#appendcols" class="external text">appendcols</a></font></code>
</td><td valign="center" align="left">Appends the fields of the subsearch results to current results, first results to first result, second to second, and so on.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#join" class="external text">join</a></font></code>
</td><td valign="center" align="left">SQL-like joining of results from the main results pipeline with the results from the subpipeline.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#selfjoin" class="external text">selfjoin</a></font></code>
</td><td valign="center" align="left"> Joins results with itself.
</td></tr></table><h4><font size="3"><b><i> <a name="commandsbycategory_filter"><span class="mw-headline" id="Filter"> Filter </span></a></i></b></font></h4>
<p>Use these commands to remove more events or fields from your current results.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#dedup" class="external text">dedup</a></font></code>
</td><td valign="center" align="left">Removes subsequent results that match a specified criteria.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#fields" class="external text">fields</a></font></code>
</td><td valign="center" align="left">Removes fields from search results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#mvcombine" class="external text">mvcombine</a></font></code>
</td><td valign="center" align="left">Combines events in search results that have a single differing field value into one result with a multivalue field of the differing field.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#regex" class="external text">regex</a></font></code>
</td><td valign="center" align="left">Removes results that do not match the specified regular expression.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#searchtxn" class="external text">searchtxn</a></font></code>
</td><td valign="center" align="left">Finds transaction events within specified search constraints.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#table" class="external text">table</a></font></code>
</td><td valign="center" align="left">Creates a table using the specified fields.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#uniq" class="external text">uniq</a></font></code>
</td><td valign="center" align="left">Removes any search that is an exact duplicate with a previous result.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#where" class="external text">where</a></font></code>
</td><td valign="center" align="left">Performs arbitrary filtering on your data. See also, <a href="#commonevalfunctions" class="external text">Functions for eval and where</a>.
</td></tr></table><h4><font size="3"><b><i> <a name="commandsbycategory_format"><span class="mw-headline" id="Format"> Format </span></a></i></b></font></h4>
<p>Use these commands to reformat your current results.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#untable" class="external text">untable</a></font></code>
</td><td valign="center" align="left">Converts results from a tabular format to a format similar to <code><font size="2">stats</font></code> output. Inverse of <code><font size="2">xyseries</font></code> and <code><font size="2">maketable</font></code>.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#xyseries" class="external text">xyseries</a></font></code>
</td><td valign="center" align="left">Converts results into a format suitable for graphing.
</td></tr></table><h4><font size="3"><b><i> <a name="commandsbycategory_generate"><span class="mw-headline" id="Generate"> Generate </span></a></i></b></font></h4>
<p>Use these commands to generate or return events.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#gentimes" class="external text">gentimes</a></font></code>
</td><td valign="center" align="left">Returns results that match a time-range.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#loadjob" class="external text">loadjob</a></font></code>
</td><td valign="center" align="left">Loads events or results of a previously completed search job.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#mvexpand" class="external text">mvexpand</a></font></code>
</td><td valign="center" align="left">Expands the values of a multivalue field into separate events for each value of the multivalue field.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#savedsearch" class="external text">savedsearch</a></font></code>
</td><td valign="center" align="left">Returns the search results of a saved search.
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#search" class="external text">search</a></font></code>
</td><td valign="center" align="left"> Searches Splunk indexes for matching events. This command is implicit at the start of every search pipeline that does not begin with another generating command.
</td></tr></table><p><br></p>
<h4><font size="3"><b><i> <a name="commandsbycategory_group"><span class="mw-headline" id="Group"> Group </span></a></i></b></font></h4>
<p>Use these commands to group or classify the current results.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#cluster" class="external text">cluster</a></font></code>
</td><td valign="center" align="left">Clusters similar events together.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#kmeans" class="external text">kmeans</a></font></code>
</td><td valign="center" align="left">Performs k-means clustering on selected fields.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#mvexpand" class="external text">mvexpand</a></font></code>
</td><td valign="center" align="left">Expands the values of a multivalue field into separate events for each value of the multivalue field.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#transaction" class="external text">transaction</a></font></code>
</td><td valign="center" align="left">Groups search results into transactions.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#typelearner" class="external text">typelearner</a></font></code>
</td><td valign="center" align="left">Generates suggested eventtypes.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#typer" class="external text">typer</a></font></code>
</td><td valign="center" align="left">Calculates the eventtypes for the search results.
</td></tr></table><h4><font size="3"><b><i> <a name="commandsbycategory_reorder"><span class="mw-headline" id="Reorder"> Reorder </span></a></i></b></font></h4>
<p>Use these commands to change the order of the current search results.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#head" class="external text">head</a></font></code>
</td><td valign="center" align="left">Returns the first number n of specified results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#reverse" class="external text">reverse</a></font></code>
</td><td valign="center" align="left">Reverses the order of the results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#sort" class="external text">sort</a></font></code>
</td><td valign="center" align="left">Sorts search results by the specified fields.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#tail" class="external text">tail</a></font></code>
</td><td valign="center" align="left">Returns the last number N of specified results
</td></tr></table><h4><font size="3"><b><i> <a name="commandsbycategory_read"><span class="mw-headline" id="Read"> Read </span></a></i></b></font></h4>
<p>Use these commands to read in results from external files or previous searches.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#inputcsv" class="external text">inputcsv</a></font></code>
</td><td valign="center" align="left">Loads search results from the specified CSV file.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#inputlookup" class="external text">inputlookup</a></font></code>
</td><td valign="center" align="left">Loads search results from a specified static lookup table.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#loadjob" class="external text">loadjob</a></font></code>
</td><td valign="center" align="left">Loads events or results of a previously completed search job.
</td></tr></table><h4><font size="3"><b><i> <a name="commandsbycategory_write"><span class="mw-headline" id="Write"> Write </span></a></i></b></font></h4>
<p>Use these commands to define how to output current search results.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#outputcsv" class="external text">outputcsv</a></font></code>
</td><td valign="center" align="left">Outputs search results to a specified CSV file.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#outputlookup" class="external text">outputlookup</a></font></code>
</td><td valign="center" align="left">Writes search results to the specified static lookup table.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#outputtext" class="external text">outputtext</a></font></code>
</td><td valign="center" align="left">Ouputs the raw text field (<code><font size="2">_raw</font></code>) of results into the <code><font size="2">_xml</font></code> field.
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#sendemail" class="external text">sendemail</a></font></code>
</td><td valign="center" align="left"> Emails search results, either inline or as an attachment, to one or more specified email addresses.
</td></tr></table><h3> <a name="commandsbycategory_search"><span class="mw-headline" id="Search"> Search </span></a></h3>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#map" class="external text">map</a></font></code>
</td><td valign="center" align="left"> A looping operator, performs a search over each search result.
</td></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#search" class="external text">search</a></font></code>
</td><td valign="center" align="left"> Searches Splunk indexes for matching events. This command is implicit at the start of every search pipeline that does not begin with another generating command.
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#sendemail" class="external text">sendemail</a></font></code>
</td><td valign="center" align="left"> Emails search results, either inline or as an attachment, to one or more specified email addresses.
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#localop" class="external text">localop</a></font></code>
</td><td valign="center" align="left"> Tells Splunk to run subsequent commands, that is all commands following this, locally and not on a remote peer(s).
</td></tr></table><h3> <a name="commandsbycategory_subsearch"><span class="mw-headline" id="Subsearch"> Subsearch </span></a></h3>
<p>These are commands that you can use with <b>subsearches</b>.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#append" class="external text">append</a></font></code>
</td><td valign="center" align="left">Appends subsearch results to current results.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#appendcols" class="external text">appendcols</a></font></code>
</td><td valign="center" align="left">Appends the fields of the subsearch results to current results, first results to first result, second to second, and so on.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#appendpipe" class="external text">appendpipe</a></font></code>
</td><td valign="center" align="left">Appends the result of the subpipeline applied to the current result set to results.
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#format" class="external text">format</a></font></code>
</td><td valign="center" align="left"> Takes the results of a subsearch and formats them into a single result.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#join" class="external text">join</a></font></code>
</td><td valign="center" align="left">Combine the results of a subsearch with the results of a main search.
</td></tr><tr><td valign="center" align="left"> <code><font size="2"><a href="#return" class="external text">return</a></font></code>
</td><td valign="center" align="left"> Specify the values to return from a subsearch.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#set" class="external text">set</a></font></code>
</td><td valign="center" align="left"> Performs set operations (union, diff, intersect) on subsearches.
</td></tr></table><h3> <a name="commandsbycategory_time"><span class="mw-headline" id="Time"> Time </span></a></h3>
<p>Use these commands to search based on time ranges or add time information to your events.
</p>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Command
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td width="25%" valign="center" align="left"> <code><font size="2"><a href="#gentimes" class="external text">gentimes</a></font></code>
</td><td valign="center" align="left">Returns results that match a time-range.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#localize" class="external text">localize</a></font></code>
</td><td valign="center" align="left">Returns a list of the time ranges in which the search results were found.
</td></tr><tr><td valign="center" align="left"><code><font size="2"><a href="#reltime" class="external text">reltime</a></font></code>
</td><td valign="center" align="left">Converts the difference between 'now' and '_time' to a human-readable value and adds adds this value to the field, 'reltime', in your search results.
</td></tr></table><a name="commonevalfunctions"></a><h2> <a name="commonevalfunctions_functions_for_eval_and_where"><span class="mw-headline" id="Functions_for_eval_and_where"> Functions for eval and where </span></a></h2>
<p>These are functions that you can use with the <code><font size="2"><a href="#eval" class="external text">eval</a></font></code> and <code><font size="2"> <a href="#where" class="external text">where</a></font></code> commands and as part of eval expressions.
</p><p>All functions that accept strings can accept literal strings or any field.&Acirc;&nbsp;All functions which accept numbers can accept literal numbers or any numeric field.
</p>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Function
</th><th bgcolor="#C0C0C0">Description
</th><th bgcolor="#C0C0C0">Example(s)
</th></tr><tr><td valign="center" align="left"> <code><font size="2">abs(X)</font></code>
</td><td valign="center" align="left"> This function takes a number X and returns its absolute value.
</td><td valign="center" align="left"> This example returns the absnum, whose values are the absolute values of the numeric field <code><font size="2">number</font></code>:
<p><code><font size="2">... | eval absnum=abs(number)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">case(X,"Y",...)</font></code>
</td><td valign="center" align="left"> This function takes pairs of arguments X and Y. The X arguments are Boolean expressions that will be evaluated from first to last.  When the first X expression is encountered that evaluates to TRUE, the corresponding Y argument will be returned. The function defaults to NULL if none are true.
</td><td valign="center" align="left"> This example returns descriptions for the corresponding http status code:
<p><code><font size="2">... | eval description=case(error == 404, "Not found", error == 500,
"Internal Server Error", error == 200, "OK")</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">ceil(X), ceiling(X)</font></code>
</td><td valign="center" align="left"> This function rounds a number X up to the next highest integer.
</td><td valign="center" align="left"> This example returns n=2:
<p><code><font size="2">... | eval n=ceil(1.9)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">cidrmatch("X",Y)</font></code>
</td><td valign="center" align="left"> This function returns true, when an IP addresse Y belongs to a particular subnet X. The function uses two string arguments: the first is the CIDR subnet; the second is the IP address to match.
</td><td valign="center" align="left"> This example uses cidrmatch to set a field, <code><font size="2">isLocal</font></code>, to "local" if the field <code><font size="2">ip</font></code> matches the subnet, or "not local" if it does not:
<p><code><font size="2">... | eval isLocal=if(cidrmatch("123.132.32.0/25",ip), "local", "not local")</font></code>
</p><p>This example uses cidrmatch as a filter:
</p><p><code><font size="2">... | where cidrmatch("123.132.32.0/25", ip)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">coalesce(X,...)</font></code>
</td><td valign="center" align="left"> This function takes an arbitrary number of arguments and returns the first value that is not null.
</td><td valign="center" align="left"> Let's say you have a set of events where the IP address is extracted to either <code><font size="2">clientip</font></code> or <code><font size="2">ipaddress</font></code>. This example defines a new field called <code><font size="2">ip</font></code>, that takes the value of either <code><font size="2">clientip</font></code> or <code><font size="2">ipaddress</font></code>, depending on which is not NULL (exists in that event):
<p><code><font size="2">... | eval ip=coalesce(clientip,ipaddress)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">commands(X)</font></code>
</td><td valign="center" align="left"> This function takes a search string, or field that contains a search string, X and returns a multivalued field containing a list of the commands used in X. (This is generally not recommended for use except for analysis of audit.log events.)
</td><td valign="center" align="left"> <code><font size="2">... | eval x=commands("search foo  | stats count  | sort count")</font></code>
<p>returns a multivalued field x, that contains 'search', 'stats', and 'sort'.
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">exact(X)</font></code>
</td><td valign="center" align="left"> This function renders the result of a numeric eval calculation with a larger amount of precision in the formatted output.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=exact(3.14 * num)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">exp(X)</font></code>
</td><td valign="center" align="left"> This function takes a number X and returns e<sup>X</sup>.
</td><td valign="center" align="left"> This example returns y=e<sup>3</sup>:
<p><code><font size="2">... | eval y=exp(3)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">floor(X)</font></code>
</td><td valign="center" align="left"> This function rounds a number X down to the nearest whole integer.
</td><td valign="center" align="left"> This example returns 1:
<p><code><font size="2">... | eval n=floor(1.9)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">if(X,Y,Z)</font></code>
</td><td valign="center" align="left"> This function takes three arguments. The first argument X must be a Boolean expression. If X evaluates to TRUE, the result is the second argument Y. If, X evaluates to FALSE, the result evaluates to the third argument Z.
</td><td valign="center" align="left"> This example looks at the values of error and returns err=OK if error=200, otherwise returns err=Error:
<p><code><font size="2">... | eval err=if(error == 200, "OK", "Error")</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">isbool(X)</font></code>
</td><td valign="center" align="left"> This function takes one argument X and returns TRUE if X is Boolean.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=if(isbool(field),"yes","no")</font></code>
<p>or
</p><p><code><font size="2">... | where isbool(field)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">isint(X)</font></code>
</td><td valign="center" align="left"> This function takes one argument X and returns TRUE if X is an integer.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=if(isint(field), "int", "not int")</font></code>
<p>or
</p><p><code><font size="2">... | where isint(field)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">isnotnull(X)</font></code>
</td><td valign="center" align="left"> This function takes one argument X and returns TRUE if X is not NULL. This is a useful check for whether or not a field (X) contains a value.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=if(isnotnull(field),"yes","no")</font></code>
<p>or
</p><p><code><font size="2">... |  where isnotnull(field)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">isnull(X)</font></code>
</td><td valign="center" align="left"> This function takes one argument X and returns TRUE if X is NULL.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=if(isnull(field),"yes","no")</font></code>
<p>or
</p><p><code><font size="2">... | where isnull(field)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">isnum(X)</font></code>
</td><td valign="center" align="left"> This function takes one argument X and returns TRUE if X is a number.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=if(isnum(field),"yes","no")</font></code>
<p>or
</p><p><code><font size="2">... | where isnum(field)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">isstr(X)</font></code>
</td><td valign="center" align="left"> This function takes one argument X and returns TRUE if X is a string.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=if(isstr(field),"yes","no")</font></code>
<p>or
</p><p><code><font size="2">... | where isstr(field)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">len(X)</font></code>
</td><td valign="center" align="left"> This function returns the character length of a string X.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=len(field)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">like(TEXT, PATTERN)</font></code>
</td><td valign="center" align="left"> This function takes two arguments, a string to match TEXT and a match expression string PATTERN.&Acirc;&nbsp; It returns TRUE if and only if the first argument is like the SQLite pattern in Y.&Acirc;&nbsp; The pattern language supports exact text match, as well as&nbsp;% characters for wildcards and _ characters for a single character match.
</td><td valign="center" align="left"> This example returns islike=TRUE if the field value starts with foo:
<p><code><font size="2">... | eval is_a_foo=if(like(field, "foo%"), "yes a foo", "not a foo")</font></code>
</p><p>or
</p><p><code><font size="2">... | where like(field, "foo%")</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">ln(X)</font></code>
</td><td valign="center" align="left"> This function takes a number X and returns its natural log.
</td><td valign="center" align="left"> This example returns the natural log of the values of bytes:
<p><code><font size="2">... | eval lnBytes=ln(bytes)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">log(X,Y)</font></code>
<p><code><font size="2">log(X)</font></code>
</p>
</td><td valign="center" align="left"> This function takes either one or two numeric arguments and returns the log of the first argument X using the second argument Y as the base. If the second argument Y is omitted, this function evaluates the log of number X with base 10.
</td><td valign="center" align="left"> <code><font size="2">... | eval num=log(number,2)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">lower(X)</font></code>
</td><td valign="center" align="left"> This function takes one string argument and returns the lowercase version. The upper() function also exists for returning the uppercase version.
</td><td valign="center" align="left"> This example returns the value provided by the field username in lowercase.
<p><code><font size="2">... | eval username=lower(username)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">ltrim(X,Y)</font></code>
<p><code><font size="2">ltrim(X)</font></code>
</p>
</td><td valign="center" align="left"> This function takes one or two arguments X and Y and returns X with the characters in Y trimmed from the left side. If Y is not specified, spaces and tabs are removed.
</td><td valign="center" align="left"> This example returns x="abcZZ":
<p><code><font size="2">... | eval x=ltrim("   ZZZZabcZZ ", " Z")</font></code> 
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">match(SUBJECT, "REGEX")</font></code>
</td><td valign="center" align="left"> This function compares the regex string REGEX to the value of SUBJECT and returns a Boolean value. It returns true if the REGEX can find a match against any substring of SUBJECT.
</td><td valign="center" align="left"> This example returns true IF AND ONLY IF field matches the basic pattern of an IP address. Note that the example uses ^ and $ to perform a full match.
<p><code><font size="2">... | eval n=if(match(field, "^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$"), 1, 0)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">max(X,...)</font></code>
</td><td valign="center" align="left"> This function takes an arbitrary number of numeric or string arguments, and returns the max; strings are greater than numbers.
</td><td valign="center" align="left"> This example returns either "foo" or field, depending on the value of field:
<p><code><font size="2">... | eval n=max(1, 3, 6, 7, "foo", field)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">md5(X)</font></code>
</td><td valign="center" align="left"> This function computes and returns the MD5 hash of a string value X.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=md5(field)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">min(X,...)</font></code>
</td><td valign="center" align="left"> This function takes an arbitrary number of numeric or string arguments, and returns the min; strings are greater than numbers.
</td><td valign="center" align="left"> This example returns either 1 or field, depending on the value of field:
<p><code><font size="2">... | eval n=min(1, 3, 6, 7, "foo", field)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">mvappend(X,...)</font></code>
</td><td valign="center" align="left"> This function takes an arbitrary number of arguments and returns a multivalue result of all the values. The arguments can be strings, multivalue fields or single value fields.
</td><td valign="center" align="left"> <code><font size="2">... | eval fullName=mvappend(initial_values, "middle value", last_values)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">mvcount(MVFIELD)</font></code>
</td><td valign="center" align="left"> This function takes a field MVFIELD. The function returns the number of values if it is a multivalue, 1 if it is a single value field, and NULL otherwise.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=mvcount(multifield)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">mvdedup(X)</font></code>
</td><td valign="center" align="left"> This function takes a multivalue field X and returns a multivalue field with its duplicate values removed.
</td><td valign="center" align="left"> <code><font size="2">... | eval s=mvdedup(mvfield)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">mvfilter(X)</font></code>
</td><td valign="center" align="left"> This function filters a multivalue field based on an arbitrary Boolean expression X. The Boolean expression X can reference ONLY ONE field at a time.
<p><b>Note:</b>This function will return NULL values of the field <code><font size="2">x</font></code> as well. If you don't want the NULL values, use the expression: <code><font size="2">mvfilter(x!=NULL)</font></code>.
</p>
</td><td valign="center" align="left"> This example returns all of the values in field email that end in .net or .org:
<p><code><font size="2">... | eval n=mvfilter(match(email, "\.net$") OR match(email, "\.org$"))</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">mvfind(MVFIELD,"REGEX")</font></code>
</td><td valign="center" align="left"> This function tries to find a value in multivalue field X that matches the regular expression REGEX. If a match exists, the index of the first matching value is returned (beginning with zero). If no values match, NULL is returned.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=mvfind(mymvfield, "err\d+")</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">mvindex(MVFIELD,STARTINDEX, ENDINDEX)</font></code>
<p><code><font size="2">mvindex(MVFIELD,STARTINDEX)</font></code>
</p>
</td><td valign="center" align="left"> This function takes two or three arguments, field MVFIELD and numbers STARTINDEX and ENDINDEX, and returns a subset of the multivalue field using the indexes provided.
<p>For <code><font size="2">mvindex(mvfield, startindex, [endindex])</font></code>, endindex is inclusive and optional. Both startindex and endindex can be negative, where -1 is the last element. If endindex is not specified, it returns only the value at startindex. If the indexes are out of range or invalid, the result is NULL. 
</p>
</td><td valign="center" align="left"> Since indexes start at zero, this example returns the third value in "multifield", if it exists:
<p><code><font size="2">... | eval n=mvindex(multifield, 2)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">mvjoin(MVFIELD,STR)</font></code>
</td><td valign="center" align="left"> This function takes two arguments, multivalue field MVFIELD and string delimiter STR. The function concatenates the individual values of MVFIELD with copies of STR in between as separators.
</td><td valign="center" align="left"> This example joins together the individual values of "foo" using a semicolon as the delimiter:
<p><code><font size="2">... | eval n=mvjoin(foo, ";")</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">mvrange(X,Y,Z)</font></code>
</td><td valign="center" align="left"> This function creates a multivalue field for a range of numbers. This function can contain up to three arguments: a starting number X, an ending number Y (exclusive), and an optional step increment Z. If the increment is a timespan such as '7'd, the starting and ending numbers are treated as epoch times.
</td><td valign="center" align="left"> This example returns a multivalue field with the values 1, 3, 5, 7, 9.
<p><code><font size="2">... | eval mv=mvrange(1,11,2)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">mvsort(X)</font></code>
</td><td valign="center" align="left"> This function uses a multivalue field X and returns a multivalue field with the values sorted lexicographically.
</td><td valign="center" align="left"> <code><font size="2">... | eval s=mvsort(mvfield)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">mvzip(X,Y,"Z")</font></code>
</td><td valign="center" align="left"> This function takes two multivalue fields, X and Y, and combines them by stitching together the first value of X with the first value of field Y, then the second with the second, and so on.  The third argument, Z, is optional and is used to specify a delimiting character to join the two values. The default delimiter is a comma. This is similar to Python's zip command.
</td><td valign="center" align="left"> <code><font size="2">... | eval nserver=mvzip(hosts,ports)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">now()</font></code>
</td><td valign="center" align="left"> This function takes no arguments and returns the time that the search was started. The time is represented in Unix time or seconds since epoch.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"> <code><font size="2">null()</font></code>
</td><td valign="center" align="left"> This function takes no arguments and returns NULL. The evaluation engine uses NULL to represent "no value"; setting a field to NULL clears its value.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"> <code><font size="2">nullif(X,Y)</font></code>
</td><td valign="center" align="left"> This function takes two arguments, fields X and Y, and returns the X if the arguments are different. It returns NULL, otherwise.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=nullif(fieldA,fieldB)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">pi()</font></code>
</td><td valign="center" align="left"> This function takes no arguments and returns the constant pi to 11 digits of precision.
</td><td valign="center" align="left"> <code><font size="2">... | eval area_circle=pi()*pow(radius,2)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">pow(X,Y)</font></code>
</td><td valign="center" align="left"> This function takes two numeric arguments X and Y and returns X<sup>Y</sup>.
</td><td valign="center" align="left"> <code><font size="2">... | eval area_circle=pi()*pow(radius,2)</font></code>
</td></tr><tr><td valign="center" align="left"><code><font size="2">random()</font></code>
</td><td valign="center" align="left"> This function takes no arguments and returns a pseudo-random integer ranging from zero to 2<sup>31</sup>-1, for example: 0&hellip;2147483647
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"> <code><font size="2">relative_time(X,Y)</font></code>
</td><td valign="center" align="left"> This function takes an epochtime time, X, as the first argument and a relative time specifier, Y, as the second argument and returns the epochtime value of Y applied to X.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=relative_time(now(), "-1d@d")</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">replace(X,Y,Z)</font></code>
</td><td valign="center" align="left"> This function returns a string formed by substituting string Z for every occurrence of regex string Y in string X. The third argument Z can also reference groups that are matched in the regex.
</td><td valign="center" align="left"> This example returns date with the month and day numbers switched, so if the input was 1/12/2009 the return value would be 12/1/2009:
<p><code><font size="2">... | eval n=replace(date, "^(\d{1,2})/(\d{1,2})/", "\2/\1/")</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">round(X,Y)</font></code>
</td><td valign="center" align="left"> This function takes one or two numeric arguments X and Y, returning X rounded to the amount of decimal places specified by Y. The default is to round to an integer.
</td><td valign="center" align="left"> This example returns n=4:
<p><code><font size="2">... | eval n=round(3.5)</font></code>
</p><p>This example returns n=2.56:
</p><p><code><font size="2">... | eval n=round(2.555, 2)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">rtrim(X,Y)</font></code>
<p><code><font size="2">rtrim(X)</font></code>
</p>
</td><td valign="center" align="left"> This function takes one or two arguments X and Y and returns X with the characters in Y trimmed from the right side. If Y is not specified, spaces and tabs are removed.
</td><td valign="center" align="left"> This example returns n="ZZZZabc":
<p><code><font size="2">... | eval n=rtrim("   ZZZZabcZZ ", " Z")</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">searchmatch(X)</font></code>
</td><td valign="center" align="left"> This function takes one argument X, which is a search string. The function returns true IF AND ONLY IF the event matches the search string.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=searchmatch("foo AND bar")</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">sha1(X)</font></code>
</td><td valign="center" align="left"> This function computes and returns the secure hash of a string value X based on the FIPS compliant SHA-1 hash function.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=sha1(field)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">sha256(X)</font></code>
</td><td valign="center" align="left"> This function computes and returns the secure hash of a string value X based on the FIPS compliant SHA-256 hash function.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=sha256(field)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">sha512(X)</font></code>
</td><td valign="center" align="left"> This function computes and returns the secure hash of a string value X based on the FIPS compliant SHA-512 hash function.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=sha512(field)</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">sigfig(X)</font></code>
</td><td valign="center" align="left"> This function takes one argument X, a number, and rounds that number to the appropriate number of significant figures.
</td><td valign="center" align="left"> <code><font size="2">1.00*1111 = 1111</font></code>, but
<p><code><font size="2">... | eval n=sigfig(1.00*1111)</font></code>
</p><p>returns n=1110.
</p>
</td></tr><tr><td valign="center" align="left"><code><font size="2">spath(X,Y)</font></code>
</td><td valign="center" align="left"> This function takes two arguments: an input source field X and an spath expression Y, that is the XML or JSON formatted location path to the value that you want to extract from X. If Y is a literal string, it needs quotes, <code><font size="2">spath(X,"Y")</font></code>. If Y is a field name (with values that are the location paths), it doesn't need quotes. This may result in a multivalued field. Read more about the <code><font size="2"><a href="#spath" class="external text">spath</a></font></code> search command.
</td><td valign="center" align="left"> This example returns the values of locDesc elements:
<p><code><font size="2">... | eval locDesc=spath(_raw, "vendorProductSet.product.desc.locDesc")</font></code>
</p><p>This example returns the hashtags from a twitter event:
<code><font size="2">index=twitter | eval output=spath(_raw, "entities.hashtags")</font></code>
</p>
</td></tr><tr><td valign="center" align="left"><code><font size="2">split(X,"Y")</font></code>
</td><td valign="center" align="left"> This function takes two arguments, field X and delimiting character Y. It splits the value(s) of X on the delimiter Y and returns X as a multivalue field.
</td><td valign="center" align="left"> <code><font size="2">... | eval n=split(foo, ";")</font></code>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">sqrt(X)</font></code>
</td><td valign="center" align="left"> This function takes one numeric argument X and returns its square root.
</td><td valign="center" align="left"> This example returns 3:
<p><code><font size="2">... | eval n=sqrt(9)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">strftime(X,Y)</font></code>
</td><td valign="center" align="left"> This function takes an epochtime value, X, as the first argument and renders it as a string using the format specified by Y.  For a list and descriptions of format options, refer to the topic <a href="#commontimeformatvariables" class="external text">"Common time format variables"</a>.
</td><td valign="center" align="left"> This example returns the hour and minute from the _time field:
<p><code><font size="2">... | eval n=strftime(_time, "%H:%M")</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">strptime(X,Y)</font></code>
</td><td valign="center" align="left"> This function takes a time represented by a string, X, and parses it into a timestamp using the format specified by Y.  For a list and descriptions of format options, refer to the topic <a href="#commontimeformatvariables" class="external text">"Common time format variables"</a>.
</td><td valign="center" align="left"> If timeStr is in the form, "11:59", this returns it as a timestamp:
<p><code><font size="2">... | eval n=strptime(timeStr, "%H:%M")</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">substr(X,Y,Z)</font></code>
</td><td valign="center" align="left"> This function takes either two or three arguments, where X is a string and Y and Z are numeric. It returns a substring of X, starting at the index specified by Y with the number of characters specified by Z. If Z is not given, it returns the rest of the string.
<p>The indexes follow SQLite semantics; they start at 1. Negative indexes can be used to indicate a start from the end of the string.
</p>
</td><td valign="center" align="left"> This example concatenates "str" and "ing" together, returning "string":
<p><code><font size="2">... | eval n=substr("string", 1, 3) + substr("string", -3)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">time()</font></code>
</td><td valign="center" align="left"> This function returns the wall-clock time with microsecond resolution. The value of time() will be different for each event based on when that event was processed by the <code><font size="2">eval</font></code> command.
</td><td valign="center" align="left">
</td></tr><tr><td valign="center" align="left"> <code><font size="2">tonumber(NUMSTR,BASE)</font></code>
<p><code><font size="2">tonumber(NUMSTR)</font></code>
</p>
</td><td valign="center" align="left"> This function converts the input string NUMSTR to a number, where BASE is optional and used to define the base of the number to convert to. BASE can be 2..36, and defaults to 10. If tonumber cannot parse a field value to a number, the function returns NULL.&Acirc;&nbsp; If tonumber cannot parse a literal string to a number, it throws an error.
</td><td valign="center" align="left"> This example returns "164":
<p><code><font size="2">... | eval n=tonumber("0A4",16)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">tostring(X,Y)</font></code>
</td><td valign="center" align="left"> This function converts the input value to a string. If the input value is a number, it reformats it as a string. If the input value is a Boolean value, it returns the corresponding string value, "True" or "False".
<p>This function requires at least one argument X; if X is a number, the second argument Y is optional and can be <code><font size="2">"hex"</font></code> <code><font size="2">"commas"</font></code> or <code><font size="2">"duration"</font></code>:
</p>
<ul><li> <code><font size="2">tostring(X,"hex")</font></code> converts X to hexadecimal.
</li><li> <code><font size="2">tostring(X,"commas")</font></code> formats X with commas and, if the number includes decimals, rounds to nearest two decimal places.
</li><li> <code><font size="2">tostring(X,"duration")</font></code> converts seconds X to readable time format HH:MM:SS.
</li></ul></td><td valign="center" align="left"> This example returns "True 0xF 12,345.68":
<p><code><font size="2">... | eval n=tostring(1==1) + " " + tostring(15, "hex") + " " 
+ tostring(12345.6789, "commas")</font></code>
</p><p>This example returns <code><font size="2">foo=615 and foo2=00:10:15</font></code>:
<code><font size="2">... | eval foo=615 | eval foo2 = tostring(foo, "duration")</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">trim(X,Y)</font></code>
<p><code><font size="2">trim(X)</font></code>
</p>
</td><td valign="center" align="left"> This function takes one or two arguments X and Y and returns X with the characters in Y trimmed from both sides. If Y is not specified, spaces and tabs are removed.
</td><td valign="center" align="left"> This example returns "abc":
<p><code><font size="2">... | eval n=trim("   ZZZZabcZZ ", " Z")</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">typeof(X)</font></code>
</td><td valign="center" align="left"> This function takes one argument and returns a string representation of its type.
</td><td valign="center" align="left"> This example returns "NumberStringBoolInvalid":
<p><code><font size="2">... | eval n=typeof(12) + typeof("string") + typeof(1==2) + typeof(badfield)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">upper(X)</font></code>
</td><td valign="center" align="left"> This function takes one string argument and returns the uppercase version. The lower() function also exists for returning the lowercase version.
</td><td valign="center" align="left"> This example returns the value provided by the field username in uppercase.
<p><code><font size="2">... | eval n=upper(username)</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">urldecode(X)</font></code>
</td><td valign="center" align="left"> This function takes one URL string argument X and returns the unescaped or decoded URL string.
</td><td valign="center" align="left"> This example returns "http://www.splunk.com/download?r=header":
<p><code><font size="2">... | eval n=urldecode("http%3A%2F%2Fwww.splunk.com%2Fdownload%3Fr%3Dheader")</font></code>
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">validate(X,Y,...)</font></code>
</td><td valign="center" align="left"> This function takes pairs of arguments, Boolean expressions X and strings Y. The function returns the string Y corresponding to the first expression X that evaluates to False and defaults to NULL if all are True.
</td><td valign="center" align="left"> This example runs a simple check for valid ports:
<p><code><font size="2">... | eval n=validate(isint(port), "ERROR: Port is not an integer", 
port &gt;= 1 AND port &lt;= 65535, "ERROR: Port is out of range")</font></code>
</p>
</td></tr></table><a name="commonstatsfunctions"></a><h2> <a name="commonstatsfunctions_functions_for_stats.2c_geostats.2c_chart.2c_and_timechart"><span class="mw-headline" id="Functions_for_stats.2C_geostats.2C_chart.2C_and_timechart"> Functions for stats, geostats, chart, and timechart </span></a></h2>
<p>These are statistical functions that you can use with the 
<code><font size="2"><a href="#chart" class="external text">chart</a></font></code>,  
<code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, and 
<code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code> commands.
</p>
<ul><li> Functions that are relevant for stats are also relevant for <code><font size="2"><a href="#eventstats" class="external text">eventstats</a></font></code>, <code><font size="2"><a href="#streamstats" class="external text">streamstats</a></font></code>, and <code><font size="2"><a href="#geostats" class="external text">geostats</a></font></code>.
</li><li> Functions that are relevant for chart, stats, and timechart are also relevant for their respective summary indexing counterparts: <code><font size="2"><a href="#sichart" class="external text">sichart</a></font></code>, <code><font size="2"><a href="#sistats" class="external text">sistats</a></font></code>, and <code><font size="2"><a href="#sitimechart" class="external text">sitimechart</a></font></code>.
</li><li> Functions that are relevant for sparklines will say as much. Note that sparklines is not a search command, it is a function that applies only to <code><font size="2"><a href="#chart" class="external text">chart</a></font></code> and <code><font size="2"><a href="#stats" class="external text">stats</a></font></code> and allows you to call other functions. For more information, read "Add sparklines to search results" in the Search Manual.
</li></ul><table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0">Function
</th><th bgcolor="#C0C0C0">Description
</th><th bgcolor="#C0C0C0">Commands
</th><th bgcolor="#C0C0C0">Examples
</th></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">avg(X)</font></code>
</td><td valign="center" align="left">Returns the average of the values of field X. See also, mean(X).
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>, <code><font size="2">sparkline()</font></code>
</td><td valign="center" align="left">This examples returns the average response time:
<p><code><font size="2">avg(responseTime)</font></code>
</p>
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">c(X) | count(X)</font></code>
</td><td valign="center" align="left">Returns the number of occurrences of the field X. To indicate a specific field value to match, format X as eval(field="value").
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>, <code><font size="2">sparkline()</font></code>
</td><td valign="center" align="left">This example returns the count of events where <code><font size="2">status</font></code> has the value "404":
<p><code><font size="2">count(eval(status="404"))</font></code>
</p><p>These generate sparklines for the counts of events. The first looks at the <code><font size="2">_raw</font></code> field. The second counts events with a <code><font size="2">user</font></code> field:
</p><p><code><font size="2">sparkline(count)</font></code>
</p><p><code><font size="2">sparkline(count(user))</font></code>
</p>
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">dc(X) | distinct_count(X)</font></code>
</td><td valign="center" align="left">Returns the count of distinct values of the field X.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>, <code><font size="2">sparkline()</font></code>
</td><td valign="center" align="left"> This example generates sparklines for the distinct count of devices and renames the field, "numdevices":
<p><code><font size="2">sparkline(dc(device)) AS numdevices</font></code>
</p><p>This example counts the distinct sources for each sourcetype, and buckets the count for each five minute spans:
</p><p><code><font size="2">sparkline(dc(source),5m) by sourcetype</font></code>
</p>
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">earliest(X)</font></code>
</td><td valign="center" align="left"> Returns the chronologically earliest seen occurrence of a value of a field X.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">estdc(X)</font></code>
</td><td valign="center" align="left"> Returns the estimated count of the distinct values of the field X.
</td><td valign="center" align="left"> <code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">estdc_error(X)</font></code>
</td><td valign="center" align="left"> Returns the theoretical error of the estimated count of the distinct values of the field X. The error represents a ratio of abs(estimate_value - real_value)/real_value.
</td><td valign="center" align="left"> <code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">first(X)</font></code>
</td><td valign="center" align="left"> Returns the first seen value of the field X. In general, the first seen value of the field is the most recent instance of this field, relative to the input order of events into the stats command.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">last(X)</font></code>
</td><td valign="center" align="left"> Returns the last seen value of the field X.  In general, the last seen value of the field is the oldest instance of this field relative to the input order of events into the stats command.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">latest(X)</font></code>
</td><td valign="center" align="left">Returns the chronologically latest seen occurrence of a value of a field X.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">list(X)</font></code>
</td><td valign="center" align="left"> Returns the list of all values of the field X as a multivalue entry. The order of the values reflects the order of input events.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">max(X)</font></code>
</td><td valign="center" align="left"> Returns the maximum value of the field X. If the values of X are non-numeric, the max is found from lexicographic ordering.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>, <code><font size="2">sparkline()</font></code>
</td><td valign="center" align="left">This example returns the maximum value of "size":
<p><code><font size="2">max(size)</font></code>
</p>
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">mean(X)</font></code>
</td><td valign="center" align="left"> Returns the arithmetic mean of the field X. See also, avg(X).
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>, <code><font size="2">sparkline()</font></code>
</td><td valign="center" align="left">This example returns the mean of "kbps" values:
<p><code><font size="2">mean(kbps)</font></code>
</p>
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">median(X)</font></code>
</td><td valign="center" align="left"> Returns the middle-most value of the field X.
<p><b>Note:</b> The median calculation is more correct for odd numbers of events. In cases where you have an even number of events, the median is approximated to be the higher of the two values.
</p>
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">min(X)</font></code>
</td><td valign="center" align="left"> Returns the minimum value of the field X. If the values of X are non-numeric, the min is found from lexicographic ordering.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">mode(X)</font></code>
</td><td valign="center" align="left"> Returns the most frequent value of the field X.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">p&lt;X&gt;(Y) | perc&lt;X&gt;(Y) | exactperc&lt;X&gt;(Y) | upperperc&lt;X&gt;(Y)</font></code>
</td><td valign="center" align="left"> Returns the X-th percentile value of the numeric field Y, where X is an integer between 1 and 99. The percentile X-th function sorts the values of Y in an increasing order. Then, if you consider that 0% is the lowest and 100% the highest, the functions picks the value that corresponds to the position of the X% value.
<p>The functions perc, p, and upperperc give approximate values for the integer percentile requested. The approximation algorithm used provides a strict bound of the actual value for any percentile.  The functions perc and p return a single number that represents the lower end of that range while upperperc gives the approximate upper bound.  exactperc provides the exact value, but will be very expensive for high cardinality fields.
</p>
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left"> For the list of values <code><font size="2">Y = {10,9,8,7,6,5,4,3,2,1}</font></code>:
<p><code><font size="2">perc50(Y)=6</font></code>
</p><p><code><font size="2">perc95(Y)=10</font></code>
</p>
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">per_day(X)</font></code>
</td><td valign="center" align="left"> Returns the values of field X per day.
</td><td valign="center" align="left"><code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">This example returns the values of "total" per day.
<p><code><font size="2">per_day(total)</font></code>
</p>
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">per_hour(X)</font></code>
</td><td valign="center" align="left"> Returns the values of field X per hour.
</td><td valign="center" align="left"><code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">This example returns the values of "total" per hour.
<p><code><font size="2">per_hour(total)</font></code>
</p>
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">per_minute(X)</font></code>
</td><td valign="center" align="left"> Returns the values of field X per minute.
</td><td valign="center" align="left"><code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">This example returns the values of "total" per minute.
<p><code><font size="2">per_minute(total)</font></code>
</p>
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">per_second(X)</font></code>
</td><td valign="center" align="left"> Returns the values of field X per second.
</td><td valign="center" align="left"><code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">This example returns values of "kb" per second:
<p><code><font size="2">per_second(kb)</font></code>
</p>
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">range(X)</font></code>
</td><td valign="center" align="left"> Returns the difference between the max and min values of the field X ONLY IF the value of X are numeric.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>, <code><font size="2">sparkline()</font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">stdev(X)</font></code>
</td><td valign="center" align="left"> Returns the sample standard deviation of the field X.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>, <code><font size="2">sparkline()</font></code>
</td><td valign="center" align="left">This example returns the standard deviation of wildcarded fields "*delay" which can apply to both, "delay" and "xdelay".
<p><code><font size="2">stdev(*delay)</font></code>
</p>
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">stdevp(X)</font></code>
</td><td valign="center" align="left"> Returns the population standard deviation of the field X.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>, <code><font size="2">sparkline()</font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">sum(X)</font></code>
</td><td valign="center" align="left"> Returns the sum of the values of the field X.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>, <code><font size="2">sparkline()</font></code>
</td><td valign="center" align="left"><code><font size="2">sum(eval(date_hour * date_minute))</font></code>
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">sumsq(X)</font></code>
</td><td valign="center" align="left"> Returns the sum of the squares of the values of the field X.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>, <code><font size="2">sparkline()</font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">values(X)</font></code>
</td><td valign="center" align="left"> Returns the list of all distinct values of the field X as a multivalue entry. The order of the values is lexicographical.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">var(X)</font></code>
</td><td valign="center" align="left"> Returns the sample variance of the field X.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>, <code><font size="2">sparkline()</font></code>
</td><td valign="center" align="left">
</td></tr><tr valign="top"><td valign="center" align="left"><code><font size="2">varp(X)</font></code>
</td><td valign="center" align="left"> Returns the population variance of the field X.
</td><td valign="center" align="left"><code><font size="2"><a href="#chart" class="external text">chart</a></font></code>, <code><font size="2"><a href="#stats" class="external text">stats</a></font></code>, <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>, <code><font size="2">sparkline()</font></code>
</td><td valign="center" align="left">
</td></tr></table><a name="commontimeformatvariables"></a><h2> <a name="commontimeformatvariables_common_date_and_time_format_variables"><span class="mw-headline" id="Common_date_and_time_format_variables"> Common date and time format variables</span></a></h2>
<p>This topic lists the variables that are used to define time formats in the <a href="#eval" class="external text">eval</a> functions <a href="#commonevalfunctions" class="external text">strftime() and strptime()</a> and for describing timestamps in event data. You can also use other time functions, <code><font size="2">relative_time()</font></code> and <code><font size="2">now()</font></code> as arguments.
</p>
<h3> <a name="commontimeformatvariables_time_variables"><span class="mw-headline" id="Time_variables"> Time variables </span></a></h3>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0"> Variable
</th><th bgcolor="#C0C0C0"> Description
</th></tr><tr><td width="20%" valign="center" align="left">&nbsp;%Ez
</td><td valign="center" align="left"> Splunk specific, timezone in minutes.
</td></tr><tr><td valign="center" align="left">&nbsp;%H
</td><td valign="center" align="left"> Hour (24-hour clock) as a decimal number, includes leading zeros. (00 to 23)
</td></tr><tr><td valign="center" align="left">&nbsp;%I
</td><td valign="center" align="left"> Hour (12-hour clock), includes leading zeros. (01-12)
</td></tr><tr><td valign="center" align="left">&nbsp;%k
</td><td valign="center" align="left"> Like&nbsp;%H, the hour (24-hour clock) as a decimal number; but a leading zero is replaced by a space. (0 to 23)
</td></tr><tr><td valign="center" align="left">&nbsp;%M
</td><td valign="center" align="left"> Minute as a decimal number. (00 to 59)
</td></tr><tr><td valign="center" align="left">&nbsp;%N
</td><td valign="center" align="left"> Subseconds with width. (%3N = milliseconds,&nbsp;%6N = microseconds,&nbsp;%9N = nanoseconds)
</td></tr><tr><td valign="center" align="left">&nbsp;%p
</td><td valign="center" align="left"> AM or PM.
</td></tr><tr><td valign="center" align="left">&nbsp;%Q
</td><td valign="center" align="left"> The subsecond component of 1970-01-01 00:00:00 UTC. (%3Q = milliseconds,&nbsp;%6Q = microseconds,&nbsp;%9Q = nanoseconds with values of 000-999)
</td></tr><tr><td valign="center" align="left">&nbsp;%S
</td><td valign="center" align="left"> Second as a decimal number. (00 to 60)
</td></tr><tr><td valign="center" align="left">&nbsp;%s
</td><td valign="center" align="left"> The Unix Epoch Time timestamp, or the number of seconds since the Epoch: 1970-01-01 00:00:00 +0000 (UTC). (1352395800 is Thu Nov 8 09:30:00 2012)
</td></tr><tr><td valign="center" align="left">&nbsp;%T
</td><td valign="center" align="left"> The time in 24-hour notation (%H:%M:%S).
</td></tr><tr><td valign="center" align="left">&nbsp;%Z
</td><td valign="center" align="left"> The timezone abbreviation. (EST for Eastern Time)
</td></tr><tr><td valign="center" align="left">&nbsp;%z
</td><td valign="center" align="left"> The timezone offset from UTC, in hour and minute: +hhmm or -hhmm. (-0500 for Eastern Time)
</td></tr><tr><td valign="center" align="left">&nbsp;%%
</td><td valign="center" align="left"> A literal "%" character.
</td></tr></table><h3> <a name="commontimeformatvariables_date_variables"><span class="mw-headline" id="Date_variables"> Date variables </span></a></h3>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0"> Variable
</th><th bgcolor="#C0C0C0"> Description
</th></tr><tr><td width="20%" valign="center" align="left">&nbsp;%F
</td><td valign="center" align="left"> Equivalent to&nbsp;%Y-%m-%d (the ISO 8601 date format).
</td></tr></table><h4><font size="3"><b><i> <a name="commontimeformatvariables_specifying_days"><span class="mw-headline" id="Specifying_days"> Specifying days </span></a></i></b></font></h4>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0"> Variable
</th><th bgcolor="#C0C0C0"> Description
</th></tr><tr><td valign="center" align="left">&nbsp;%A
</td><td valign="center" align="left"> Full weekday name. (Sunday, ..., Saturday)
</td></tr><tr><td valign="center" align="left">&nbsp;%a
</td><td valign="center" align="left"> Abbreviated weekday name. (Sun, ... ,Sat)
</td></tr><tr><td width="20%" valign="center" align="left">&nbsp;%d
</td><td valign="center" align="left"> Day of the month as a decimal number, includes a leading zero. (01 to 31)
</td></tr><tr><td valign="center" align="left">&nbsp;%e
</td><td valign="center" align="left"> Like&nbsp;%d, the day of the month as a decimal number, but a leading zero is replaced by a space. (1 to 31)
</td></tr><tr><td valign="center" align="left">&nbsp;%j
</td><td valign="center" align="left"> Day of year as a decimal number, includes a leading zero. (001 to 366)
</td></tr><tr><td valign="center" align="left">&nbsp;%w
</td><td valign="center" align="left"> Weekday as a decimal number. (0 = Sunday, ...,  6 = Saturday)
</td></tr></table><h4><font size="3"><b><i> <a name="commontimeformatvariables_specifying_months"><span class="mw-headline" id="Specifying_months"> Specifying months </span></a></i></b></font></h4>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0"> Variable
</th><th bgcolor="#C0C0C0"> Description
</th></tr><tr><td width="20%" valign="center" align="left">&nbsp;%b
</td><td valign="center" align="left"> Abbreviated month name. (Jan, Feb, etc.)
</td></tr><tr><td valign="center" align="left">&nbsp;%B
</td><td valign="center" align="left"> Full month name. (January, February, etc.)
</td></tr><tr><td valign="center" align="left">&nbsp;%m
</td><td valign="center" align="left"> Month as a decimal number. (01 to 12)
</td></tr></table><h4><font size="3"><b><i> <a name="commontimeformatvariables_specifying_year"><span class="mw-headline" id="Specifying_year"> Specifying year </span></a></i></b></font></h4>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0"> Variable
</th><th bgcolor="#C0C0C0"> Description
</th></tr><tr><td width="20%" valign="center" align="left">&nbsp;%y
</td><td valign="center" align="left"> Year as a decimal number, without the century. (00 to 99)
</td></tr><tr><td valign="center" align="left">&nbsp;%Y
</td><td valign="center" align="left"> Year as a decimal number with century. (2012)
</td></tr></table><h3> <a name="commontimeformatvariables_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0"> Time format string
</th><th bgcolor="#C0C0C0"> Result
</th></tr><tr><td valign="center" align="left">&nbsp;%Y-%m-%d
</td><td valign="center" align="left"> 2012-12-31
</td></tr><tr><td valign="center" align="left">&nbsp;%y-%m-%d
</td><td valign="center" align="left"> 12-12-31
</td></tr><tr><td valign="center" align="left">&nbsp;%b&nbsp;%d,&nbsp;%Y
</td><td valign="center" align="left"> Feb 11, 2008
</td></tr><tr><td valign="center" align="left"> q|%d%b '%y =&nbsp;%Y-%m-%d|
</td><td valign="center" align="left"> q|23 Apr '12 = 2012-04-23|
</td></tr></table><a name="searchtimemodifiers"></a><h2> <a name="searchtimemodifiers_time_modifiers_for_search"><span class="mw-headline" id="Time_modifiers_for_search"> Time modifiers for search </span></a></h2>
<p>Use time modifiers to customize the time range of a search or change the format of the timestamps in the search results.
</p>
<h3> <a name="searchtimemodifiers_time_and_indextime_fields"><span class="mw-headline" id="time_and_indextime_fields"> _time and _indextime fields </span></a></h3>
<p>When an event is processed in Splunk Enterprise, its timestamp is saved as the default field <code><font size="2">_time</font></code>. This timestamp, which is the time when the event occurred, is saved in epoch notation. Searching with relative time modifiers, <code><font size="2">earliest</font></code> or <code><font size="2">latest</font></code>, tells Splunk Enterprise to search for every event with a timestamp beginning, ending, or between the specified timestamps. For example, when you search for <code><font size="2">earliest=@d</font></code>, the relative time modifier tells the product to search for every event with a <code><font size="2">_time</font></code> value since midnight. 
</p><p>You also have the option of searching for events based on when they were indexed by Splunk Enterprise. This epoch timestamp is saved in the default field <code><font size="2">_indextime</font></code>. Similar to <code><font size="2">earliest</font></code> and <code><font size="2">latest</font></code> for <code><font size="2">_time</font></code>, use the relative time modifiers <code><font size="2">_index_earliest</font></code> and <code><font size="2">_index_latest</font></code> to search for events based on <code><font size="2">_index_time</font></code>. For example, if you wanted to search for events indexed in the previous hour, use: <code><font size="2">_index_earliest=-h@h _index_latest=@h</font></code>.
</p><p><b>Note</b>: When using index-time based modifiers such as <code><font size="2">index_earliest</font></code> and <code><font size="2">index_latest</font></code>, your search must <b>also</b> have an event-time window which will retrieve the events.  In other words, Splunk Enterprise may rule out event chunks based on the non index-time window as well as the index-time window.  To be certain of retrieving every event based on index-time, you must run your search over all time.
</p>
<h3> <a name="searchtimemodifiers_list_of_time_modifiers"><span class="mw-headline" id="List_of_time_modifiers"> List of time modifiers </span></a></h3>
<p>Use the <code><font size="2">earliest</font></code> and/or <code><font size="2">latest</font></code> modifiers to specify custom and relative time ranges. Also, when specifying relative time, you can use <code><font size="2">now</font></code> to refer to the current time.
</p>
<table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0"> Modifier
</th><th bgcolor="#C0C0C0"> Syntax
</th><th bgcolor="#C0C0C0"> Description
</th></tr><tr><td valign="center" align="left"> earliest
</td><td valign="center" align="left"> <code><font size="2">earliest=[+|-]&lt;time_integer&gt;&lt;time_unit&gt;@&lt;time_unit&gt;</font></code>
</td><td valign="center" align="left"> Specify the earliest _time for the time range of your search.
</td></tr><tr><td valign="center" align="left"> _index_earliest
</td><td valign="center" align="left"> <code><font size="2">_index_earliest=[+|-]&lt;time_integer&gt;&lt;time_unit&gt;@&lt;time_unit&gt;</font></code>
</td><td valign="center" align="left"> Specify the earliest _indextime for the time range of your search.
</td></tr><tr><td valign="center" align="left"> _index_latest
</td><td valign="center" align="left"> <code><font size="2">_index_latest=[+|-]&lt;time_integer&gt;&lt;time_unit&gt;@&lt;time_unit&gt;</font></code>
</td><td valign="center" align="left"> Specify the latest _indextime for the time range of your search.
</td></tr><tr><td valign="center" align="left"> latest
</td><td valign="center" align="left"> <code><font size="2">latest=[+|-]&lt;time_integer&gt;&lt;time_unit&gt;@&lt;time_unit&gt;</font></code>
</td><td valign="center" align="left"> Specify the latest time for the _time range of your search.
</td></tr><tr><td valign="center" align="left"> now
</td><td valign="center" align="left"> <code><font size="2">now()</font></code>
</td><td valign="center" align="left"> Refers to the current time. If set to earliest, now() is the start of the search.
</td></tr><tr><td valign="center" align="left"> time
</td><td valign="center" align="left"> <code><font size="2">time()</font></code>
</td><td valign="center" align="left"> In real-time searches, time() is the current machine time.
</td></tr></table><p>For more information about customizing your search window, see "Specify real-time time range windows in your search" in the <i>Search Manual</i>.
</p>
<h3> <a name="searchtimemodifiers_how_to_specify_relative_time_modifiers"><span class="mw-headline" id="How_to_specify_relative_time_modifiers"> How to specify relative time modifiers </span></a></h3>
<p>You can define the relative time in your search with a string of characters that indicate time amount (integer and unit). You can also specify a "snap to" time unit, which is specified with the @ symbol followed by a time unit. For example:
</p><p><code><font size="2">[+|-]&lt;time_integer&gt;&lt;time_unit&gt;@&lt;time_unit&gt;</font></code>
</p><p><b>1.</b> Begin your string with a plus (+) or minus (-) to indicate the offset from the current time.
</p><p><b>2.</b> Define your time amount with a number and a unit. The supported time units are:
</p>
<ul><li> second: s, sec, secs, second, seconds
</li><li> minute: m, min, minute, minutes
</li><li> hour: h, hr, hrs, hour, hours
</li><li> day: d, day, days
</li><li> week: w, week, weeks
</li><li> month: mon, month, months
</li><li> quarter: q, qtr, qtrs, quarter, quarters
</li><li> year: y, yr, yrs, year, years
</li></ul><p><b>Note:</b> For Sunday, you can specify w0 and w7.
</p><p>For example, to start your search an hour ago use either of the following time modifiers.
</p><p><code><font size="2"> earliest=-h</font></code>
</p><p>or
</p><p><code><font size="2">earliest=-60m</font></code>
</p><p>When specifying single time amounts, the number one is implied. An 's' is the same as '1s', 'm' is the same as '1m', 'h' is the same as '1h', and so forth. 
</p><p><b>3.</b> You can specify a "snap to" time unit. The time unit indicates the nearest or latest time to which your time amount rounds down. Separate the time amount from the "snap to" time unit with an "@" character. 
</p>
<ul><li> You can use any of time units listed in Step 2. For example, @w, @week, and @w0 for Sunday; @month for the beginning of the month; and @q, @qtr, or @quarter for the beginning of the most recent quarter (Jan 1, Apr 1, Jul 1, or Oct 1). You can use the following for specific days of the week: w0 (Sunday), w1, w2, w3, w4, w5 and w6 (Saturday). 
</li><li> You can also specify <b>offsets from the snap-to-time</b> or "chain" together the time modifiers for more specific relative time definitions. For example, <code><font size="2">@d-2h</font></code> snaps to the beginning of today (12:00 AM) and subtracts 2 hours from that time.
</li><li> When snapping to the nearest or latest time, Splunk Enterprise always <b>snaps backwards</b> or rounds down to the latest time not after the specified time. For example, if it is 11:59:00 and you "snap to" hours, you will snap to 11:00 not 12:00. 
</li><li> If you do not specify a time offset before the "snap to" amount, Splunk Enterprise interprets the time as "current time snapped to" the specified amount. For example, if it is currently 11:59 PM on Friday and you use <code><font size="2">@w6</font></code> to "snap to Saturday", the resulting time is the <i>previous</i> Saturday at 12:01 AM.
</li></ul><p><b>Example 1:</b> To search events from the beginning of the current week: 
</p><p><code><font size="2">earliest=@w0</font></code>
</p><p><br><b>Example 2:</b> To search events from the last full business week:
</p><p><code><font size="2">earliest=-7d@w1 latest=@w6</font></code>
</p><p><br><b>Example 3:</b> To search with an exact date as boundary, such as from November 5 at 8 PM to November 12 at 8 PM, use the timeformat: <code><font size="2">%m/%d/%Y:%H:%M:%S</font></code>
</p><p><code><font size="2">earliest="11/5/2015:20:00:00" latest="11/12/2015:20:00:00"</font></code>
</p>
<h3> <a name="searchtimemodifiers_more_time_modifiers"><span class="mw-headline" id="More_time_modifiers"> More time modifiers </span></a></h3>
<p>These search time modifiers are still valid, BUT <b>may be removed and their function no longer supported in a future release</b>.
</p>
<table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0"> Modifier
</th><th bgcolor="#C0C0C0"> Syntax
</th><th bgcolor="#C0C0C0"> Description
</th></tr><tr><td valign="center" align="left"> daysago
</td><td valign="center" align="left"> <code><font size="2">daysago=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Search events within the last <b>integer</b> number of days.
</td></tr><tr><td valign="center" align="left"> enddaysago
</td><td valign="center" align="left"> <code><font size="2">enddaysago=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Set an end time for an integer number of days before now.
</td></tr><tr><td valign="center" align="left"> endhoursago
</td><td valign="center" align="left"> <code><font size="2">endhoursago=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Set an end time for an integer number of hours before now.
</td></tr><tr><td valign="center" align="left"> endminutesago
</td><td valign="center" align="left"> <code><font size="2">endminutesago=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Set an end time for an integer number of minutes before now.
</td></tr><tr><td valign="center" align="left"> endmonthsago
</td><td valign="center" align="left"> <code><font size="2">endmonthsago=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Set an end time for an integer number of months before now.
</td></tr><tr><td valign="center" align="left"> endtime
</td><td valign="center" align="left"> <code><font size="2">endtime=&lt;string&gt;</font></code>
</td><td valign="center" align="left"> Search for events before the specified time (exclusive of the specified time). Use <b>timeformat</b> to specify how the timestamp is formatted.
</td></tr><tr><td valign="center" align="left"> endtimeu
</td><td valign="center" align="left"> <code><font size="2">endtimeu=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Search for events before the specific epoch time (Unix time). .
</td></tr><tr><td valign="center" align="left"> hoursago
</td><td valign="center" align="left"> <code><font size="2">hoursago=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Search events within the last <b>integer</b> number of hours.
</td></tr><tr><td valign="center" align="left"> minutesago
</td><td valign="center" align="left"> <code><font size="2">minutesago=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Search events within the last <b>integer</b> number of minutes.
</td></tr><tr><td valign="center" align="left"> monthsago
</td><td valign="center" align="left"> <code><font size="2">monthsago=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Search events within the last <b>integer</b> number of months.
</td></tr><tr><td valign="center" align="left"> searchtimespandays
</td><td valign="center" align="left"> <code><font size="2">searchtimespandays=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Search within a specified range of days (expressed as an integer).
</td></tr><tr><td valign="center" align="left"> searchtimespanhours
</td><td valign="center" align="left"> <code><font size="2">searchtimespanhours=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Search within a specified range of hours (expressed as an integer).
</td></tr><tr><td valign="center" align="left"> searchtimespanminutes
</td><td valign="center" align="left"> <code><font size="2">searchtimespanminutes=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Search within a specified range of minutes (expressed as an integer).
</td></tr><tr><td valign="center" align="left"> searchtimespanmonths
</td><td valign="center" align="left"> <code><font size="2">searchtimespanmonths=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Search within a specified range of months (expressed as an integer).
</td></tr><tr><td valign="center" align="left"> startdaysago
</td><td valign="center" align="left"> <code><font size="2">startdaysago=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Search the specified number of days before the present time.
</td></tr><tr><td valign="center" align="left"> starthoursago
</td><td valign="center" align="left"> <code><font size="2">starthoursago=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Search the specified number of hours before the present time.
</td></tr><tr><td valign="center" align="left"> startminutesago
</td><td valign="center" align="left"> <code><font size="2">startminutesago=&lt;int&gt;</font></code>
</td><td valign="center" align="left">  Search the specified number of minutes before the present time.
</td></tr><tr><td valign="center" align="left"> startmonthsago
</td><td valign="center" align="left"> <code><font size="2">startmonthsago=&lt;int&gt;</font></code>
</td><td valign="center" align="left">   Search the specified number of months before the present time.
</td></tr><tr><td valign="center" align="left"> starttime
</td><td valign="center" align="left"> <code><font size="2">starttime=&lt;timestamp&gt;</font></code>
</td><td valign="center" align="left"> Search from the specified date and time to the present (inclusive of the specified time).
</td></tr><tr><td valign="center" align="left"> starttimeu
</td><td valign="center" align="left"> <code><font size="2">starttimeu=&lt;int&gt;</font></code>
</td><td valign="center" align="left"> Search from the specific epoch (Unix time).
</td></tr><tr><td valign="center" align="left"> timeformat
</td><td valign="center" align="left"> <code><font size="2">timeformat=&lt;string&gt;</font></code>
</td><td valign="center" align="left"> Set the timeformat for the <b>starttime</b> and <b>endtime</b> modifiers. By default: <code><font size="2">timeformat=%m/%d/%Y:%H:%M:%S</font></code>
</td></tr></table><a name="listofdatatypes"></a><h2> <a name="listofdatatypes_list_of_data_types"><span class="mw-headline" id="List_of_data_types"> List of data types </span></a></h2>
<p><b>This topic is out of date. </b>
</p><p>This page lists the data types used to define the syntax of the search language. Learn more about the commands used in these examples by referring to the <a href="#listofsearchcommands" class="external text">search command reference</a>.
</p><p><br></p>
<h4><font size="3"><b><i> <a name="listofdatatypes_after-opt"><span class="mw-headline" id="after-opt"> after-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> timeafter=&lt;int&gt;(s|m|h|d)?
</dd><dd> <b>Description:</b> the amount of time to add to endtime (ie expand the time region forward in time)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_anovalue-action-option"><span class="mw-headline" id="anovalue-action-option"> anovalue-action-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> action=(annotate|filter|summary)
</dd><dd> <b>Description:</b> If action is ANNOTATE, a new field is added to the event containing the anomalous value that indicates the anomaly score of the value If action is FILTER, events with anomalous value(s) are isolated. If action is SUMMARY, a table summarizing the anomaly statistics for each field is generated.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_anovalue-pthresh-option"><span class="mw-headline" id="anovalue-pthresh-option"> anovalue-pthresh-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> pthresh=&lt;num&gt;
</dd><dd> <b>Description:</b> Probability threshold (as a decimal) that has to be met for a value to be deemed anomalous
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_associate-improv-option"><span class="mw-headline" id="associate-improv-option"> associate-improv-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> improv=&lt;num&gt;
</dd><dd> <b>Description:</b> Minimum entropy improvement for target key. That is, entropy(target key) - entropy(target key given reference key/value) must be greater than or equal to this.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_associate-option"><span class="mw-headline" id="associate-option"> associate-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#associate-supcnt-option">associate-supcnt-option</a>&gt;|&lt;<a href="#associate-supfreq-option">associate-supfreq-option</a>&gt;|&lt;<a href="#associate-improv-option">associate-improv-option</a>&gt;
</dd><dd> <b>Description:</b> Associate command options
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_associate-supcnt-option"><span class="mw-headline" id="associate-supcnt-option"> associate-supcnt-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> supcnt=&lt;int&gt;
</dd><dd> <b>Description:</b> Minimum number of times the reference key=reference value combination must be appear. Must be a non-negative integer.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_associate-supfreq-option"><span class="mw-headline" id="associate-supfreq-option"> associate-supfreq-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> supfreq=&lt;num&gt;
</dd><dd> <b>Description:</b> Minimum frequency of reference key=reference value combination, as a fraction of the number of total events.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_before-opt"><span class="mw-headline" id="before-opt"> before-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> timebefore=&lt;int&gt;(s|m|h|d)?
</dd><dd> <b>Description:</b> the amount of time to subtract from starttime (ie expand the time region backwards in time)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_bucket-bins"><span class="mw-headline" id="bucket-bins"> bucket-bins </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> bins=&lt;int&gt;
</dd><dd> <b>Description:</b> Sets the maximum number of bins to discretize into. Given this upper-bound guidance, the bins will snap to human sensible bounds.
</dd><dd> <b>Example:</b> bins=10
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_bucket-span"><span class="mw-headline" id="bucket-span"> bucket-span </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> span=(&lt;<a href="#span-length">span-length</a>&gt;|&lt;<a href="#log-span">log-span</a>&gt;)
</dd><dd> <b>Description:</b> Sets the size of each bucket.
</dd><dd> <b>Example:</b> span=2d
</dd><dd> <b>Example:</b> span=5m
</dd><dd> <b>Example:</b> span=10
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_bucket-start-end"><span class="mw-headline" id="bucket-start-end"> bucket-start-end </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (start=|end=)&lt;num&gt;
</dd><dd> <b>Description:</b> Sets the minimum and maximum extents for numerical buckets.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_bucketing-option"><span class="mw-headline" id="bucketing-option"> bucketing-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#bucket-bins">bucket-bins</a>&gt;|&lt;<a href="#bucket-span">bucket-span</a>&gt;|&lt;<a href="#bucket-start-end">bucket-start-end</a>&gt;
</dd><dd> <b>Description:</b> Discretization option.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_by-clause"><span class="mw-headline" id="by-clause"> by-clause </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> by &lt;field-list&gt;
</dd><dd> <b>Description:</b> Fields to group by.
</dd><dd> <b>Example:</b> BY addr, port
</dd><dd> <b>Example:</b> BY host
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_cmp"><span class="mw-headline" id="cmp"> cmp </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> =|!=|&lt;|&lt;=|&gt;|&gt;=
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_collapse-opt"><span class="mw-headline" id="collapse-opt"> collapse-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> collapse=&lt;bool&gt;
</dd><dd> <b>Description:</b> whether to collapse terms that are a prefix of another term and the event count is the same
</dd><dd> <b>Example:</b> collapse=f
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_collect-addinfo"><span class="mw-headline" id="collect-addinfo"> collect-addinfo </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> No syntax
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_collect-addtime"><span class="mw-headline" id="collect-addtime"> collect-addtime </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> addtime=&lt;bool&gt;
</dd><dd> <b>Description:</b> whether to prefix a time into each event if the event does not contain a _raw field. The first found field of the following times is used: info_min_time, _time, now() defaults to true
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_collect-arg"><span class="mw-headline" id="collect-arg"> collect-arg </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#collect-addtime">collect-addtime</a>&gt; | &lt;<a href="#collect-index">collect-index</a>&gt; | &lt;<a href="#collect-file">collect-file</a>&gt; | &lt;<a href="#collect-spool">collect-spool</a>&gt; | &lt;<a href="#collect-marker">collect-marker</a>&gt; | &lt;<a href="#collect-testmode">collect-testmode</a>&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_collect-file"><span class="mw-headline" id="collect-file"> collect-file </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> file=&lt;string&gt;
</dd><dd> <b>Description:</b> name of the file where to write the events to. Optional, default "&lt;random-num&gt;_events.stash" The following placeholders can be used in the file name $timestamp$, $random$ and will be replaced with a timestamp, a random number respectively
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_collect-index"><span class="mw-headline" id="collect-index"> collect-index </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> index=&lt;string&gt;
</dd><dd> <b>Description:</b> name of the index where splunk should add the events to. Note: the index must exist for events to be added to it, the index is NOT created automatically.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_collect-marker"><span class="mw-headline" id="collect-marker"> collect-marker </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> marker=&lt;string&gt;
</dd><dd> <b>Description:</b> a string, usually of key-value pairs, to append to each event written out. Optional, default ""
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_collect-spool"><span class="mw-headline" id="collect-spool"> collect-spool </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> spool=&lt;bool&gt;
</dd><dd> <b>Description:</b> If set to true (default is true), the summary indexing file will be written to Splunk's spool directory, where it will be indexed automatically. If set to false, file will be written to $SPLUNK_HOME/var/run/splunk.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_collect-testmode"><span class="mw-headline" id="collect-testmode"> collect-testmode </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> testmode=&lt;bool&gt;
</dd><dd> <b>Description:</b> toggle between testing and real mode. In testing mode the results are not written into the new index but the search results are modified to appear as they would if sent to the index. (defaults to false)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_comparison-expression"><span class="mw-headline" id="comparison-expression"> comparison-expression </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;field&gt;&lt;<a href="#cmp">cmp</a>&gt;&lt;<a href="#value">value</a>&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_connected-opt"><span class="mw-headline" id="connected-opt"> connected-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> connected=&lt;bool&gt;
</dd><dd> <b>Description:</b> Relevant iff fields is not empty. Controls whether an event that is not inconsistent and not consistent with the fields of a transaction, opens a new transaction (connected=t) or is added to the transaction. An event can be not inconsistent and not consistent if it contains fields required by the transaction but none of these fields has been instantiated in the transaction (by a previous event addition).
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_contingency-maxopts"><span class="mw-headline" id="contingency-maxopts"> contingency-maxopts </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (maxrows|maxcols)=&lt;int&gt;
</dd><dd> <b>Description:</b> Maximum number of rows or columns. If the number of distinct values of the field exceeds this maximum, the least common values will be ignored. A value of 0 means unlimited rows or columns.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_contingency-mincover"><span class="mw-headline" id="contingency-mincover"> contingency-mincover </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (mincolcover|minrowcover)=&lt;num&gt;
</dd><dd> <b>Description:</b> Cover only this percentage of values for the row or column field. If the number of entries needed to cover the required percentage of values exceeds maxrows or maxcols, maxrows or maxcols takes precedence.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_contingency-option"><span class="mw-headline" id="contingency-option"> contingency-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#contingency-maxopts">contingency-maxopts</a>&gt;|&lt;<a href="#contingency-mincover">contingency-mincover</a>&gt;|&lt;<a href="#contingency-usetotal">contingency-usetotal</a>&gt;|&lt;<a href="#contingency-totalstr">contingency-totalstr</a>&gt;
</dd><dd> <b>Description:</b> Options for the contingency table
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_contingency-totalstr"><span class="mw-headline" id="contingency-totalstr"> contingency-totalstr </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> totalstr=&lt;field&gt;
</dd><dd> <b>Description:</b> Field name for the totals row/column
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_contingency-usetotal"><span class="mw-headline" id="contingency-usetotal"> contingency-usetotal </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> usetotal=&lt;bool&gt;
</dd><dd> <b>Description:</b> Add row and column totals
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_convert-auto"><span class="mw-headline" id="convert-auto"> convert-auto </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> auto("(" (&lt;wc-field&gt;)? ")")?
</dd><dd> <b>Description:</b> Automatically convert the field(s) to a number using the best conversion. Note that if not all values of a particular field can be converted using a known conversion type, the field is left untouched and no conversion at all in done for that field.
</dd><dd> <b>Example:</b> ... | convert auto(*delay) as *delay_secs
</dd><dd> <b>Example:</b> ... | convert auto(*) as  *_num
</dd><dd> <b>Example:</b> ... | convert auto(delay) auto(xdelay)
</dd><dd> <b>Example:</b> ... | convert auto(delay) as delay_secs
</dd><dd> <b>Example:</b> ... | convert auto
</dd><dd> <b>Example:</b> ... | convert auto()
</dd><dd> <b>Example:</b> ... | convert auto(*)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_convert-ctime"><span class="mw-headline" id="convert-ctime"> convert-ctime </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> ctime"("&lt;wc-field&gt;?")"
</dd><dd> <b>Description:</b> Convert an epoch time to an ascii human readable time. Use timeformat option to specify exact format to convert to.
</dd><dd> <b>Example:</b> ... | convert timeformat="%H:%M:%S" ctime(_time) as timestr
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_convert-dur2sec"><span class="mw-headline" id="convert-dur2sec"> convert-dur2sec </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> dur2sec"("&lt;wc-field&gt;?")"
</dd><dd> <b>Description:</b> Convert a duration format "D+HH:MM:SS" to seconds.
</dd><dd> <b>Example:</b> ... | convert dur2sec(*delay)
</dd><dd> <b>Example:</b> ... | convert dur2sec(xdelay)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_convert-function"><span class="mw-headline" id="convert-function"> convert-function </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#convert-auto">convert-auto</a>&gt;|&lt;<a href="#convert-dur2sec">convert-dur2sec</a>&gt;|&lt;<a href="#convert-mstime">convert-mstime</a>&gt;|&lt;<a href="#convert-memk">convert-memk</a>&gt;|&lt;<a href="#convert-none">convert-none</a>&gt;|&lt;<a href="#convert-num">convert-num</a>&gt;|&lt;<a href="#convert-rmunit">convert-rmunit</a>&gt;|&lt;<a href="#convert-rmcomma">convert-rmcomma</a>&gt;|&lt;<a href="#convert-ctime">convert-ctime</a>&gt;|&lt;<a href="#convert-mktime">convert-mktime</a>&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_convert-memk"><span class="mw-headline" id="convert-memk"> convert-memk </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> memk"(" &lt;wc-field&gt;? ")"
</dd><dd> <b>Description:</b> Convert a {KB, MB, GB} denominated size quantity into a KB
</dd><dd> <b>Example:</b> ... | convert memk(VIRT)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_convert-mktime"><span class="mw-headline" id="convert-mktime"> convert-mktime </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> mktime"("&lt;wc-field&gt;?")"
</dd><dd> <b>Description:</b> Convert an human readable time string to an epoch time. Use timeformat option to specify exact format to convert from.
</dd><dd> <b>Example:</b> ... | convert mktime(timestr)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_convert-mstime"><span class="mw-headline" id="convert-mstime"> convert-mstime </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> mstime"(" &lt;wc-field&gt;? ")"
</dd><dd> <b>Description:</b> Convert a MM:SS.SSS format to seconds.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_convert-none"><span class="mw-headline" id="convert-none"> convert-none </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> none"(" &lt;wc-field&gt;? ")"
</dd><dd> <b>Description:</b> In the presence of other wildcards, indicates that the matching fields should not be converted.
</dd><dd> <b>Example:</b> ... | convert auto(*) none(foo)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_convert-num"><span class="mw-headline" id="convert-num"> convert-num </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> num"("&lt;wc-field&gt;? ")"
</dd><dd> <b>Description:</b> Like auto(), except non-convertible values are removed.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_convert-rmcomma"><span class="mw-headline" id="convert-rmcomma"> convert-rmcomma </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> rmcomma"("&lt;wc-field&gt;? ")"
</dd><dd> <b>Description:</b> Removes all commas from value, e.g. '1,000,000.00' -&gt; '1000000.00'
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_convert-rmunit"><span class="mw-headline" id="convert-rmunit"> convert-rmunit </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> rmunit"(" &lt;wc-field&gt;? ")"
</dd><dd> <b>Description:</b> Looks for numbers at the beginning of the value and removes trailing text.
</dd><dd> <b>Example:</b> ... | convert rmunit(duration)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_copyresults-dest-option"><span class="mw-headline" id="copyresults-dest-option"> copyresults-dest-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> dest=&lt;string&gt;
</dd><dd> <b>Description:</b> The destination file where to copy the results to. The string is interpreted as path relative to SPLUNK_HOME and (1) should point to a .csv file and (2) the file should be located either in etc/system/lookups/ or etc/apps/&lt;app-name&gt;/lookups/
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_copyresults-sid-option"><span class="mw-headline" id="copyresults-sid-option"> copyresults-sid-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> sid=&lt;string&gt;
</dd><dd> <b>Description:</b> The search id of the job whose results are to be copied. Note, the user who is running this command should have permission to the job pointed by this id.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_correlate-type"><span class="mw-headline" id="correlate-type"> correlate-type </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> type=cocur
</dd><dd> <b>Description:</b> Type of correlation to calculate. Only available option currently is the co-occurrence matrix, which contains the percentage of times that two fields exist in the same events.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_count-opt"><span class="mw-headline" id="count-opt"> count-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> count=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum number of results to return
</dd><dd> <b>Example:</b> count=10
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_crawl-option"><span class="mw-headline" id="crawl-option"> crawl-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;string&gt;=&lt;string&gt;
</dd><dd> <b>Description:</b> Override settings from crawl.conf.
</dd><dd> <b>Example:</b> root=/home/bob
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_daysago"><span class="mw-headline" id="daysago"> daysago </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> daysago=&lt;int&gt;
</dd><dd> <b>Description:</b> Search the last N days. ( equivalent to startdaysago )
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_debug-method"><span class="mw-headline" id="debug-method"> debug-method </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> optimize|roll|logchange|validate|delete|sync|sleep|rescan
</dd><dd> <b>Description:</b> The available commands for debug command
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_dedup-consecutive"><span class="mw-headline" id="dedup-consecutive"> dedup-consecutive </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> consecutive=&lt;bool&gt;
</dd><dd> <b>Description:</b> Only eliminate events that are consecutive
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_dedup-keepempty"><span class="mw-headline" id="dedup-keepempty"> dedup-keepempty </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> keepempty=&lt;bool&gt;
</dd><dd> <b>Description:</b> If an event contains a null value for one or more of the specified fields, the event is either retained (if keepempty=true) or discarded
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_dedup-keepevents"><span class="mw-headline" id="dedup-keepevents"> dedup-keepevents </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> keepevents=&lt;bool&gt;
</dd><dd> <b>Description:</b> Keep all events, remove specific values instead
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_default"><span class="mw-headline" id="default"> default </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> No syntax
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_delim-opt"><span class="mw-headline" id="delim-opt"> delim-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> delim=&lt;string&gt;
</dd><dd> <b>Description:</b> A string used to delimit the original event values in the transaction event fields.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_email_address"><span class="mw-headline" id="email_address"> email_address </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> None
</dd><dd> <b>Example:</b> bob@smith.com
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_email_list"><span class="mw-headline" id="email_list"> email_list </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#email_address">email_address</a>&gt; (, &lt;<a href="#email_address">email_address</a>&gt; )*
</dd><dd> <b>Description:</b> None
</dd><dd> <b>Example:</b> "bob@smith.com, elvis@presley.com"
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_end-opt"><span class="mw-headline" id="end-opt"> end-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> endswith=&lt;<a href="#transam-filter-string">transam-filter-string</a>&gt;
</dd><dd> <b>Description:</b> A search or eval filtering expression which if satisfied by an event marks the end of a transaction
</dd><dd> <b>Example:</b> endswith=eval(speed_field &gt; max_speed_field/12)
</dd><dd> <b>Example:</b> endswith=(username=foobar)
</dd><dd> <b>Example:</b> endswith=eval(speed_field &gt; max_speed_field)
</dd><dd> <b>Example:</b> endswith="logout"
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_enddaysago"><span class="mw-headline" id="enddaysago"> enddaysago </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> enddaysago=&lt;int&gt;
</dd><dd> <b>Description:</b> A short cut to set the end time. endtime = now - (N days)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_endhoursago"><span class="mw-headline" id="endhoursago"> endhoursago </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> endhoursago=&lt;int&gt;
</dd><dd> <b>Description:</b> A short cut to set the end time. endtime = now - (N hours)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_endminutesago"><span class="mw-headline" id="endminutesago"> endminutesago </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> endminutesago=&lt;int&gt;
</dd><dd> <b>Description:</b> A short cut to set the end time. endtime = now - (N minutes)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_endmonthsago"><span class="mw-headline" id="endmonthsago"> endmonthsago </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> endmonthsago=&lt;int&gt;
</dd><dd> <b>Description:</b> A short cut to set the start time. starttime = now - (N months)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_endtime"><span class="mw-headline" id="endtime"> endtime </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> endtime=&lt;string&gt;
</dd><dd> <b>Description:</b> All events must be earlier or equal to this time.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_endtimeu"><span class="mw-headline" id="endtimeu"> endtimeu </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> endtime=&lt;int&gt;
</dd><dd> <b>Description:</b> Set the end time to N seconds since the epoch. ( unix time )
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_erex-examples"><span class="mw-headline" id="erex-examples"> erex-examples </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> ""&lt;string&gt;(, &lt;string&gt; )*""
</dd><dd> <b>Description:</b> None
</dd><dd> <b>Example:</b> "foo, bar"
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_eval-bool-exp"><span class="mw-headline" id="eval-bool-exp"> eval-bool-exp </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (NOT|!)? (&lt;<a href="#eval-compare-exp">eval-compare-exp</a>&gt;|&lt;<a href="#eval-function-call">eval-function-call</a>&gt;) ((AND|OR|XOR) &lt;<a href="#eval-expression">eval-expression</a>&gt;)*
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_eval-compare-exp"><span class="mw-headline" id="eval-compare-exp"> eval-compare-exp </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (&lt;field&gt;|&lt;string&gt;|&lt;num&gt;) (&lt;|&gt;|&lt;=|&gt;=|!=|=|==|LIKE) &lt;<a href="#eval-expression">eval-expression</a>&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_eval-concat-exp"><span class="mw-headline" id="eval-concat-exp"> eval-concat-exp </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> ((&lt;field&gt;|&lt;string&gt;|&lt;num&gt;) (. &lt;<a href="#eval-expression">eval-expression</a>&gt;)*)|((&lt;field&gt;|&lt;string&gt;) (+ &lt;<a href="#eval-expression">eval-expression</a>&gt;)*)
</dd><dd> <b>Description:</b> concatenate fields and strings
</dd><dd> <b>Example:</b> first_name." ".last_nameSearch
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_eval-expression"><span class="mw-headline" id="eval-expression"> eval-expression </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#eval-math-exp">eval-math-exp</a>&gt; | &lt;<a href="#eval-concat-exp">eval-concat-exp</a>&gt; | &lt;<a href="#eval-compare-exp">eval-compare-exp</a>&gt; | &lt;<a href="#eval-bool-exp">eval-bool-exp</a>&gt; | &lt;<a href="#eval-function-call">eval-function-call</a>&gt;
</dd><dd> <b>Description:</b> A combination of literals, fields, operators, and functions that represent the value of your destination field. The following are the basic operations you can perform with eval. For these evaluations to work, your values need to be valid for the type of operation. For example, with the exception of addition, arithmetic operations may not produce valid results if the values are not numerical. For addition, Splunk can concatenate the two operands if they are both strings. When concatenating values with '.', Splunk treats both values as strings regardless of their actual type.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_eval-field"><span class="mw-headline" id="eval-field"> eval-field </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> A field name for your evaluated value.
</dd><dd> <b>Example:</b> velocity
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_eval-function"><span class="mw-headline" id="eval-function"> eval-function </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> abs|case|cidrmatch|coalesce|exact|exp|floor|if|ifnull|isbool|isint|isnotnull|isnull|isnum|isstr|len|like|ln|log|lower|match|max|md5|min|mvcount|mvindex|mvfilter|now|null|nullif|pi|pow|random|replace|round|searchmatch|sqrt|substr|tostring|trim|ltrim|rtrim|typeof|upper|urldecode|validate
</dd><dd> <b>Description:</b> Function used by eval.
</dd><dd> <b>Example:</b> md5(field)
</dd><dd> <b>Example:</b> typeof(12) + typeof("string") + typeof(1==2) + typeof(badfield)
</dd><dd> <b>Example:</b> searchmatch("foo AND bar")
</dd><dd> <b>Example:</b> sqrt(9)
</dd><dd> <b>Example:</b> round(3.5)
</dd><dd> <b>Example:</b> replace(date, "^(\d{1,2})/(\d{1,2})/", "\2/\1/")
</dd><dd> <b>Example:</b> pi()
</dd><dd> <b>Example:</b> nullif(fielda, fieldb)
</dd><dd> <b>Example:</b> random()
</dd><dd> <b>Example:</b> pow(x, y)
</dd><dd> <b>Example:</b> mvfilter(match(email, "\.net$") OR match(email, "\.org$"))
</dd><dd> <b>Example:</b> mvindex(multifield, 2)
</dd><dd> <b>Example:</b> null()
</dd><dd> <b>Example:</b> now()
</dd><dd> <b>Example:</b> isbool(field)
</dd><dd> <b>Example:</b> exp(3)
</dd><dd> <b>Example:</b> floor(1.9)
</dd><dd> <b>Example:</b> coalesce(null(), "Returned value", null())
</dd><dd> <b>Example:</b> exact(3.14 * num)
</dd><dd> <b>Example:</b> case(error == 404, "Not found", error == 500, "Internal Server Error", error == 200, "OK")
</dd><dd> <b>Example:</b> cidrmatch("123.132.32.0/25", ip)
</dd><dd> <b>Example:</b> abs(number)
</dd><dd> <b>Example:</b> isnotnull(field)
</dd><dd> <b>Example:</b> substr("string", 1, 3) + substr("string", -3)
</dd><dd> <b>Example:</b> if(error == 200, "OK", "Error")
</dd><dd> <b>Example:</b> len(field)
</dd><dd> <b>Example:</b> log(number, 2)
</dd><dd> <b>Example:</b> lower(username)
</dd><dd> <b>Example:</b> match(field, "^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$")
</dd><dd> <b>Example:</b> max(1, 3, 6, 7, "f"^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$")oo", field)
</dd><dd> <b>Example:</b> like(field, "foo%")
</dd><dd> <b>Example:</b> ln(bytes)
</dd><dd> <b>Example:</b> mvcount(multifield)
</dd><dd> <b>Example:</b> urldecode("http%3A%2F%2Fwww.splunk.com%2Fdownload%3Fr%3Dheader")
</dd><dd> <b>Example:</b> validate(isint(port), "ERROR: Port is not an integer", port &gt;= 1 AND port &lt;= 65535, "ERROR: Port is out of range")
</dd><dd> <b>Example:</b> tostring(1==1) + " " + tostring(15, "hex") + " " + tostring(12345.6789, "commas")
</dd><dd> <b>Example:</b> trim("   ZZZZabcZZ ", " Z")
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_eval-function-call"><span class="mw-headline" id="eval-function-call"> eval-function-call </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#eval-function">eval-function</a>&gt; "(" &lt;<a href="#eval-expression">eval-expression</a>&gt; ("," &lt;<a href="#eval-expression">eval-expression</a>&gt;)* ")"
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_eval-math-exp"><span class="mw-headline" id="eval-math-exp"> eval-math-exp </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (&lt;field&gt;|&lt;num&gt;) ((+|-|*|/|%) &lt;<a href="#eval-expression">eval-expression</a>&gt;)*
</dd><dd> <b>Description:</b> None
</dd><dd> <b>Example:</b> pi() * pow(radius_a, 2) + pi() * pow(radius_b, 2)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_evaled-field"><span class="mw-headline" id="evaled-field"> evaled-field </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> "eval("&lt;<a href="#eval-expression">eval-expression</a>&gt;")"
</dd><dd> <b>Description:</b> A dynamically evaled field
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_event-id"><span class="mw-headline" id="event-id"> event-id </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;int&gt;:&lt;int&gt;
</dd><dd> <b>Description:</b> a splunk internal event id
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_eventtype-specifier"><span class="mw-headline" id="eventtype-specifier"> eventtype-specifier </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> eventtype=&lt;string&gt;
</dd><dd> <b>Description:</b> Search for events that match the specified eventtype
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_eventtypetag-specifier"><span class="mw-headline" id="eventtypetag-specifier"> eventtypetag-specifier </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> eventtypetag=&lt;string&gt;
</dd><dd> <b>Description:</b> Search for events that would match all eventtypes tagged by the string
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_extract-opt"><span class="mw-headline" id="extract-opt"> extract-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (segment=&lt;bool&gt;)|(auto=&lt;bool&gt;)|(reload=&lt;bool&gt;)|(limit=&lt;int&gt;)|(maxchars=&lt;int&gt;)|(mv_add=&lt;bool&gt;)|(clean_keys=&lt;bool&gt;)
</dd><dd> <b>Description:</b> Extraction options. "segment" specifies whether to note the locations of key/value pairs with the results (internal, false). "auto" specifies whether to perform automatic '=' based extraction (true). "reload" specifies whether to force reloading of props.conf and transforms.conf (false). "limit" specifies how many automatic key/value pairs to extract (50). "kvdelim" string specifying a list of character delimiters that separate the key from the value "pairdelim" string specifying a list of character delimiters that separate the key-value pairs from each other "maxchars" specifies how many characters to look into the event (10240). "mv_add" whether to create multivalued fields. Overrides MV_ADD from transforms.conf "clean_keys" whether to clean keys. Overrides CLEAN_KEYS from transforms.conf
</dd><dd> <b>Example:</b> reload=true
</dd><dd> <b>Example:</b> auto=false
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_extractor-name"><span class="mw-headline" id="extractor-name"> extractor-name </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> A stanza that can be found in transforms.conf
</dd><dd> <b>Example:</b> access-extractions
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_fields-opt"><span class="mw-headline" id="fields-opt"> fields-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> fields=&lt;string&gt;? (,&lt;string&gt;)*
</dd><dd> <b>Description:</b> DEPRECATED: The preferred usage of transaction is for list of fields to be specified directly as arguments. E.g. 'transaction foo bar' rather than 'transaction fields="foo,bar"' The 'fields' constraint takes a list of fields. For search results to be members of a transaction, for each field specified, if they have a value, it must have the same value as other members in that transaction. For example, a search result that has host=mylaptop can never be in the same transaction as a search result that has host=myserver, if host is one of the constraints. A search result that does not have a host value, however, can be in a transaction with another search result that has host=mylaptop, because they are not inconsistent.
</dd><dd> <b>Example:</b> fields=host,cookie
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_grouping-field"><span class="mw-headline" id="grouping-field"> grouping-field </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> By default, the typelearner initially groups events by the value of the grouping-field, and then further unifies and merges those groups, based on the keywords they contain. The default grouping field is "punct" (the punctuation seen in _raw).
</dd><dd> <b>Example:</b> host
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_grouping-maxlen"><span class="mw-headline" id="grouping-maxlen"> grouping-maxlen </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> maxlen=&lt;int&gt;
</dd><dd> <b>Description:</b> determines how many characters in the grouping-field value to look at. If set to negative, the entire value of the grouping-field value is used to initially group events
</dd><dd> <b>Example:</b> maxlen=30
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_host-specifier"><span class="mw-headline" id="host-specifier"> host-specifier </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> host=&lt;string&gt;
</dd><dd> <b>Description:</b> Search for events from the specified host
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_hosttag-specifier"><span class="mw-headline" id="hosttag-specifier"> hosttag-specifier </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> hosttag=&lt;string&gt;
</dd><dd> <b>Description:</b> Search for events that have hosts that are tagged by the string
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_hoursago"><span class="mw-headline" id="hoursago"> hoursago </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> hoursago=&lt;int&gt;
</dd><dd> <b>Description:</b> Search the last N hours. ( equivalent to starthoursago )
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_increment"><span class="mw-headline" id="increment"> increment </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;int:increment&gt;(s|m|h|d)?
</dd><dd> <b>Description:</b> None
</dd><dd> <b>Example:</b> 1h
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_index-expression"><span class="mw-headline" id="index-expression"> index-expression </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> \"&lt;string&gt;\"|&lt;term&gt;|&lt;<a href="#search-modifier">search-modifier</a>&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_index-specifier"><span class="mw-headline" id="index-specifier"> index-specifier </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> index=&lt;string&gt;
</dd><dd> <b>Description:</b> Search the specified index instead of the default index
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_input-option"><span class="mw-headline" id="input-option"> input-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;string&gt;=&lt;string&gt;
</dd><dd> <b>Description:</b> Override settings from inputs.conf.
</dd><dd> <b>Example:</b> root=/home/bob
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_join-options"><span class="mw-headline" id="join-options"> join-options </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> usetime=&lt;bool&gt; | earlier=&lt;bool&gt; | overwrite=&lt;bool&gt; | max=&lt;int&gt;
</dd><dd> <b>Description:</b> Options to the join command. usetime indicates whether to limit matches to sub results that are earlier or later (depending on the 'earlier' option which is only valid when usetime=true) than the main result to join with, default = false. 'overwrite' indicates if fields from the sub results should overwrite those from the main result if they have the same field name (default = true). max indicates the maximum number of sub results each main result can join with. (default = 1, 0 means no limit).
</dd><dd> <b>Example:</b> max=3
</dd><dd> <b>Example:</b> usetime=t earlier=f
</dd><dd> <b>Example:</b> overwrite=f
</dd><dd> <b>Example:</b> usetime=t
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_keepevicted-opt"><span class="mw-headline" id="keepevicted-opt"> keepevicted-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> keepevicted=&lt;bool&gt;
</dd><dd> <b>Description:</b> Whether to output evicted transactions. Evicted transactions can be distinguished from non-evicted transactions by checking the value of the 'evicted' field, which is set to '1' for evicted transactions
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_key-list"><span class="mw-headline" id="key-list"> key-list </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (&lt;string&gt; )*
</dd><dd> <b>Description:</b> a list of keys that are ANDed to provide a filter for surrounding command
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_kmeans-cnumfield"><span class="mw-headline" id="kmeans-cnumfield"> kmeans-cnumfield </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> cfield=&lt;field&gt;
</dd><dd> <b>Description:</b> Controls the field name for the cluster number for each event
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_kmeans-distype"><span class="mw-headline" id="kmeans-distype"> kmeans-distype </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> dt=(l1norm|l2norm|cityblock|sqeuclidean|cosine)
</dd><dd> <b>Description:</b> Distance metric to use (L1/L1NORM equivalent to CITYBLOCK). L2NORM equivalent to SQEUCLIDEAN
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_kmeans-iters"><span class="mw-headline" id="kmeans-iters"> kmeans-iters </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> maxiters=&lt;int&gt;
</dd><dd> <b>Description:</b> Maximum number of iterations allowed before failing to converge
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_kmeans-k"><span class="mw-headline" id="kmeans-k"> kmeans-k </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> k=&lt;int&gt;(-&lt;int&gt;)?
</dd><dd> <b>Description:</b> Number of initial clusters to use. Can be a range, in which case each value in the range will be used once and summary data given.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_kmeans-options"><span class="mw-headline" id="kmeans-options"> kmeans-options </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#kmeans-reps">kmeans-reps</a>&gt;|&lt;<a href="#kmeans-iters">kmeans-iters</a>&gt;|&lt;<a href="#kmeans-tol">kmeans-tol</a>&gt;|&lt;<a href="#kmeans-k">kmeans-k</a>&gt;|&lt;<a href="#kmeans-cnumfield">kmeans-cnumfield</a>&gt;|&lt;<a href="#kmeans-distype">kmeans-distype</a>&gt;|&lt;<a href="#kmeans-showlabel">kmeans-showlabel</a>&gt;
</dd><dd> <b>Description:</b> Options for kmeans command
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_kmeans-reps"><span class="mw-headline" id="kmeans-reps"> kmeans-reps </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> reps=&lt;int&gt;
</dd><dd> <b>Description:</b> Number of times to repeat kmeans using random starting clusters
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_kmeans-showlabel"><span class="mw-headline" id="kmeans-showlabel"> kmeans-showlabel </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> showlabel=&lt;bool&gt;
</dd><dd> <b>Description:</b> Controls whether or not the cluster number is added to the data.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_kmeans-tol"><span class="mw-headline" id="kmeans-tol"> kmeans-tol </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> tol=&lt;num&gt;
</dd><dd> <b>Description:</b> Algorithm convergence tolerance
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_lit-value"><span class="mw-headline" id="lit-value"> lit-value </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;string&gt;|&lt;num&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_lmaxpause-opt"><span class="mw-headline" id="lmaxpause-opt"> lmaxpause-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> maxpause=&lt;int&gt;(s|m|h|d)?
</dd><dd> <b>Description:</b> the maximum (inclusive) time between two consecutive events in a contiguous time region
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_log-span"><span class="mw-headline" id="log-span"> log-span </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (&lt;num&gt;)?log(&lt;num&gt;)?
</dd><dd> <b>Description:</b> Sets to log based span, first number if coefficient, second number is base coefficient, if supplied, must be real number &gt;= 1.0 and &lt; base base, if supplied, must be real number &gt; 1.0 (strictly greater than 1)
</dd><dd> <b>Example:</b> 2log5
</dd><dd> <b>Example:</b> log
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_logical-expression"><span class="mw-headline" id="logical-expression"> logical-expression </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (NOT)? &lt;<a href="#logical-expression">logical-expression</a>&gt;)|&lt;<a href="#comparison-expression">comparison-expression</a>&gt;|(&lt;<a href="#logical-expression">logical-expression</a>&gt; OR? &lt;<a href="#logical-expression">logical-expression</a>&gt;)
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_max-time-opt"><span class="mw-headline" id="max-time-opt"> max-time-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> max_time=&lt;int&gt;
</dd><dd> <b>Description:</b> None
</dd><dd> <b>Example:</b> max_time=3
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_maxevents-opt"><span class="mw-headline" id="maxevents-opt"> maxevents-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> maxevents=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum number of events in a transaction. If the value is negative this constraint is disabled.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_maxinputs-opt"><span class="mw-headline" id="maxinputs-opt"> maxinputs-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> maxinputs=&lt;int&gt;
</dd><dd> <b>Description:</b> Determines how many of the top results are passed to the script.
</dd><dd> <b>Example:</b> maxinputs=1000
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_maxopenevents-opt"><span class="mw-headline" id="maxopenevents-opt"> maxopenevents-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> maxopenevents=&lt;int&gt;
</dd><dd> <b>Description:</b> Specifies the maximum number of events (which are) part of open transactions before transaction eviction starts happening, using LRU policy.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_maxopentxn-opt"><span class="mw-headline" id="maxopentxn-opt"> maxopentxn-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> maxopentxn=&lt;int&gt;
</dd><dd> <b>Description:</b> Specifies the maximum number of not yet closed transactions to keep in the open pool before starting to evict transactions, using LRU policy.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_maxpause-opt"><span class="mw-headline" id="maxpause-opt"> maxpause-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> maxpause=&lt;int&gt;(s|m|h|d)?
</dd><dd> <b>Description:</b> The maxpause constraint requires there be no pause between a transaction's events of greater than maxpause. If value is negative, disable the maxpause constraint.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_maxsearchesoption"><span class="mw-headline" id="maxsearchesoption"> maxsearchesoption </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> maxsearches=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum number of searches to run. Will generate warning if there are more search results.
</dd><dd> <b>Example:</b> maxsearches=42
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_maxspan-opt"><span class="mw-headline" id="maxspan-opt"> maxspan-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> maxspan=&lt;int&gt;(s|m|h|d)?
</dd><dd> <b>Description:</b> The maxspan constraint requires the transaction's events to span less than maxspan. If value is negative, disable the maxspan constraint.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_memcontrol-opt"><span class="mw-headline" id="memcontrol-opt"> memcontrol-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#maxopentxn-opt">maxopentxn-opt</a>&gt; | &lt;<a href="#maxopenevents-opt">maxopenevents-opt</a>&gt; | &lt;<a href="#keepevicted-opt">keepevicted-opt</a>&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_metadata-delete-restrict"><span class="mw-headline" id="metadata-delete-restrict"> metadata-delete-restrict </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (host::|source::|sourcetype::)&lt;string&gt;
</dd><dd> <b>Description:</b> restrict the deletion to the specified host, source or sourcetype.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_metadata-type"><span class="mw-headline" id="metadata-type"> metadata-type </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> hosts|sources|sourcetypes
</dd><dd> <b>Description:</b> controls which metadata type that will be returned
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_minutesago"><span class="mw-headline" id="minutesago"> minutesago </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> minutesago=&lt;int&gt;
</dd><dd> <b>Description:</b> Search the last N minutes. ( equivalent to startminutesago )
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_monthsago"><span class="mw-headline" id="monthsago"> monthsago </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> monthsago=&lt;int&gt;
</dd><dd> <b>Description:</b> Search the last N months. ( equivalent to startmonthsago )
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_multikv-copyattrs"><span class="mw-headline" id="multikv-copyattrs"> multikv-copyattrs </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> copyattrs=&lt;bool&gt;
</dd><dd> <b>Description:</b> Controls the copying of non-metadata attributes from the original event to extract events (default = true)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_multikv-fields"><span class="mw-headline" id="multikv-fields"> multikv-fields </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> fields &lt;field-list&gt;
</dd><dd> <b>Description:</b> Filters out from the extracted events fields that are not in the given field list
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_multikv-filter"><span class="mw-headline" id="multikv-filter"> multikv-filter </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> filter &lt;field-list&gt;
</dd><dd> <b>Description:</b> If specified, a table row must contain one of the terms in the list before it is extracted into an event
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_multikv-forceheader"><span class="mw-headline" id="multikv-forceheader"> multikv-forceheader </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> forceheader=&lt;int&gt;
</dd><dd> <b>Description:</b> Forces the use of the given line number (1 based) as the table's header. By default a header line is searched for.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_multikv-multitable"><span class="mw-headline" id="multikv-multitable"> multikv-multitable </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> multitable=&lt;bool&gt;
</dd><dd> <b>Description:</b> Controls whether or not there can be multiple tables in a single _raw in the original events? (default = true)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_multikv-noheader"><span class="mw-headline" id="multikv-noheader"> multikv-noheader </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> noheader=&lt;bool&gt;
</dd><dd> <b>Description:</b> Allow tables with no header? If no header fields would be named column1, column2, ... (default = false)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_multikv-option"><span class="mw-headline" id="multikv-option"> multikv-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#multikv-copyattrs">multikv-copyattrs</a>&gt;|&lt;<a href="#multikv-fields">multikv-fields</a>&gt;|&lt;<a href="#multikv-filter">multikv-filter</a>&gt;|&lt;<a href="#multikv-forceheader">multikv-forceheader</a>&gt;|&lt;<a href="#multikv-multitable">multikv-multitable</a>&gt;|&lt;<a href="#multikv-noheader">multikv-noheader</a>&gt;|&lt;<a href="#multikv-rmorig">multikv-rmorig</a>&gt;
</dd><dd> <b>Description:</b> Multikv available options
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_multikv-rmorig"><span class="mw-headline" id="multikv-rmorig"> multikv-rmorig </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> rmorig=&lt;bool&gt;
</dd><dd> <b>Description:</b> Controls the removal of original events from the result set (default=true)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_mvlist-opt"><span class="mw-headline" id="mvlist-opt"> mvlist-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> mvlist=&lt;bool&gt;|&lt;field-list&gt;
</dd><dd> <b>Description:</b> Flag controlling whether the multivalued fields of the transaction are (1) a list of the original events ordered in arrival order or (2) a set of unique field values ordered lexigraphically. If a comma/space delimited list of fields is provided only those fields are rendered as lists
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_outlier-action-opt"><span class="mw-headline" id="outlier-action-opt"> outlier-action-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> action=(remove|transform)
</dd><dd> <b>Description:</b> What to do with outliers. RM | REMOVE removes the event containing the outlying numerical value. TF | TRANSFORM truncates the outlying value to the threshold for outliers and prefixes the value with "000"
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_outlier-option"><span class="mw-headline" id="outlier-option"> outlier-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#outlier-type-opt">outlier-type-opt</a>&gt;|&lt;<a href="#outlier-action-opt">outlier-action-opt</a>&gt;|&lt;<a href="#outlier-param-opt">outlier-param-opt</a>&gt;|&lt;<a href="#outlier-uselower-opt">outlier-uselower-opt</a>&gt;
</dd><dd> <b>Description:</b> Outlier options
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_outlier-param-opt"><span class="mw-headline" id="outlier-param-opt"> outlier-param-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> param=&lt;num&gt;
</dd><dd> <b>Description:</b> Parameter controlling the threshold of outlier detection. For type=IQR, an outlier is defined as a numerical value that is outside of param multiplied the inter-quartile range.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_outlier-type-opt"><span class="mw-headline" id="outlier-type-opt"> outlier-type-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> type=iqr
</dd><dd> <b>Description:</b> Type of outlier detection. Only current option is IQR (inter-quartile range)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_outlier-uselower-opt"><span class="mw-headline" id="outlier-uselower-opt"> outlier-uselower-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> uselower=&lt;bool&gt;
</dd><dd> <b>Description:</b> Controls whether to look for outliers for values below the median
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_prefix-opt"><span class="mw-headline" id="prefix-opt"> prefix-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> prefix=&lt;string&gt;
</dd><dd> <b>Description:</b> The prefix to do typeahead on
</dd><dd> <b>Example:</b> prefix=source
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_quoted-str"><span class="mw-headline" id="quoted-str"> quoted-str </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> "" &lt;string&gt; ""
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_readlevel-int"><span class="mw-headline" id="readlevel-int"> readlevel-int </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> 0|1|2|3
</dd><dd> <b>Description:</b> How deep to read the events, 0&nbsp;: just source/host/sourcetype, 1&nbsp;: 0 with _raw, 2&nbsp;: 1 with kv, 3 2 with types ( deprecated in 3.2 )
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_regex-expression"><span class="mw-headline" id="regex-expression"> regex-expression </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (\")?&lt;string&gt;(\")?
</dd><dd> <b>Description:</b> A Perl Compatible Regular Expression supported by the pcre library.
</dd><dd> <b>Example:</b> ... | regex _raw="(?&lt;!\d)10.\d{1,3}\.\d{1,3}\.\d{1,3}(?!\d)"
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_rendering-opt"><span class="mw-headline" id="rendering-opt"> rendering-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#delim-opt">delim-opt</a>&gt; | &lt;<a href="#mvlist-opt">mvlist-opt</a>&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_result-event-opt"><span class="mw-headline" id="result-event-opt"> result-event-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> events=&lt;bool&gt;
</dd><dd> <b>Description:</b> Option controlling whether to load the events or results of a job. (default: false)
</dd><dd> <b>Example:</b> events=t
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_savedsearch-identifier"><span class="mw-headline" id="savedsearch-identifier"> savedsearch-identifier </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> savedsearch="&lt;user-string&gt;:&lt;application-string&gt;:&lt;search-name-string&gt;"
</dd><dd> <b>Description:</b> The unique identifier of a savedsearch whose artifacts need to be loaded. A savedsearch is uniquely identified by the triplet {user, application, savedsearch name}.
</dd><dd> <b>Example:</b> savedsearch="admin:search:my saved search"
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_savedsearch-macro-opt"><span class="mw-headline" id="savedsearch-macro-opt"> savedsearch-macro-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> nosubstitution=&lt;bool&gt;
</dd><dd> <b>Description:</b> If true, no macro replacements are made.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_savedsearch-opt"><span class="mw-headline" id="savedsearch-opt"> savedsearch-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#savedsearch-macro-opt">savedsearch-macro-opt</a>&gt;|&lt;<a href="#savedsearch-replacement-opt">savedsearch-replacement-opt</a>&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_savedsearch-replacement-opt"><span class="mw-headline" id="savedsearch-replacement-opt"> savedsearch-replacement-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;string&gt;=&lt;string&gt;
</dd><dd> <b>Description:</b> A key value pair to be used in macro replacement.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_savedsplunk-specifier"><span class="mw-headline" id="savedsplunk-specifier"> savedsplunk-specifier </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (savedsearch|savedsplunk)=&lt;string&gt;
</dd><dd> <b>Description:</b> Search for events that would be found by specified search/splunk
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_savedsplunkoption"><span class="mw-headline" id="savedsplunkoption"> savedsplunkoption </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Name of saved search
</dd><dd> <b>Example:</b> mysavedsearch
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_script-arg"><span class="mw-headline" id="script-arg"> script-arg </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> An argument passed to the script.
</dd><dd> <b>Example:</b> to=bob@mycompany.com
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_script-name-arg"><span class="mw-headline" id="script-name-arg"> script-name-arg </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of the script to execute, minus the path and file extension.
</dd><dd> <b>Example:</b> sendemail
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_search-modifier"><span class="mw-headline" id="search-modifier"> search-modifier </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#sourcetype-specifier">sourcetype-specifier</a>&gt;|&lt;<a href="#host-specifier">host-specifier</a>&gt;|&lt;<a href="#source-specifier">source-specifier</a>&gt;|&lt;<a href="#savedsplunk-specifier">savedsplunk-specifier</a>&gt;|&lt;<a href="#eventtype-specifier">eventtype-specifier</a>&gt;|&lt;<a href="#eventtypetag-specifier">eventtypetag-specifier</a>&gt;|&lt;<a href="#hosttag-specifier">hosttag-specifier</a>&gt;|&lt;tag-specifier&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_searchoption"><span class="mw-headline" id="searchoption"> searchoption </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> search=\"&lt;string&gt;\"
</dd><dd> <b>Description:</b> Search to run map on
</dd><dd> <b>Example:</b> search="search starttimeu::$start$ endtimeu::$end$"
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_searchtimespandays"><span class="mw-headline" id="searchtimespandays"> searchtimespandays </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> searchtimespandays=&lt;int&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_searchtimespanhours"><span class="mw-headline" id="searchtimespanhours"> searchtimespanhours </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> searchtimespanhours=&lt;int&gt;
</dd><dd> <b>Description:</b> The time span operators are always applied from the last time boundary set. Therefore, if an endtime operator is closest to the left of a timespan operator, it will be applied to the starttime. If you had 'enddaysago::1 searchtimespanhours::5', it would be equivalent to 'starthoursago::29 enddaysago::1'.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_searchtimespanminutes"><span class="mw-headline" id="searchtimespanminutes"> searchtimespanminutes </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> searchtimespanminutes=&lt;int&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_searchtimespanmonths"><span class="mw-headline" id="searchtimespanmonths"> searchtimespanmonths </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> searchtimespanmonths=&lt;int&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_select-arg"><span class="mw-headline" id="select-arg"> select-arg </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Any value sql select arguments, per the syntax found at http://www.sqlite.org/lang_select.html. If no "from results" is specified in the select-arg it will be inserted it automatically. Runs a SQL Select query against passed in search results. All fields referenced in the select statement must be prefixed with an underscore. Therefore, "ip" should be references as "_ip" and "_raw" should be referenced as "__raw". Before the select command is executed, the previous search results are put into a temporary database table called "results". If a row has no values, "select" ignores it to prevent blank search results.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_selfjoin-options"><span class="mw-headline" id="selfjoin-options"> selfjoin-options </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> overwrite=&lt;bool&gt; | max=&lt;int&gt; | keepsingle=&lt;int&gt;
</dd><dd> <b>Description:</b> The selfjoin joins each result with other results that have the same value for the join fields. 'overwrite' controls if fields from these 'other' results should overwrite fields of the result used as the basis for the join (default=true). max indicates the maximum number of 'other' results each main result can join with. (default = 1, 0 means no limit). 'keepsingle' controls whether or not results with a unique value for the join fields (and thus no other results to join with) should be retained. (default = false)
</dd><dd> <b>Example:</b> max=3
</dd><dd> <b>Example:</b> keepsingle=t
</dd><dd> <b>Example:</b> overwrite=f
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_server-list"><span class="mw-headline" id="server-list"> server-list </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (&lt;string&gt; )*
</dd><dd> <b>Description:</b> A list of possibly wildcarded servers changes in the context of the differences. Try it see if it makes sense. * - header=[true | false]&nbsp;: optionally you can show a header that tries to explain the diff output * - attribute=[attribute name]&nbsp;: you can choose to diff just a single attribute of the results.
</dd></dl><p><br></p>
<h4><font size="3"><b><i> <a name="listofdatatypes_sid-opt"><span class="mw-headline" id="sid-opt"> sid-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The search id of the job whose artifacts need to be loaded.
</dd><dd> <b>Example:</b> 1233886270.2
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_single-agg"><span class="mw-headline" id="single-agg"> single-agg </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> count|&lt;<a href="#stats-func">stats-func</a>&gt;(&lt;field&gt;)
</dd><dd> <b>Description:</b> A single aggregation applied to a single field (can be evaled field). No wildcards are allowed. The field must be specified, except when using the special 'count' aggregator that applies to events as a whole.
</dd><dd> <b>Example:</b> avg(delay)
</dd><dd> <b>Example:</b> sum({date_hour * date_minute})
</dd><dd> <b>Example:</b> count
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_slc-option"><span class="mw-headline" id="slc-option"> slc-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (t=&lt;num&gt;|(delims=&lt;string&gt;)|(showcount=&lt;bool&gt;)|(countfield=&lt;field&gt;)|(labelfield=&lt;field&gt;)|(field=&lt;field&gt;)|(labelonly=&lt;bool&gt;)|(match=(termlist|termset|ngramset)))
</dd><dd> <b>Description:</b> Options for configuring the simple log clusters. "T=" sets the threshold which must be &gt; 0.0 and &lt; 1.0. The closer the threshold is to 1, the more similar events have to be in order to be considered in the same cluster. Default is 0.8 "delims" configures the set of delimiters used to tokenize the raw string. By default everything except 0-9, A-Z, a-z, and '_' are delimiters. "showcount" if yes, this shows the size of each cluster (default = true unless labelonly is set to true) "countfield" name of field to write cluster size to, default = "cluster_count" "labelfield" name of field to write cluster number to, default = "cluster_label" "field" name of field to analyze, default = _raw "labelonly" if true, instead of reducing each cluster to a single event, keeps all original events and merely labels with them their cluster number "match" determines the similarity method used, defaulting to termlist. termlist requires the exact same ordering of terms, termset allows for an unordered set of terms, and ngramset compares sets of trigram (3-character substrings). ngramset is significantly slower on large field values and is most useful for short non-textual fields, like 'punct'
</dd><dd> <b>Example:</b> t=0.9 delims="&nbsp;;:" showcount=true countfield="SLCCNT" labelfield="LABEL" field=_raw labelonly=true
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_sort-by-clause"><span class="mw-headline" id="sort-by-clause"> sort-by-clause </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> ("-"|"+")&lt;<a href="#sort-field">sort-field</a>&gt; ","
</dd><dd> <b>Description:</b> List of fields to sort by and their sort order (ascending or descending)
</dd><dd> <b>Example:</b> - time, host
</dd><dd> <b>Example:</b> -size, +source
</dd><dd> <b>Example:</b> _time, -host
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_sort-field"><span class="mw-headline" id="sort-field"> sort-field </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;field&gt; | ((auto|str|ip|num) "(" &lt;field&gt; ")")
</dd><dd> <b>Description:</b> a sort field may be a field or a sort-type and field. sort-type can be "ip" to interpret the field's values as ip addresses. "num" to treat them as numbers, "str" to order lexigraphically, and "auto" to make the determination automatically. If no type is specified, it is assumed to be "auto"
</dd><dd> <b>Example:</b> host
</dd><dd> <b>Example:</b> _time
</dd><dd> <b>Example:</b> ip(source_addr)
</dd><dd> <b>Example:</b> str(pid)
</dd><dd> <b>Example:</b> auto(size)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_source-specifier"><span class="mw-headline" id="source-specifier"> source-specifier </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> source=&lt;string&gt;
</dd><dd> <b>Description:</b> Search for events from the specified source
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_sourcetype-specifier"><span class="mw-headline" id="sourcetype-specifier"> sourcetype-specifier </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> sourcetype=&lt;string&gt;
</dd><dd> <b>Description:</b> Search for events from the specified sourcetype
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_span-length"><span class="mw-headline" id="span-length"> span-length </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;int:span&gt;(&lt;<a href="#timescale">timescale</a>&gt;)?
</dd><dd> <b>Description:</b> Span of each bin. If using a timescale, this is used as a time range. If not, this is an absolute bucket "length."
</dd><dd> <b>Example:</b> 2d
</dd><dd> <b>Example:</b> 5m
</dd><dd> <b>Example:</b> 10
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_split-by-clause"><span class="mw-headline" id="split-by-clause"> split-by-clause </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;field&gt; (&lt;<a href="#tc-option">tc-option</a>&gt; )* (&lt;<a href="#where-clause">where-clause</a>&gt;)?
</dd><dd> <b>Description:</b> Specifies a field to split by. If field is numerical, default discretization is applied.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_srcfields"><span class="mw-headline" id="srcfields"> srcfields </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (&lt;field&gt;|&lt;<a href="#quoted-str">quoted-str</a>&gt;) (&lt;field&gt;|&lt;<a href="#quoted-str">quoted-str</a>&gt;) (&lt;field&gt;|&lt;<a href="#quoted-str">quoted-str</a>&gt; )*
</dd><dd> <b>Description:</b> Fields should either be key names or quoted literals
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_start-opt"><span class="mw-headline" id="start-opt"> start-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> startswith=&lt;<a href="#transam-filter-string">transam-filter-string</a>&gt;
</dd><dd> <b>Description:</b> A search or eval filtering expression which if satisfied by an event marks the beginning of a new transaction
</dd><dd> <b>Example:</b> startswith=eval(speed_field &lt; max_speed_field/12)
</dd><dd> <b>Example:</b> startswith=(username=foobar)
</dd><dd> <b>Example:</b> startswith=eval(speed_field &lt; max_speed_field)
</dd><dd> <b>Example:</b> startswith="login"
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_startdaysago"><span class="mw-headline" id="startdaysago"> startdaysago </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> startdaysago=&lt;int&gt;
</dd><dd> <b>Description:</b> A short cut to set the start time. starttime = now - (N days)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_starthoursago"><span class="mw-headline" id="starthoursago"> starthoursago </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> starthoursago=&lt;int&gt;
</dd><dd> <b>Description:</b> A short cut to set the start time. starttime = now - (N hours)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_startminutesago"><span class="mw-headline" id="startminutesago"> startminutesago </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> startminutesago=&lt;int&gt;
</dd><dd> <b>Description:</b> A short cut to set the start time. starttime = now - (N minutes)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_startmonthsago"><span class="mw-headline" id="startmonthsago"> startmonthsago </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> startmonthsago=&lt;int&gt;
</dd><dd> <b>Description:</b> A short cut to set the start time. starttime = now - (N months)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_starttime"><span class="mw-headline" id="starttime"> starttime </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> starttime=&lt;string&gt;
</dd><dd> <b>Description:</b> Events must be later or equal to this time. Must match time format.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_starttimeu"><span class="mw-headline" id="starttimeu"> starttimeu </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> starttimeu=&lt;int&gt;
</dd><dd> <b>Description:</b> Set the start time to N seconds since the epoch. ( unix time )
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-agg"><span class="mw-headline" id="stats-agg"> stats-agg </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#stats-func">stats-func</a>&gt;( "(" ( &lt;<a href="#evaled-field">evaled-field</a>&gt; | &lt;wc-field&gt; )? ")" )?
</dd><dd> <b>Description:</b> A specifier formed by a aggregation function applied to a field or set of fields. As of 4.0, it can also be an aggregation function applied to a arbitrary eval expression. The eval expression must be wrapped by "{" and "}". If no field is specified in the parenthesis, the aggregation is applied independently to all fields, and is equivalent to calling a field value of * When a numeric aggregator is applied to a not-completely-numeric field no column is generated for that aggregation.
</dd><dd> <b>Example:</b> count({sourcetype="splunkd"})
</dd><dd> <b>Example:</b> max(size)
</dd><dd> <b>Example:</b> stdev(*delay)
</dd><dd> <b>Example:</b> avg(kbps)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-agg-term"><span class="mw-headline" id="stats-agg-term"> stats-agg-term </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#stats-agg">stats-agg</a>&gt; (as &lt;wc-field&gt;)?
</dd><dd> <b>Description:</b> A statistical specifier optionally renamed to a new field name.
</dd><dd> <b>Example:</b> count(device) AS numdevices
</dd><dd> <b>Example:</b> avg(kbps)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-c"><span class="mw-headline" id="stats-c"> stats-c </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> count
</dd><dd> <b>Description:</b> The count of the occurrences of the field.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-dc"><span class="mw-headline" id="stats-dc"> stats-dc </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> distinct-count
</dd><dd> <b>Description:</b> The count of distinct values of the field.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-first"><span class="mw-headline" id="stats-first"> stats-first </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> first
</dd><dd> <b>Description:</b> The first seen value of the field.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-func"><span class="mw-headline" id="stats-func"> stats-func </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#stats-c">stats-c</a>&gt;|&lt;<a href="#stats-dc">stats-dc</a>&gt;|&lt;<a href="#stats-mean">stats-mean</a>&gt;|&lt;<a href="#stats-stdev">stats-stdev</a>&gt;|&lt;<a href="#stats-var">stats-var</a>&gt;|&lt;<a href="#stats-sum">stats-sum</a>&gt;|&lt;<a href="#stats-min">stats-min</a>&gt;|&lt;<a href="#stats-max">stats-max</a>&gt;|&lt;<a href="#stats-mode">stats-mode</a>&gt;|&lt;<a href="#stats-median">stats-median</a>&gt;|&lt;<a href="#stats-first">stats-first</a>&gt;|&lt;<a href="#stats-last">stats-last</a>&gt;|&lt;<a href="#stats-perc">stats-perc</a>&gt;|&lt;<a href="#stats-list">stats-list</a>&gt;|&lt;<a href="#stats-values">stats-values</a>&gt;|&lt;<a href="#stats-range">stats-range</a>&gt;
</dd><dd> <b>Description:</b> Statistical aggregators.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-last"><span class="mw-headline" id="stats-last"> stats-last </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> last
</dd><dd> <b>Description:</b> The last seen value of the field.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-list"><span class="mw-headline" id="stats-list"> stats-list </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> list
</dd><dd> <b>Description:</b> List of all values of this field as a multi-value entry. Order of values reflects order of input events.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-max"><span class="mw-headline" id="stats-max"> stats-max </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> max
</dd><dd> <b>Description:</b> The maximum value of the field (lexicographic, if non-numeric).
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-mean"><span class="mw-headline" id="stats-mean"> stats-mean </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> avg
</dd><dd> <b>Description:</b> The arithmetic mean of the field.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-median"><span class="mw-headline" id="stats-median"> stats-median </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> median
</dd><dd> <b>Description:</b> The middle-most value of the field.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-min"><span class="mw-headline" id="stats-min"> stats-min </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> min
</dd><dd> <b>Description:</b> The minimum value of the field (lexicographic, if non-numeric).
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-mode"><span class="mw-headline" id="stats-mode"> stats-mode </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> mode
</dd><dd> <b>Description:</b> The most frequent value of the field.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-perc"><span class="mw-headline" id="stats-perc"> stats-perc </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> perc&lt;int&gt;
</dd><dd> <b>Description:</b> The n-th percentile value of this field.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-range"><span class="mw-headline" id="stats-range"> stats-range </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> range
</dd><dd> <b>Description:</b> The difference between max and min (only if numeric)
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-stdev"><span class="mw-headline" id="stats-stdev"> stats-stdev </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> stdev|stdevp
</dd><dd> <b>Description:</b> The {sample, population} standard deviation of the field.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-sum"><span class="mw-headline" id="stats-sum"> stats-sum </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> sum
</dd><dd> <b>Description:</b> The sum of the values of the field.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-values"><span class="mw-headline" id="stats-values"> stats-values </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> values
</dd><dd> <b>Description:</b> List of all distinct values of this field as a multi-value entry. Order of values is lexigraphical.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_stats-var"><span class="mw-headline" id="stats-var"> stats-var </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> var|varp
</dd><dd> <b>Description:</b> The {sample, population} variance of the field.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_subsearch"><span class="mw-headline" id="subsearch"> subsearch </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> [&lt;string&gt;]
</dd><dd> <b>Description:</b> Specifies a subsearch.
</dd><dd> <b>Example:</b> [search 404 | select url]
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_subsearch-options"><span class="mw-headline" id="subsearch-options"> subsearch-options </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> maxtime=&lt;int&gt; | maxout=&lt;int&gt; | timeout=&lt;int&gt;
</dd><dd> <b>Description:</b> controls how the subsearch is executed.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_tc-option"><span class="mw-headline" id="tc-option"> tc-option </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#bucketing-option">bucketing-option</a>&gt;|(usenull=&lt;bool&gt;)|(useother=&lt;bool&gt;)|(nullstr=&lt;string&gt;)|(otherstr=&lt;string&gt;)
</dd><dd> <b>Description:</b> Options for controlling the behavior of splitting by a field. In addition to the bucketing-option: usenull controls whether or not a series is created for events that do not contain the split-by field. This series is labeled by the value of the nullstr option, and defaults to NULL. useother specifies if a series should be added for data series not included in the graph because they did not meet the criteria of the &lt;where-clause&gt;. This series is labeled by the value of the otherstr option, and defaults to OTHER.
</dd><dd> <b>Example:</b> otherstr=OTHERFIELDS
</dd><dd> <b>Example:</b> usenull=f
</dd><dd> <b>Example:</b> bins=10
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_time-modifier"><span class="mw-headline" id="time-modifier"> time-modifier </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#starttime">starttime</a>&gt;|&lt;<a href="#startdaysago">startdaysago</a>&gt;|&lt;<a href="#startminutesago">startminutesago</a>&gt;|&lt;<a href="#starthoursago">starthoursago</a>&gt;|&lt;<a href="#startmonthsago">startmonthsago</a>&gt;|&lt;<a href="#starttimeu">starttimeu</a>&gt;|&lt;<a href="#endtime">endtime</a>&gt;|&lt;<a href="#enddaysago">enddaysago</a>&gt;|&lt;<a href="#endminutesago">endminutesago</a>&gt;|&lt;<a href="#endhoursago">endhoursago</a>&gt;|&lt;<a href="#endmonthsago">endmonthsago</a>&gt;|&lt;<a href="#endtimeu">endtimeu</a>&gt;|&lt;<a href="#searchtimespanhours">searchtimespanhours</a>&gt;|&lt;<a href="#searchtimespanminutes">searchtimespanminutes</a>&gt;|&lt;<a href="#searchtimespandays">searchtimespandays</a>&gt;|&lt;<a href="#searchtimespanmonths">searchtimespanmonths</a>&gt;|&lt;<a href="#daysago">daysago</a>&gt;|&lt;<a href="#minutesago">minutesago</a>&gt;|&lt;<a href="#hoursago">hoursago</a>&gt;|&lt;<a href="#monthsago">monthsago</a>&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_time-opts"><span class="mw-headline" id="time-opts"> time-opts </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (&lt;<a href="#timeformat">timeformat</a>&gt;)? (&lt;<a href="#time-modifier">time-modifier</a>&gt; )*
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_timeformat"><span class="mw-headline" id="timeformat"> timeformat </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> timeformat=&lt;string&gt;
</dd><dd> <b>Description:</b> Set the time format for starttime and endtime terms.
</dd><dd> <b>Example:</b> timeformat=%m/%d/%Y:%H:%M:%S
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_timescale"><span class="mw-headline" id="timescale"> timescale </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#ts-sec">ts-sec</a>&gt;|&lt;<a href="#ts-min">ts-min</a>&gt;|&lt;<a href="#ts-hr">ts-hr</a>&gt;|&lt;<a href="#ts-day">ts-day</a>&gt;|&lt;<a href="#ts-month">ts-month</a>&gt;|&lt;<a href="#ts-subseconds">ts-subseconds</a>&gt;
</dd><dd> <b>Description:</b> Time scale units.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_timestamp"><span class="mw-headline" id="timestamp"> timestamp </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (MM/DD/YY)?:(HH:MM:SS)?|&lt;int&gt;
</dd><dd> <b>Description:</b> None
</dd><dd> <b>Example:</b> 10/1/07:12:34:56
</dd><dd> <b>Example:</b> -5
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_top-opt"><span class="mw-headline" id="top-opt"> top-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (showcount=&lt;bool&gt;)|(showperc=&lt;bool&gt;)|(rare=&lt;bool&gt;)|(limit=&lt;int&gt;)|(countfield=&lt;string&gt;)|(percentfield=&lt;string&gt;)
</dd><dd> <b>Description:</b> Top arguments: showcount: Whether to create a field called "count" (see countfield option) with the count of that tuple. (T) showperc: Whether to create a field called "percent" (see percentfield option) with the relative prevalence of that tuple. (T) rare: When set and calling as top or common, evokes the behavior of calling as rare. (F) limit: Specifies how many tuples to return, 0 returns all values. (10) countfield: Name of new field to write count to (default is "count") percentfield: Name of new field to write percentage to (default is "percent")
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_transaction-name"><span class="mw-headline" id="transaction-name"> transaction-name </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of a transaction definition from transactions.conf to be used for finding transactions. If other arguments (e.g., maxspan) are provided as arguments to transam, they overrule the value specified in the transaction definition.
</dd><dd> <b>Example:</b> purchase_transaction
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_transam-filter-string"><span class="mw-headline" id="transam-filter-string"> transam-filter-string </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> "&lt;search-expression&gt;" | (&lt;quoted-search-expression&gt;) | eval(&lt;<a href="#eval-expression">eval-expression</a>&gt;)
</dd><dd> <b>Description:</b> Where: \i\ &lt;search-expression&gt; is a valid search expression that does not contain quotes\i\ &lt;quoted-search-expression&gt; is a valid search expression that contains quotes\i\ &lt;eval-expression&gt; is a valid eval expression that evaluates to a boolean
</dd><dd> <b>Example:</b> eval(distance/time &lt; max_speed)
</dd><dd> <b>Example:</b> "user=mildred"
</dd><dd> <b>Example:</b> ("search literal")
</dd><dd> <b>Example:</b> (name="foo bar")
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_trend_type"><span class="mw-headline" id="trend_type"> trend_type </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (sma|ema|wma)&lt;num&gt;
</dd><dd> <b>Description:</b> The type of trend to compute which consist of a trend type and trend period (integer between 2 and 10000)
</dd><dd> <b>Example:</b> sma10
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_ts-day"><span class="mw-headline" id="ts-day"> ts-day </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> days
</dd><dd> <b>Description:</b> Time scale in days.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_ts-hr"><span class="mw-headline" id="ts-hr"> ts-hr </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> hours
</dd><dd> <b>Description:</b> Time scale in hours.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_ts-min"><span class="mw-headline" id="ts-min"> ts-min </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> minutes
</dd><dd> <b>Description:</b> Time scale in minutes.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_ts-month"><span class="mw-headline" id="ts-month"> ts-month </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> months
</dd><dd> <b>Description:</b> Time scale in months.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_ts-sec"><span class="mw-headline" id="ts-sec"> ts-sec </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> seconds
</dd><dd> <b>Description:</b> Time scale in seconds.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_ts-subseconds"><span class="mw-headline" id="ts-subseconds"> ts-subseconds </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> us|ms|cs|ds
</dd><dd> <b>Description:</b> Time scale in microseconds("us"), milliseconds("ms"), centiseconds("cs"), or deciseconds("ds")
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_txn_definition-opt"><span class="mw-headline" id="txn_definition-opt"> txn_definition-opt </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#maxspan-opt">maxspan-opt</a>&gt; | &lt;<a href="#maxpause-opt">maxpause-opt</a>&gt; | &lt;<a href="#maxevents-opt">maxevents-opt</a>&gt; | &lt;field-list&gt; | &lt;<a href="#start-opt">start-opt</a>&gt; | &lt;<a href="#end-opt">end-opt</a>&gt; | &lt;<a href="#connected-opt">connected-opt</a>&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_value"><span class="mw-headline" id="value"> value </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#lit-value">lit-value</a>&gt;|&lt;field&gt;
</dd><dd> <b>Description:</b> None
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_where-clause"><span class="mw-headline" id="where-clause"> where-clause </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> where &lt;<a href="#single-agg">single-agg</a>&gt; &lt;<a href="#where-comp">where-comp</a>&gt;
</dd><dd> <b>Description:</b> Specifies the criteria for including particular data series when a field is given in the tc-by-clause. This optional clause, if omitted, default to "where sum in top10". The aggregation term is applied to each data series and the result of these aggregations is compared to the criteria. The most common use of this option is to select for spikes rather than overall mass of distribution in series selection. The default value finds the top ten series by area under the curve. Alternately one could replace sum with max to find the series with the ten highest spikes.
</dd><dd> <b>Example:</b> where max &lt; 10
</dd><dd> <b>Example:</b> where count notin bottom10
</dd><dd> <b>Example:</b> where avg &gt; 100
</dd><dd> <b>Example:</b> where sum in top5
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_where-comp"><span class="mw-headline" id="where-comp"> where-comp </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;<a href="#wherein-comp">wherein-comp</a>&gt;|&lt;<a href="#wherethresh-comp">wherethresh-comp</a>&gt;
</dd><dd> <b>Description:</b> A criteria for the where clause.
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_wherein-comp"><span class="mw-headline" id="wherein-comp"> wherein-comp </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (in|notin) (top|bottom)&lt;int&gt;
</dd><dd> <b>Description:</b> A where-clause criteria that requires the aggregated series value be in or not in some top or bottom grouping.
</dd><dd> <b>Example:</b> notin top2
</dd><dd> <b>Example:</b> in bottom10
</dd><dd> <b>Example:</b> in top5
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_wherethresh-comp"><span class="mw-headline" id="wherethresh-comp"> wherethresh-comp </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> (&lt;|&gt;)( )?&lt;num&gt;
</dd><dd> <b>Description:</b> A where-clause criteria that requires the aggregated series value be greater than or less than some numeric threshold.
</dd><dd> <b>Example:</b> &lt; 100
</dd><dd> <b>Example:</b> &gt; 2.5
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_x-field"><span class="mw-headline" id="x-field"> x-field </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Field to be used as the x-axis
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_y-data-field"><span class="mw-headline" id="y-data-field"> y-data-field </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Field that contains the data to be charted
</dd></dl><h4><font size="3"><b><i> <a name="listofdatatypes_y-name-field"><span class="mw-headline" id="y-name-field"> y-name-field </span></a></i></b></font></h4>
<dl><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Field that contains the values to be used as data series labels
</dd></dl><h1>Search Command Reference</h1><a name="abstract"></a><h2> <a name="abstract_abstract"><span class="mw-headline" id="abstract"> abstract </span></a></h2>
<h3> <a name="abstract_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Produces an abstract, a summary or brief representation, of the text of the search results. The original text is replaced by the summary. The abstract is produced by a scoring mechanism.  Events that are larger than the selected <code><font size="2">maxlines</font></code>, those with more textual terms and more terms on adjacent lines are preferred over events with fewer terms.  If a line has a search term, its neighboring lines also partially match, and might be returned to provide context. When there are gaps between the selected lines, lines are prefixed with an ellipsis (...).
</p><p>If the text of an event has fewer lines or an equal number of lines as <code><font size="2">maxlines</font></code>, no change will occur.
</p>
<h3> <a name="abstract_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>abstract [maxterms=&lt;int&gt;] [maxlines=&lt;int&gt;]
</p>
<h4><font size="3"><b><i> <a name="abstract_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> maxterms
</dt><dd> <b>Syntax:</b> maxterms=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum number of terms to match.  Accepted values are 1 to 1000.
</dd></dl><dl><dt> maxlines
</dt><dd> <b>Syntax:</b> maxlines=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum number of lines to match.  Accepted values are 1 to 500.
</dd></dl><h3> <a name="abstract_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Show a summary of up to 5 lines for each search result.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... |abstract maxlines=5</font></code><br></div>
<h3> <a name="abstract_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#highlight" class="external text">highlight</a> 
</p>
<h3> <a name="abstract_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has about using the abstract command.
</p>
<a name="accum"></a><h2> <a name="accum_accum"><span class="mw-headline" id="accum"> accum </span></a></h2>
<h3> <a name="accum_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>For each event where <code><font size="2">field</font></code> is a number, the <code><font size="2">accum</font></code> command calculates a running total or sum of the numbers. The accumulated sum can be returned to either the same field, or a <code><font size="2">newfield</font></code> that you specify.
</p>
<h3> <a name="accum_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>accum &lt;field&gt; [AS &lt;newfield&gt;]
</p>
<h4><font size="3"><b><i> <a name="accum_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> field
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of the field that you want to calculate the accumulated sum for. The field must contain numeric values.
</dd></dl><h4><font size="3"><b><i> <a name="accum_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> newfield
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of a new field where you want the results placed.
</dd></dl><h3> <a name="accum_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="accum_example_1:"><span class="mw-headline" id="Example_1:"><b>Example 1:</b></span></a></i></b></font></h4>
<p>Save the running total of the quantity field into a new field called "total_quantity".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | accum quantity AS total_quantity</font></code><br></div>
<h3> <a name="accum_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#autoregress" class="external text">autoregress</a>, <a href="#delta" class="external text">delta</a>, <a href="#streamstats" class="external text">streamstats</a>, <a href="#trendline" class="external text">trendline</a> 
</p>
<h3> <a name="accum_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the accum command.
</p>
<a name="addcoltotals"></a><h2> <a name="addcoltotals_addcoltotals"><span class="mw-headline" id="addcoltotals"> addcoltotals </span></a></h2>
<h3> <a name="addcoltotals_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">addcoltotals</font></code> command appends a new result to the end of the search result set. The result contains the sum of each numeric field or you can specify which fields to summarize. Results are displayed on the Statistics tab. If the <code><font size="2">labelfield</font></code> argument is specified, a column is added to the statistical results table with the name specified.
</p>
<h3> <a name="addcoltotals_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>addcoltotals [labelfield=&lt;field&gt;] [label=&lt;string&gt;] [&lt;fieldlist&gt;]
</p>
<h4><font size="3"><b><i> <a name="addcoltotals_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;fieldlist&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt; &lt;field&gt;...
</dd><dd> <b>Description:</b> A list of valid field names. The <code><font size="2">addcoltotals</font></code> command calculates the total only for the fields in the list you specify.  You can use the asterisk ( * ) as a wildcard in the terms in the field list. 
</dd></dl><dl><dt> labelfield
</dt><dd> <b>Syntax:</b> labelfield=&lt;fieldname&gt;
</dd><dd> <b>Description:</b> Specify a field name to add to the result set. 
</dd></dl><dl><dt> label
</dt><dd> <b>Syntax:</b> label=&lt;string&gt;
</dd><dd> <b>Description:</b> Used with the <code><font size="2">labelfield</font></code> argument to add a label in the summary event. If the <code><font size="2">labelfield</font></code> argument is absent, the <code><font size="2">label</font></code> argument has no effect.
</dd><dd> <b>Default:</b> Total
</dd></dl><h3> <a name="addcoltotals_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="addcoltotals_example_1:"><span class="mw-headline" id="Example_1:">Example 1:</span></a></i></b></font></h4>
<p>Compute the sums of all the fields, and put the sums in a summary event called "change_name".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | addcoltotals labelfield=change_name label=ALL</font></code><br></div>
<h4><font size="3"><b><i> <a name="addcoltotals_example_2:"><span class="mw-headline" id="Example_2:">Example 2:</span></a></i></b></font></h4>
<p>Add a column total for two specific fields in a table.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | table userId bytes avgTime duration | addcoltotals bytes duration</font></code><br></div>
<h4><font size="3"><b><i> <a name="addcoltotals_example_3:"><span class="mw-headline" id="Example_3:">Example 3:</span></a></i></b></font></h4>
<p>Filter fields for two name-patterns, and get totals for one of them.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2"> ...  | fields user*, *size | addcoltotals *size</font></code><br></div>
<h4><font size="3"><b><i> <a name="addcoltotals_example_4:"><span class="mw-headline" id="Example_4:">Example 4:</span></a></i></b></font></h4>
<p>Augment a chart with a total of the values present.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal source=*metrics.log group=pipeline |stats avg(cpu_seconds) by processor |addcoltotals labelfield=processor</font></code><br></div>
<h3> <a name="addcoltotals_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#addtotals" class="external text">addtotals</a>, <a href="#stats" class="external text">stats</a>
</p>
<h3> <a name="addcoltotals_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the addcoltotals command.
</p>
<a name="addinfo"></a><h2> <a name="addinfo_addinfo"><span class="mw-headline" id="addinfo"> addinfo </span></a></h2>
<h3> <a name="addinfo_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Adds fields that contain global, common information about the search to each event.  This command is primarily an internally-used component of Summary Indexing.
</p>
<h3> <a name="addinfo_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>| addinfo
</p><p><br>
The following fields are added with the <code><font size="2">addinfo</font></code> command.
</p>
<table cellpadding="6"><tr><th bgcolor="#C0C0C0"> Field
</th><th bgcolor="#C0C0C0"> Description
</th></tr><tr><td valign="center" align="left"><code><font size="2"> info_min_time</font></code>
</td><td valign="center" align="left"> The earliest time bound for the search.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">info_max_time</font></code>
</td><td valign="center" align="left"> The latest time bound for the search.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">info_sid</font></code>
</td><td valign="center" align="left"> The ID of the search that generated the event.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">info_search_time</font></code>
</td><td valign="center" align="left"> The time when the search was run.
</td></tr></table><h3> <a name="addinfo_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="addinfo_example_1:"><span class="mw-headline" id="Example_1:">Example 1:</span></a></i></b></font></h4>
<p>Add information about the search to each event.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | addinfo</font></code><br></div>
<h3> <a name="addinfo_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#search" class="external text">search</a> 
</p>
<h3> <a name="addinfo_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the adinfo command.
</p>
<a name="addtotals"></a><h2> <a name="addtotals_addtotals"><span class="mw-headline" id="addtotals"> addtotals </span></a></h2>
<h3> <a name="addtotals_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">addtotals</font></code> command computes the arithmetic sum of all numeric fields for each result. You can specify a list of fields that you want the sum for, instead of calculating every numeric field. The sum is placed in a field specified by <code><font size="2">fieldname</font></code> or a field &lt;codd&gt;Total&lt;/code&gt; by default.
</p><p>If <code><font size="2">col=true</font></code>, the <code><font size="2">addtotals</font></code> command computes the column totals, which adds a new result at the end that represents the sum of each field. <code><font size="2">labelfield</font></code>, if specified, is a field that will be added to this summary event with the value set by the 'label' option. Alternately, instead of using the <code><font size="2"> addtotals col=true</font></code> command, you can use the <a href="#addcoltotals" class="external text">addcoltotals</a> command to calculate a summary event.
</p>
<h3> <a name="addtotals_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>addtotals [row=<i>bool</i>] [col=<i>bool</i>] [labelfield=<i>field</i>] [label=<i>string</i>] [fieldname=<i>field</i>] <i>field-list</i>
</p>
<h4><font size="3"><b><i> <a name="addtotals_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> <i>field-list</i>
</dt><dd> <b>Syntax:</b> &lt;field&gt; &lt;field&gt; &lt;field&gt; ...
</dd><dd> <b>Description:</b> One or more numeric fields, delimited with a space. You can use wildcards in the field names. For example if the field names are <code><font size="2">count1</font></code>, <code><font size="2">count2</font></code>, <code><font size="2">count3</font></code>, you can specify <code><font size="2">count*</font></code> to indicate all field that begin with 'count'.
</dd></dl><h4><font size="3"><b><i> <a name="addtotals_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> row
</dt><dd> <b>Datatype:</b> &lt;bool&gt;
</dd><dd> <b>Description:</b> Specifies whether to compute the arithmetic sum of <i>field-list</i> for each result. 
</dd><dd> <b>Default:</b> true
</dd></dl><dl><dt> col
</dt><dd> <b>Datatype:</b> &lt;bool&gt;
</dd><dd> <b>Description:</b> Specifies whether to add a new result, a summary event, that represents the sum of each field.
</dd><dd> <b>Default:</b> false
</dd></dl><dl><dt> fieldname
</dt><dd> <b>Datatype:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> If <code><font size="2">row=true</font></code>, the sum is placed in the field that you specify for <code><font size="2">fieldname</font></code>.
</dd></dl><dl><dt> labelfield
</dt><dd> <b>Datatype:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> If <code><font size="2">col=true</font></code>, use <code><font size="2">labelfield</font></code> to specify a field name to add to the summary event. 
</dd><dd> <b>Default:</b> The label <code><font size="2">Total</font></code> is used if you do not specify the <code><font size="2">label</font></code> argument.
</dd></dl><dl><dt> label
</dt><dd> <b>Datatype:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> If the <code><font size="2">labelfield</font></code> argument is specified, and <code><font size="2">col=true</font></code>, a column is created with the string value that you specify for <code><font size="2">label</font></code>. If either <code><font size="2">labelfield</font></code> or <code><font size="2">col=false</font></code> are not specified, then the <code><font size="2">label</font></code> argument has no effect.
</dd></dl><h3> <a name="addtotals_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="addtotals_example_1:"><span class="mw-headline" id="Example_1:">Example 1:</span></a></i></b></font></h4>
<p>Calculate the sums for the numeric fields of each results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | addtotals</font></code><br></div>
<h4><font size="3"><b><i> <a name="addtotals_example_2:"><span class="mw-headline" id="Example_2:">Example 2:</span></a></i></b></font></h4>
<p>Calculate the sums for the numeric fields of each result. Put the sums in the field <code><font size="2">sum</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | addtotals fieldname=sum</font></code><br></div>
<h4><font size="3"><b><i> <a name="addtotals_example_3:"><span class="mw-headline" id="Example_3:">Example 3:</span></a></i></b></font></h4>
<p>Calculate the sums for the fields that begin with <code><font size="2">amount</font></code> or have the text <code><font size="2">size</font></code> in the field name. Save the sums in the field <code><font size="2">sum</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | addtotals fieldname=sum amount* *size*</font></code><br></div>
<h4><font size="3"><b><i> <a name="addtotals_example_4:"><span class="mw-headline" id="Example_4:">Example 4:</span></a></i></b></font></h4>
<p>Calculate the sums of all the fields, and put the sums in a summary event called <code><font size="2">grand_totals</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | addtotals col=t labelfield=grand_totals label=ALL</font></code><br></div>
<p><br></p>
<h3> <a name="addtotals_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#stats" class="external text">stats</a> 
</p>
<h3> <a name="addtotals_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the addtotals command.
</p>
<a name="af"></a><h2> <a name="af_analyzefields"><span class="mw-headline" id="analyzefields"> analyzefields </span></a></h2>
<h3> <a name="af_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Using <i>field</i> as a discrete random variable, this command analyzes all numerical fields to determine the ability for each of those fields to <code><font size="2">predict</font></code> the value of the <code><font size="2">classfield</font></code>. It determines the stability of the relationship between values in the target <code><font size="2">classfield</font></code> and numeric values in other fields. 
</p><p>As a reporting command, <code><font size="2">analyzefields</font></code> consumes all input results and generates one row for each numeric field in the results indicating its performance at predicting the value of a <code><font size="2">classfield</font></code>. For each event, if the conditional distribution of the numeric field with the highest z-probability (based on <code><font size="2">classfield</font></code>) matches the actual class, it is counted as accurate.
</p>
<h3> <a name="af_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>analyzefields classfield=&lt;field&gt;
</p><p>You can use the abbreviation <code><font size="2">af</font></code> for the <code><font size="2">analyzefields</font></code> command.
</p><p><br>
The <code><font size="2">analyzefields</font></code> command returns a table with five columns.
</p>
<table cellpadding="6"><tr><th bgcolor="#C0C0C0"> Field
</th><th bgcolor="#C0C0C0"> Description
</th></tr><tr><td valign="center" align="left"><code><font size="2">field</font></code>
</td><td valign="center" align="left"> The name of a numeric field from the input search results.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">count</font></code>
</td><td valign="center" align="left"> The number of occurrences of the field in the search results.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">cocur</font></code>
</td><td valign="center" align="left"> The co-occurrence of the field.  In the results where <code><font size="2">classfield</font></code> is present, this is the ratio of results in which <code><font size="2">field</font></code> is also present.  The <code><font size="2">cocur</font></code> is 1 if the <code><font size="2">field</font></code> exists in every event that has a <code><font size="2">classfield</font></code>.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">acc</font></code>
</td><td valign="center" align="left"> Tthe accuracy in predicting the value of the <code><font size="2">classfield</font></code>, using the value of the field. This the ratio of the number of accurate predictions to the total number of events with that <code><font size="2">field</font></code>.  This argument is valid only for numerical fields.
</td></tr><tr><td valign="center" align="left"><code><font size="2">balacc</font></code>
</td><td valign="center" align="left"> The balanced accuracy is the non-weighted average of the accuracies in predicted each value of the <code><font size="2">classfield</font></code>. This is only valid for numerical fields.
</td></tr></table><h4><font size="3"><b><i> <a name="af_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> classfield
</dt><dd> <b>Syntax:</b> classfield=&lt;field&gt;
</dd><dd> <b>Description:</b> For best results, <code><font size="2">classfield</font></code> should have two distinct values, although multiclass analysis is possible.
</dd></dl><h3> <a name="af_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="af_example_1:"><span class="mw-headline" id="Example_1:">Example 1:</span></a></i></b></font></h4>
<p>Analyze the numerical fields to predict the value of "is_activated".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | analyzefields classfield=is_activated</font></code><br></div>
<h3> <a name="af_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#anomalousvalue" class="external text">anomalousvalue</a> 
</p>
<h3> <a name="af_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the analyzefields command.
</p>
<a name="anomalies"></a><h2> <a name="anomalies_anomalies"><span class="mw-headline" id="anomalies"> anomalies </span></a></h2>
<p>Use the <code><font size="2">anomalies</font></code> command to look for events or field values that are unusual within a sliding window of data.  
</p><p>The <code><font size="2">anomalies</font></code> command assigns an unexpectedness score to each event in a new field  named <code><font size="2">unexpectedness</font></code>. Whether the event is considered anomalous or not depends on a <code><font size="2">threshold</font></code> value that is compared against the calculated unexpectedness score. The event is considered unexpected or anomalous if the unexpectedness &gt; <code><font size="2">threshold</font></code>.
</p><p>After you run an <code><font size="2">anomalies</font></code> search, use the fields sidebar to view the <code><font size="2">unexpectedness</font></code> field in your events listing. 
</p>
<h3> <a name="anomalies_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Computes an <tt>unexpectedness</tt> score for an event.
</p>
<h4><font size="3"><b><i> <a name="anomalies_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>anomalies [threshold=<i>num</i>] [labelonly=<i>bool</i>] [normalize=<i>bool</i>] [maxvalues=<i>int</i>] [field=<i>field</i>] [blacklist=<i>filename</i>] [blacklistthreshold=<i>num</i>] [<i>by-clause</i>]
</p>
<h4><font size="3"><b><i> <a name="anomalies_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> threshold
</dt><dd> <b>Datatype:</b> threshold=&lt;num&gt;
</dd><dd> <b>Description:</b> A number to represent the unexpectedness limit. If an event's calculated unexpectedness is greater than this limit, the event is considered unexpected or anomalous. Defaults to 0.01.
</dd></dl><dl><dt> labelonly
</dt><dd> <b>Datatype:</b> labelonly=&lt;bool&gt;
</dd><dd> <b>Description:</b> Select how you want the output to be returned. The <code><font size="2">unexpectedness</font></code> field is appended to all events. If labelonly=true, no events are removed. If labelonly=false, events that have a <code><font size="2">unexpected</font></code> score less than the threshold are removed from the output result set. Defaults to false.
</dd></dl><dl><dt> normalize
</dt><dd> <b>Datatype:</b> normalize=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether or not to "normalize" numeric text within the field. All characters in the field from 0 through 9 are considered identical for purposes of the algorithm, though the placement and quantity of the numbers remains significant. For cases where <code><font size="2">field</font></code> contains numeric data that should not be normalized, but treated as categories, set <code><font size="2">normalize</font></code>=false. Defaults to true.
</dd></dl><dl><dt> maxvalues
</dt><dd> <b>Datatype:</b> maxvalues=&lt;int&gt;
</dd><dd> <b>Description:</b> Specify the size of the sliding window of previous events to include when determining the unexpectedness of an event's field value. This number is between 10 and 10000. Defaults to 100.  Increasing the value of <code><font size="2">maxvalues</font></code> will increase the total cpu cost per event linearly (large values will have very long search runtimes).
</dd></dl><dl><dt> field
</dt><dd> <b>Datatype:</b> field=&lt;field&gt;
</dd><dd> <b>Description:</b> The field to analyze when determining the unexpectedness of an event. Defaults to <code><font size="2">_raw</font></code>.
</dd></dl><dl><dt> blacklist
</dt><dd> <b>Datatype:</b> blacklist=&lt;filename&gt;
</dd><dd> <b>Description:</b> A name of a CSV file of events that is located in $SPLUNK_HOME/var/run/splunk/<i>BLACKLIST</i>.csv. Any incoming event that is similar to an event in the blacklist is treated as not anomalous (that is, uninteresting) and given an unexpectedness score of 0.0.
</dd></dl><dl><dt> blacklistthreshold
</dt><dd> <b>Datatype:</b> blacklistthreshold=&lt;num&gt;
</dd><dd> <b>Description:</b> Specify similarity score threshold for matching incoming events to blacklisted events. If the incoming event has a similarity score above the <code><font size="2">blacklistthreshold</font></code>, it is marked as unexpected. Defaults to 0.05.
</dd></dl><dl><dt> by clause
</dt><dd> <b>Syntax:</b> by &lt;fieldlist&gt;
</dd><dd> <b>Description:</b> Used to specify a list of fields to segregate results for anomaly detection. For each combination of values for the specified field(s), events with those values are treated entirely separately.
</dd></dl><h3> <a name="anomalies_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The unexpected score of an event is calculated based on the similarity of that event (X) to a set of previous events (P):
</p>
<code><font size="2"><br>unexpectedness = &nbsp;[s(P and X) - s(P)] / [s(P) + s(X)]<br></font></code>
<p>Here, <code><font size="2">s()</font></code> is a metric of how similar or uniform the data is. This formula provides a measure of how much adding X affects the similarity of the set of events and also normalizes for the differing event sizes. 
</p><p>You can run the <code><font size="2">anomalies</font></code> command again on the results of a previous <code><font size="2">anomalies</font></code>, to further narrow down the results. As each run operates over 100 events, the second call to <code><font size="2">anomalies</font></code> is approximately running over a window of 10,000 previous events.
</p>
<h3> <a name="anomalies_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> This example just shows how you can tune the search for anomalies using the <code><font size="2">threshold</font></code> value. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal | anomalies by group  | search group=*</font></code><br></div>
<p>This search looks at events in the <code><font size="2">_internal</font></code> index and calculates the <code><font size="2">unexpectedness</font></code> score for sets of events that have the same <code><font size="2">group</font></code> value. This means that the sliding set of events used to calculate the <code><font size="2">unexpectedness</font></code> for each unique <code><font size="2">group</font></code> value will only include events that have the same <code><font size="2">group</font></code> value. The <a href="#search" class="external text">search</a> command is then used to show only events that include the <code><font size="2">group</font></code> field. Here's a snapshot of the results:
</p><p><img alt="Ex anomalies.png" src="images/9/92/Ex_anomalies.png" width="700" height="193"></p><p>With the default <code><font size="2">threshold=0.01</font></code>, you can see that some of these events may be very similar. This next search increases the <code><font size="2">threshold</font></code> a little:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal | anomalies threshold=0.03 by group | search group=*</font></code><br></div> 
<p><img alt="Ex anomalies.2.png" src="images/0/04/Ex_anomalies.2.png" width="700" height="200"></p><p>With the higher <code><font size="2">threshold</font></code> value, you can see at-a-glance that there is more distinction between each of the events (the timestamps and key/value pairs).
</p><p>Also, you might not want to hide the events that are not anomalous. Instead, you can add another field to your events that tells you whether or not the event is interesting to you. One way to do this is with the <a href="#eval" class="external text">eval</a> command:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal | anomalies threshold=0.03 labelonly=true by group | search group=* | eval threshold=0.03 | eval score=if(unexpectedness&gt;=threshold, "anomalous", "boring")</font></code><br></div>
<p>This search uses <code><font size="2">labelonly=true</font></code> so that the boring events are still retained in the results list. The <code><font size="2">eval</font></code> command is used to define a field named <code><font size="2">threshold</font></code> and set it to the value. This has to be done explicitly because the <code><font size="2">threshold</font></code> attribute of the <code><font size="2">anomalies</font></code> command is not a field. The <code><font size="2">eval</font></code> command is then used to define another new field, <code><font size="2">score</font></code>, that is either "anomalous" or "boring" based on how the <code><font size="2">unexpectedness</font></code> compares to the <code><font size="2">threshold</font></code> value. Here's a snapshot of these results:
</p><p><img alt="Ex anomalies.3.png" src="images/0/0e/Ex_anomalies.3.png" width="700" height="183"></p>
<h3> <a name="anomalies_more_examples"><span class="mw-headline" id="More_examples"> More examples </span></a></h3>
<p><b>Example 1:</b> Show most interesting events first, ignoring any in the blacklist 'boringevents'.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | anomalies blacklist=boringevents | sort -unexpectedness</font></code><br></div>
<p><b>Example 2:</b> Use with transactions to find regions of time that look unusual.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | transaction maxpause=2s | anomalies</font></code><br></div>
<p><b>Example 3:</b> Look for anomalies in each source separately -- a pattern in one source will not affect that it is anomalous in another source.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | anomalies by source</font></code><br></div>
<h3> <a name="anomalies_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#anomalousvalue" class="external text">anomalousvalue</a>, <a href="#cluster" class="external text">cluster</a>, <a href="#kmeans" class="external text">kmeans</a>, <a href="#outlier" class="external text">outlier</a> 
</p>
<h3> <a name="anomalies_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the anomalies command.
</p>
<a name="anomalousvalue"></a><h2> <a name="anomalousvalue_anomalousvalue"><span class="mw-headline" id="anomalousvalue"> anomalousvalue </span></a></h2>
<h3> <a name="anomalousvalue_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">anomalousvalue</font></code> command computes an anomaly score for each field of each event, relative to the values of this field across other events. For numerical fields, it identifies or summarizes the values in the data that are anomalous either by frequency of occurrence or number of standard deviations from the mean.
</p><p>For fields that are determined to be anomalous, a new field is added with the following scheme.  If the field is numeric, such as <code><font size="2">size</font></code>,  the new field will be  <code><font size="2">Anomaly_Score_Num(size)</font></code>. If the field is non-numeric, such as <code><font size="2">name</font></code>, the nnew field will be <code><font size="2">Anomaly_Score_Cat(name)</font></code>.
</p><p><br></p>
<h3> <a name="anomalousvalue_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>anomalousvalue &lt;av-option&gt; [action] [pthresh] [field-list]
</p>
<h4><font size="3"><b><i> <a name="anomalousvalue_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;av-option&gt;
</dt><dd> <b>Syntax:</b> minsupcount=&lt;int&gt; | maxanofreq=&lt;float&gt; | minsupfreq=&lt;float&gt; | minnormfreq=&lt;float&gt;
</dd><dd> <b>Description:</b> Select how to control which fields are considered for discriminating anomalies.
</dd></dl><h5> <a name="anomalousvalue_descriptions_for_av_options"><span class="mw-headline" id="Descriptions_for_av_options"> Descriptions for av options </span></a></h5>
<dl><dt> maxanofreq
</dt><dd> <b>Syntax:</b> maxanofreq=&lt;float&gt; 
</dd><dd> <b>Description:</b> Maximum anomalous frequency is expressed as a floating point number between 0 and 1. Omits a field from consideration if it is too frequently anomalous. If the ratio of anomalous occurrences of the field to the total number of occurrences of the field is greater than <code><font size="2">maxanofreq</font></code>, then the field will be dropped from consideration. 
</dd><dd> <b>Default</b> 0.05
</dd></dl><dl><dt> minnormfreq
</dt><dd> <b>Syntax:</b> minnormfreq=&lt;float&gt;
</dd><dd> <b>Description:</b> Minimum normal frequency is expressed as a floating point number between 0 and 1. Omits a field from consideration if it is not anomalous frequently enough.  If the ratio of anomalous occurrences of the field to the total number of occurrences of the field is smaller than <i>p</i>, then the field will be dropped from consideration.  
</dd><dd> <b>Default:</b> 0.01
</dd></dl><dl><dt> minsupcount
</dt><dd> <b>Syntax:</b> minsupcount=&lt;int&gt;
</dd><dd> <b>Description:</b> Minimum supported count must be a positive integer. Drops a field that has small number of occurrences in the input dataset.  If the field appers fewer than <i>N</i>  times in the input events, the field will be dropped from consideration.
</dd><dd> <b>Default:</b> 100
</dd></dl><dl><dt> minsupfreq
</dt><dd> <b>Syntax:</b> minsupfreq=&lt;float&gt;
</dd><dd> <b>Description:</b> Minimum supported frequency is expressed as a floating point number between 0 and 1. Drops a field that has a low frequency of occurrence.  Similar to minsupcount, instead checks the ratio of occurrences of the field to the total number of events.  If this ratio is smaller than <i>p</i> the field will be dropped from consideration.
</dd><dd> <b>Default:</b> 0.05
</dd></dl><h4><font size="3"><b><i> <a name="anomalousvalue_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> action
</dt><dd> <b>Syntax:</b> action=annotate | filter | summary
</dd><dd> <b>Description:</b> Specify whether to return the anomaly score (annotate), filter out events with anomalous values (filter), or a summary of anomaly statistics (summary). Defaults to filter.
</dd></dl><dl><dt> field-list
</dt><dd> <b>Syntax:</b> &lt;field&gt;, ...
</dd><dd> <b>Description:</b> List of fields to consider.  If no field list is provided, all fields are considered.
</dd></dl><dl><dt> pthresh
</dt><dd> <b>Syntax:</b> pthresh=&lt;num&gt;
</dd><dd> <b>Description:</b> Probability threshold (as a decimal) that has to be met for a value to be considered anomalous. Defaults to 0.01.
</dd></dl><h5> <a name="anomalousvalue_descriptions_for_action_options"><span class="mw-headline" id="Descriptions_for_action_options"> Descriptions for action options </span></a></h5>
<dl><dt> annotate
</dt><dd> <b>Syntax:</b> action=annotate
</dd><dd> <b>Description:</b> <code><font size="2">annotate</font></code> adds new fields, <code><font size="2">Anomaly_Score_Cat(field)</font></code> and/or <code><font size="2">Anomaly_Score_Num(field)</font></code>, to the events containing anomalous values.
</dd></dl><p><br></p>
<dl><dt> filter
</dt><dd> <b>Syntax:</b> action=filter
</dd><dd> <b>Description:</b> <code><font size="2">filter</font></code> returns events with anomalous value(s) while other events are dropped.  The kept events will be annotated, like <code><font size="2">annotate</font></code>.
</dd></dl><dl><dt> summary
</dt><dd> <b>Syntax:</b> action=summary
</dd><dd> <b>Description:</b> <code><font size="2">summary</font></code> returns a table summarizing the anomaly statistics for each field is generated. The table includes how many events contained this field, the fraction of events that were anomalous, what type of test (categorical or numerical) were performed, and so on.
</dd></dl><h3> <a name="anomalousvalue_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return only uncommon values from the search results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | anomalousvalue</font></code><br></div>
<p>This is the same as running the following search:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">...| anomalousvalue action=filter pthresh=0.01</font></code><br></div>.
<p><b>Example 2:</b> Return uncommon values from the host "reports".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">host="reports" | anomalousvalue action=filter pthresh=0.02</font></code><br></div>
<p><b>Example 3:</b> Return a summary of the anomaly statistics for each numeric field.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">source=/var/log* | anomalousvalue action=summary pthresh=0.02 | search isNum=YES</font></code><br></div>
<p><img alt="Ex Anomalousvalue3.png" src="images/c/c8/Ex_Anomalousvalue3.png" width="700" height="257"></p>
<h3> <a name="anomalousvalue_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#af" class="external text">af, analyzefields</a>, <a href="#anomalies" class="external text">anomalies</a>, <a href="#cluster" class="external text">cluster</a>, <a href="#kmeans" class="external text">kmeans</a>, <a href="#outlier" class="external text">outlier</a> 
</p>
<h3> <a name="anomalousvalue_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the anomalousvalue command.
</p>
<a name="append"></a><h2> <a name="append_append"><span class="mw-headline" id="append"> append </span></a></h2>
<h3> <a name="append_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Appends the results of a <b>subsearch</b> to the current results.
The <code><font size="2">append</font></code> command runs only over historical data and does not produce correct results if used in a real-time search.
</p><p>For more information about when to use the append command, see the flowchart in the topic "About event grouping and correlation" in the <i>Search Manual</i>.
</p>
<h3> <a name="append_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>append [<i>subsearch-options</i>]* <i>subsearch</i>
</p>
<h4><font size="3"><b><i> <a name="append_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> subsearch
</dt><dd> <b>Description:</b> A search pipeline. Read more about how subsearches work in the <i>Search manual</i>.
</dd></dl><h4><font size="3"><b><i> <a name="append_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> subsearch-options
</dt><dd> <b>Syntax:</b> maxtime=&lt;int&gt; | maxout=&lt;int&gt; | timeout=&lt;int&gt;
</dd><dd> <b>Description:</b> Controls how the subsearch is executed.
</dd></dl><h4><font size="3"><b><i> <a name="append_subsearch_options"><span class="mw-headline" id="Subsearch_options"> Subsearch options </span></a></i></b></font></h4>
<dl><dt> maxtime
</dt><dd> <b>Syntax:</b> maxtime=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum time (in seconds) to spend on the subsearch before automatically finalizing. 
</dd><dd> <b>Default:</b> 60
</dd></dl><dl><dt> maxout
</dt><dd> <b>Syntax:</b> maxout=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum number of result rows to output from the subsearch. 
</dd><dd> <b>Default:</b> 50000
</dd></dl><dl><dt> timeout
</dt><dd> <b>Syntax:</b> timeout=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum time (in seconds) to wait for subsearch to fully finish. 
</dd><dd> <b>Default:</b> 60
</dd></dl><h3> <a name="append_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="append_example_1"><span class="mw-headline" id="Example_1"> Example 1 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses recent earthquake data downloaded from the USGS Earthquakes website. The data is a comma separated ASCII text file that contains magnitude (mag), coordinates (latitude, longitude), region (place), and so on, for each earthquake recorded.
<p>You can download a current CSV file from the <b>USGS Earthquake Feeds</b> and add it as an input to the search.
</p>
</td></tr></table><p>Count the number of earthquakes that occurred in and around California yesterday and then calculate the total number of quakes. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">source=usgs place=*California* | stats count by magType | append [search index=usgs_* source=usgs place=*California* | stats count]</font></code><br></div>
<p>This example searches for all the earthquakes in the California regions (<code><font size="2">Region="*California"</font></code>), then counts the number of earthquakes based on its magnitude type. 
</p><p>The <code><font size="2">stats</font></code> command does not let you count the total number of events at the same time as you count the number of events split-by a field, so the subsearch is used to count the total number of earthquakes that occurred. This count is added to the results of the previous search with the <code><font size="2">append</font></code> command.
</p><p>Because both searches share the <code><font size="2">count</font></code> field, the results of the subsearch are listed as the last row in the column:
</p><p><img alt="Searchref append usgsex1.1.png" src="images/3/30/Searchref_append_usgsex1.1.png" width="700" height="204"></p><p>This search demonstrates using the <code><font size="2">append</font></code> command in a way that is similar to the <code><font size="2">addcoltotals</font></code> command, to add the column totals.
</p>
<h4><font size="3"><b><i> <a name="append_example_2"><span class="mw-headline" id="Example_2"> Example 2 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the tutorial. Download the data set from <b>this topic in the tutorial</b> and follow the instructions to upload it to the search. Then, run this search using the time range, <b>Other &gt; Yesterday</b>.
</td></tr></table><p>Count the number of different customers who purchased something from the Flower &amp; Gift shop yesterday, and break this count down by the type of product (Candy, Flowers, Gifts, Plants, and Balloons) they purchased. Also, list the top purchaser for each type of product and how much that person bought of that product.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* action=purchase | stats dc(clientip) by category_id | append [search sourcetype=access_* action=purchase | top 1 clientip by category_id] | table category_id, dc(clientip), clientip, count</font></code><br></div>
<p>This example first searches for purchase events (<code><font size="2">action=purchase</font></code>). These results are pipped into the <code><font size="2">stats</font></code> command and the <code><font size="2">dc() or distinct_count()</font></code> function is used to count the number of different users who make purchases. The <code><font size="2">by</font></code> clause is used to break up this number based on the different category of products (<code><font size="2">category_id</font></code>).
</p><p>The subsearch is used to search for purchase events and count the top purchaser (based on <code><font size="2">clientip</font></code>) for each category of products. These results are added to the results of the previous search using the <code><font size="2">append</font></code> command. 
</p><p>Here, the <code><font size="2">table</font></code> command is used to display only the category of products (<code><font size="2">category_id</font></code>), the distinct count of users who bought each type of product (<code><font size="2">dc(clientip)</font></code>), the actual user who bought the most of a product type (<code><font size="2">clientip</font></code>), and the number of each product that user bought (<code><font size="2">count</font></code>).
</p><p><img alt="AppendEx2.png" src="images/d/d9/AppendEx2.png" width="700" height="236"></p><p>You can see that the <code><font size="2">append</font></code> command just tacks on the results of the subsearch to the end of the previous search, even though the results share the same field values. It does not let you manipulate or reformat the output.
</p>
<h4><font size="3"><b><i> <a name="append_example_3"><span class="mw-headline" id="Example_3"> Example 3 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial but should work with any format of Apache Web access log. Download the data set from <b>this topic in the Search Tutorial</b> and follow the instructions to upload it to the search.
</td></tr></table><p>Count the number of different IP addresses who accessed the Web server and also find the user who accessed the Web server the most for each type of page request (<code><font size="2">method</font></code>).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | stats dc(clientip), count by method | append [search sourcetype=access_* | top 1 clientip by method]</font></code><br></div>
<p>The Web access events are piped into the <code><font size="2">stats</font></code> command and the <code><font size="2">dc() or distinct_count()</font></code> function is used to count the number of different users who accessed the site. The <code><font size="2">count()</font></code> function is used to count the total number of times the site was accessed. These numbers are separated by the page request (<code><font size="2">method</font></code>). 
</p><p>The subsearch is used to find the top user for each type of page request (<code><font size="2">method</font></code>). The <code><font size="2">append</font></code> command is used to add the result of the subsearch to the bottom of the table:  
</p><p><img alt="AppendEx3.png" src="images/4/47/AppendEx3.png" width="700" height="124"></p><p>The first two rows are the results of the first search. The last two rows are the results of the subsearch. Both result sets share the <code><font size="2">method</font></code> and <code><font size="2">count</font></code> fields.
</p>
<h3> <a name="append_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#appendcols" class="external text">appendcols</a>, <a href="#join" class="external text">join</a>, <a href="#set" class="external text">set</a>
</p>
<h3> <a name="append_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the append command.
</p>
<a name="appendcols"></a><h2> <a name="appendcols_appendcols"><span class="mw-headline" id="appendcols"> appendcols </span></a></h2>
<h3> <a name="appendcols_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Appends the fields of the <b>subsearch</b> results into input search results. The search combines the external fields of the subsearch, fields that do not start with an underscore character ( _ ), into the current results. The first subsearch result is merged with the first main result, the second subsearch result with the second main result, and so on. If the <code><font size="2">override</font></code> argument is false (default), and if a field is present in both a subsearch result and the main result, the main result is used. If <code><font size="2">override=true</font></code>, the subsearch result is used.
</p>
<h3> <a name="appendcols_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>appendcols [override=<i>bool</i>|<i>subsearch-options</i>]* <i>subsearch</i>
</p>
<h4><font size="3"><b><i> <a name="appendcols_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> subsearch
</dt><dd> <b>Description:</b> A search pipeline. Read more about how subsearches work in the <i>Search manual</i>.
</dd></dl><h4><font size="3"><b><i> <a name="appendcols_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> override
</dt><dd> <b>Datatype:</b> &lt;bool&gt;
</dd><dd> <b>Description:</b> If the <code><font size="2">override</font></code> argument is false (default), and if a field is present in both a subsearch result and the main result, the main result is used.  If <code><font size="2">override=true</font></code>, the subsearch result value is used.
</dd></dl><dl><dt> subsearch-options
</dt><dd> <b>Syntax:</b> maxtime=&lt;int&gt; | maxout=&lt;int&gt; | timeout=&lt;int&gt;
</dd><dd> <b>Description:</b> Controls how the subsearch is executed.
</dd></dl><h4><font size="3"><b><i> <a name="appendcols_subsearch_options"><span class="mw-headline" id="Subsearch_options"> Subsearch options </span></a></i></b></font></h4>
<dl><dt> maxtime
</dt><dd> <b>Syntax:</b> maxtime=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum time (in seconds) to spend on the subsearch before automatically finalizing. 
</dd><dd> <b>Default</b>: 60
</dd></dl><dl><dt> maxout
</dt><dd> <b>Syntax:</b> maxout=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum number of result rows to output from the subsearch. 
</dd><dd> <b>Default:</b> 50000
</dd></dl><dl><dt> timeout
</dt><dd> <b>Syntax:</b> timeout=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum time (in seconds) to wait for subsearch to fully finish.
</dd><dd> <b>Default:</b> 60
</dd></dl><h3> <a name="appendcols_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Search for "404" events and append the fields in each event to the previous search results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | appendcols [search 404]</font></code><br></div>
<p><br><b>Example 2:</b> This search uses appendcols to count the number of times a certain field occurs on a specific server and uses that value to calculate other fields.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">specific.server | stats dc(userID) as totalUsers | appendcols [ search specific.server AND "text" | addinfo | where _time &gt;= info_min_time AND _time &lt;=info_max_time | stats count(field) as variableA ] | eval variableB = exact(variableA/totalUsers)</font></code><br></div>
<ul><li> First, this search uses <a href="#stats" class="external text">stats</a> to count the number of individual users on a specific server and names that variable "totalUsers".
</li><li> Then, appendcols is used to search the server and count how many times a certain field occurs on that specific server. This count is renamed "VariableA". The <a href="#addinfo" class="external text">addinfo</a> command is used to constrain this subsearch within the range of info_min_time and info_max_time.
</li><li> The <a href="#eval" class="external text">eval</a> command is used to define a "variableB".
</li></ul><p>The result is a table with totalUsers, variableA, and variableB.
</p>
<h3> <a name="appendcols_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#append" class="external text">append</a>, <a href="#join" class="external text">join</a>, <a href="#set" class="external text">set</a> 
</p>
<h3> <a name="appendcols_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the appendcols command.
</p>
<a name="appendpipe"></a><h2> <a name="appendpipe_appendpipe"><span class="mw-headline" id="appendpipe"> appendpipe</span></a></h2>
<h3> <a name="appendpipe_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Appends the result of the subpipeline applied to the current result. The <code><font size="2">appendpipe</font></code> command is used to append the output of reporting commands.  This can be useful because it provides a summary, total, or otherwise descriptive row of the entire dataset when constructing a table or chart. In some cases it might be useful when you need the original results for additional calculations.
</p>
<h3> <a name="appendpipe_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>appendpipe [run_in_preview=&lt;bool&gt;] [&lt;subpipeline&gt;]
</p>
<h4><font size="3"><b><i> <a name="appendpipe_arguments"><span class="mw-headline" id="Arguments"> Arguments </span></a></i></b></font></h4>
<dl><dt> run_in_preview
</dt><dd> <b>Syntax:</b> run_in_preview=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether or not to run the command in preview mode. Defaults to True.
</dd></dl><h3> <a name="appendpipe_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Append subtotals for each action across all users.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_audit | stats count by action user | appendpipe [stats sum(count) as count by action | eval user = "ALL USERS"] | sort action</font></code><br></div>
<h3> <a name="appendpipe_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#append" class="external text">append</a>, <a href="#appendcols" class="external text">appendcols</a>, <a href="#join" class="external text">join</a>, <a href="#set" class="external text">set</a>
</p>
<h3> <a name="appendpipe_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the appendpipe command.
</p>
<a name="arules"></a><h2> <a name="arules_arules"><span class="mw-headline" id="arules"> arules</span></a></h2>
<h3> <a name="arules_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The arules command looks for associative relationships between field values.  The command returns a table with the following columns: Given fields, Implied fields, Strength, Given fields support, and Implied fields support. The given and implied field values are the values of the fields you supply. The Strength value indicates the relationship between (among) the given and implied field values.
</p><p>Implements arules agorithm as discussed in Michael Hahsler, Bettina Gruen and Kurt Hornik (2012). arules: Mining Association Rules and Frequent Itemsets. R package version 1.0-12. This algorithm is similar to the algorithms used for online shopping websites which suggest related items based on what items other customers have viewed or purchased.
</p><p><br></p>
<h3> <a name="arules_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>arules (&lt;arules-option&gt;)* &lt;fields&gt;
</p>
<h4><font size="3"><b><i> <a name="arules_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;arules-option&gt;
</dt><dd> <b>Syntax:</b> &lt;support&gt; | &lt;confidence&gt;
</dd><dd> <b>Description:</b> Options for arules command.
</dd></dl><dl><dt> fields
</dt><dd> <b>Syntax:</b> &lt;fields&gt;
</dd><dd> <b>Description:</b> The list of field names. The number of fields can be artbitrary.
</dd></dl><h4><font size="3"><b><i> <a name="arules_arules_options"><span class="mw-headline" id="arules_options"> arules options </span></a></i></b></font></h4>
<dl><dt> support
</dt><dd> <b>Syntax:</b> sup=&lt;int&gt;
</dd><dd> <b>Description:</b> Specify a support limit. Associations with computed support levels smaller than this value will not be included in the output results.  The support option must be a positive integer. 
</dd><dd> <b>Default:</b> 3
</dd></dl><dl><dt> confidence
</dt><dd> <b>Syntax:</b> conf=&lt;float&gt;
</dd><dd> <b>Description:</b> Specify a confidence limit.  Associations with a confidence (expressed as <code><font size="2">Strength</font></code> field) will not be included in the output results.  Must be between 0 and 1. 
</dd><dd> <b>Default:</b> .5
</dd></dl><p><br></p>
<h3> <a name="arules_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Search for the likelihood that the fields are related.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | arules field1 field2 field3</font></code><br></div>
<p><b>Example 2:</b> 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | arules sup=3 conf=.6 field1 field2 field3</font></code><br></div>
<h3> <a name="arules_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#associate" class="external text">associate</a>, <a href="#correlate" class="external text">correlate</a>
</p>
<h3> <a name="arules_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has about using the arules command.
</p>
<a name="associate"></a><h2> <a name="associate_associate"><span class="mw-headline" id="associate"> associate </span></a></h2>
<p>The <code><font size="2">associate</font></code> command tries to find a relationship between pairs of fields by calculating a change in entropy based on their values. This entropy represents whether knowing the value of one field helps to predict the value of another field.
</p><p>In Information Theory, <i>entropy</i> is defined as a measure of the uncertainty associated with a random variable. In this case, if a field has only one unique value, it has an entropy of zero. If it has multiple values, the more evenly those values are distributed, the higher the entropy. 
</p>
<h3> <a name="associate_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Identifies correlations between fields.
</p>
<h4><font size="3"><b><i> <a name="associate_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>associate [<i>associate-option</i>]* [<i>field-list</i>]
</p>
<h4><font size="3"><b><i> <a name="associate_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> associate-option
</dt><dd> <b>Syntax:</b> supcnt | supfreq | improv
</dd><dd> <b>Description:</b> Options for the associate command.
</dd></dl><dl><dt> field-list
</dt><dd> <b>Syntax:</b> &lt;field&gt;, ...
</dd><dd> <b>Description:</b> List of fields, non-wildcarded. If a list of fields is provided, analysis will be restricted to only those fields. By default all fields are used.
</dd></dl><h4><font size="3"><b><i> <a name="associate_associate_options"><span class="mw-headline" id="Associate_options"> Associate options </span></a></i></b></font></h4>
<dl><dt> supcnt
</dt><dd> <b>Syntax:</b> supcnt=&lt;num&gt;
</dd><dd> <b>Description:</b> Specify the minimum number of times that the "reference key=reference value" combination must appear. Must be a non-negative integer. Defaults to 100.
</dd></dl><dl><dt> supfreq
</dt><dd> <b>Syntax:</b> supfreq=&lt;num&gt;
</dd><dd> <b>Description:</b> Specify the minimum frequency of "reference key=reference value" combination as a fraction of the number of total events. Defaults to 0.1.
</dd></dl><dl><dt> improv
</dt><dd> <b>Syntax:</b> improv=&lt;num&gt;
</dd><dd> <b>Description:</b> Specify a limit, or minimum entropy improvement, for the "target key".  The resulting calculated entropy improvement, which is the difference between the unconditional entropy (the entropy of the target key) and the conditional entropy (the entropy of the target key, when the reference key is the reference value) must be greater than or equal to this limit. Defaults to 0.5.
</dd></dl><h3> <a name="associate_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">associate</font></code> command outputs a table with columns containing the following fields. 
</p>
<ul><li> The fields that are analyzed: <code><font size="2">Reference_Key</font></code>, <code><font size="2">Reference_Value</font></code>, and <code><font size="2">Target_Key</font></code>
</li><li> The entropy calculated for each pair of field values: <code><font size="2">Unconditional_Entropy</font></code>, <code><font size="2">Conditional_Entropy</font></code>, and <code><font size="2">Entropy_Improvement</font></code>
</li><li> A message that summarizes the relationship between the field values that is based on the entropy calculations: <code><font size="2">Description</font></code>
</li></ul><p>The <code><font size="2">Description</font></code> is a user-friendly representation of the result. It is written in the format: "When the '<code><font size="2">Reference_Key</font></code>' has the value '<code><font size="2">Reference_Value</font></code>', the entropy of '<code><font size="2">Target_Key</font></code>' decreases from <code><font size="2">Unconditional_Entropy</font></code> to <code><font size="2">Conditional_Entropy</font></code>."
</p>
<h3> <a name="associate_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> This example demonstrates one way to analyze the relationship of fields in your web access logs. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* status!=200 | fields method, status | associate | table Reference_Key, Reference_Value, Target_Key, Top_Conditional_Value, Description</font></code><br></div>
<p>The first part of this search retrieves web access events that returned a status that is not 200. Web access data contains many fields. You can use the <code><font size="2">associate</font></code> command to see a relationship between all pairs of fields and values in your data. To simplify this example, restrict the search to two fields: <code><font size="2">method</font></code> and <code><font size="2">status</font></code>. 
</p><p>Also, to simplify the output, use the <code><font size="2">table</font></code> command to display only select columns. 
</p><p><img alt="SearchRef associate ex1.png" src="images/2/28/SearchRef_associate_ex1.png" width="700" height="185"></p><p>For this particular result set, (you can see in the Fields area, to the left of the results area) there are:
</p>
<ul><li> two <code><font size="2">method</font></code> values: POST and GET
</li><li> five <code><font size="2">status</font></code> values: 301, 302, 304, 404, and 503
</li></ul><p>From the first row of results, you can see that when <code><font size="2">method=POST</font></code>, the <code><font size="2">status</font></code> field is <code><font size="2">302</font></code> for all of those events. The <code><font size="2">associate</font></code> command concludes that, if <code><font size="2">method=POST</font></code>, the <code><font size="2">status</font></code> is likely to be <code><font size="2">302</font></code>. You can see this same conclusion in the third row, which references <code><font size="2">status=302</font></code> to predict the value of <code><font size="2">method</font></code>.
</p><p>The Reference_Key and Reference_Value are being correlated to the Target_Key.  The Top_Conditional_Value field states three things: the most common value for the given Reference_Value, the frequency of the Reference_Value for that field in the dataset, and the frequency of the most common associated value in the Target_Key for the events that have the specific Reference_Value in that Reference Key.  It is formatted to read "CV (FRV% -&gt; FCV%)" where CV is the conditional Value, FRV is is the percentage occurrence of the reference value, and FCV is the percentage of occurrence for that conditional value, in the case of the reference value.
</p><p><b>Note:</b> This example uses sample data from the Splunk Tutorial. which you can download and add to run this search and see these results. For more information, refer to "Get the tutorial data into Splunk" in the Search Tutorial.
</p><p><b>Example 2:</b> Return results associated with each other (that have at least 3 references to each other).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal sourcetype=splunkd | associate supcnt=3</font></code><br></div>
<p><b>Example 3:</b> Analyze all events from host "reports" and return results associated with each other.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">host="reports" | associate supcnt=50 supfreq=0.2 improv=0.5</font></code><br></div>
<h3> <a name="associate_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#correlate" class="external text">correlate</a>, <a href="#contingency" class="external text">contingency</a> 
</p>
<h3> <a name="associate_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the associate command.
</p>
<a name="audit"></a><h2> <a name="audit_audit"><span class="mw-headline" id="audit"> audit </span></a></h2>
<h3> <a name="audit_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Returns audit trail information that is stored in the local audit index.
</p>
<h4><font size="3"><b><i> <a name="audit_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>audit
</p>
<h3> <a name="audit_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>View audit trail information stored in the local <tt>audit</tt> index. Also validate signed audit events while checking for gaps and tampering.
</p>
<h3> <a name="audit_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> View information in the "audit" index.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index="_audit" | audit</font></code><br></div>
<h3> <a name="audit_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the audit command.
</p>
<a name="autoregress"></a><h2> <a name="autoregress_autoregress"><span class="mw-headline" id="autoregress"> autoregress </span></a></h2>
<h3> <a name="autoregress_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Sets up data for calculating the auto-regression (moving average) by copying one or more of the previous values  for <i>field</i> into each event.  
</p><p>If <i>newfield</i> is provided, one previous value will be copied into <i>newfield</i> from a count of <i>p</i> events prior.  In this case, <i>p</i> must be a single integer.
</p><p>If <i>newfield</i> is not provided, the single or multiple values will be copied into fields named <i>&lt;field&gt;_p&lt;num&gt;</i>.  In this case <i>p</i> may be a single integer or a range <i>&lt;p_start&gt;</i>-<i>&lt;p_end&gt;</i>.  For a range, the values will be copied from <i>p_start</i> events prior, to <i>p_end</i> events prior. 
</p><p>If <i>p</i> is not specified, it defaults to 1.  This will copy only the previous one values of <i>field</i> into <i>&lt;field&gt;_p1</i>.
</p><p>The first few events will lack some augmentation of prior values, since the prior values do not exist.
</p>
<h3> <a name="autoregress_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>autoregress <i>field</i> [AS &lt;newfield&gt;] [p=&lt;p_start&gt;[<code><font size="2">-</font></code>&lt;p_end&gt;]]
</p>
<h4><font size="3"><b><i> <a name="autoregress_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> field
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of a field.  Most usefully a field with numeric values.
</dd></dl><h4><font size="3"><b><i> <a name="autoregress_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> p
</dt><dd> <b>Syntax:</b> p=&lt;int&gt;[-&lt;int&gt;]
</dd><dd> <b>Description:</b> Specifies which prior events to copy values from.  Accepts two forms: a single integer and a numeric range.  For a single value, such as 3, <code><font size="2">autoregress</font></code> will copy field values from that many events prior.  For a range, autoregress will copy field values from the range of events prior.  For example p=3 means to copy field values from three events prior, while p=2-4 means to copy field values from two to four events prior.  Defaults to 1.
</dd></dl><dl><dt> newfield
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> For <code><font size="2">p=&lt;int&gt;</font></code>, selects a field name to copy the single field value into.  Invalid if <code><font size="2">p</font></code> is set to a range.
</dd></dl><p><br></p>
<h3> <a name="autoregress_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> For each event, copy the 3rd previous value of the 'foo' field into the field 'oldfoo'.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | autoregress foo AS oldfoo p=3</font></code><br></div>
<p><b>Example 2:</b> For each event, copy the 2nd, 3rd, 4th, and 5th previous values of the 'count' field into the respective fields 'count_p2', 'count_p3', 'count_p4', and 'count_p5'.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | autoregress count p=2-5</font></code><br></div>
<p><b>Example 3:</b> Calculate a moving average of event size over the current event and the four prior.  This omits the moving_average for the initial events, where the field would be wrong, because summing null fields is considered null
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eval rawlen=len(_raw) | autoregress rawlen p=1-4 | eval moving_average=(rawlen + rawlen_p1 + rawlen_p2 + rawlen_p3 +rawlen_p4 ) /5</font></code><br></div>
<h3> <a name="autoregress_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#accum" class="external text">accum</a>, <a href="#delta" class="external text">delta</a>, <a href="#streamstats" class="external text">streamstats</a>, <a href="#trendline" class="external text">trendline</a> 
</p>
<h3> <a name="autoregress_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has about using the autoregress command.
</p>
<a name="bin"></a><h2> <a name="bin_bin"><span class="mw-headline" id="bin"> bin </span></a></h2>
<p>The bin command is an alias for the <a href="#bucket" class="external text">bucket</a> command and follows the exact same syntax.
</p>
<h3> <a name="bin_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Puts continuous numerical values into discrete sets.
</p>
<h4><font size="3"><b><i> <a name="bin_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>bin [&lt;bucketing-option&gt;]* &lt;field&gt; [as &lt;field&gt;]
</p>
<h4><font size="3"><b><i> <a name="bin_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;field&gt;
</dt><dd> <b>Datatype:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Specify a field name.
</dd></dl><h4><font size="3"><b><i> <a name="bin_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;bucketing-option&gt;
</dt><dd> <b>Datatype:</b> bins | minspan | span | start-end
</dd><dd> <b>Description:</b> Discretization options. See "Bucketing options" for details.
</dd></dl><dl><dt> &lt;newfield&gt;
</dt><dd> <b>Datatype:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> A new name for the field.
</dd></dl><h4><font size="3"><b><i> <a name="bin_bucketing_options"><span class="mw-headline" id="Bucketing_options"> Bucketing options </span></a></i></b></font></h4>
<dl><dt> bins
</dt><dd> <b>Syntax:</b> bins=&lt;int&gt;
</dd><dd> <b>Description:</b> Sets the maximum number of bins to discretize into.
</dd></dl><dl><dt> minspan
</dt><dd> <b>Syntax:</b> minspan=&lt;span-length&gt;
</dd><dd> <b>Description:</b> Specifies the smallest span granularity to use automatically inferring span from the data time range.
</dd></dl><dl><dt> span
</dt><dd> <b>Syntax:</b> span = &lt;log-span&gt; | &lt;span-length&gt;
</dd><dd> <b>Description:</b> Sets the size of each bucket, using a span length based on time or log-based span.
</dd></dl><dl><dt> &lt;start-end&gt;
</dt><dd> <b>Syntax:</b> end=&lt;num&gt; | start=&lt;num&gt;
</dd><dd> <b>Description:</b>Sets the minimum and maximum extents for numerical buckets. Data outside of the [start, end] range is discarded.
</dd></dl><h5> <a name="bin_log_span_syntax"><span class="mw-headline" id="Log_span_syntax"> Log span syntax </span></a></h5>
<dl><dt> &lt;log-span&gt;
</dt><dd> <b>Syntax:</b> [&lt;num&gt;]log[&lt;num&gt;]
</dd><dd> <b>Description:</b> Sets to log-based span. The first number is a coefficient. The second number is the base. If the first number is supplied, it must be a real number &gt;= 1.0 and &lt; base. Base, if supplied, must be real number &gt; 1.0 (strictly greater than 1).
</dd></dl><h5> <a name="bin_span_length_syntax"><span class="mw-headline" id="Span_length_syntax"> Span length syntax </span></a></h5>
<dl><dt> span-length
</dt><dd> <b>Syntax:</b> &lt;int&gt;[&lt;timescale&gt;]
</dd><dd> <b>Description:</b> A span of each bin. If discretizing based on the _time field or used with a timescale, this is treated as a time range. If not, this is an absolute bucket length.
</dd></dl><dl><dt> &lt;timescale&gt;
</dt><dd> <b>Syntax:</b> &lt;sec&gt; | &lt;min&gt; | &lt;hr&gt; | &lt;day&gt; | &lt;month&gt; | &lt;subseconds&gt;
</dd><dd> <b>Description:</b> Time scale units. If discretizing based on the _time field, this defaults to seconds.
</dd></dl><dl><dt> &lt;sec&gt;
</dt><dd> <b>Syntax:</b> s | sec | secs | second | seconds
</dd><dd> <b>Description:</b> Time scale in seconds.
</dd></dl><dl><dt> &lt;min&gt; 
</dt><dd> <b>Syntax:</b> m | min | mins | minute | minutes
</dd><dd> <b>Description:</b> Time scale in minutes.
</dd></dl><dl><dt> &lt;hr&gt;
</dt><dd> <b>Syntax:</b> h | hr | hrs | hour | hours
</dd><dd> <b>Description:</b> Time scale in hours.
</dd></dl><dl><dt> &lt;day&gt;
</dt><dd> <b>Syntax:</b> d | day | days
</dd><dd> <b>Description:</b> Time scale in days.
</dd></dl><dl><dt> &lt;month&gt;
</dt><dd> <b>Syntax:</b> mon | month | months
</dd><dd> <b>Description:</b> Time scale in months.
</dd></dl><dl><dt> &lt;subseconds&gt;
</dt><dd> <b>Syntax:</b> us | ms | cs | ds
</dd><dd> <b>Description:</b> Time scale in microseconds (us), milliseconds (ms), centiseconds (cs), or deciseconds (ds).
</dd></dl><h3> <a name="bin_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Puts continuous numerical values in fields into discrete sets, or buckets, by adjusting the value of <i>field</i> so that all items in a particular set have the same value. 
</p><p><b>Note:</b> The bin/bucket command is called by chart and timechart automatically and is only needed for statistical operations that timechart and chart cannot process.
</p>
<h3> <a name="bin_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return the average "thruput" of each "host" for each 5 minute time span.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | bin _time span=5m | stats avg(thruput) by _time host</font></code><br></div>
<p><b>Example 2:</b> Bucket search results into 10 bins, and return the count of raw events for each bucket.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | bin size bins=10 | stats count(_raw) by size</font></code><br></div>
<h3> <a name="bin_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#bucket" class="external text">bucket</a>, <a href="#chart" class="external text">chart</a>, <a href="#timechart" class="external text">timechart</a>
</p>
<h3> <a name="bin_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the bin command.
</p>
<a name="bucket"></a><h2> <a name="bucket_bucket"><span class="mw-headline" id="bucket"> bucket </span></a></h2>
<p>You can also invoke this command using <a href="#bin" class="external text">bin</a>, which is an alias.
</p>
<h3> <a name="bucket_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Puts continuous numerical values into discrete sets.
</p>
<h4><font size="3"><b><i> <a name="bucket_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>bucket [&lt;bucketing-option&gt;]* &lt;field&gt; [as &lt;newfield&gt;]
</p>
<h4><font size="3"><b><i> <a name="bucket_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;field&gt;
</dt><dd> <b>Datatype:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Specify a field name.
</dd></dl><h4><font size="3"><b><i> <a name="bucket_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;bucketing-option&gt;
</dt><dd> <b>Datatype:</b> bins | minspan | span | start-end
</dd><dd> <b>Description:</b> Discretization options. See "Bucketing options" for details.
</dd></dl><dl><dt> &lt;newfield&gt;
</dt><dd> <b>Datatype:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> A new name for the field.
</dd></dl><h4><font size="3"><b><i> <a name="bucket_bucketing_options"><span class="mw-headline" id="Bucketing_options"> Bucketing options </span></a></i></b></font></h4>
<dl><dt> bins
</dt><dd> <b>Syntax:</b> bins=&lt;int&gt;
</dd><dd> <b>Description:</b> Sets the maximum number of bins to discretize into.
</dd></dl><dl><dt> minspan
</dt><dd> <b>Syntax:</b> minspan=&lt;span-length&gt;
</dd><dd> <b>Description:</b> Specifies the smallest span granularity to use automatically inferring span from the data time range.
</dd></dl><dl><dt> span
</dt><dd> <b>Syntax:</b> span = &lt;log-span&gt; | &lt;span-length&gt;
</dd><dd> <b>Description:</b> Sets the size of each bucket, using a span length based on time or log-based span.
</dd></dl><dl><dt> &lt;start-end&gt;
</dt><dd> <b>Syntax:</b> end=&lt;num&gt; | start=&lt;num&gt;
</dd><dd> <b>Description:</b>Sets the minimum and maximum extents for numerical buckets. Data outside of the [start, end] range is discarded.
</dd></dl><h5> <a name="bucket_log_span_syntax"><span class="mw-headline" id="Log_span_syntax"> Log span syntax </span></a></h5>
<dl><dt> &lt;log-span&gt;
</dt><dd> <b>Syntax:</b> [&lt;num&gt;]log[&lt;num&gt;]
</dd><dd> <b>Description:</b> Sets to log-based span. The first number is a coefficient. The second number is the base. If the first number is supplied, it must be a real number &gt;= 1.0 and &lt; base. Base, if supplied, must be real number &gt; 1.0 (strictly greater than 1).
</dd></dl><h5> <a name="bucket_span_length_syntax"><span class="mw-headline" id="Span_length_syntax"> Span length syntax </span></a></h5>
<dl><dt> span-length
</dt><dd> <b>Syntax:</b> &lt;int&gt;[&lt;timescale&gt;]
</dd><dd> <b>Description:</b> A span of each bin. If discretizing based on the _time field or used with a timescale, this is treated as a time range. If not, this is an absolute bucket length.
</dd></dl><dl><dt> &lt;timescale&gt;
</dt><dd> <b>Syntax:</b> &lt;sec&gt; | &lt;min&gt; | &lt;hr&gt; | &lt;day&gt; | &lt;month&gt; | &lt;subseconds&gt;
</dd><dd> <b>Description:</b> Time scale units. If discretizing based on the _time field, this defaults to seconds.
</dd></dl><dl><dt> &lt;sec&gt;
</dt><dd> <b>Syntax:</b> s | sec | secs | second | seconds
</dd><dd> <b>Description:</b> Time scale in seconds.
</dd></dl><dl><dt> &lt;min&gt; 
</dt><dd> <b>Syntax:</b> m | min | mins | minute | minutes
</dd><dd> <b>Description:</b> Time scale in minutes.
</dd></dl><dl><dt> &lt;hr&gt;
</dt><dd> <b>Syntax:</b> h | hr | hrs | hour | hours
</dd><dd> <b>Description:</b> Time scale in hours.
</dd></dl><dl><dt> &lt;day&gt;
</dt><dd> <b>Syntax:</b> d | day | days
</dd><dd> <b>Description:</b> Time scale in days.
</dd></dl><dl><dt> &lt;month&gt;
</dt><dd> <b>Syntax:</b> mon | month | months
</dd><dd> <b>Description:</b> Time scale in months.
</dd></dl><dl><dt> &lt;subseconds&gt;
</dt><dd> <b>Syntax:</b> us | ms | cs | ds
</dd><dd> <b>Description:</b> Time scale in microseconds (us), milliseconds (ms), centiseconds (cs), or deciseconds (ds).
</dd></dl><h3> <a name="bucket_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Puts continuous numerical values in fields into discrete sets, or buckets, by adjusting the value of <i>field</i> so that all items in a particular set have the same value. 
</p><p>Note: Bucket is called by chart and timechart automatically and is only needed for statistical operations that timechart and chart cannot process.
</p>
<h3> <a name="bucket_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return the average "thruput" of each "host" for each 5 minute time span.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | bucket _time span=5m | stats avg(thruput) by _time host</font></code><br></div>
<p><b>Example 2:</b> Bucket search results into 10 bins, and return the count of raw events for each bucket.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | bucket size bins=10 | stats count(_raw) by size</font></code><br></div>
<h3> <a name="bucket_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#bin" class="external text">bin</a>, <a href="#chart" class="external text">chart</a>, <a href="#timechart" class="external text">timechart</a> 
</p>
<h3> <a name="bucket_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the bucket command.
</p>
<a name="bucketdir"></a><h2> <a name="bucketdir_bucketdir"><span class="mw-headline" id="bucketdir"> bucketdir </span></a></h2>
<h3> <a name="bucketdir_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Replaces a field value with higher-level grouping, such as replacing filenames with directories.
</p>
<h4><font size="3"><b><i> <a name="bucketdir_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>bucketdir pathfield=&lt;field&gt; sizefield=&lt;field&gt; [maxcount=&lt;int&gt;] [countfield=&lt;field&gt;] [sep=&lt;char&gt;]
</p>
<h4><font size="3"><b><i> <a name="bucketdir_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> pathfield
</dt><dd> <b>Syntax:</b> pathfield=&lt;field&gt;
</dd><dd> <b>Description:</b> Specify a field name that has a path value.
</dd></dl><dl><dt> sizefield
</dt><dd> <b>Syntax:</b> sizefield=&lt;field&gt; 
</dd><dd> <b>Description:</b> Specify a numeric field that defines the size of bucket.
</dd></dl><h4><font size="3"><b><i> <a name="bucketdir_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> countfield
</dt><dd> <b>Syntax:</b> countfield=&lt;field&gt;
</dd><dd> <b>Description:</b> Specify a numeric field that describes the count of events.
</dd></dl><dl><dt> maxcount
</dt><dd> <b>Syntax:</b> maxcount=&lt;int&gt;
</dd><dd> <b>Description:</b> Specify the total number of events to bucket.
</dd></dl><dl><dt> sep
</dt><dd> <b>Syntax:</b> &lt;char&gt;
</dd><dd> <b>Description:</b> Specify either "/" or "\\" as the separating character. This depends on the operating system.
</dd></dl><h3> <a name="bucketdir_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Returns at most MAXCOUNT events by taking the incoming events and rolling up multiple sources into directories, by preferring directories that have many files but few events.  The field with the path is PATHFIELD (e.g., source), and strings are broken up by a SEP character.  The default pathfield=source; sizefield=totalCount; maxcount=20; countfield=totalCount; sep="/" or "\\", depending on the os. 
</p>
<h3> <a name="bucketdir_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Get 10 best sources and directories.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | top source | bucketdir pathfield=source sizefield=count maxcount=10</font></code><br></div>
<h3> <a name="bucketdir_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#cluster" class="external text">cluster</a>, <a href="#dedup" class="external text">dedup</a>
</p>
<h3> <a name="bucketdir_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the bucket command.
</p>
<a name="chart"></a><h2> <a name="chart_chart"><span class="mw-headline" id="chart"> chart </span></a></h2>
<p>The <code><font size="2">chart</font></code> command is a <b>reporting command</b> that returns your results in a data structure that supports visualization as a chart (such as a column, line, area, and pie chart). You can decide what field is tracked on the x-axis of the chart. See the  Visualization Reference in the <i>Dashboards and Visualizations</i> manual.
</p><p>The <code><font size="2">chart</font></code>, <code><font size="2">timechart</font></code>, <code><font size="2">stats</font></code>, <code><font size="2">eventstats</font></code>, and <code><font size="2">streamstats</font></code> commands work in conjunction with statistical functions. These functions are described in more detail in <a href="#commonstatsfunctions" class="external text">"Functions for stats, chart, and timechart"</a> in the Search Reference Manual. 
</p>
<h3> <a name="chart_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Returns results in a tabular output for charting.
</p>
<h4><font size="3"><b><i> <a name="chart_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>chart [sep=&lt;string&gt;] [format=&lt;string&gt;] [cont=&lt;bool&gt;] [limit=&lt;int&gt;] [agg=&lt;stats-agg-term&gt;] ( &lt;stats-agg-term&gt; | &lt;sparkline-agg-term&gt; | &lt;eval-expression&gt;...) [ by &lt;field&gt; (&lt;bucketing-option&gt; )... [&lt;split-by-clause&gt;] ] | [ over &lt;field&gt; (&lt;bucketing-option&gt;)... (by &lt;split-by-clause&gt;] ]
</p><p>For a list of chart functions with descriptions and examples, see <a href="#commonstatsfunctions" class="external text">"Functions for stats, chart, and timechart"</a>.
</p>
<h4><font size="3"><b><i> <a name="chart_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> aggregator
</dt><dd> <b>Syntax:</b> &lt;stats-agg-term&gt; | agg=&lt;stats-agg-term&gt;
</dd><dd> <b>Description:</b> Specify an aggregator or function. For a list of stats functions with descriptions and examples, see <a href="#commonstatsfunctions" class="external text">"Functions for stats, chart, and timechart"</a>.
</dd></dl><dl><dt> sparkline-agg-term
</dt><dd> <b>Syntax:</b> &lt;sparkline-agg&gt; [AS &lt;wc-field&gt;]
</dd><dd> <b>Description:</b> A sparkline specifier. Optionally, rename the result to a new field.
</dd></dl><dl><dt> eval-expression
</dt><dd> <b>Syntax:</b> &lt;eval-math-exp&gt; | &lt;eval-concat-exp&gt; | &lt;eval-compare-exp&gt; | &lt;eval-bool-exp&gt; | &lt;eval-function-call&gt; 
</dd><dd> <b>Description:</b> A combination of literals, fields, operators, and functions that represent the value of your destination field. For more information, see the <a href="#commonevalfunctions" class="external text">Functions for eval</a>. For these evaluations to work, your values need to be valid for the type of operation. For example, with the exception of addition, arithmetic operations may not produce valid results if the values are not numerical. Additionally, Splunk can concatenate the two operands if they are both strings. When concatenating values with <code><font size="2">.</font></code> , Splunk treats both values as strings regardless of their actual type.
</dd></dl><h4><font size="3"><b><i> <a name="chart_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> bucketing-option
</dt><dd> <b>Syntax:</b> bins | span | &lt;start-end&gt;
</dd><dd> <b>Description:</b> Discretization options. If a bucketing option is not supplied, <code><font size="2">timechart</font></code> defaults to <code><font size="2">bins=300</font></code>. This finds the smallest bucket size that results in no more than 300 distinct buckets. For more bucketing options, see the <a href="#bucket" class="external text">bucket command reference</a>.
</dd></dl><dl><dt> cont
</dt><dd> <b>Syntax:</b> cont=&lt;bool&gt;
</dd><dd> <b>Description:</b> If false, replot the x-axis so that a non-continuous sequence of x-value buckets shows up adjacently in the output.  If true (the default), some buckets that have no values will show up with a count of 0 or null fields etc.
</dd></dl><dl><dt> format
</dt><dd> <b>Syntax:</b> format=&lt;string&gt;
</dd><dd> <b>Description:</b> Used to construct output field names when multiple data series are used in conjuction with a split-by-field. <code><font size="2">format</font></code> takes precedence over <code><font size="2">sep</font></code> and allows you to specify a parameterized expression with the stats aggregator and function ($AGG$) and the value of the split-by-field ($VALUE$).
</dd></dl><dl><dt> limit
</dt><dd> <b>Syntax:</b> limit=&lt;int&gt;
</dd><dd> <b>Description:</b> Specify a limit for series filtering; limit=0 means no filtering. By default, setting <code><font size="2">limit=N</font></code> filters the top N values based on the sum of each series. 
</dd></dl><p><br></p>
<dl><dt> single-agg
</dt><dd> <b>Syntax:</b> count | &lt;stats-func&gt;(&lt;field&gt;) 
</dd><dd> <b>Description:</b> A single aggregation applied to a single field (can be evaled field). No wildcards are allowed. The field must be specified, except when using the special <code><font size="2">count</font></code> aggregator that applies to events as a whole. 
</dd></dl><dl><dt> sep
</dt><dd> <b>Syntax:</b> sep=&lt;string&gt;
</dd><dd> <b>Description:</b> Used to construct output field names when multiple data series are used in conjunctions with a split-by field. This is equivalent to setting <code><font size="2">format</font></code> to <code><font size="2">$AGG$&lt;sep&gt;$VALUE$</font></code>.
</dd></dl><dl><dt> split-by-clause
</dt><dd> <b>Syntax:</b> &lt;field&gt; (&lt;tc-option&gt;)* [&lt;where-clause&gt;]
</dd><dd> <b>Description:</b> Specifies a field to split by. If field is numerical, default discretization is applied; discretization is defined with <code><font size="2">tc-option</font></code>.
</dd></dl><h4><font size="3"><b><i> <a name="chart_stats_functions"><span class="mw-headline" id="Stats_functions"> Stats functions </span></a></i></b></font></h4>
<dl><dt> stats-agg-term
</dt><dd> <b>Syntax:</b> &lt;stats-func&gt;( &lt;evaled-field&gt; | &lt;wc-field&gt;  ) [AS &lt;wc-field&gt;]
</dd><dd> <b>Description:</b> A statistical specifier optionally renamed to a new field name. The specifier can be by an aggregation function applied to a field or set of fields or an aggregation function applied to an arbitrary eval expression.
</dd></dl><dl><dt> stats-function
</dt><dd> <b>Syntax:</b> avg() | c() | count() | dc() | distinct_count() | earliest() | estdc() | estdc_error() | exactperc&lt;int&gt;() | first() | last() | latest() | list() | max() | median() | min() | mode() | p&lt;in&gt;() | perc&lt;int&gt;() | range() | stdev() | stdevp() | sum() | sumsq() | upperperc&lt;int&gt;() | values() | var() | varp()
</dd><dd> <b>Description:</b> Functions used with the stats command. Each time you invoke the <code><font size="2">stats</font></code> command, you can use more than one function; however, you can only use one <code><font size="2">by clause</font></code>. For a list of stats functions with descriptions and examples, see <a href="#commonstatsfunctions" class="external text">"Functions for stats, chart, and timechart"</a>.
</dd></dl><p><br></p>
<h4><font size="3"><b><i> <a name="chart_sparkline_function_options"><span class="mw-headline" id="Sparkline_function_options"> Sparkline function options </span></a></i></b></font></h4>
<p>Sparklines are inline charts that appear within table cells in search results and display time-based trends associated with the primary key of each row. Read more about how to "Add sparklines to your search results" in the Search Manual.
</p>
<dl><dt> sparkline-agg
</dt><dd> <b>Syntax:</b> sparkline (count(&lt;wc-field&gt;), &lt;span-length&gt;) | sparkline (&lt;sparkline-func&gt;(&lt;wc-field&gt;), &lt;span-length&gt;)
</dd><dd> <b>Description:</b> A sparkline specifier, which takes the first argument of an aggregation function on a field and an optional timespan specifier.  If no timespan specifier is used, an appropriate timespan is chosen based on the time range of the search.  If the sparkline is not scoped to a field, only the count aggregator is permitted.
</dd></dl><dl><dt> sparkline-func
</dt><dd> <b>Syntax:</b> c() | count() | dc() | mean() | avg() | stdev() | stdevp() | var() | varp() | sum() | sumsq() | min() | max() | range()
</dd><dd> <b>Description:</b> Aggregation function to use to generate sparkline values.  Each sparkline value is produced by applying this aggregation to the events that fall into each particular time bucket.
</dd></dl><h4><font size="3"><b><i> <a name="chart_bucketing_options"><span class="mw-headline" id="Bucketing_options"> Bucketing options </span></a></i></b></font></h4>
<dl><dt> bins
</dt><dd> <b>Syntax:</b> bins=&lt;int&gt;
</dd><dd> <b>Description:</b> Sets the maximum number of bins to discretize into.
</dd></dl><dl><dt> span
</dt><dd> <b>Syntax:</b> span=&lt;log-span&gt; | span=&lt;span-length&gt;
</dd><dd> <b>Description:</b> Sets the size of each bucket, using a span length based on time or log-based span.
</dd></dl><dl><dt> &lt;start-end&gt;
</dt><dd> <b>Syntax:</b> end=&lt;num&gt; | start=&lt;num&gt;
</dd><dd> <b>Description:</b>Sets the minimum and maximum extents for numerical buckets. Data outside of the [start, end] range is discarded.
</dd></dl><h5> <a name="chart_log_span_syntax"><span class="mw-headline" id="Log_span_syntax"> Log span syntax </span></a></h5>
<dl><dt> &lt;log-span&gt;
</dt><dd> <b>Syntax:</b> [&lt;num&gt;]log[&lt;num&gt;]
</dd><dd> <b>Description:</b> Sets to log-based span. The first number is a coefficient. The second number is the base. If the first number is supplied, it must be a real number &gt;= 1.0 and &lt; base. Base, if supplied, must be real number &gt; 1.0 (strictly greater than 1).
</dd></dl><h5> <a name="chart_span_length_syntax"><span class="mw-headline" id="Span_length_syntax"> Span length syntax </span></a></h5>
<dl><dt> span-length
</dt><dd> <b>Syntax:</b> <span>[&lt;timescale&gt;]
</span></dd><dd> <b>Description:</b> A span length based on time.
</dd></dl><dl><dt> &lt;span&gt;
</dt><dd> <b>Syntax:</b> &lt;int&gt;
</dd><dd> <b>Description:</b> The span of each bin. If using a timescale, this is used as a time range. If not, this is an absolute bucket "length."
</dd></dl><dl><dt> &lt;timescale&gt;
</dt><dd> <b>Syntax:</b> &lt;sec&gt; | &lt;min&gt; | &lt;hr&gt; | &lt;day&gt; | &lt;month&gt; | &lt;subseconds&gt;
</dd><dd> <b>Description:</b> Time scale units.
</dd></dl><dl><dt> &lt;sec&gt;
</dt><dd> <b>Syntax:</b> s | sec | secs | second | seconds
</dd><dd> <b>Description:</b> Time scale in seconds.
</dd></dl><dl><dt> &lt;min&gt; 
</dt><dd> <b>Syntax:</b> m | min | mins | minute | minutes
</dd><dd> <b>Description:</b> Time scale in minutes.
</dd></dl><dl><dt> &lt;hr&gt;
</dt><dd> <b>Syntax:</b> h | hr | hrs | hour | hours
</dd><dd> <b>Description:</b> Time scale in hours.
</dd></dl><dl><dt> &lt;day&gt;
</dt><dd> <b>Syntax:</b> d | day | days
</dd><dd> <b>Description:</b> Time scale in days.
</dd></dl><dl><dt> &lt;month&gt;
</dt><dd> <b>Syntax:</b> mon | month | months
</dd><dd> <b>Description:</b> Time scale in months.
</dd></dl><dl><dt> &lt;subseconds&gt;
</dt><dd> <b>Syntax:</b> us | ms | cs | ds
</dd><dd> <b>Description:</b> Time scale in microseconds (us), milliseconds (ms), centiseconds (cs), or deciseconds (ds).
</dd></dl><h4><font size="3"><b><i> <a name="chart_tc_options"><span class="mw-headline" id="tc_options"> tc options </span></a></i></b></font></h4>
<dl><dt> tc-option
</dt><dd> <b>Syntax:</b> &lt;bucketing-option&gt; | usenull=&lt;bool&gt; | useother=&lt;bool&gt; | nullstr=&lt;string&gt; | otherstr=&lt;string&gt;
</dd><dd> <b>Description:</b> Options for controlling the behavior of splitting by a field.
</dd></dl><dl><dt> usenull
</dt><dd> <b>Syntax:</b> usenull=&lt;bool&gt;
</dd><dd> <b>Description:</b> Controls whether or not a series is created for events that do not contain the split-by field.
</dd></dl><dl><dt> nullstr
</dt><dd> <b>Syntax:</b> nullstr=&lt;string&gt;
</dd><dd> <b>Description:</b> If usenull is true, this series is labeled by the value of the nullstr option, and defaults to NULL.
</dd></dl><dl><dt> useother 
</dt><dd> <b>Syntax:</b> useother=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specifies if a series should be added for data series not included in the graph because they did not meet the criteria of the &lt;where-clause&gt;.
</dd></dl><dl><dt> otherstr
</dt><dd> <b>String:</b> otherstr=&lt;string&gt;
</dd><dd> <b>Description:</b> If useother is true, this series is labeled by the value of the otherstr option, and defaults to OTHER.
</dd></dl><h4><font size="3"><b><i> <a name="chart_where_clause"><span class="mw-headline" id="where_clause"> where clause </span></a></i></b></font></h4>
<dl><dt> where clause
</dt><dd> <b>Syntax:</b> &lt;single-agg&gt; &lt;where-comp&gt;
</dd><dd> <b>Description:</b> Specifies the criteria for including particular data series when a field is given in the <code><font size="2">tc-by-clause</font></code>. The most common use of this option is to select for spikes rather than overall mass of distribution in series selection. The default value finds the top ten series by area under the curve. Alternately one could replace sum with max to find the series with the ten highest spikes.This has no relation to the where command.
</dd></dl><dl><dt> &lt;where-comp&gt;
</dt><dd> <b>Syntax:</b> &lt;wherein-comp&gt; | &lt;wherethresh-comp&gt;
</dd><dd> <b>Description:</b> A criteria for the where clause.
</dd></dl><dl><dt> &lt;wherein-comp&gt;
</dt><dd> <b>Syntax:</b> (in|notin) (top|bottom)&lt;int&gt;
</dd><dd> <b>Description:</b> A where-clause criteria that requires the aggregated series value be in or not in some top or bottom grouping.
</dd></dl><dl><dt> &lt;wherethresh-comp&gt;
</dt><dd> <b>Syntax:</b> ( &lt; | &gt; ) &lt;num&gt;
</dd><dd> <b>Description:</b> A where-clause criteria that requires the aggregated series value be greater than or less than some numeric threshold.
</dd></dl><h3> <a name="chart_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Create tabular data output suitable for charting. The x-axis variable is specified with a <i>by field</i> and is discretized if necessary. Charted fields are converted to numerical quantities if necessary. 
</p><p>Whereas timechart generates a chart with _time as the x-axis, <code><font size="2">chart</font></code> produces a table with an arbitrary field as the x-axis. In addition, chart allows for a split-by field. When such a field is included, the output will be a table where each column represents a distinct value of the split-by field. 
</p><p>This is in contrast with stats, where each row represents a single unique combination of values of the group-by fields. The number of columns to be included is by default limited to 10, but can be adjusted by the inclusion of an optional where clause. See <i>where-clause</i> for a more detailed description. 
</p><p>Chart allows for an eval-expression, which is required to be renamed unless a split-by clause is present. You can also specify the x-axis field after the <tt>over</tt> keyword, before any <code><font size="2">by</font></code> and subsequent split-by clause. The limit and agg options allow easier specification of series filtering. The limit=0 means no series filtering. The limit and agg options are ignored if an explicit where clause is provided.
</p>
<h4><font size="3"><b><i> <a name="chart_a_note_about_split-by_fields"><span class="mw-headline" id="A_note_about_split-by_fields"> A note about split-by fields </span></a></i></b></font></h4>
<p>If you use <code><font size="2">chart</font></code> or <code><font size="2">timechart</font></code>, you cannot use a field that you specify in a function as your split-by field as well. For example, you will not be able to run:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | chart sum(A) by A span=log2</font></code><br></div>
<p>However, you can work around this with an <code><font size="2">eval</font></code> expression, for example:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eval A1=A | chart sum(A) by A1 span=log2</font></code><br></div>
<h3> <a name="chart_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="chart_example_1"><span class="mw-headline" id="Example_1"> Example 1 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial but should work with any format of Apache Web access log. Download the data set from <b>this topic in the Search Tutorial</b> and follow the instructions to upload it to Splunk.
</td></tr></table><p>Chart the number of different page requests, GET and POST, that occurred for each Web server.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | chart count(eval(method="GET")) AS GET, count(eval(method="POST")) AS POST by host</font></code><br></div>
<p>This example uses <code><font size="2">eval</font></code> expressions to specify the different field values for the <code><font size="2">stats</font></code> command to count. The first clause uses the <code><font size="2">count()</font></code> function to count the Web access events that contain the <code><font size="2">method</font></code> field value <code><font size="2">GET</font></code>. Then, it renames the field that represents these results to "GET" (this is what the "AS" is doing). The second clause does the same for POST events. The counts of both types of events are then separated by the Web server, indicated by the <code><font size="2">host</font></code> field, from which they appeared.
</p><p>This returns the following table:
</p><p><img alt="Searchref stats ex1.png" src="images/5/5d/Searchref_stats_ex1.png" width="700" height="146"></p><p><br>
Click the Visualizations tab to format the report as a column chart:
</p><p><img alt="Searchref chart ex1.2.png" src="images/0/05/Searchref_chart_ex1.2.png" width="700" height="234"></p><p><br>
This chart displays the total count of events for each event type, GET or POST, based on the <code><font size="2">host</font></code> value. The logarithmic scale is used for the y-axis because of the difference in range of vales between the number of GET and POST events.
</p>
<h4><font size="3"><b><i> <a name="chart_example_2"><span class="mw-headline" id="Example_2"> Example 2 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial. Download the data set from <b>this topic in the Search Tutorial</b> and follow the instructions to upload it to Splunk. Then, run this search using the time range, <b>All time</b>.
</td></tr></table><p>Create a chart to show the number of transactions based on their duration (in seconds). 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* status=200 action=purchase | transaction clientip maxspan=10m | chart count by duration span=log2</font></code><br></div>
<p>This search uses the <code><font size="2">transaction</font></code> command to define a transaction as events that share the <code><font size="2">clientip</font></code> field and fit within a ten minute time span. The <code><font size="2">transaction</font></code> command creates a new field called <code><font size="2">duration</font></code>, which is the difference between the timestamps for the first and last events in the transaction. (Because <code><font size="2">maxspan=10s</font></code>, the <code><font size="2">duration</font></code> value should not be greater than this.)
</p><p>The transactions are then piped into the <code><font size="2">chart</font></code> command. The <code><font size="2">count()</font></code> function is used to count the number of transactions and separate the count by the duration of each transaction. Because the duration is in seconds and you expect there to be many values, the search uses the <code><font size="2">span</font></code> argument to bucket the duration into bins of log2 (<code><font size="2">span=log2</font></code>). This produces the following table:
</p><p><img alt="Searchref chart ex2.1.png" src="images/4/4b/Searchref_chart_ex2.1.png" width="700" height="249"></p><p>Click the Visualizations tab to format the report as a column chart:
</p><p><img alt="Searchref chart ex2.2.png" src="images/a/a8/Searchref_chart_ex2.2.png" width="700" height="276"></p><p><br>
As you would expect, most transactions take between 0 and 2 seconds to complete. Here, it looks like the next greater number of transactions spanned between 256 and 512 seconds (approximately, 4-8 minutes). (In this case however, the numbers may be a bit extreme because of the way that the data was generated.)
</p><p><br></p>
<h4><font size="3"><b><i> <a name="chart_example_3"><span class="mw-headline" id="Example_3"> Example 3 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial. Download the data set from <b>this topic in the Search Tutorial</b> and follow the instructions to upload it to Splunk. Then, run this search using the time range, <b>All time</b>.
</td></tr></table><p>Create a chart to show the average number of events in a transaction based on the duration of the transaction. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* status=200 action=purchase | transaction clientip maxspan=30m | chart avg(eventcount) by duration span=log2</font></code><br></div>
<p>This example uses the same transaction defined in Example 2. The <code><font size="2">transaction</font></code> command also creates a new field called <code><font size="2">eventcount</font></code>, which is the number of events in a single transaction.
</p><p>The transactions are then piped into the <code><font size="2">chart</font></code> command and the <code><font size="2">avg()</font></code> function is used to calculate the average number of events for each duration. Because the duration is in seconds and you expect there to be many values, the search uses the <code><font size="2">span</font></code> argument to bucket the duration into bins of log2 (<code><font size="2">span=log2</font></code>). This produces the following table:
</p><p><img alt="Searchref chart ex3.1.png" src="images/3/37/Searchref_chart_ex3.1.png" width="700" height="272"></p><p><br>
Click the Visualizations tab to format the report as a pie chart:
</p><p><img alt="Searchref chart ex3.2.png" src="images/b/b5/Searchref_chart_ex3.2.png" width="700" height="276"></p><p><br>
Each wedge of the pie chart represents the average number of events in the transactions of the corresponding duration. After you create the pie chart, you can mouseover each of the sections to see these values (in Splunk Web).
</p>
<h4><font size="3"><b><i> <a name="chart_example_4"><span class="mw-headline" id="Example_4"> Example 4 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial. Download the data set from <b>this topic in the Search Tutorial</b> and follow the instructions to upload it to Splunk. Then, run this search using the time range, <b>Other &gt; Yesterday</b>.
</td></tr></table><p>Chart how many different people bought something and what they bought at the Buttercup Games online store Yesterday. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* status=200 action=purchase | chart dc(clientip) over date_hour by categoryId usenull=f</font></code><br></div>
<p>This search takes the purchase events and pipes it into the <code><font size="2">chart</font></code> command. The <code><font size="2">dc()</font></code> or <code><font size="2">distinct_count()</font></code> function is used to count the number of unique visitors (characterized by the <code><font size="2">clientip</font></code> field). This number is then charted over each hour of the day and broken out based on the <code><font size="2">category_id</font></code> of the purchase. Also, because these are numeric values, the search uses the <code><font size="2">usenull=f</font></code> argument to exclude fields that don't have a value.
</p><p>This produces the following table:
</p><p><img alt="Searchref chart ex4.1.png" src="images/3/3a/Searchref_chart_ex4.1.png" width="700" height="226"></p><p><br>
Click the Visualizations tab to format the report as a line chart:
</p><p><img alt="Searchref chart ex4.2.png" src="images/9/97/Searchref_chart_ex4.2.png" width="700" height="276"></p><p>Each line represents a different type of product that is sold at the Buttercup Games online store. The height of each line shows the number of different people who bought the product during that hour. In general, it looks like the most popular items at the online shop were Strategy games.
</p><p>You can format the report as a stacked column chart, which will show you the total purchases at each hour of day:
</p><p><img alt="Searchref chart 4.3.png" src="images/c/cf/Searchref_chart_4.3.png" width="700" height="275"></p>
<h4><font size="3"><b><i> <a name="chart_example_5"><span class="mw-headline" id="Example_5"> Example 5 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses recent earthquake data downloaded from the USGS Earthquakes website. The data is a comma separated ASCII text file that contains magnitude (mag), coordinates (latitude, longitude), region (place), etc., for each earthquake recorded.
<p>You can download a current CSV file from the <b>USGS Earthquake Feeds</b> and add it as an input to Splunk.
</p>
</td></tr></table><p>Create a chart that shows the number of earthquakes and the magnitude of each one that occurred in and around California.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">source=usgs place=*California* | chart count over mag by place useother=f</font></code><br></div>
<p>This search counts the number of earthquakes that occurred in the California regions. The count is then broken down for each <code><font size="2">place</font></code> based on the magnitude of the quake. Because the <code><font size="2">place</font></code> value is non-numeric, the search uses the <code><font size="2">useother=f</font></code> argument to exclude events that don't match. 
</p><p>This produces the following table:
</p><p><img alt="Searchref chart usgsex1.1.png" src="images/7/7b/Searchref_chart_usgsex1.1.png" width="700" height="279"></p><p><br>
Click on the Visualizations tab to view the report as a chart:
</p><p><br><img alt="Searchref chart usgsex1.2.png" src="images/1/13/Searchref_chart_usgsex1.2.png" width="700" height="260"></p>
<h4><font size="3"><b><i> <a name="chart_more_examples"><span class="mw-headline" id="More_examples"> More examples </span></a></i></b></font></h4>
<p><b>Example 1:</b> Return max(delay) for each value of foo.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | chart max(delay) over foo</font></code><br></div>
<p><b>Example 2:</b> Return max(delay) for each value of foo split by the value of bar.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | chart max(delay) over foo by bar</font></code><br></div>
<p><b>Example 3:</b> Return the ratio of the average (mean) "size" to the maximum "delay" for each distinct "host" and "user" pair.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | chart eval(avg(size)/max(delay)) AS ratio by host user</font></code><br></div>
<p><b>Example 4:</b> Return the maximum "delay" by "size", where "size" is broken down into a maximum of 10 equal sized buckets.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | chart max(delay) by size bins=10</font></code><br></div>
<p><b>Example 5:</b> Return the average (mean) "size" for each distinct "host".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | chart avg(size) by host</font></code><br></div>
<p><b>Example 6:</b> Return the number of events, grouped by date and hour of the day, using span to group per 7 days and 24 hours per half days. The span applies to the field immediately prior to the command.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | chart count by date_mday span=3 date_hour span=12</font></code><br></div>
<h3> <a name="chart_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#timechart" class="external text">timechart</a>, <a href="#bucket" class="external text">bucket</a>,  <a href="#sichart" class="external text">sichart</a>
</p>
<h3> <a name="chart_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the chart command.
</p>
<a name="cluster"></a><h2> <a name="cluster_cluster"><span class="mw-headline" id="cluster"> cluster </span></a></h2>
<p>Use the <code><font size="2">cluster</font></code> command to find common or rare events in your data. For example, if you are investigating an IT problem, use the cluster command to find anomalies. In this case, anomalous events are those that are not grouped into big clusters or clusters that contain few events. Or, if you are searching for errors, use the cluster command to see approximately how many different types of errors there are and what types of errors are common in your data.
</p>
<h3> <a name="cluster_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Group similar events together.
</p>
<h4><font size="3"><b><i> <a name="cluster_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>cluster [<i>slc-option</i>]*
</p>
<h4><font size="3"><b><i> <a name="cluster_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> slc-option
</dt><dd> <b>Syntax:</b> t=&lt;num&gt; | delims=&lt;string&gt; | showcount=&lt;bool&gt; | countfield=&lt;field&gt; | labelfield=&lt;field&gt; | field=&lt;field&gt; | labelonly=&lt;bool&gt; | match=(termlist | termset | ngramset)
</dd><dd> <b>Description:</b> Options for configuring simple log clusters (slc).
</dd></dl><h4><font size="3"><b><i> <a name="cluster_slc_options"><span class="mw-headline" id="SLC_options"> SLC options </span></a></i></b></font></h4>
<dl><dt> t
</dt><dd> <b>Syntax:</b> t=&lt;num&gt;
</dd><dd> <b>Description:</b> Sets the cluster threshold, which controls the sensitivity of the clustering. This value needs to be a number greater than 0.0 and less than 1.0. The closer the threshold is to 1, the more similar events have to be for them to be considered in the same cluster. Default is 0.8.
</dd></dl><dl><dt> delims
</dt><dd> <b>Syntax:</b> delims=&lt;string&gt;
</dd><dd> <b>Description:</b> Configures the set of delimiters used to tokenize the raw string. By default, everything except 0-9, A-Z, a-z, and '_' are delimiters.
</dd></dl><dl><dt> showcount
</dt><dd> <b>Syntax:</b> showcount=&lt;bool&gt;
</dd><dd> <b>Description:</b> If labelonly=false, indexers cluster its own events before clustering on the search head. The event count for each cluster is recorded and annotates each event when <code><font size="2">showcount=true</font></code>. Defaults to <code><font size="2">showcount=false</font></code>, which means the event count is not added to the event.
</dd></dl><dl><dt> countfield
</dt><dd> <b>Syntax:</b> countfield=&lt;field&gt;
</dd><dd> <b>Description:</b> Name of the field to write the cluster size to, if <code><font size="2">showcount=true</font></code> is true. The cluster size is the count of events in the cluster. Defaults to <code><font size="2">cluster_count</font></code>.
</dd></dl><dl><dt> labelfield
</dt><dd> <b>Syntax:</b> labelfield=&lt;field&gt;
</dd><dd> <b>Description:</b> Name of the field to write the cluster number to. Splunk counts each cluster and labels each with a number as it groups events into clusters. Defaults to <code><font size="2">cluster_label</font></code>.
</dd></dl><dl><dt> field
</dt><dd> <b>Syntax:</b> field=&lt;field&gt;
</dd><dd> <b>Description:</b> Name of the field to analyze in each event. Defaults to <code><font size="2">_raw</font></code>.
</dd></dl><dl><dt> labelonly
</dt><dd> <b>Description:</b> labelonly=&lt;bool&gt;
</dd><dd> <b>Syntax:</b> Select whether to preserve incoming events and annotate them with the cluster they belong to (labelonly=true) or output only the cluster fields as new events (labelonly=false). When labelonly=false, outputs the list of clusters with the event that describes it and the count of events that combined with it. Defaults to <code><font size="2">false</font></code>.
</dd></dl><dl><dt> match
</dt><dd> <b>Syntax:</b> match=(termlist | termset | ngramset)
</dd><dd> <b>Description:</b> Select the method used to determine the similarity between events. <code><font size="2">termlist</font></code> breaks down the field into words and requires the exact same ordering of terms. <code><font size="2">termset</font></code> allows for an unordered set of terms. <code><font size="2">ngramset</font></code> compares sets of trigram (3-character substrings). <code><font size="2">ngramset</font></code> is significantly slower on large field values and is most useful for short non-textual fields, like <code><font size="2">punct</font></code>. Defaults to <code><font size="2">termlist</font></code>.
</dd></dl><h3> <a name="cluster_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">cluster</font></code> command groups events together based on how similar they are to each other. Unless you specify a different field, <code><font size="2">cluster</font></code> groups events based on the contents of the <code><font size="2">_raw</font></code> field. The default grouping method is to break down the events into terms (<code><font size="2">match=termlist</font></code>) and compute the vector between events. Set a higher threshold value for <code><font size="2">t</font></code>, if you want the command to be more discriminating about which events are grouped together. 
</p><p>The result of the cluster command appends two new fields to each event. You can specify what to name these fields with the <code><font size="2">countfield</font></code> and <code><font size="2">labelfield</font></code> parameters, which default to <code><font size="2">cluster_count</font></code> and <code><font size="2">cluster_label</font></code>. The <code><font size="2">cluster_count</font></code> value is the number of events that are part of the cluster, or the cluster size. Each event in  the cluster is assigned the <code><font size="2">cluster_label</font></code> value of the cluster it belongs to. For example, if the search returns 10 clusters, then the clusters are labeled from 1 to 10.
</p>
<h3> <a name="cluster_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="cluster_example_1"><span class="mw-headline" id="Example_1"> Example 1 </span></a></i></b></font></h4>
<p>Quickly return a glimpse of anything that is going wrong in your Splunk instance.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal source=*splunkd.log* log_level!=info | cluster showcount=t | table cluster_count _raw | sort -cluster_count</font></code><br></div>
<p>This search takes advantage of what Splunk logs about itself in the _internal index. It returns all logs where the log_level is DEBUG, WARN, ERROR, FATAL and clusters them together. Then it sorts the clusters by the count of events in each cluster.
</p><p><img alt="Cluster example1.png" src="images/9/98/Cluster_example1.png" width="700" height="226"></p>
<h4><font size="3"><b><i> <a name="cluster_example_2"><span class="mw-headline" id="Example_2"> Example 2 </span></a></i></b></font></h4>
<p>Search for events that don't cluster into large groups.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | cluster showcount=t | sort cluster_count</font></code><br></div>
<p>This returns clusters of events and uses the <a href="#sort" class="external text">sort</a> command to display them in ascending order based on the cluster size, which are the values of <code><font size="2">cluster_count</font></code>. Because they don't cluster into large groups, you can consider these rare or uncommon events.
</p>
<h4><font size="3"><b><i> <a name="cluster_example_3"><span class="mw-headline" id="Example_3"> Example 3 </span></a></i></b></font></h4>
<p>Cluster similar error events together and search for the most frequent type of error.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">error | cluster t=0.9 showcount=t | sort - cluster_count | head 20</font></code><br></div>
<p>This searches your index for events that include the term "error" and clusters them together if they are similar. The <a href="#sort" class="external text">sort</a> command is used to display the events in descending order based on the cluster size, <code><font size="2">cluster_count</font></code>, so that largest clusters are shown first. The <a href="#head" class="external text">head</a> command is then used to show the twenty largest clusters. Now that you've found the most common types of errors in your data, you can dig deeper to find the root causes of these errors.
</p>
<h4><font size="3"><b><i> <a name="cluster_example_4"><span class="mw-headline" id="Example_4"> Example 4 </span></a></i></b></font></h4>
<p>Use the <code><font size="2">cluster</font></code> command to see an overview of your data. If you have a large volume of data, run the following search over a small time range, such as 15 minutes or 1 hour, or restrict it to a source type or index.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | cluster labelonly=t showcount=t | sort - cluster_count, cluster_label, _time | dedup 5 cluster_label</font></code><br></div>
<p>This search helps you to learn more about your data by grouping events together based on their similarity and showing you a few of events from each cluster. It uses <code><font size="2">labelonly=t</font></code> to keep each event in the cluster and append them with a <code><font size="2">cluster_label</font></code>. The <a href="#sort" class="external text">sort</a> command is used to show the results in descending order by its size (<code><font size="2">cluster_count</font></code>), then its <code><font size="2">cluster_label</font></code>, then the indexed timestamp of the event (<code><font size="2">_time</font></code>). The <a href="#dedup" class="external text">dedup</a> command is then used to show the first five events in each cluster, using the <code><font size="2">cluster_label</font></code> to differentiate between each cluster.
</p>
<h3> <a name="cluster_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#anomalies" class="external text">anomalies</a>, <a href="#anomalousvalue" class="external text">anomalousvalue</a>, <a href="#kmeans" class="external text">kmeans</a>, <a href="#outlier" class="external text">outlier</a>
</p>
<h3> <a name="cluster_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the cluster command.
</p>
<a name="cofilter"></a><h2> <a name="cofilter_cofilter"><span class="mw-headline" id="cofilter"> cofilter</span></a></h2>
<h3> <a name="cofilter_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Find how many times field1 and field2 values occurred together.
</p>
<h4><font size="3"><b><i> <a name="cofilter_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>cofilter &lt;field1&gt; &lt;field2&gt;
</p>
<h4><font size="3"><b><i> <a name="cofilter_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> field1
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> The name of field.
</dd></dl><dl><dt> field2
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> The name of a field.
</dd></dl><h3> <a name="cofilter_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>This command implements one step in a collaborative filtering analysis for making recommendations. Given a user field (<code><font size="2">field1</font></code>) and an item field (<code><font size="2">field2</font></code>), it finds how common each pair of items is. That is, it computes sum(A has X and A has Y) where X and Y are distinct items and A is each distinct user.
</p><p>This command returns an event for each pair of items with: the first item and its popularity, the second item and its popularity, and popularity of that pair of items.
</p>
<h3> <a name="cofilter_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> The user field must be specified first and followed by the item field.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | cofilter user item</font></code><br></div>
<h3> <a name="cofilter_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#associate" class="external text">associate</a>, <a href="#correlate" class="external text">correlate</a>
</p>
<h3> <a name="cofilter_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has about using the cofilter command.
</p>
<a name="collect"></a><h2> <a name="collect_collect"><span class="mw-headline" id="collect"> collect </span></a></h2>
<h3> <a name="collect_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Puts search results into a summary index.
</p>
<h4><font size="3"><b><i> <a name="collect_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>collect <i>index</i> [<i>arg-options</i>]*
</p>
<h4><font size="3"><b><i> <a name="collect_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> index
</dt><dd> <b>Syntax:</b> index=&lt;string&gt; 
</dd><dd> <b>Description:</b> Name of the index where Splunk should add the events. The index must exist for events to be added to it, the index is NOT created automatically. 
</dd></dl><h4><font size="3"><b><i> <a name="collect_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> arg-options
</dt><dd> <b>Syntax:</b> addtime=&lt;bool&gt; | file=&lt;string&gt; | spool=&lt;bool&gt; | marker=&lt;string&gt; | testmode=&lt;bool&gt; | run-in-preview=&lt;bool&gt;
</dd><dd> <b>Description:</b> Optional arguments for the collect command.
</dd></dl><h4><font size="3"><b><i> <a name="collect_collect_options"><span class="mw-headline" id="Collect_options"> Collect options </span></a></i></b></font></h4>
<dl><dt> addtime
</dt><dd> <b>Syntax:</b> addtime=&lt;bool&gt;
</dd><dd> <b>Description:</b> If the search results you want to collect do not have a <code><font size="2">_raw</font></code> field (such as results of <a href="#stats" class="external text">stats</a>, <a href="#chart" class="external text">chart</a>, <a href="#timechart" class="external text">timechart</a>), specify whether to prefix a time field into each event.  Specifying false means that Splunk will use its generic date detection against fields in whatever order they happen to be in the summary rows. Specifying true means that Splunk will use the search time range <code><font size="2">info_min_time</font></code> (which is added by <a href="#sistats" class="external text">sistats</a>) or <code><font size="2">_time</font></code>. Splunk adds the time field based on the first field that it finds: <code><font size="2">info_min_time, _time, now()</font></code>. Default is true.
</dd></dl><dl><dt> file
</dt><dd> <b>Syntax:</b> file=&lt;string&gt; 
</dd><dd> <b>Description:</b> Name of the file where to write the events. Optional, default "&lt;random-num&gt;_events.stash". The following placeholders can be used in the file name $timestamp$, $random$ and will be replaced with a timestamp and a random number, respectively.
</dd><dd><b>".stash" needs to be added at the end of the file name when used with "index=", if not the data will be added to the main index.</b> 
</dd></dl><dl><dt> marker
</dt><dd> <b>Syntax:</b> marker=&lt;string&gt; 
</dd><dd> <b>Description:</b> A string, usually of key-value pairs, to append to each event written out. Optional, default is empty.
</dd></dl><dl><dt> run-in-preview
</dt><dd> <b>Syntax:</b> run-in-preview=&lt;bool&gt;
</dd><dd> <b>Description:</b> Controls whether the <code><font size="2">collect</font></code> command is enabled during preview generation. Generally, you do not want to insert preview results into the summary index, run-in-preview=false. In some cases, such as when a custom search command is used as part of the search, you might want to turn this on to ensure correct summary indexable previews are generated. Defaults to false.
</dd></dl><dl><dt> spool
</dt><dd> <b>Syntax:</b> spool=&lt;bool&gt; 
</dd><dd> <b>Description:</b> If set to true (default is true), the summary indexing file will be written to Splunk's spool directory, where it will be indexed automatically. If set to false, file will be written to $SPLUNK_HOME/var/run/splunk, where it will remain indefinitely unless some form of further automation or administration is done.
</dd></dl><dl><dt> testmode
</dt><dd> <b>Syntax:</b> testmode=&lt;bool&gt; 
</dd><dd> <b>Description:</b> Toggle between testing and real mode. In testing mode the results are not written into the new index but the search results are modified to appear as they would if sent to the index. (defaults to false)
</dd></dl><h3> <a name="collect_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Adds the results of the search into the specified index. Behind the scenes, the events are written to a file whose name format is: <tt><i>random-num</i>_events.stash</tt>, unless overwritten, in a directory which is watched for new events by splunk. If the events contain a <code><font size="2">_raw</font></code> field, then this field is saved. If the events do not have a <code><font size="2">_raw</font></code> field, one is created by concatenating all the fields into a comma-separated list of key=<b>value</b> pairs.
</p><p>The <code><font size="2">collect</font></code> command also works with all-time real-time searches.
</p><p>If you apply the <code><font size="2">collect</font></code> command to events that do not have timestamps, it designates a time for all of the events using the earliest (or minimum) time of the search range. For example, if you use collect over the past four hours (range: -4h to +0h), it assigns a timestamp four hours previous to the time the search was launched to all of the events without a timestamp. 
</p><p>If you use <code><font size="2">collect</font></code> with an all-time search and the events do not have timestamps, Splunk Enterprise uses the current system time for the timestamps.
</p><p>For more information on summary indexing of data without timestamps, see "Use summary indexing for increased reporting efficiency" in the Knowledge Manager Manual.
</p>
<h3> <a name="collect_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Put "download" events into an index named "downloadcount".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">eventtypetag="download" | collect index=downloadcount</font></code><br></div>
<h3> <a name="collect_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#overlap" class="external text">overlap</a>, <a href="#sichart" class="external text">sichart</a>, <a href="#sirare" class="external text">sirare</a>, <a href="#sistats" class="external text">sistats</a>, <a href="#sitop" class="external text">sitop</a>, <a href="#sitimechart" class="external text">sitimechart</a>,
<a href="#tscollect" class="external text">tscollect</a>
</p>
<h3> <a name="collect_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the collect command.
</p>
<a name="concurrency"></a><h2> <a name="concurrency_concurrency"><span class="mw-headline" id="concurrency"> concurrency </span></a></h2>
<h3> <a name="concurrency_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Concurrency measures the number of events which have spans that overlap with the start of each event.  Alternatively, this measurement represents the total number of events in progress during the time that each particular event started.
</p><p>That means that this command does not measure the total number of events that a particular event overlapped with during its total span.
</p><p>An event X is concurrent with event Y if X.start is between Y.start and (Y.start + Y.duration)
</p><p>If your events have a time that represents event completion and a span that represents the time before the completion, you need to subtract duration from the start time before the concurrency command:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... |eval new_start = start - duration | concurrency start=new_start duration=duration</font></code><br></div>
<h4><font size="3"><b><i> <a name="concurrency_limits"><span class="mw-headline" id="Limits"> Limits </span></a></i></b></font></h4>
<p>There is a limitation on quantity of overlapping items. If the maximum tracked concurrency exceeds max_count, from the [concurrency] stanza in limits.conf, a warning will be produced in the UI / search output, and the values will be clamped, making them potentially inaccurate.   This limit defaults to 10000000 or ten million.
</p>
<h3> <a name="concurrency_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>concurrency duration=&lt;field&gt; [start=&lt;field&gt;] [output=&lt;field&gt;]
</p>
<h4><font size="3"><b><i> <a name="concurrency_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> duration
</dt><dd> <b>Syntax:</b> duration=&lt;field&gt;
</dd><dd> <b>Description:</b> A field that represents a span of time.  This field must be a numeric with the same units as the <i>start</i> field.  For example, the duration field generated by the <a href="#transaction" class="external text">transaction command</a> is in seconds (see Example 1), which can be used with the default of <code><font size="2">_time</font></code> which is also in units of seconds.
</dd></dl><h4><font size="3"><b><i> <a name="concurrency_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> start
</dt><dd> <b>Syntax:</b> start=&lt;field&gt;
</dd><dd> <b>Description:</b> A field that represents the start time. 
</dd><dd> <b>Default:</b> <code><font size="2">_time</font></code>
</dd></dl><dl><dt> output
</dt><dd> <b>Syntax:</b> output=&lt;field&gt;
</dd><dd> <b>Description:</b> A field to write the resulting number of concurrent events. 
</dd><dd> <b>Default:</b> "concurrency"
</dd></dl><h3> <a name="concurrency_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="concurrency_example_1"><span class="mw-headline" id="Example_1"> Example 1 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the tutorial. Download the data set from <b>this topic in the tutorial</b> and follow the instructions to upload it to Splunk. Then, run this search using the time range, <b>All time</b>.
</td></tr></table><p>Use the duration or span of a transaction to count the number of other transactions that occurred at the same time.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | transaction JSESSIONID clientip startswith="view" endswith="purchase" | concurrency duration=duration | eval duration=tostring(duration,"duration")</font></code><br></div>
<p>This example groups events into transactions if they have the same values of <code><font size="2">JSESSIONID</font></code> and <code><font size="2">clientip</font></code>, defines an event as the beginning of the transaction if it contains the string "view" and the last event of the transaction if it contains the string "purchase".
</p><p>The transactions are then piped into the <code><font size="2">concurrency</font></code> command, which counts the number of events that occurred at the same time based on the timestamp and <code><font size="2">duration</font></code> of the transaction.
</p><p>The search also uses the <code><font size="2">eval</font></code> command and the <code><font size="2">tostring()</font></code> function to reformat the values of the <code><font size="2">duration</font></code> field to a more readable format, HH:MM:SS.
</p><p><img alt="Searchref concurrency ex2.1.png" src="images/e/ed/Searchref_concurrency_ex2.1.png" width="700" height="253"></p>
<h4><font size="3"><b><i> <a name="concurrency_example_2"><span class="mw-headline" id="Example_2"> Example 2 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the tutorial. Download the data set from <b>this topic in the tutorial</b> and follow the instructions to upload it to Splunk. Then, run this search using the time range, <b>Other &gt; Yesterday</b>.
</td></tr></table><p>Use the time between each purchase to count the number of different purchases that occurred at the same time.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* action=purchase | delta _time AS timeDelta p=1 | eval timeDelta=abs(timeDelta) | concurrency duration=timeDelta</font></code><br></div>
<p>This example uses the <code><font size="2">delta</font></code> command and the <code><font size="2">_time</font></code> field to calculate the time between one purchase event (<code><font size="2">action=purchase</font></code>) and the purchase event immediately preceding it. The search renames this change in time as <code><font size="2">timeDelta</font></code>. 
</p><p>Some of the values of <code><font size="2">timeDelta</font></code> are negative. Because the <code><font size="2">concurrency</font></code> command does not work with negative values, the <code><font size="2">eval</font></code> command is used to redefine <code><font size="2">timeDelta</font></code> as its absolute value (<code><font size="2">abs(timeDelta)</font></code>). This <code><font size="2">timeDelta</font></code> is then used as the <code><font size="2">duration</font></code> for calculating concurrent events.
</p><p><img alt="Searchref concurrency ex1.1.png" src="images/c/c0/Searchref_concurrency_ex1.1.png" width="700" height="317"></p>
<h4><font size="3"><b><i> <a name="concurrency_example_3"><span class="mw-headline" id="Example_3"> Example 3 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the tutorial. Download the data set from <b>this topic in the tutorial</b> and follow the instructions to upload it to Splunk. Then, run this search using the time range, <b>Other &gt; Yesterday</b>.
</td></tr></table><p>Use the time between each consecutive transaction to calculate the number of transactions that occurred at the same time.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | transaction JSESSIONID clientip startswith="view" endswith="purchase" | delta _time AS timeDelta p=1 | eval timeDelta=abs(timeDelta) | concurrency duration=timeDelta | eval timeDelta=tostring(timeDelta,"duration")</font></code><br></div>
<p>This example groups events into transactions if they have the same values of <code><font size="2">JSESSIONID</font></code> and <code><font size="2">clientip</font></code>, defines an event as the beginning of the transaction if it contains the string "view" and the last event of the transaction if it contains the string "purchase".
</p><p>The transactions are then piped into the <code><font size="2">delta</font></code> command, which uses the <code><font size="2">_time</font></code> field to calculate the time between one transaction and the transaction immediately preceding it. The search renames this change in time as <code><font size="2">timeDelta</font></code>.
</p><p>Some of the values of <code><font size="2">timeDelta</font></code> are negative. Because the <code><font size="2">concurrency</font></code> command does not work with negative values, the <code><font size="2">eval</font></code> command is used to redefine <code><font size="2">timeDelta</font></code> as its absolute value (<code><font size="2">abs(timeDelta)</font></code>). This <code><font size="2">timeDelta</font></code> is then used as the <code><font size="2">duration</font></code> for calculating concurrent transactions.
</p><p><br><img alt="Searchref concurrency ex3.1.png" src="images/e/ee/Searchref_concurrency_ex3.1.png" width="700" height="226"></p><p><br></p>
<h4><font size="3"><b><i> <a name="concurrency_example_4"><span class="mw-headline" id="Example_4"> Example 4 </span></a></i></b></font></h4>
<p>Determine the number of overlapping HTTP requests outstanding from browsers accessing splunkd at the time that each http request begins.
</p><p>This relies on the fact that the timestamp of the logged message is the time that the request came in, and the 'spent' field is the number of milliseconds spent handling the request.  As always, you must be an 'admin' user, or have altered your roles scheme in order to access the _internal index.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal sourcetype=splunkd_ui_access | eval spent_in_seconds = spent / 1000 | concurrency duration=spent_in_seconds</font></code><br></div>
<h4><font size="3"><b><i> <a name="concurrency_more_examples"><span class="mw-headline" id="More_examples"> More examples </span></a></i></b></font></h4>
<p><b>Example 1:</b> Calculate the number of concurrent events for each event and emit as field 'foo':
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | concurrency duration=total_time output=foo</font></code><br></div>
<p><b>Example 2:</b> Calculate the number of concurrent events using the 'et' field as the start time and 'length' as the duration:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | concurrency duration=length start=et</font></code><br></div>
<h3> <a name="concurrency_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#timechart" class="external text">timechart</a>
</p>
<h3> <a name="concurrency_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the concurrency command.
</p>
<a name="contingency"></a><h2> <a name="contingency_contingency"><span class="mw-headline" id="contingency"> contingency </span></a></h2>
<h3> <a name="contingency_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>In statistics, contingency tables are used to record and analyze the relationship between two or more (usually categorical) variables.  Many metrics of association or independence, such as the <i>phi coefficient</i> or the <i>Cramer's V</i>, can be calculated based on contingency tables.
</p><p>You can use the <code><font size="2">contingency</font></code> command to build a contingency table, which in this case is a co-occurrence matrix for the values of two fields in your data. Each cell in the matrix displays the count of events in which both of the cross-tabulated field values exist. This means that the first row and column of this table is made up of values of the two fields. Each cell in the table contains a number that represents the count of events that contain the two values of the field in that row and column combination.
</p><p>If a relationship or pattern exists between the two fields, you can spot it easily just by analyzing the information in the table. For example, if the column values vary significantly between rows (or vice versa), there is a contingency between the two fields (they are not independent). If there is no contingency, then the two fields are independent.
</p><p><br></p>
<h3> <a name="contingency_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>contingency [&lt;contingency-option&gt;]* &lt;field1&gt; &lt;field2&gt;
</p>
<h4><font size="3"><b><i> <a name="contingency_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;field1&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Any field, non wildcarded.
</dd></dl><dl><dt> &lt;field2&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Any field, non wildcarded.
</dd></dl><p><br></p>
<h4><font size="3"><b><i> <a name="contingency_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> contingency-option
</dt><dd> <b>Syntax:</b> &lt;maxopts&gt; | &lt;mincover&gt; | &lt;usetotal&gt; | &lt;totalstr&gt;
</dd><dd> <b>Description:</b> Options for the contingency table.
</dd></dl><h4><font size="3"><b><i> <a name="contingency_contingency_option"><span class="mw-headline" id="Contingency_option"> Contingency option </span></a></i></b></font></h4>
<dl><dt> maxopts
</dt><dd> <b>Syntax:</b> maxrows=&lt;int&gt; | maxcols=&lt;int&gt;
</dd><dd> <b>Description:</b> Specify the maximum number of rows or columns to display. If the number of distinct values of the field exceeds this maximum, the least common values will be ignored.  A value of 0 means a maximum limit on rows or columns. This limit comes from limits.conf [ctable] maxvalues. <code><font size="2">maxrows=maxvals</font></code> and <code><font size="2">maxcols=maxvals</font></code>.
</dd></dl><dl><dt> mincover
</dt><dd> <b>Syntax:</b> mincolcover=&lt;num&gt; | minrowcover=&lt;num&gt;
</dd><dd> <b>Description:</b> Specify a percentage of values per column or row that you would like represented in the output table.  As the table is constructed, enough rows or columns will be included to reach this ratio of displayed values to total values for each row or column, though the maximum rows or columns will take precedence if those values are reached. By default, <code><font size="2">mincolcover=1.0</font></code> and <code><font size="2">minrowcover=1.0</font></code>.
</dd></dl><dl><dt> usetotal
</dt><dd> <b>Syntax:</b> usetotal=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether or not to add row, column, and complete totals. 
</dd><dd> <b>Default:</b> true
</dd></dl><dl><dt> totalstr
</dt><dd> <b>Syntax:</b> totalstr=&lt;field&gt;
</dd><dd> <b>Description:</b> Field name for the totals row and column. 
</dd><dd> <b>Default:</b> TOTAL
</dd></dl><h3> <a name="contingency_usage"><span class="mw-headline" id="Usage"> Usage </span></a></h3>
<p>This command builds a contingency table for two fields. If you have fields with many values, you can restrict the number of rows and columns using the <code><font size="2">maxrows</font></code> and <code><font size="2">maxcols</font></code> parameters. By default, the contingency table displays the row totals, column totals, and a grand total for the counts of events that are represented in the table.
</p><p>Values which are empty strings ("") will be represented in the table as EMPTY_STR.
</p>
<h3> <a name="contingency_limits"><span class="mw-headline" id="Limits"> Limits </span></a></h3>
<p>There is a limit on the value of maxrows or maxcols, which is also the default, which means more than 1000 values for either field will not be used.
</p>
<h3> <a name="contingency_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="contingency_example_1"><span class="mw-headline" id="Example_1"> Example 1 </span></a></i></b></font></h4>
<p>Build a contingency table to see if there is a relationship between the values of <code><font size="2">log_level</font></code> and <code><font size="2">component</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal | contingency log_level component maxcols=5</font></code><br></div>
<p><img alt="Ex contingency3.png" src="images/e/ed/Ex_contingency3.png" width="700" height="152"></p><p><br>
These results show you at-a-glance what components, if any, may be causing issues in your Splunk instance. The <code><font size="2">component</font></code> field has many values (&gt;50), so this example, uses <code><font size="2">maxcols</font></code> to show only five of the values.
</p>
<h4><font size="3"><b><i> <a name="contingency_example_2"><span class="mw-headline" id="Example_2"> Example 2 </span></a></i></b></font></h4>
<p>Build a contingency table to see the installer download patterns from users based on the platform they are running.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">host="download"| contingency name platform</font></code><br></div>
<p><img alt="Ex contingency2.png" src="images/5/5d/Ex_contingency2.png" width="700" height="200"></p><p>This is pretty straightforward because you don't expect users running one platform to download an installer file for another platform. Here, the <code><font size="2">contingency</font></code> command just confirms that these particular fields are not independent. If this chart showed otherwise, for example if a great number of Windows users downloaded the OSX installer, you might want to take a look at your web site to make sure the download resource is correct.
</p>
<h4><font size="3"><b><i> <a name="contingency_example_3"><span class="mw-headline" id="Example_3"> Example 3 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses recent earthquake data downloaded from the USGS Earthquakes website. The data is a comma separated ASCII text file that contains magnitude (mag), coordinates (latitude, longitude), region (place), etc., for each earthquake recorded.
<p>You can download a current CSV file from the <b>USGS Earthquake Feeds</b> and add it as an input to Splunk.
</p><p>Earthquakes occurring at a depth of less than 70 km are classified as <b>shallow-focus</b> earthquakes, while those with a focal-depth between 70 and 300 km are commonly termed <b>mid-focus</b> earthquakes. In subduction zones, <b>deep-focus</b> earthquakes may occur at much greater depths (ranging from 300 up to 700 kilometers).
</p>
</td></tr></table><p>Build a contingency table to look at the relationship between the magnitudes and depths of recent earthquakes.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=recentquakes | contingency mag depth | sort mag</font></code><br></div>
<p>This search is very simple. But because there are quite a range of values for the <code><font size="2">Magnitude</font></code> and <code><font size="2">Depth</font></code> fields, the results is a very large matrix. Before building the table, we want to reformat the values of the field:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">source=usgs | eval Magnitude=case(mag&lt;=1, "0.0 - 1.0", mag&gt;1 AND mag&lt;=2, "1.1 - 2.0", mag&gt;2 AND mag&lt;=3, "2.1 - 3.0", mag&gt;3 AND mag&lt;=4, "3.1 - 4.0", mag&gt;4 AND mag&lt;=5, "4.1 - 5.0", mag&gt;5 AND mag&lt;=6, "5.1 - 6.0", mag&gt;6 AND mag&lt;=7, "6.1 - 7.0", mag&gt;7,"7.0+") | eval Depth=case(depth&lt;=70, "Shallow", depth&gt;70 AND depth&lt;=300, "Mid", depth&gt;300 AND depth&lt;=700, "Deep") | contingency Magnitude Depth | sort Magnitude</font></code><br></div>
<p>Now, the search uses the <a href="#eval" class="external text">eval</a> command with the <code><font size="2">case()</font></code> function to redefine the values of Magnitude and Depth, bucketing them into a range of values. For example, the Depth values are redefined as "Shallow", "Mid", or "Deep". This creates a more readable table:
</p><p><img alt="Searchref contingency ex3.1.png" src="images/6/64/Searchref_contingency_ex3.1.png" width="700" height="211"></p><p>There were a lot of quakes in this 2 week period. Do higher magnitude earthquakes have a greater depth than lower magnitude earthquakes? Not really. The table shows that the majority of the recent earthquakes in all magnitude ranges were shallow. And, there are significantly fewer earthquakes in the mid-to-high range. In this data set, the deep-focused quakes were all in the mid-range of magnitudes.
</p>
<h3> <a name="contingency_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#associate" class="external text">associate</a>, <a href="#correlate" class="external text">correlate</a> 
</p>
<h3> <a name="contingency_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the contingency command.
</p>
<a name="convert"></a><h2> <a name="convert_convert"><span class="mw-headline" id="convert"> convert </span></a></h2>
<p>The convert command converts field values into numerical values. Alternatively, you can use <a href="#commonevalfunctions" class="external text">functions of the eval command</a> such as <code><font size="2">strftime()</font></code>, <code><font size="2">strptime()</font></code>, or <code><font size="2">tostring()</font></code>.
</p>
<h3> <a name="convert_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Converts field values into numerical values.
</p>
<h4><font size="3"><b><i> <a name="convert_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>convert [timeformat=<i>string</i>] (&lt;convert-function&gt; [AS &lt;new_fieldname&gt;])...
</p>
<h4><font size="3"><b><i> <a name="convert_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;convert-function&gt;
</dt><dd> <b>Syntax:</b> auto() | ctime() | dur2sec() | memk() | mktime() | mstime() | none() | num() | rmcomma() | rmunit()
</dd><dd> <b>Description:</b> Functions for convert.
</dd></dl><h4><font size="3"><b><i> <a name="convert_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> timeformat
</dt><dd> <b>Syntax:</b> timeformat=&lt;string&gt;
</dd><dd> <b>Description:</b> Specify the output format for the converted time field. The <code><font size="2">timeformat</font></code> option is used by <code><font size="2">ctime</font></code> and <code><font size="2">mktime</font></code> functions. For a list and descriptions of format options, refer to the topic <a href="#commontimeformatvariables" class="external text">"Common time format variables"</a>. Defaults to <code><font size="2">%m/%d/%Y&nbsp;%H:%M:%S</font></code>.  Note that this default does not conform to the locale settings.
</dd></dl><dl><dt> &lt;new_fieldname&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Rename function to a new field.
</dd></dl><h4><font size="3"><b><i> <a name="convert_convert_functions"><span class="mw-headline" id="Convert_functions"> Convert functions </span></a></i></b></font></h4>
<dl><dt> auto()
</dt><dd> <b>Syntax:</b> auto(&lt;wc-field&gt;)
</dd><dd> <b>Description:</b> Automatically convert the field(s) to a number using the best conversion. Note that if not all values of a particular field can be converted using a known conversion type, the field is left untouched and no conversion at all in done for that field.
</dd></dl><dl><dt> ctime()
</dt><dd> <b>Syntax:</b> ctime(&lt;wc-field&gt;)
</dd><dd> <b>Description:</b> Convert an epoch time to an ascii human readable time.  Use the <code><font size="2">timeformat</font></code> option to specify exact format to convert to.
</dd></dl><dl><dt> dur2sec()
</dt><dd> <b>Syntax:</b> dur2sec(&lt;wc-field&gt;)
</dd><dd> <b>Description:</b> Convert a duration format "[D+]HH:MM:SS" to seconds.
</dd></dl><dl><dt> memk()
</dt><dd> <b>Syntax:</b> memk(&lt;wc-field&gt;)
</dd><dd> <b>Description:</b> Accepts a positive number (integer or float) followed by an optional "k", "m", or "g".  No letter or k indicates kilobytes, m indicates megabytes, and g indicates gigabytes.  The output field is a number expressing quantity of kilobytes.  Negative values will cause data incoherency.
</dd></dl><dl><dt> mktime()
</dt><dd> <b>Syntax:</b> mktime(&lt;wc-field&gt;)
</dd><dd> <b>Description:</b> Convert an human readable time string to an epoch time.  Use timeformat option to specify exact format to convert from.
</dd></dl><dl><dt> mstime()
</dt><dd> <b>Syntax:</b>  mstime(&lt;wc-field&gt;)
</dd><dd> <b>Description:</b> Convert a [MM:]SS.SSS format to seconds.
</dd></dl><dl><dt> none()
</dt><dd> <b>Syntax:</b> none(&lt;wc-field&gt;)
</dd><dd> <b>Description:</b> In the presence of other wildcards, indicates that the matching fields should not be converted.
</dd></dl><dl><dt> num()
</dt><dd> <b>Syntax:</b> num(&lt;wc-field&gt;)
</dd><dd> <b>Description:</b> Like auto(), except non-convertible values are removed.
</dd></dl><dl><dt> rmcomma()
</dt><dd> <b>Syntax:</b> rmcomma(&lt;wc-field&gt;)
</dd><dd> <b>Description:</b> Removes all commas from value, for example rmcomma(1,000,000.00) returns 1000000.00.
</dd></dl><dl><dt> rmunit()
</dt><dd> <b>Syntax:</b> rmunit(&lt;wc-field&gt;)
</dd><dd> <b>Description:</b> Looks for numbers at the beginning of the value and removes trailing text.
</dd></dl><h3> <a name="convert_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Converts the values of fields into numerical values. When renaming a field using <code><font size="2">AS</font></code>, the original field is left intact.
</p>
<h3> <a name="convert_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="convert_example_1"><span class="mw-headline" id="Example_1"> Example 1 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses sendmail email server logs and refers to the logs with <code><font size="2">sourcetype=sendmail</font></code>. The sendmail logs have two duration fields, <code><font size="2">delay</font></code> and <code><font size="2">xdelay</font></code>.
<p>The <code><font size="2">delay</font></code> is the total amount of time a message took to deliver or bounce. The <code><font size="2">delay</font></code> is expressed as "D+HH:MM:SS", which indicates the time it took in hours (HH), minutes (MM), and seconds (SS) to handle delivery or rejection of the message. If the delay exceeds 24 hours, the time expression is prefixed with the number of days and a plus character (D+). 
</p><p>The <code><font size="2">xdelay</font></code> is the total amount of time the message took to be transmitted during final delivery, and its time is expressed as "HH:MM:SS".
</p>
</td></tr></table><p>Change the sendmail duration format of <code><font size="2">delay</font></code> and <code><font size="2">xdelay</font></code> to seconds.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=sendmail | convert dur2sec(delay) dur2sec(xdelay)</font></code><br></div>
<p>This search pipes all the sendmail events into the <code><font size="2">convert</font></code> command and uses the <code><font size="2">dur2sec()</font></code> function to convert the duration times of the fields, <code><font size="2">delay</font></code> and <code><font size="2">xdelay</font></code>, into seconds. 
</p><p>Here is how your search results will look after you use the fields sidebar to add the fields to your events:
</p><p><img alt="ConvertEx1.png" src="images/0/0a/ConvertEx1.png" width="800" height="202"></p><p>You can compare the converted field values to the original field values in the events list.
</p>
<h4><font size="3"><b><i> <a name="convert_example_2"><span class="mw-headline" id="Example_2"> Example 2 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses syslog data.
</td></tr></table><p>Convert a UNIX epoch time to a more readable time formatted to show hours, minutes, and seconds.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=syslog | convert timeformat="%H:%M:%S" ctime(_time) AS c_time | table _time, c_time</font></code><br></div>
<p>The <code><font size="2">ctime()</font></code> function converts the <code><font size="2">_time</font></code> value of syslog (<code><font size="2">sourcetype=syslog</font></code>) events to the format specified by the <code><font size="2">timeformat</font></code> argument. The <code><font size="2">timeformat="%H:%M:%S"</font></code> arguments tells Splunk to format the <code><font size="2">_time</font></code> value as HH:MM:SS.
</p><p>Here, the <code><font size="2">table</font></code> command is used to show the original <code><font size="2">_time</font></code> value and the converted time, which is renamed <code><font size="2">c_time</font></code>:
</p><p><img alt="ConvertEx2.png" src="images/1/19/ConvertEx2.png" width="800" height="279"></p><p>The <code><font size="2">ctime()</font></code> function changes the timestamp to a non-numerical value. This is useful for display in a report or for readability in your events list.
</p><p><br></p>
<h4><font size="3"><b><i> <a name="convert_example_3"><span class="mw-headline" id="Example_3"> Example 3 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses syslog data.
</td></tr></table><p>Convert a time in MM:SS.SSS (minutes, seconds, and subseconds) to a number in seconds.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=syslog | convert mstime(_time) AS ms_time | table _time, ms_time</font></code><br></div>
<p>The <code><font size="2">mstime()</font></code> function converts the <code><font size="2">_time</font></code> value of syslog (<code><font size="2">sourcetype=syslog</font></code>) events from a minutes and seconds to just seconds.
</p><p>Here, the <code><font size="2">table</font></code> command is used to show the original <code><font size="2">_time</font></code> value and the converted time, which is renamed <code><font size="2">ms_time</font></code>:
</p><p><img alt="ConvertEx3.png" src="images/c/c4/ConvertEx3.png" width="800" height="278"></p><p>The <code><font size="2">mstime()</font></code> function changes the timestamp to a numerical value. This is useful if you want to use it for more calculations.
</p><p><br></p>
<h4><font size="3"><b><i> <a name="convert_more_examples"><span class="mw-headline" id="More_examples"> More examples </span></a></i></b></font></h4>
<p><b>Example 1:</b> Convert values of the "duration" field into number value by removing string values in the field value. For example, if "duration="212 sec"", the resulting value will be "duration="212"".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | convert rmunit(duration)</font></code><br></div>
<p><b>Example 2:</b> Change the sendmail syslog duration format (D+HH:MM:SS) to seconds. For example, if "delay="00:10:15"", the resulting value will be "delay="615"".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | convert dur2sec(delay)</font></code><br></div>
<p><b>Example 3:</b> Change all memory values in the "virt" field to Kilobytes.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | convert memk(virt)</font></code><br></div>
<p><b>Example 4:</b> Convert every field value to a number value except for values in the field "foo" (use the "none" argument to specify fields to ignore).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | convert auto(*) none(foo)</font></code><br></div>
<p><b>Example 5:</b> Example usage
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | convert dur2sec(xdelay) dur2sec(delay)</font></code><br></div>
<p><b>Example 6:</b> Example usage
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | convert auto(*)</font></code><br></div>
<h3> <a name="convert_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#eval" class="external text">eval</a> 
</p>
<h3> <a name="convert_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the convert command.
</p>
<a name="correlate"></a><h2> <a name="correlate_correlate"><span class="mw-headline" id="correlate"> correlate </span></a></h2>
<p>You can use the <code><font size="2">correlate</font></code> command to see an overview of the co-occurrence between fields in your data. The results are presented in a matrix format, where the cross tabulation of two fields is a cell value that represents the percentage of times that the two fields exist in the same events. 
</p><p>The field the result is specific to is named in the value of the <i>RowField</i> field, while the fields it is compared against ar the names of the other fields.
</p><p><b>Note:</b> This command looks at the relationship among all the fields in a set of search results. If you want to analyze the relationship between the values of fields, refer to the <a href="#contingency" class="external text">contingency</a> command, which counts the co-ocurrence of pairs of field values in events.
</p>
<h3> <a name="correlate_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Calculates the correlation between different fields.
</p>
<h4><font size="3"><b><i> <a name="correlate_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>correlate
</p>
<h3> <a name="correlate_limits"><span class="mw-headline" id="Limits"> Limits </span></a></h3>
<p>There is a limit on the number of fields that correlate will consider in a search.
From limits.conf, stanza [correlate], the maxfields sets this ceiling (Default 1000).
</p><p>If more than this many fields are encountered correlate will continue to process data for the first N (eg thousand) field names encountered, but will ignore data for additional fields.  If this occurs, the notification from the search or alert will contain a message "correlate: input fields limit (N) reached.  Some fields may have been ignored."
</p><p>As always with all designed-in limits, adjusting this  may have significant memory or cpu costs.
</p>
<h3> <a name="correlate_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Look at the co-occurrence between all fields in the <code><font size="2">_internal</font></code> index.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal | correlate</font></code><br></div>
<p>Here is a snapshot of the results:
</p><p><img alt="Ex correlate.png" src="images/7/74/Ex_correlate.png" width="700" height="179"></p><p>Because there are different types of logs in the <code><font size="2">_internal</font></code>, you can expect to see that many of the fields do not co-occur.
</p><p><b>Example 2:</b> Calculate the co-occurrences between all fields in Web access events.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | correlate</font></code><br></div>
<p>You expect all Web access events to share the same fields: clientip, referer, method, etc. But, because the <code><font size="2">sourcetype=access_*</font></code> includes both access_common and access_combined Apache log formats, you should see that the percentages of some of the fields are less than 1.0.
</p><p><b>Example 3:</b> Calculate the co-occurrences between all the fields in download events.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">eventtype=download | correlate</font></code><br></div>
<p>The more narrow your search is before you pass the results into <code><font size="2">correlate</font></code>, the more likely all the field value pairs will have a correlation of 1.0 (co-occur in 100% of the search results). For these download events, you might be able to spot an issue depending on which pair have less than 1.0 co-occurrence.
</p>
<h3> <a name="correlate_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#associate" class="external text">associate</a>, <a href="#contingency" class="external text">contingency</a> 
</p>
<h3> <a name="correlate_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the correlate command.
</p>
<a name="crawl"></a><h2> <a name="crawl_crawl"><span class="mw-headline" id="crawl"> crawl </span></a></h2>
<h3> <a name="crawl_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Crawls the filesystem for files of interest to Splunk.
</p>
<h4><font size="3"><b><i> <a name="crawl_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>crawl [ files | network ] [<i>crawl-option</i>]*
</p>
<h4><font size="3"><b><i> <a name="crawl_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> crawl-option
</dt><dd> <b>Syntax:</b> &lt;string&gt;=&lt;string&gt;
</dd><dd> <b>Description:</b> Override settings from crawl.conf.
</dd></dl><h3> <a name="crawl_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Crawls for the discovery of new sources to index. Default crawl settings are found in crawl.conf and crawl operations are logged to $<tt>splunk_home</tt>/var/log/splunk/crawl.log. Generally to be used in conjunction with the <tt>input</tt> command. Specify crawl options to override settings in crawl.conf. Note: If you add crawl to a search, Splunk only returns data it generates from crawl. Splunk doesn't return any data generated before | crawl.
</p>
<h3> <a name="crawl_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Crawl root and home directories and add all possible inputs found (adds configuration information to "inputs.conf").
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| crawl root="/;/Users/" | input add</font></code><br></div>
<p><b>Example 2:</b> Crawl bob's home directory.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| crawl root=/home/bob</font></code><br></div>
<p><b>Example 3:</b> Add all sources found in bob's home directory to the 'preview' index.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| crawl root=/home/bob | input add index=preview</font></code><br></div>
<p><b>Example 4:</b> Crawl using default settings defined in crawl.conf.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| crawl</font></code><br></div>
<h3> <a name="crawl_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#input" class="external text">input</a> 
</p>
<h3> <a name="crawl_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the crawl command.
</p>
<a name="datamodel"></a><h2> <a name="datamodel_datamodel"><span class="mw-headline" id="datamodel"> datamodel </span></a></h2>
<p>A data model is a hierarchically-structured search-time mapping of semantic knowledge about one or more datasets. It encodes the domain knowledge necessary to build a variety of specialized searches of those datasets. These specialized searches are in turn used by Splunk to generate reports for Pivot users. For more information, see "About data models" and "Design data model objects" in the Knowledge Manager manual. 
</p><p>The <code><font size="2">datamodel</font></code> search command lets you search existing data models and their objects from the search interface. The <code><font size="2">datamodel</font></code> command is a generating command and should be the first command in the pipeline.
</p>
<h3> <a name="datamodel_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Examine data model or data model object and search a data model object.
</p>
<h4><font size="3"><b><i> <a name="datamodel_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>| datamodel [&lt;data model name&gt;] [&lt;object name&gt;] [&lt;search&gt;]
</p>
<h4><font size="3"><b><i> <a name="datamodel_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<p>None
</p>
<h4><font size="3"><b><i> <a name="datamodel_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> data model name
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of the data model to search. When only the data model is specified, Splunk returns the JSON for the single data model.
</dd></dl><dl><dt> object name
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of a data model object to search. Must be specified after the data model name. Splunk returns the JSON for the single object.
</dd></dl><dl><dt> search
</dt><dd> <b>Syntax:</b> &lt;search&gt;
</dd><dd> <b>Description:</b> Indicates to run the search associated with the specified data model and object. For more information, see the <a href="#search" class="external text">search command</a>.
</dd></dl><h3> <a name="datamodel_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Use the datamodel command to return the JSON for all or a specified data model and its objects. You can also search against the specified data model object.
</p>
<h3> <a name="datamodel_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p>The following examples are created using data from the "Data Model and Pivot Tutorial".
</p><p><b>Example 1:</b> Return JSON for all data models available in the current app context.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| datamodel</font></code><br></div>
<p><img alt="Datamodel command default.png" src="images/3/3d/Datamodel_command_default.png" width="600" height="271"></p><p><b>Example 2:</b> Return JSON for the "Buttercup Games" data model, which has the model ID "Tutorial".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| datamodel Tutorial</font></code><br></div>
<p><img alt="Datamodel command tutorialdata.png" src="images/a/ae/Datamodel_command_tutorialdata.png" width="600" height="274"></p><p><b>Example 3:</b> Return JSON for Buttercup Games's Client_errors object.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| datamodel Tutorial Client_errors</font></code><br></div>
<p><img alt="Datamodel command tutorial object.png" src="images/0/0a/Datamodel_command_tutorial_object.png" width="600" height="215"></p><p><b>Example 4:</b> Run the search for Buttercup Games's Client_errors.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| datamodel Tutorial Client_errors search</font></code><br></div>
<p><b>Example 5:</b> Search Buttercup Games's Client_errors object for 404 errors and count the number of events. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| datamodel Tutorial Client_errors search | search status=404 | stats count</font></code><br></div>
<p><br></p>
<h3> <a name="datamodel_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#pivot" class="external text">pivot</a>
</p>
<h3> <a name="datamodel_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has about using the datamodel command.
</p>
<a name="dbinspect"></a><h2> <a name="dbinspect_dbinspect"><span class="mw-headline" id="dbinspect"> dbinspect </span></a></h2>
<p>The Splunk <b>index</b> is the repository for Splunk data. As Splunk indexes, or transforms incoming data into <b>events</b>, it creates files of <b>rawdata</b> and metadata (<b>index files</b>). The files reside in sets of directories organized by age. These directories are called  <b>buckets</b>. 
</p><p>For more information, read "Indexes, indexers, and clusters" and "How Splunk stores indexes" in Managing Indexers and Clusters Manual.
</p>
<h3> <a name="dbinspect_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Returns information about the buckets in the Splunk index that you specify.
</p>
<h4><font size="3"><b><i> <a name="dbinspect_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>dbinspect [index=&lt;string&gt;]... [&lt;span&gt;|&lt;timeformat&gt;]
</p>
<h4><font size="3"><b><i> <a name="dbinspect_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> index
</dt><dd> <b>Syntax:</b> index=&lt;string&gt;
</dd><dd> <b>Description:</b> Specify a name of an index to inspect.  This option may be repeated for more indexes, and accepts wildcards such as "*" for all non-internal indexes.  If not specified, dbinspect returns bucket information for the default index, which is typically <i>main</i>.
</dd></dl><dl><dt> &lt;span&gt;
</dt><dd> <b>Syntax:</b> span=&lt;int&gt;|&lt;int&gt;&lt;timescale&gt;
</dd><dd> <b>Description:</b> Specify the span length of the bucket. If using a timescale unit (sec, min, hr, day, month, or subseconds), this is used as a time range. If not, this is an absolute bucket "length".
</dd></dl><dl><dt> &lt;timeformat&gt;
</dt><dd> <b>Syntax:</b> timeformat=&lt;string&gt;
</dd><dd> <b>Description:</b> Set the time format for the modTime field. Defaults to <code><font size="2">timeformat=%m/%d/%Y:%H:%M:%S</font></code>.
</dd></dl><h4><font size="3"><b><i> <a name="dbinspect_time_scale_units"><span class="mw-headline" id="Time_scale_units"> Time scale units </span></a></i></b></font></h4>
<p>These are options for specifying a timescale as the bucket span.
</p>
<dl><dt> &lt;timescale&gt;
</dt><dd> <b>Syntax:</b> &lt;sec&gt; | &lt;min&gt; | &lt;hr&gt; | &lt;day&gt; | &lt;month&gt; | &lt;subseconds&gt;
</dd><dd> <b>Description:</b> Time scale units.
</dd></dl><dl><dt> &lt;sec&gt;
</dt><dd> <b>Syntax:</b> s | sec | secs | second | seconds
</dd><dd> <b>Description:</b> Time scale in seconds.
</dd></dl><dl><dt> &lt;min&gt; 
</dt><dd> <b>Syntax:</b> m | min | mins | minute | minutes
</dd><dd> <b>Description:</b> Time scale in minutes.
</dd></dl><dl><dt> &lt;hr&gt;
</dt><dd> <b>Syntax:</b> h | hr | hrs | hour | hours
</dd><dd> <b>Description:</b> Time scale in hours.
</dd></dl><dl><dt> &lt;day&gt;
</dt><dd> <b>Syntax:</b> d | day | days
</dd><dd> <b>Description:</b> Time scale in days.
</dd></dl><dl><dt> &lt;month&gt;
</dt><dd> <b>Syntax:</b> mon | month | months
</dd><dd> <b>Description:</b> Time scale in months.
</dd></dl><dl><dt> &lt;subseconds&gt;
</dt><dd> <b>Syntax:</b> us | ms | cs | ds
</dd><dd> <b>Description:</b> Time scale in microseconds (us), milliseconds (ms), centiseconds (cs), or deciseconds (ds).
</dd></dl><h3> <a name="dbinspect_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>When you invoke the <code><font size="2">dbinspect</font></code> command with a bucket span, Splunk returns a table of the spans of each bucket.
</p><p>When you invoke the <code><font size="2">dbinspect</font></code> command without a bucket span, Splunk returns the following information about the given index's buckets: 
</p>
<table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0">Field name
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td valign="center" align="left"> <code><font size="2">bucketId</font></code>
</td><td valign="center" align="left"> A string comprised of <code><font size="2">&lt;index&gt;~&lt;id&gt;~&lt;guId&gt;</font></code>, where the delimiters are tilde characters. For example, <code><font size="2">summary~2~4491025B-8E6D-48DA-A90E-89AC3CF2CE80</font></code>.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">endEpoch</font></code>
</td><td valign="center" align="left"> The timestamp for the last event in the bucket (the time-edge of the bucket furthest towards the future), in number of seconds from the UNIX epoch.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">eventCount</font></code>
</td><td valign="center" align="left"> The number of events in the bucket.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">hostCount</font></code>
</td><td valign="center" align="left"> The number of unique hosts in the bucket.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">guId</font></code>
</td><td valign="center" align="left"> The guID of the server that hosts the index. This is relevant for index replication.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">id</font></code>
</td><td valign="center" align="left"> The local ID number of the bucket, generated on the indexer on which the bucket originated.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">index</font></code>
</td><td valign="center" align="left"> The name of the index specified in your search. You can specify <code><font size="2">index=*</font></code> to inspect all of the indexes, and the index field will vary accordingly.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">modTime</font></code>
</td><td valign="center" align="left"> The timestamp for the last time the bucket was modified or updated, in a format specified by the <code><font size="2">timeformat</font></code> flag.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">path</font></code>
</td><td valign="center" align="left"> The location to the bucket. The naming convention for the bucket <code><font size="2">path</font></code> varies slightly, depending on whether the bucket rolled to warm while its indexer was functioning as a cluster peer:
<ul><li> For non-clustered buckets: <code><font size="2">db_&lt;newest_time&gt;_&lt;oldest_time&gt;_&lt;localid&gt;</font></code>
</li><li> For clustered original bucket copies: <code><font size="2">db_&lt;newest_time&gt;_&lt;oldest_time&gt;_&lt;localid&gt;_&lt;guid&gt;</font></code>
</li><li> For clustered replicated bucket copies: <code><font size="2">rb_&lt;newest_time&gt;_&lt;oldest_time&gt;_&lt;localid&gt;_&lt;guid&gt;</font></code>
</li></ul><p>For more information, read "How Splunk stores indexes" and "Basic cluster architecture" in the Managing Indexers and Clusters Manual.
</p>
</td></tr><tr><td valign="center" align="left"> <code><font size="2">rawSize</font></code>
</td><td valign="center" align="left"> The volume in bytes of the raw data files in each bucket. This value represents the volume before compression and the addition of index files.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">sizeOnDiskMB</font></code>
</td><td valign="center" align="left"> The size in MB of disk space that the bucket takes up expressed as a floating point number. This value represents the volume of the compressed raw data files and the index files.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">sourceCount</font></code>
</td><td valign="center" align="left"> The number of unique sources in the bucket.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">sourceTypeCount</font></code>
</td><td valign="center" align="left"> The number of unique sourcetypes in the bucket.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">splunk_server</font></code>
</td><td valign="center" align="left"> The name of the Splunk server that hosts the index in a distributed environment.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">startEpoch</font></code>
</td><td valign="center" align="left"> The timestamp for the first event in the bucket (the time-edge of the bucket furthest towards the past), in number of seconds from the UNIX epoch.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">state</font></code>
</td><td valign="center" align="left"> Whether the bucket is warm, hot, cold.
</td></tr></table><h3> <a name="dbinspect_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Display a chart with the span size of 1 day, using the CLI.
</p>
<div class="samplecode">
<p>myLaptop $ splunk search "| dbinspect index=_internal span=1d"
</p>
</div>
<code><font size="2"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_time &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hot-3 warm-1 warm-2<br>--------------------------- ----- ------ ------<br>2013-01-17 00:00:00.000 PST &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>2013-01-17 14:56:39.000 PST &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>2013-02-19 00:00:00.000 PST &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1<br>2013-02-20 00:00:00.000 PST &nbsp;&nbsp;&nbsp;&nbsp;2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1<br></font></code>
<p><br><b>Example 2:</b> Default dbinspect output for a local _internal index.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| dbinspect index=_internal</font></code><br></div>
<p><img alt="Searchref dbinspect ex2.1.png" src="images/b/b4/Searchref_dbinspect_ex2.1.png" width="700" height="258"></p><p>This screenshot doesn't show you all the columns in the output table. You need to scroll to the right to see more.
</p><p><br><b>Examples 3:</b> Use dbinspect to find the index size of buckets in GB. For current numbers, run this search over a recent time range.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| dbinspect index=_internal | eval GB=sizeOnDiskMB/1024| stats sum(GB)</font></code><br></div>
<h3> <a name="dbinspect_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the dbinspect command.
</p>
<a name="dedup"></a><h2> <a name="dedup_dedup"><span class="mw-headline" id="dedup"> dedup </span></a></h2>
<h3> <a name="dedup_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Removes the events which contain an identical combination of values for selected fields.
</p>
<h4><font size="3"><b><i> <a name="dedup_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>dedup [&lt;N&gt;] &lt;field-list&gt; [keepevents=&lt;bool&gt;] [keepempty=&lt;bool&gt;] [consecutive=&lt;bool&gt;] [sortby &lt;sort-by-clause&gt;]
</p>
<h4><font size="3"><b><i> <a name="dedup_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;field-list&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt; &lt;string&gt;  ... 
</dd><dd> <b>Description:</b> A list of field names.
</dd></dl><h4><font size="3"><b><i> <a name="dedup_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> consecutive
</dt><dd> <b>Syntax:</b> consecutive=&lt;bool&gt; 
</dd><dd> <b>Description:</b> If true, only remove events with duplicate combinations of values that are consecutive. Defaults to false.
</dd></dl><dl><dt> keepempty
</dt><dd> <b>Syntax:</b> keepempty=&lt;bool&gt; 
</dd><dd> <b>Description:</b> If true, keep event events where one or more of the selected fields is null (not present).  By default (<i>false</i>), all events where any of the selected fields are null are dropped.
</dd></dl><dl><dt> keepevents
</dt><dd> <b>Syntax:</b> keepevents=&lt;bool&gt; 
</dd><dd> <b>Description:</b> If true, keep all events, but will remove the selected fields from events after the first event containing a particular combination of values. Defaults to false, meaning to drop events after the first event of each particular combination.
</dd></dl><dl><dt> &lt;N&gt;
</dt><dd> <b>Syntax:</b> &lt;int&gt;
</dd><dd> <b>Description:</b> As an alternative to retaining only one event for each combination of field values, <code><font size="2">dedup</font></code> can retain multiple events for each combination.  The number <i>N</i> selects how many events for each combination will be retained.  This number must be greater than 0.
</dd></dl><dl><dt> &lt;sort-by-clause&gt;
</dt><dd> <b>Syntax:</b> ( - | + ) &lt;sort-field&gt; [(- | +) &lt;sort_field&gt; ...]
</dd><dd> <b>Description:</b> List of fields to sort by and their order, descending ( - ) or ascending ( + ) for each field.
</dd></dl><h4><font size="3"><b><i> <a name="dedup_sort_field_options"><span class="mw-headline" id="Sort_field_options"> Sort field options </span></a></i></b></font></h4>
<dl><dt> &lt;sort-field&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt; |  auto(&lt;field&gt;) | str(&lt;field&gt;) | ip(&lt;field&gt;) | num(&lt;field&gt;)
</dd><dd> <b>Description:</b> Options for sort-field.
</dd></dl><dl><dt> &lt;field&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of the field to sort.
</dd></dl><dl><dt> auto
</dt><dd> <b>Syntax:</b> auto(&lt;field&gt;)
</dd><dd> <b>Description:</b> Determine automatically how to sort the field's values.
</dd></dl><dl><dt> ip
</dt><dd> <b>Syntax:</b> ip(&lt;field&gt;)
</dd><dd> <b>Description:</b> Interpret the field's values as an IP address.
</dd></dl><dl><dt> num
</dt><dd> <b>Syntax:</b> num(&lt;field&gt;)
</dd><dd> <b>Description:</b> Treat the field's values as numbers.
</dd></dl><dl><dt> str
</dt><dd> <b>Syntax:</b> str(&lt;field&gt;)
</dd><dd> <b>Description:</b> Order the field's values lexicographically.
</dd></dl><h3> <a name="dedup_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">dedup</font></code> command lets you specify a number of duplicate events to keep for each value of a single field, or for each combination of values among several fields.  Events returned by <code><font size="2">dedup</font></code> will be the first event found in search order, which is the most recent for historical search, and the first to arrive for realtime search. If you specify a leading number, N, <code><font size="2">dedup</font></code> interprets this number as the quantity events with duplicate values or value combinations to keep. If you don't specify a number, only the first occurring event will be kept, and drops all duplicates.
</p><p>The <code><font size="2">dedup</font></code> command also lets you sort by a list of fields.  In this case, <code><font size="2">dedup</font></code> deduplicate the results based on the specified sort-by field or fields.  The other options will allow you to retain events but with the duplicate fields removed, or keep events where the fields do not exist.
</p>
Note that <code><font size="2">keepempty=true</font></code> will counter-intuitively keep every event that lacks any of the fields in the field list, aka has a null value for any of the fields. If you want to keep N representative events for combinations of field values including null values, use <a href="#fillnull" class="external text">fillnull</a> to provide a non-null value for these fields.  For example: <div class="inlineQuery splunk_search_4_3"><code><font size="2">...|fillnull value="MISSING" field1 field2 | dedup field1 field2</font></code><br></div>
<p><b>Note:</b> We do not recommend that you run the <code><font size="2">dedup</font></code> command against the <code><font size="2">_raw</font></code> field if you are searching over a large volume of data. Doing this forces Splunk to retain the text of every event in memory which will impact your search performance. This is expected behavior.  This applies to any field with high cardinality and large size.
</p>
<h3> <a name="dedup_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Remove duplicates of results with the same 'host' value.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | dedup host</font></code><br></div>
<p><b>Example 2:</b> Remove duplicates of results with the same 'source' value and sort the events by the '_time' field in ascending order.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | dedup source sortby +_time</font></code><br></div>
<p><b>Example 3:</b> Remove duplicates of results with the same 'source' value and sort the events by the '_size' field in descending order.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | dedup source sortby -_size</font></code><br></div>
<p><b>Example 4:</b> For events that have the same 'source' value, keep the first 3 that occur and remove all subsequent events.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | dedup 3 source</font></code><br></div>
<p><b>Example 5:</b> For events that have the same 'source' AND 'host' values, keep the first 3 that occur and remove all subsequent events.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | dedup 3 source host</font></code><br></div>
<h3> <a name="dedup_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#uniq" class="external text">uniq</a> 
</p>
<h3> <a name="dedup_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the dedup command.
</p>
<a name="delete"></a><h2> <a name="delete_delete"><span class="mw-headline" id="delete"> delete </span></a></h2>
<p><b>Caution:</b> Removing data is irreversible. If you want to get your data back once you've deleted it, you must re-index the applicable data sources. 
</p>
<h3> <a name="delete_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Deletes (makes irretrievable) events from Splunk indexes.
</p>
<h4><font size="3"><b><i> <a name="delete_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>delete
</p>
<h3> <a name="delete_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Piping a search to the delete operator marks all the events returned by that search so that later searches do not return them. No user (even with admin permissions) will be able to see this data using Splunk. <b>Currently, the delete command does not reclaim disk space.</b>
</p><p><b>Note:</b> Splunk does not let you run the <code><font size="2">delete</font></code> operator during a real-time search. You cannot delete events as they come in. If you try to use <code><font size="2">delete</font></code> during a real-time search, Splunk displays an error. 
</p><p>The delete operator can only be accessed by a user with the "delete_by_keyword" <b>capability</b>. By default, Splunk ships with a special role, "can_delete" that has this capability (and no others). The admin role does not have this capability by default. Splunk recommends you create a special user that you log into when you intend to delete index data.
</p><p>To use the delete operator, run a search that returns the events you want deleted. Make sure that this search ONLY returns events you want to delete, and no other events. Once you've confirmed that this is the data you want to delete, pipe that search to delete. 
</p><p>The delete operator triggers a roll of hot buckets to warm in the affected index(es).
</p><p>Read more about how to remove indexed data from Splunk in the Managing Indexers and Clusters Manual.
</p><p>The output of the <code><font size="2">delete</font></code> command is a table of the quantity of events removed by the fields splunk_server (the name of the indexer or search head), and index, as well as a rollup record for each server by index "__ALL__".  The quantity of deleted events is in the <i>deleted</i> field.  An <i>errors</i> field is also emitted, which will normally be 0.
</p><p><b>Note:</b> The <code><font size="2">delete</font></code> command does not work if your events contain a field named <code><font size="2">index</font></code> aside from the default <code><font size="2">index</font></code> field that is applied to all events. If your events do contain an additional <code><font size="2">index</font></code> field, you can use <code><font size="2">eval</font></code> before invoking <code><font size="2">delete</font></code>, as in this example:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=fbus_summary latest=1417356000 earliest=1417273200 | eval index = "fbus_summary" | delete</font></code><br></div>
<h3> <a name="delete_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Delete events from the "insecure" index that contain strings that look like Social Security numbers.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=insecure | regex _raw = "\d{3}-\d{2}-\d{4}" | delete</font></code><br></div>
<p><b>Example 2:</b> Delete events from the "imap" index that contain the word "invalid"
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=imap invalid | delete</font></code><br></div>
<h3> <a name="delete_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the delete command.
</p>
<a name="delta"></a><h2> <a name="delta_delta"><span class="mw-headline" id="delta"> delta </span></a></h2>
<h3> <a name="delta_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Computes the difference in the value of a specific numeric field between nearby results. For each event where <i>field</i> is a number, the <code><font size="2">delta</font></code> command computes the difference, in search order, between the event's value of the <i>field</i> and a previous event's value of <i>field</i> and writes this difference into <i>newfield</i>. If <i>newfield</i> is not specified, it defaults to <code><font size="2">delta(<i>field</i>)</font></code>. If p is unspecified, it defaults to <code><font size="2">p=1</font></code>, meaning that the immediate previous value is used. p=2 would mean that the value before the previous value is used, and so on.
</p><p>If <i>field</i> is not a number in either of the two values, no output field is generated.
</p><p><b>Note:</b> The <code><font size="2">delta</font></code> command works on the events in the order they are returned by search. By default, the events for historical searches are in reverse time order from new events to old events. Values ascending over time show negative deltas. For real-time search, the events are compared in the order they are received. In the general case, the <code><font size="2">delta</font></code> could be applied after any sequence of commands, so there is no input order guaranteed.  For example, if you sort your results by an independent field and then use the <code><font size="2">delta</font></code> command, the produced values are the deltas in that specific order.
</p>
<h3> <a name="delta_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>delta (<i>field</i> [AS <i>newfield</i>]) [p=<i>int</i>]
</p>
<h4><font size="3"><b><i> <a name="delta_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> field
</dt><dd> <b>Syntax:</b> &lt;fieldname&gt;
</dd><dd> <b>Description:</b> The name of a field to analyze.
</dd></dl><h4><font size="3"><b><i> <a name="delta_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;newfield&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Write output to this field. 
</dd><dd> <b>Default:</b> <tt>delta(<i>field</i>)</tt>
</dd></dl><dl><dt> p
</dt><dd> <b>Syntax:</b> p=&lt;int&gt;
</dd><dd> <b>Description:</b> Selects how many results previous (in search order) to compare the current result's <i>field</i> against.  If <code><font size="2">p=1</font></code> compares versus the prior result; if <code><font size="2">p=2</font></code> compares <i>field</i> against the same field in two results prior in search order.  
</dd><dd> <b>Default:</b> 1
</dd></dl><h3> <a name="delta_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="delta_example_1"><span class="mw-headline" id="Example_1"> Example 1 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the tutorial. Download the data set from <b>this topic in the tutorial</b> and follow the instructions to upload it to the search. Then, run this search using the time range, <b>Other &gt; Yesterday</b>.
</td></tr></table><p>Find the top ten people who bought something yesterday, count how many purchases they made and the difference in the number of purchases between each buyer.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* status=200 action=purchase | top clientip | delta count p=1</font></code><br></div>
<p>Here, the purchase events (<code><font size="2">action=purchase</font></code>) are piped into the <code><font size="2">top</font></code> command to find the top ten users (<code><font size="2">clientip</font></code>) who bought something. These results, which include a <code><font size="2">count</font></code> for each <code><font size="2">clientip</font></code> are then piped into the <code><font size="2">delta</font></code> command to calculate the difference between the <code><font size="2">count</font></code> value of one event and the <code><font size="2">count</font></code> value of the event preceding it. By default, this difference is saved in a field called <code><font size="2">delta(count)</font></code>:
</p><p><img alt="Searchref delta ex1.1.png" src="images/9/9c/Searchref_delta_ex1.1.png" width="700" height="236"></p><p>These results are formatted as a table because of the <code><font size="2">top</font></code> command. Note that the first event does not have a <code><font size="2">delta(count)</font></code> value.
</p>
<h4><font size="3"><b><i> <a name="delta_example_2"><span class="mw-headline" id="Example_2"> Example 2 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses recent earthquake data downloaded from the USGS Earthquakes website. The data is a comma separated ASCII text file that contains magnitude (mag), coordinates (latitude, longitude), region (place), and so on, for each earthquake recorded.
<p>You can download a current CSV file from the <b>USGS Earthquake Feeds</b> and add it as an input to the search.
</p>
</td></tr></table><p>Calculate the difference in time between each of the recent earthquakes in Northern California.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">source=usgs place=*California* | delta _time AS timeDeltaS p=1 | eval timeDeltaS=abs(timeDeltaS) | eval timeDelta=tostring(timeDeltaS,"duration")</font></code><br></div>
<p>This example searches for earthquakes in California and uses the <code><font size="2">delta</font></code> command to calculate the difference in the timestamps (<code><font size="2">_time</font></code>) between each earthquake and the one immediately before it. This change in time is renamed <code><font size="2">timeDeltaS</font></code>.
</p><p>This example also uses the <code><font size="2">eval</font></code> command and <code><font size="2">tostring()</font></code> function to reformat <code><font size="2">timeDeltaS</font></code> as HH:MM:SS, so that it is more readable:
</p><p><img alt="Searchref delta usgsex1.1.png" src="images/a/a7/Searchref_delta_usgsex1.1.png" width="700" height="320"></p>
<h4><font size="3"><b><i> <a name="delta_example_3"><span class="mw-headline" id="Example_3"> Example 3 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the tutorial. Download the data set from <b>this topic in the tutorial</b> and follow the instructions to upload it to the search. Then, run this search using the time range, <b>Other &gt; Yesterday</b>.
</td></tr></table><p>Calculate the difference in time between consecutive transactions.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | transaction JSESSIONID clientip startswith="view" endswith="purchase" | delta _time AS timeDelta p=1 | eval timeDelta=abs(timeDelta) | eval timeDelta=tostring(timeDelta,"duration")</font></code><br></div>
<p>This example groups events into transactions if they have the same values of JSESSIONID and clientip, defines an event as the beginning of the transaction if it contains the string "view" and the last event of the transaction if it contains the string "purchase". The keywords "view" and "purchase" correspond to the values of the <code><font size="2">action</font></code> field. You might also notice other values such as "addtocart" and "remove".
</p><p>The transactions are then piped into the <code><font size="2">delta</font></code> command, which uses the <code><font size="2">_time</font></code> field to calculate the time between one transaction and the transaction immediately preceding it. The search renames this change in time as <code><font size="2">timeDelta</font></code>.
</p><p>This example also uses <code><font size="2">eval</font></code> command to redefine <code><font size="2">timeDelta</font></code> as its absolute value (<code><font size="2">abs(timeDelta)</font></code>) and convert it to a more readable string format with the <code><font size="2">tostring()</font></code> function.
</p><p><img alt="Searchref delta ex3.1.png" src="images/8/8a/Searchref_delta_ex3.1.png" width="700" height="186"></p>
<h4><font size="3"><b><i> <a name="delta_more_examples"><span class="mw-headline" id="More_examples"> More examples </span></a></i></b></font></h4>
<p><b>Example 1:</b> Consider logs from a TV set top box (<code><font size="2">sourcetype=tv</font></code>) that you can use to analyze broadcasting ratings, customer preferences, etc. Which channels do subscribers watch (<code><font size="2">activity=view</font></code>) most and how long do they stay on those channels?
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=tv activity="View" | sort - _time | delta _time AS timeDeltaS | eval timeDeltaS=abs(timeDeltaS) | stats sum(timeDeltaS) by ChannelName</font></code><br></div>
<p><b>Example 2:</b> Compute the difference between current value of count and the 3rd previous value of count and store the result in 'delta(count)'
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | delta count p=3</font></code><br></div>
<p><b>Example 3:</b> For each event where 'count' exists, compute the difference between count and its previous value and store the result in 'countdiff'.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | delta count AS countdiff</font></code><br></div>
<h3> <a name="delta_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#accum" class="external text">accum</a>, <a href="#autoregress" class="external text">autoregress</a>, <a href="#streamstats" class="external text">streamstats</a>, <a href="#trendline" class="external text">trendline</a> 
</p>
<h3> <a name="delta_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the delta command.
</p>
<a name="diff"></a><h2> <a name="diff_diff"><span class="mw-headline" id="diff"> diff </span></a></h2>
<h3> <a name="diff_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Compares two search results and returns the line-by-line difference, or comparison, of the two.  The two search results compared are specified by the two position values <code><font size="2">position1</font></code> and <code><font size="2">position2</font></code>, which default to 1 and 2 to compare the first two results. 
</p><p>By default, the text (<code><font size="2">_raw</font></code> field) of the two search results is compared. Other fields can be compared by selecting another field using <code><font size="2">attribute</font></code>.
</p>
<h3> <a name="diff_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>diff [position1=<i>int</i>] [position2=<i>int</i>] [attribute=<i>string</i>] [diffheader=<i>bool</i>] [context=<i>bool</i>] [maxlen=<i>int</i>]
</p>
<h4><font size="3"><b><i> <a name="diff_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> position1
</dt><dd> <b>Datatype:</b> &lt;int&gt;
</dd><dd> <b>Description:</b> Of the table of input search results, selects a specific search result to compare to position2. 
</dd><dd> <b>Default:</b> <code><font size="2">position1=1</font></code> and refers to the first search result.
</dd></dl><dl><dt> position2
</dt><dd> <b>Datatype:</b> &lt;int&gt;
</dd><dd> <b>Description:</b> Of the table of input search results, selects a specific search result to compare to position2.  This value must be greater than <i>position1</i>. 
</dd><dd> <b>Default:</b> <code><font size="2">position2=2</font></code> and refers to the second search result.
</dd></dl><dl><dt> attribute
</dt><dd> <b>Datatype:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> The field name to be compared between the two search results. By default, 
</dd><dd> <b>Default:</b> <code><font size="2">attribute=_raw</font></code>, which refers to the text of the event or result.
</dd></dl><dl><dt> diffheader
</dt><dd> <b>Datatype:</b> &lt;bool&gt;
</dd><dd> <b>Description:</b> If true, show the traditional diff header, naming the "files" compared.  The diff header makes the output a valid diff as would be expected by the programmer command-line <code><font size="2">patch</font></code> command. 
</dd><dd> <b>Default:</b> <code><font size="2">diffheader=false</font></code>.
</dd></dl><dl><dt> context
</dt><dd> <b>Datatype:</b> &lt;bool&gt;
</dd><dd> <b>Description:</b> If true, selects context-mode diff output as opposed to the default unified diff output. 
</dd><dd> <b>Default:</b> <code><font size="2">context=false</font></code>, or unified.
</dd></dl><dl><dt> maxlen
</dt><dd> <b>Datatype:</b> &lt;int&gt;
</dd><dd> <b>Description:</b> Controls the maximum content in bytes diffed from the two events. If <code><font size="2">maxlen=0</font></code>, there is no limit.
</dd><dd> <b>Default:</b> <code><font size="2">maxlen=100000</font></code>, which is 100KB.
</dd></dl><h3> <a name="diff_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Compare the "ip" values of the first and third search results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | diff pos1=1 pos2=3 attribute=ip</font></code><br></div>
<p><b>Example 2:</b> Compare the 9th search results to the 10th.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | diff position1=9 position2=10</font></code><br></div>
<h3> <a name="diff_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#set" class="external text">set</a> 
</p>
<h3> <a name="diff_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the diff command.
</p>
<a name="erex"></a><h2> <a name="erex_erex"><span class="mw-headline" id="erex"> erex </span></a></h2>
<p>Use the <code><font size="2">erex</font></code> command for regular expression field extraction when you don't know the regular expression to use but you do have example values in your retrieved events. 
</p>
<h3> <a name="erex_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Automatically extracts field values similar to the example values.
</p>
<h4><font size="3"><b><i> <a name="erex_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>erex [&lt;field&gt;] examples=&lt;string&gt; [counterexamples=&lt;string&gt;] [fromfield=&lt;field&gt;] [maxtrainers=&lt;int&gt;]
</p>
<h4><font size="3"><b><i> <a name="erex_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> examples
</dt><dd> <b>Syntax:</b> examples=&lt;string&gt;,...
</dd><dd> <b>Description:</b> A optionally-quoted, comma-separated list of example values for the information to be extracted and saved into a new field.  If not quoted, no spaces are permitted.
</dd></dl><h4><font size="3"><b><i> <a name="erex_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> counterexamples
</dt><dd> <b>Syntax:</b> counterexamples=&lt;string&gt;,...
</dd><dd> <b>Description:</b> A comma-separated list of example values that represent information not to be extracted.
</dd></dl><dl><dt> field
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> A name for a new field that will take the values extracted from <code><font size="2">fromfield</font></code>. If <tt>field</tt> is not specified, values are not extracted, but the resulting regular expression is generated and placed as a message under the Jobs menu in Splunk Web. That regular expression can then be used with the <code><font size="2"><a href="#rex" class="external text">rex</a></font></code> command for more efficient extraction.
</dd></dl><dl><dt> fromfield
</dt><dd> <b>Syntax:</b> fromfield=&lt;field&gt;
</dd><dd> <b>Description:</b> The name of the existing field to extract the information from and save into a new field. Defaults to _raw, which is the main text of the event or result.
</dd></dl><dl><dt> maxtrainers
</dt><dd> <b>Syntax:</b> maxtrainers=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum number values to learn from. Must be between 1 and 1000. Defaults to 100.
</dd></dl><h3> <a name="erex_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>If you specify a <code><font size="2">field</font></code> name, the values extracted from <code><font size="2">fromfield</font></code> are saved to it. Otherwise, Splunk search returns a regular expression that you can then use with the <a href="#rex" class="external text">rex</a> command to extract the field.
</p><p><b>Note:</b> The values specified in <code><font size="2">examples</font></code> and <code><font size="2">counterexample</font></code> must exist in the retrieved events that are piped into the <code><font size="2">erex</font></code> command. If they do not exist, the command will fail. To make sure that <code><font size="2">erex</font></code> works, first run the search that returns the events you want. Then, copy the field values you want to extract and use those as <code><font size="2">example</font></code> values for <code><font size="2">erex</font></code>.
</p>
<h3> <a name="erex_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Extracts out values like "7/01" and "7/02", but not patterns like "99/2", putting extractions into the "monthday" attribute.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | erex monthday examples="7/01, 07/02" counterexamples="99/2"</font></code><br></div>
<p><b>Example 2:</b> Extracts out values like "7/01", putting them into the "monthday" attribute.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | erex monthday examples="7/01"</font></code><br></div>
<p><b>Example 3:</b> Display ports for potential attackers. First, run the search for these potential attackers to find example port values. Then, use <code><font size="2">erex</font></code> to extract the port field.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=secure* port "failed password" | erex port examples="port 3351, port 3768" | top port</font></code><br></div>
<p>This search returns a table with the count of top ports that match the search. Also, find the regular expression generated under the Jobs menu.
</p><p><img alt="Search erex ex job menu.png" src="images/5/5c/Search_erex_ex_job_menu.png" width="700" height="271"></p>
<h3> <a name="erex_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#extract" class="external text">extract</a>, <a href="#kvform" class="external text">kvform</a>, <a href="#multikv" class="external text">multikv</a>, <a href="#regex" class="external text">regex</a>, <a href="#rex" class="external text">rex</a>, <a href="#xmlkv" class="external text">xmlkv</a> 
</p>
<h3> <a name="erex_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the erex command.
</p>
<a name="eval"></a><h2> <a name="eval_eval"><span class="mw-headline" id="eval"> eval </span></a></h2>
<h3> <a name="eval_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Evaluates an expression and puts the resulting value into a field.
</p>
<h4><font size="3"><b><i> <a name="eval_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>eval &lt;eval-field&gt;=&lt;eval-expression&gt;
</p>
<h4><font size="3"><b><i> <a name="eval_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> eval-field 
</dt><dd> <b>Syntax:</b> &lt;string&gt; 
</dd><dd> <b>Description:</b> A destination field name for the resulting value. If the field name already exists in your events, eval will overwrite the value.
</dd></dl><dl><dt> eval-expression
</dt><dd> <b>Syntax:</b> &lt;string&gt; 
</dd><dd> <b>Description:</b> A combination of values, variables, operators, and functions that will be executed to determine the value place in your destination field. 
</dd></dl><p>The syntax of the eval expression is checked before running the search, and an exception will be thrown for an invalid expression. 
</p>
<ul><li> The result of an eval statement is not allowed to be boolean. If Splunk cannot evaluate the expression successfully at search-time for a given event, eval erases the resulting field.
</li><li> If the expression references a <b>field name</b> that contains non-alphanumeric characters, it needs to be surrounded by <b>single quotes</b>; for example, <code><font size="2">new=count+'server-1'</font></code>.
</li><li> If the expression references <b>literal strings</b> that contains non-alphanumeric characters, it needs to be surrounded by <b>double quotes</b>; for example, <code><font size="2">new="server-"+host</font></code>.
</li></ul><h4><font size="3"><b><i> <a name="eval_operators"><span class="mw-headline" id="Operators"> Operators </span></a></i></b></font></h4>
<p>The following table lists the basic operations you can perform with eval. For these evaluations to work, your values need to be valid for the type of operation. For example, with the exception of addition, arithmetic operations may not produce valid results if the values are not numerical. When concatenating values, Splunk reads the values as strings (regardless of their value). 
</p>
<table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0"> Type
</th><th bgcolor="#C0C0C0"> Operators
</th></tr><tr><td valign="center" align="left"> Arithmetic
</td><td valign="center" align="left"> <code><font size="2">+ - * /&nbsp;%</font></code>
</td></tr><tr><td valign="center" align="left"> Concatenation
</td><td valign="center" align="left"> <code><font size="2">.</font></code>
</td></tr><tr><td valign="center" align="left"> Boolean
</td><td valign="center" align="left"> <code><font size="2">AND OR NOT XOR &lt; &gt; &lt;= &gt;=&nbsp;!= = == LIKE</font></code>
</td></tr></table><p>Operators that produce numbers:
</p>
<ul><li> The + operator will accept two numbers for addition, or two strings for concatenation.
</li><li> The -, *, / and&nbsp;% operators will accept two numbers for subtraction, multiplication, division, and modulus, respectively.
</li></ul><p>Operators that produce strings:
</p>
<ul><li> The . operator will concatenate both strings and number.  Numbers will be concatenated in their string represented form.
</li></ul><p>Operators that produce booleans:
</p>
<ul><li> The AND OR NOT and XOR operators will only accept two booleans.
</li><li> The &lt; &gt; &lt;=&nbsp;!= = and == operators will accept two numbers or two strings. (The single = is a synonym for the double == )
</li><li> The LIKE operator will accept two strings.  This is a patternmatch similar to that used in SQL: string LIKE pattern.  Pattern supports literal text, a&nbsp;% character for a wildcard, and a _ for a single character match.  Example field LIKE "a%b_" would match any string starting with a, followed by anything, followed by b, followed by one character.
</li></ul><h4><font size="3"><b><i> <a name="eval_functions"><span class="mw-headline" id="Functions"> Functions </span></a></i></b></font></h4>
<p>The eval command includes the following functions: <code><font size="2">abs, case, ceil, ceiling, cidrmatch, coalesce, commands, exact, exp, floor, if, ifnull, isbool, isint, isnotnull, isnull, isnum, isstr, len, like, ln, log, lower, ltrim, match, max, md5, min, mvappend, mvcount, mvindex, mvfilter, mvjoin, mvrange, mvzip, now, null, nullif, pi, pow, random, relative_time, replace, round, rtrim, searchmatch, sha1, sha256, sha512, sigfig, spath, split, sqrt, strftime, strptime, substr, time, tonumber, tostring, trim, typeof, upper, urldecode, validate</font></code>.
</p><p>For <b>descriptions and examples</b> of each function, see <a href="#commonevalfunctions" class="external text">"Functions for eval and where"</a>.
</p>
<h3> <a name="eval_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The eval command performs an evaluation of arbitrary expressions that can include mathematical, string, and boolean operations. The eval command requires that you specify a field name that takes the results of the expression you want to evaluate. If this destination field matches a field name that already exists, the values of the field are replaced by the results of the eval expression.  
</p><p>You can also use the value of another field as the name of the destination field by using brackets, { }. For example, if you have an event with the following fields, <code><font size="2">aName=counter</font></code> and field <code><font size="2">aValue=1234</font></code>, use <code><font size="2">| eval {aName}=aValue</font></code> to return <code><font size="2">counter=1234</font></code>. 
</p><p>Numbers and strings can be assigned to fields, while booleans may not be.  However you can convert booleans and nulls to strings using tostring(), which may be assigned to fields.
</p><p>During calculations, numbers are double precision floating point numbers subject to all the usual behaviors of floating point numbers.  Operations resulting in NaN assigned to a field will result in "nan".  Positive and negative overflow will result in "inf" and "-inf".  Division by zero will result in a null field.
</p><p>If you are using a search as an argument to the <code><font size="2">eval</font></code> command and functions, you cannot use a saved search name; you must pass a literal search string or a field that contains a literal search string (like the 'search' field extracted from index=_audit events).
</p><p>You can use <code><font size="2">eval</font></code> statements to define calculated fields. To do this, set up the <code><font size="2">eval</font></code> statement in <code><font size="2">props.conf</font></code>. When you run a search, Splunk automatically evaluates the statements behind the scenes to create fields in a manner similar to that of search time field extraction. When you do this you no longer need to define the eval statement in a search string--you can just search on the resulting calculated field directly. 
</p><p>For more information see the <a href="#eval_calculated_fields" class="external text">Calculated fields</a> section, below.
</p>
<h3> <a name="eval_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="eval_example_1"><span class="mw-headline" id="Example_1"> Example 1 </span></a></i></b></font></h4>
<p>This example shows how you might coalesce a field from two different source types and use that to create a transaction of events. <code><font size="2">sourcetype=A</font></code> has a field called <code><font size="2">number</font></code>, and <code><font size="2">sourcetype=B</font></code> has the same information in a field called <code><font size="2">subscriberNumber</font></code>. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=A OR sourcetype=B | eval phone=coalesce(number,subscriberNumber) | transaction phone maxspan=2m</font></code><br></div>
<p>The <code><font size="2">eval</font></code> command is used to add a common field, called <code><font size="2">phone</font></code>, to each of the events whether they are from <code><font size="2">sourcetype=A</font></code> or <code><font size="2">sourcetype=B</font></code>. The value of <code><font size="2">phone</font></code> is defined, using the <code><font size="2">coalesce()</font></code> function, as the values of <code><font size="2">number</font></code> and <code><font size="2">subscriberNumber</font></code>. The <code><font size="2">coalesce()</font></code> function takes the value of the first non-NULL field (that means, it exists in the event).
</p><p>Now, you're able to group events from either source type <code><font size="2">A</font></code> or <code><font size="2">B</font></code> if they share the same <code><font size="2">phone</font></code> value.
</p>
<h4><font size="3"><b><i> <a name="eval_example_2"><span class="mw-headline" id="Example_2"> Example 2 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses recent earthquake data downloaded from the USGS Earthquakes website. The data is a comma separated ASCII text file that contains magnitude (mag), coordinates (latitude, longitude), region (place), etc., for each earthquake recorded.
<p>You can download a current CSV file from the <b>USGS Earthquake Feeds</b> and add it as an input to Splunk.
</p><p>Earthquakes occurring at a depth of less than 70 km are classified as <b>shallow-focus</b> earthquakes, while those with a focal-depth between 70 and 300 km are commonly termed <b>mid-focus</b> earthquakes. In subduction zones, <b>deep-focus</b> earthquakes may occur at much greater depths (ranging from 300 up to 700 kilometers).
</p>
</td></tr></table><p>Classify recent earthquakes based on their depth.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">source=usgs | eval Description=case(depth&lt;=70, "Shallow", depth&gt;70 AND depth&lt;=300, "Mid", depth&gt;300, "Deep") | stats count min(mag) max(mag) by Description</font></code><br></div>
<p>The <code><font size="2">eval</font></code> command is used to create a field called <code><font size="2">Description</font></code>, which takes the value of "Shallow", "Mid", or "Deep" based on the <code><font size="2">Depth</font></code> of the earthquake. The <code><font size="2">case()</font></code> function is used to specify which ranges of the depth fits each description. For example, if the depth is less than 70 km, the earthquake is characterized as a shallow-focus quake; and the resulting <code><font size="2">Description</font></code> is <code><font size="2">Shallow</font></code>. 
</p><p>The search also pipes the results of <code><font size="2">eval</font></code> into the <code><font size="2">stats</font></code> command to count the number of earthquakes and display the minimum and maximum magnitudes for each Description:
</p><p><img alt="Searchref eval usgsex1.1.png" src="images/0/0b/Searchref_eval_usgsex1.1.png" width="700" height="115"></p>
<h4><font size="3"><b><i> <a name="eval_example_3"><span class="mw-headline" id="Example_3"> Example 3 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example is designed to use the sample dataset from <b>"Get the tutorial data into Splunk"</b> topic of the Search Tutorial, but it should work with any format of Apache Web access log. Download the data set and follow the instructions in that topic to upload it to Splunk. Then, run this search using the time range <i>Other &gt; Yesterday</i>.
</td></tr></table><p>In this search, you're finding IP addresses and classifying the network they belong to.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | eval network=if(cidrmatch("192.0.0.0/16", clientip), "local", "other")</font></code><br></div>
<p>This example uses the <code><font size="2">cidrmatch()</font></code> function to compare the IP addresses in the <code><font size="2">clientip</font></code> field to a subnet range. The search also uses the <code><font size="2">if()</font></code> function, which says that if the value of <code><font size="2">clientip</font></code> falls in the subnet range, then <code><font size="2">network</font></code> is given the value <code><font size="2">local</font></code>. Otherwise, <code><font size="2">network=other</font></code>.
</p><p>The <code><font size="2">eval</font></code> command does not do any special formatting to your results -- it just creates a new field which takes the value based on the eval expression. After you run this search, use the fields sidebar to add the <code><font size="2">network</font></code> field to your results. Now you can see, inline with your search results, which IP addresses are part of your <code><font size="2">local</font></code> network and which are not. Your events list should look something like this:
</p><p><img alt="EvalEx2 events.png" src="images/8/8d/EvalEx2_events.png" width="700" height="276"></p><p><br>
Another option for formatting your results is to pipe the results of <code><font size="2">eval</font></code> to the <code><font size="2">table</font></code> command to display only the fields of interest to you. (See Example 1)
</p><p><b>Note:</b> This example just illustrates how to use the <code><font size="2">cidrmatch</font></code> function. If you want to classify your events and quickly search for those events, the better approach is to use event types. Read more <b>about event types</b> in the <i>Knowledge manager manual</i>.
</p>
<h4><font size="3"><b><i> <a name="eval_example_4"><span class="mw-headline" id="Example_4"> Example 4 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses generated email data (<code><font size="2">sourcetype=cisco_esa</font></code>). You should be able to run this example on any email data by replacing the <code><font size="2">sourcetype=cisco_esa</font></code> with your data's <code><font size="2">sourcetype</font></code> value and the <code><font size="2">mailfrom</font></code> field with your data's email address field name (for example, it might be <code><font size="2">To, From, or Cc</font></code>).
</td></tr></table><p>Use the email address field to extract the user's name and domain.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype="cisco_esa" mailfrom=* | eval accountname=split(mailfrom,"@") | eval from_user=mvindex(accountname,0) | eval from_domain=mvindex(accountname,-1) | table mailfrom, from_user, from_domain</font></code><br></div>
<p>This example uses the <code><font size="2">split()</font></code> function to break the <code><font size="2">mailfrom</font></code> field into a multivalue field called <code><font size="2">accountname</font></code>. The first value of <code><font size="2">accountname</font></code> is everything before the "@" symbol, and the second value is everything after. 
</p><p>The example then uses <code><font size="2">mvindex()</font></code> function to set <code><font size="2">from_user</font></code> and <code><font size="2">from_domain</font></code> to the first and second values of <code><font size="2">accountname</font></code>, respectively.
</p><p>The results of the <code><font size="2">eval</font></code> expressions are then piped into the <code><font size="2">table</font></code> command. You can see the the original <code><font size="2">mailfrom</font></code> values and the new <code><font size="2">from_user</font></code> and <code><font size="2">from_domain</font></code> values in the following results table:
</p><p><img alt="EvalEx4 results.png" src="images/f/fb/EvalEx4_results.png" width="700" height="283"></p><p><br><b>Note:</b> This example is really not that practical. It was written to demonstrate how to use an <code><font size="2">eval</font></code> function to identify the individual values of a multivalue fields. Because this particular set of email data did not have any multivalue fields, the example creates one (<code><font size="2">accountname</font></code>) from a single value field (<code><font size="2">mailfrom</font></code>).
</p><p><br></p>
<h4><font size="3"><b><i> <a name="eval_example_5"><span class="mw-headline" id="Example_5"> Example 5 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses generated email data (<code><font size="2">sourcetype=cisco_esa</font></code>). You should be able to run this example on any email data by replacing the <code><font size="2">sourcetype=cisco_esa</font></code> with your data's <code><font size="2">sourcetype</font></code> value and the <code><font size="2">mailfrom</font></code> field with your data's email address field name (for example, it might be <code><font size="2">To, From, or Cc</font></code>).
</td></tr></table><p>This example classifies where an email came from based on the email address's domain: .com, .net, and .org  addresses are considered <i>local</i>, while anything else is considered <i>abroad</i>. (Of course, domains that are not .com/.net/.org are not necessarily from <i>abroad</i>.)
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype="cisco_esa" mailfrom=*| eval accountname=split(mailfrom,"@") | eval from_domain=mvindex(accountname,-1) | eval location=if(match(from_domain, "[^\n\r\s]+\.(com|net|org)"), "local", "abroad") | stats count by location</font></code><br></div>
<p>The first half of this search is similar to Example 3. The <code><font size="2">split()</font></code> function is used to break up the email address in the <code><font size="2">mailfrom</font></code> field. The <code><font size="2">mvindex</font></code> function defines the <code><font size="2">from_domain</font></code> as the portion of the <code><font size="2">mailfrom</font></code> field after the <code><font size="2">@</font></code> symbol.
</p><p>Then, the <code><font size="2">if()</font></code> and <code><font size="2">match()</font></code> functions are used: if the <code><font size="2">from_domain</font></code> value ends with a <code><font size="2">.com, .net., or .org</font></code>, the <code><font size="2">location</font></code> field is assigned <code><font size="2">local</font></code>. If <code><font size="2">from_domain</font></code> does not match, <code><font size="2">location</font></code> is assigned <code><font size="2">abroad</font></code>.
</p><p>The <code><font size="2">eval</font></code> results are then piped into the <code><font size="2">stats</font></code> command to count the number of results for each <code><font size="2">location</font></code> value and produce the following results table:
</p><p><img alt="EvalEx5 resultsTable.png" src="images/f/f3/EvalEx5_resultsTable.png" width="700" height="137"></p><p><br>
After you run the search, you can add the <code><font size="2">mailfrom</font></code> and <code><font size="2">location</font></code> fields to your events to see the classification inline with your events. If your search results contain these fields, they will look something like this:
</p><p><img alt="EvalEx5 eventsList.png" src="images/f/ff/EvalEx5_eventsList.png" width="700" height="177"></p><p><br><b>Note:</b> This example merely illustrates using the <code><font size="2">match()</font></code> function. If you want to classify your events and quickly search for those events, the better approach is to use event types. Read more <b>about event types</b> in the <i>Knowledge manager manual</i>.
</p>
<h4><font size="3"><b><i> <a name="eval_example_6"><span class="mw-headline" id="Example_6"> Example 6 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial but should work with any format of Apache Web access log. Download the data set from <b>this topic in the Search Tutorial</b> and follow the instructions to upload it to Splunk. Then, run this search using the time range, <b>Other &gt; Yesterday</b>.
</td></tr></table><p>Reformat a numeric field measuring time in seconds into a more readable string format.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | transaction clientip maxspan=10m | eval durationstr=tostring(duration,"duration")</font></code><br></div>
<p>This example uses the <code><font size="2">tostring()</font></code> function and the <i>duration</i> option to convert the <code><font size="2">duration</font></code> of the transaction into a more readable string formatted as HH:MM:SS. The <code><font size="2">duration</font></code> is the time between the first and last events in the transaction and is given in seconds. 
</p><p>The search defines a new field, <code><font size="2">durationstr</font></code>, for the reformatted <code><font size="2">duration</font></code> value. After you run the search, you can use the Field picker to show the two fields inline with your events. If your search results contain these fields, they will look something like this:
</p><p><img alt="EvalEx4 eventsList.png" src="images/5/51/EvalEx4_eventsList.png" width="700" height="208"></p>
<h4><font size="3"><b><i> <a name="eval_more_examples"><span class="mw-headline" id="More_examples"> More examples </span></a></i></b></font></h4>
<p><b>Example A:</b> Set velocity to distance / time.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eval velocity=distance/time</font></code><br></div>
<p><b>Example B:</b> Set status to OK if error is 200; otherwise, Error.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eval status = if(error == 200, "OK", "Error")</font></code><br></div>
<p><b>Example C:</b> Set lowuser to the lowercase version of username.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eval lowuser = lower(username)</font></code><br></div>
<p><b>Example D:</b> Set sum_of_areas to be the sum of the areas of two circles
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eval sum_of_areas = pi() * pow(radius_a, 2) + pi() * pow(radius_b, 2)</font></code><br></div>
<p><b>Example E:</b> Set status to some simple http error codes.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eval error_msg = case(error == 404, "Not found", error == 500, "Internal Server Error", error == 200, "OK")</font></code><br></div>
<p><b>Example F:</b> Set full_name to the concatenation of first_name, a space, and last_name.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eval full_name = first_name." ".last_nameSearch</font></code><br></div>
<p><b>Example G:</b> Display timechart of the avg of cpu_seconds by processor rounded to 2 decimal places.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | timechart eval(round(avg(cpu_seconds),2)) by processor</font></code><br></div>
<p><b>Example H:</b> Convert a numeric field value to a string with commas and 2 decimal places. If the original value of x is 1000000, this returns x as 1,000,000.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eval x=tostring(x,"commas")</font></code><br></div>
<h3> <a name="eval_calculated_fields"><span class="mw-headline" id="Calculated_fields"> Calculated fields </span></a></h3>
<p>You can use calculated fields to move your commonly used eval statements out of your search string and into <code><font size="2">props.conf</font></code>, where they will be processed behind the scenes at search time. With calculated fields, you can change the search from <a href="#eval_example_4" class="external text">Example 4</a>, above, to:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype="cisco_esa" mailfrom=* | table mailfrom, from_user, from_domain</font></code><br></div>
<p>In this example, the three eval statements that were in the search--that defined the <code><font size="2">accountname</font></code>, <code><font size="2">from_user</font></code>, and <code><font size="2">from_domain</font></code> fields--are now computed behind the scenes when the search is run for any event that contains the extracted field <code><font size="2">mailfrom</font></code> field. You can also search on those fields independently once they're set up as calculated fields in <code><font size="2">props.conf</font></code>. You could search on <code><font size="2">from_domain=email.com</font></code>, for example.
</p><p>For more information about setting calculated fields up in <code><font size="2">props.conf</font></code>, see "Define calculated fields" in the Knowledge Manager Manual.
</p>
<h3> <a name="eval_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the eval command.
</p>
<a name="eventcount"></a><h2> <a name="eventcount_eventcount"><span class="mw-headline" id="eventcount"> eventcount </span></a></h2>
<p>The <code><font size="2">eventcount</font></code> returns the number of events that exist in an index that you specify. The <code><font size="2">eventcount</font></code> command is a generating command and should be the first command in the pipeline.
</p>
<dl><dd><b>Note:</b> You cannot use this command over different time ranges. 
</dd></dl><h3> <a name="eventcount_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Returns the number of events in specified indexes.
</p>
<h4><font size="3"><b><i> <a name="eventcount_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>| eventcount [index=&lt;string&gt;]... [summarize=&lt;bool&gt;] [report_size=&lt;bool&gt;] [list_vix=&lt;bool&gt;]
</p>
<h4><font size="3"><b><i> <a name="eventcount_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> index
</dt><dd> <b>Syntax:</b> index=&lt;string&gt;
</dd><dd> <b>Description:</b> A name of the index report on, or a wildcard matching many indexes to report on.  Can be provided multiple times, eg. <code><font size="2">index=* index=_*</font></code>  If no index option is provided, will report on the default index.
</dd></dl><dl><dt> list_vix
</dt><dd> <b>Syntax:</b> list_vix=&lt;bool&gt;
</dd><dd> <b>Description:</b>Specify whether or not to list virtual indexes. If False, it does not list virtual indexes. Defaults to True.
</dd></dl><dl><dt> report_size
</dt><dd> <b>Syntax:</b> report_size=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether or not to report the index size. If True, it reports the index size in bytes. Defaults to False.
</dd></dl><dl><dt> summarize
</dt><dd> <b>Syntax:</b> summarize=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specifies whether or not to summarize events across all peers and indexes. If False, it splits the event counts by index and search peer. Defaults to True.
</dd></dl><h3> <a name="eventcount_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Displays event count in the default indexes over all search peers.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| eventcount</font></code><br></div>
<p><b>Example 2:</b> Return the number of events in the internal default indexes with the size.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| eventcount summarize=false index=_* report_size=true</font></code><br></div>
<p><img alt="Searchref eventcount ex1.2.png" src="images/8/81/Searchref_eventcount_ex1.2.png" width="700" height="137"></p>
<dl><dd> <b>Note:</b> This size is not the same as the index size on disk.
</dd></dl><p><b>Example 3:</b> Gives event count by each index/server pair.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| eventcount summarize=false index=*</font></code><br></div>
<p><img alt="Searchref eventcount ex1.1.png" src="images/f/f7/Searchref_eventcount_ex1.1.png" width="700" height="169"></p><p>If you want to search for the internal indexes, you have to specify them separately:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| eventcount summarize=false index=* index=_*</font></code><br></div>
<h3> <a name="eventcount_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the eventcount command.
</p>
<a name="eventstats"></a><h2> <a name="eventstats_eventstats"><span class="mw-headline" id="eventstats"> eventstats </span></a></h2>
<h3> <a name="eventstats_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Adds summary statistics to all search results.
</p>
<h4><font size="3"><b><i> <a name="eventstats_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>eventstats [allnum=&lt;bool&gt;] &lt;stats-agg-term&gt;* [&lt;by clause&gt;]
</p>
<h4><font size="3"><b><i> <a name="eventstats_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;stats-agg-term&gt;
</dt><dd> <b>Syntax:</b> &lt;stats-func&gt;( &lt;evaled-field&gt; | &lt;wc-field&gt;  ) [AS &lt;wc-field&gt;]
</dd><dd> <b>Description:</b> A statistical specifier optionally renamed to a new field name. The specifier can be by an aggregation function applied to a field or set of fields or an aggregation function applied to an arbitrary eval expression.
</dd></dl><h4><font size="3"><b><i> <a name="eventstats_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> allnum
</dt><dd> <b>Syntax:</b> allnum=&lt;bool&gt;
</dd><dd> <b>Description:</b> If true, computes numerical statistics on each field if and only if all of the values of that field are numerical. Defaults to false. 
</dd></dl><dl><dt> &lt;by clause&gt;
</dt><dd> <b>Syntax:</b> by &lt;field-list&gt;
</dd><dd> <b>Description:</b> The name of one or more fields to group by.
</dd></dl><h4><font size="3"><b><i> <a name="eventstats_stats_functions_options"><span class="mw-headline" id="Stats_functions_options"> Stats functions options </span></a></i></b></font></h4>
<dl><dt> stats-function
</dt><dd> <b>Syntax:</b> avg() | c() | count() | dc() | distinct_count() | first() | last() | list() | max() | median() | min() | mode() | p&lt;in&gt;() | perc&lt;int&gt;() | per_day() | per_hour() | per_minute() | per_second() | range() | stdev() | stdevp() | sum() | sumsq() | values() | var() | varp()
</dd><dd> <b>Description:</b> Functions used with the stats command. Each time you invoke the <code><font size="2">stats</font></code> command, you can use more than one function; however, you can only use one <code><font size="2">by clause</font></code>. For a complete list of stats functions with descriptions and examples, see <a href="#commonstatsfunctions" class="external text">"Functions for stats, chart, and timechart"</a>.
</dd></dl><h3> <a name="eventstats_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Generate summary statistics of all existing fields in your search results and save them as values in new fields. Eventstats is similar to the <a href="#stats" class="external text">stats</a> command, except that aggregation results are added inline to each event and only if the aggregation is pertinent to that event.
</p><p>The limits.conf parameter max_mem_usage_mb is used to limit how much memory stats/eventstats uses to keep track of information. When eventstats reaches this limit, it will stop adding the requested fields to the search results. In this case, you can increase the limit. Alternatively, you can add more memory to your system.
</p>
<h3> <a name="eventstats_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Compute the overall average duration and add 'avgdur' as a new field to each event where the 'duration' field exists
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eventstats avg(duration) as avgdur</font></code><br></div>
<p><b>Example 2:</b> Same as Example 1 except that averages are calculated for each distinct value of date_hour and then each event gets the average for its particular value of date_hour.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eventstats avg(duration) as avgdur by date_hour</font></code><br></div>
<p><br><b>Example 3:</b> This searches for spikes in error volume. You can use this search to trigger an alert if the count of errors is higher than average, for example.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">eventtype="error" | eventstats avg(foo) as avg | where foo&gt;avg</font></code><br></div>
<h3> <a name="eventstats_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#stats" class="external text">stats</a>, <a href="#streamstats" class="external text">streamstats</a>
</p>
<h3> <a name="eventstats_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the eventstats command.
</p>
<a name="extract"></a><h2> <a name="extract_extract_.28kv.29"><span class="mw-headline" id="extract_.28kv.29"> extract (kv)</span></a></h2>
<h3> <a name="extract_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Extracts field-value pairs from search results.
</p>
<h4><font size="3"><b><i> <a name="extract_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>extract | kv &lt;extract-opt&gt;* &lt;extractor-name&gt;*
</p>
<h4><font size="3"><b><i> <a name="extract_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;extract-opt&gt;
</dt><dd> <b>Syntax:</b> clean_keys=&lt;bool&gt; | kvdelim=&lt;string&gt; | limit=&lt;int&gt; | maxchars=&lt;int&gt; | mv_add=&lt;bool&gt; | pairdelim=&lt;string&gt; | reload=&lt;bool&gt; | segment=&lt;bool&gt;
</dd><dd> <b>Description:</b> Options for defining the extraction.
</dd></dl><dl><dt> &lt;extractor-name&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> A stanza that can be found in transforms.conf. This is used when props.conf did not explicitly cause an extraction for this source, sourcetype, or host.
</dd></dl><h4><font size="3"><b><i> <a name="extract_extract_options"><span class="mw-headline" id="Extract_options"> Extract options </span></a></i></b></font></h4>
<dl><dt> clean_keys
</dt><dd> <b>Syntax:</b> clean_keys=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specifies whether to clean keys. Overrides CLEAN_KEYS from transforms.conf.
</dd></dl><dl><dt> kvdelim
</dt><dd> <b>Syntax:</b> kvdelim=&lt;string&gt;
</dd><dd> <b>Description:</b> Specify a list of character delimiters that separate the key from the value.
</dd></dl><dl><dt> limit
</dt><dd> <b>Syntax:</b> limit=&lt;int&gt;
</dd><dd> <b>Description:</b> Specifies how many automatic key/value pairs to extract. Defaults to 50.
</dd></dl><dl><dt> maxchars
</dt><dd> <b>Syntax:</b> maxchars=&lt;int&gt;
</dd><dd> <b>Description:</b> Specifies how many characters to look into the event. Defaults to 10240.
</dd></dl><dl><dt> mv_add
</dt><dd> <b>Syntax:</b> mv_add=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specifies whether to create multivalued fields. Overrides MV_ADD from transforms.conf.
</dd></dl><dl><dt> pairdelim
</dt><dd> <b>Syntax:</b> pair=&lt;string&gt;
</dd><dd> <b>Description:</b> Specify a list of character delimiters that separate the key-value pairs from each other.
</dd></dl><dl><dt> reload
</dt><dd> <b>Syntax:</b> reload=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specifies whether to force reloading of props.conf and transforms.conf. Defaults to false.
</dd></dl><dl><dt> segment
</dt><dd> <b>Syntax:</b> segment=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specifies whether to note the locations of key/value pairs with the results. Defaults to false.
</dd></dl><h3> <a name="extract_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Forces field-value extraction on the result set.
</p>
<h3> <a name="extract_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Extract field/value pairs that are delimited by "|;", and values of fields that are delimited by "=:".  Note that the delimiters are individual characters.   So in this example the "=" or ":" will be used to delimit the key value.  Similarly, a "|" or ";" will be used to delimit against the pair itself.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | extract pairdelim="|;", kvdelim="=:"</font></code><br></div>
<p><b>Example 2:</b> Extract field/value pairs and reload field extraction settings from disk.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | extract reload=true</font></code><br></div>
<p><b>Example 3:</b> Extract field/value pairs that are defined in the transforms.conf stanza 'access-extractions'.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | extract access-extractions</font></code><br></div>
<h3> <a name="extract_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#kvform" class="external text">kvform</a>, <a href="#multikv" class="external text">multikv</a>, <a href="#rex" class="external text">rex</a>, <a href="#xmlkv" class="external text">xmlkv</a>,
</p>
<h3> <a name="extract_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the extract command.
</p>
<a name="fieldformat"></a><h2> <a name="fieldformat_fieldformat"><span class="mw-headline" id="fieldformat"> fieldformat </span></a></h2>
<h3> <a name="fieldformat_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">fieldformat</font></code> command lets you to use <code><font size="2">eval</font></code> expressions to change the format of a field value when the results render, without changing the underlying value of the field. Later commands cannot modify the formatted value.
</p><p><b>Note:</b> The <code><font size="2">fieldformat</font></code> command does not apply to commands that export data, such as outputcsv and outputlookup, because the export retains the original data format rather than the rendered format. If you want the format to apply to exported data, use the <code><font size="2">eval</font></code> command instead instead of <code><font size="2">fieldformat</font></code>.
</p><p><br></p>
<h3> <a name="fieldformat_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>fieldformat &lt;field&gt;=&lt;eval-expression&gt;
</p>
<h4><font size="3"><b><i> <a name="fieldformat_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;field&gt;
</dt><dd> <b>Description:</b> The name of a new or existing field, non-wildcarded, for the output of the eval expression.
</dd></dl><dl><dt> &lt;eval-expression&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt; 
</dd><dd> <b>Description:</b> A combination of values, variables, operators, and functions that represent the value of your destination field. For more information, see the <a href="#eval" class="external text">eval command reference</a> and the <a href="#commonevalfunctions" class="external text">list of eval functions</a>.
</dd></dl><h3> <a name="fieldformat_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return <a href="#metadata" class="external text">metadata</a> results for the sourcetypes in the main index. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| metadata type=sourcetypes | rename totalCount as Count firstTime as "First Event" lastTime as "Last Event" recentTime as "Last Update" | table sourcetype Count "First Event" "Last Event" "Last Update"</font></code><br></div>
<p>The fields are also renamed; but without fieldformat, the time fields display in Unix time:
</p><p><img alt="Searchref fieldformat ex1.1.png" src="images/0/07/Searchref_fieldformat_ex1.1.png" width="700" height="125"></p><p>Now use fieldformat to reformat the time fields firstTime, lastTime, and recentTime:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| metadata type=sourcetypes | rename totalCount as Count firstTime as "First Event" lastTime as "Last Event" recentTime as "Last Update" | table sourcetype Count "First Event" "Last Event" "Last Update" | fieldformat Count=tostring(Count, "commas") | fieldformat "First Event"=strftime('First Event', "%c") | fieldformat "Last Event"=strftime('Last Event', "%c") | fieldformat "Last Update"=strftime('Last Update', "%c")</font></code><br></div>
<p>Note that fieldformat is also used to reformat the Count field to display with commas. The results are more readable:
</p><p><img alt="Searchref fieldformat ex1.2.png" src="images/3/38/Searchref_fieldformat_ex1.2.png" width="700" height="138"></p><p><br></p><p><b>Example 2:</b> Specify that the start_time should be rendered by taking the value of start_time (assuming it is an epoch number) and rendering it to display just the hours minutes and seconds corresponding to that epoch time.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | fieldformat start_time = strftime(start_time, "%H:%M:%S")</font></code><br></div>
<h3> <a name="fieldformat_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#eval" class="external text">eval</a>, <a href="#where" class="external text">where</a>
</p>
<h3> <a name="fieldformat_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the fieldformat command.
</p>
<a name="fields"></a><h2> <a name="fields_fields"><span class="mw-headline" id="fields"> fields </span></a></h2>
<h3> <a name="fields_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Keeps (+) or removes (-) fields  from search results based on the field list criteria. If <tt>+</tt> is specified, only the fields that match one of the fields in the list are kept. If <tt>-</tt> is specified, only the fields that match one of the fields in the list are removed. If neither is specified, defaults to <tt>+</tt>.
</p><p><b>Important:</b> The leading underscore is reserved for all internal Splunk field names, such as <code><font size="2">_raw and _time</font></code>. By default, internal fields <code><font size="2">_raw and _time</font></code> are included in output.  The <code><font size="2">fields</font></code> command does not remove internal fields unless explicitly specified with:
</p><p><code><font size="2">... | fields - _*</font></code>
</p><p>or more explicitly, with:
</p><p><code><font size="2">... | fields - _raw,_time</font></code>
</p><p><b>Note:</b> DO NOT remove the <code><font size="2">_time</font></code> field when you pipe results to statistical commands. Timechart or chart by time cannot work without _time
</p>
<h3> <a name="fields_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>fields [+|-] &lt;wc-field-list&gt;
</p>
<h4><font size="3"><b><i> <a name="fields_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;wc-field-list&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;, ...
</dd><dd> <b>Description:</b> Comma-delimited list of fields to keep (+) or remove (-); can include wildcards.
</dd></dl><h3> <a name="fields_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Remove the "host" and "ip" fields.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | fields - host, ip</font></code><br></div>
<p><b>Example 2:</b> Keep <i>only</i> the "host" and "ip" fields, and display them in the order: "host", "ip". Note that this also removes the internal fields, which begin with an underscore (such as _time).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | fields host, ip | fields - _*</font></code><br></div>
<p><b>Example 3:</b> Keep only the fields 'source', 'sourcetype', 'host', and all fields beginning with 'error'.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | fields source, sourcetype, host, error*</font></code><br></div>
<h3> <a name="fields_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#rename" class="external text">rename</a>,
<a href="#table" class="external text">table</a>
</p>
<h3> <a name="fields_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the fields command.
</p>
<a name="fieldsummary"></a><h2> <a name="fieldsummary_fieldsummary"><span class="mw-headline" id="fieldsummary"> fieldsummary </span></a></h2>
<h3> <a name="fieldsummary_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The fieldsummary command calculates summary statistics for all fields or a subset of the fields in your events. The summary information is displayed as a results table and includes the following calculations:
</p>
<table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0">Field name
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td valign="center" align="left"> <code><font size="2">field</font></code>
</td><td valign="center" align="left"> The field name in the event.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">count</font></code>
</td><td valign="center" align="left"> The number of events/results with that field.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">distinct count</font></code>
</td><td valign="center" align="left"> The number of unique values in the field.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">is_exact</font></code>
</td><td valign="center" align="left"> Whether or not the field is exact. This is related to the distinct count of the field values.  If the number of values of the field exceeds <code><font size="2">maxvals</font></code>, then <code><font size="2">fieldsummary</font></code> will stop retaining all the values and compute an approximate distinct count instead of an exact one. 1 means it is exact, 0 means it is not.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">max</font></code>
</td><td valign="center" align="left"> If the field is numeric, the maximum of its value.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">mean</font></code>
</td><td valign="center" align="left"> If the field is numeric, the mean of its values.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">min</font></code>
</td><td valign="center" align="left"> If the field is numeric, the minimum of its values.
</td></tr><tr><td valign="center" align="left"> <code><font size="2">numeric count</font></code>
</td><td valign="center" align="left"> The count of numeric values in the field. This would not include NULL values.
</td></tr><tr><td valign="center" align="left"><code><font size="2">stdev</font></code>
</td><td valign="center" align="left"> If the field is numeric, the standard deviation of its values.
</td></tr><tr><td valign="center" align="left"><code><font size="2">values</font></code>
</td><td valign="center" align="left"> The distinct values of the field and count of each value.
</td></tr></table><h3> <a name="fieldsummary_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>fieldsummary [maxvals=&lt;num&gt;] [&lt;wcfield-list&gt;]
</p>
<h4><font size="3"><b><i> <a name="fieldsummary_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> maxvals
</dt><dd> <b>Syntax:</b> maxvals=&lt;num&gt;
</dd><dd> <b>Description:</b> Specifies the maximum distinct values to return for each field. 
</dd><dd> <b>Default</b>: 100
</dd></dl><dl><dt> wcfield-list
</dt><dd> <b>Description:</b> A field or list of fields that can include wildcarded fields.
</dd></dl><h3> <a name="fieldsummary_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return summaries for all fields.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal earliest=-15m latest=now | fieldsummary </font></code><br></div>
<p><img alt="Fieldsummary example1.png" src="images/e/e6/Fieldsummary_example1.png" width="800" height="235"></p><p><br><b>Example 2:</b> Returns summaries for fields with names that contain "size" and "count" and return only the top 10 values for each field.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal earliest=-15m latest=now | fieldsummary maxvals=10 *size* *count*</font></code><br></div>
<p><img alt="Fieldsummary example2.png" src="images/7/74/Fieldsummary_example2.png" width="800" height="231"></p>
<h3> <a name="fieldsummary_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p>af, anomalies, anomalousvalue, stats
</p>
<h3> <a name="fieldsummary_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has about using the fieldsummary command.
</p>
<a name="filldown"></a><h2> <a name="filldown_filldown"><span class="mw-headline" id="filldown"> filldown </span></a></h2>
<h3> <a name="filldown_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Replaces null values with the last non-null value for a field or set of fields. If no list of fields is given, the filldown command will be applied to all fields. If there were not any previous values for a field, it is left blank (NULL).
</p>
<h3> <a name="filldown_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>filldown &lt;wc-field-list&gt;
</p>
<h3> <a name="filldown_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Filldown null values values for all fields.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | filldown</font></code><br></div>
<p><b>Example 2:</b> Filldown null values for the count field only.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | filldown count</font></code><br></div>
<p><b>Example 3:</b> Filldown null values for the count field and any field that starts with 'score'.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | filldown count score*</font></code><br></div>
<h3> <a name="filldown_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#fillnull" class="external text">fillnull</a> 
</p>
<h3> <a name="filldown_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the filldown command.
</p>
<a name="fillnull"></a><h2> <a name="fillnull_fillnull"><span class="mw-headline" id="fillnull"> fillnull </span></a></h2>
<h3> <a name="fillnull_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Replaces null values with a specified value. Null values are field values that are missing in a particular result but present in another result. Use <code><font size="2">fillnull</font></code> to replace null field values with a string. If you do not specify a field list, <code><font size="2">fillnull</font></code> replaces all null values with 0 (the default) or a user-supplied string.
</p>
<h3> <a name="fillnull_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>fillnull [value=<i>string</i>] [&lt;field-list&gt;]
</p>
<h4><font size="3"><b><i> <a name="fillnull_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> field-list
</dt><dd> <b>Syntax:</b> &lt;field&gt;...
</dd><dd> <b>Description:</b> One or more fields, delimited with a space. If not specified, fillnull is applied to all fields.
</dd></dl><dl><dt> value
</dt><dd> <b>Datatype:</b> value=&lt;string&gt;
</dd><dd> <b>Description:</b> Specify a string value to replace null values. 
</dd><dd> <b>Default</b>: 0
</dd></dl><h3> <a name="fillnull_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> For the current search results, fill all empty fields with NULL.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | fillnull value=NULL</font></code><br></div>
<p><b>Example 2:</b> For the current search results, fill all empty field values of "foo" and "bar" with NULL.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | fillnull value=NULL foo bar</font></code><br></div>
<p><b>Example 3:</b> For the current search results, fill all empty fields with zero.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | fillnull</font></code><br></div>
<p><b>Example 4:</b> Build a time series chart of web events by host and fill all empty fields with NULL.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype="web" | timechart count by host | fillnull value=NULL</font></code><br></div>
<h3> <a name="fillnull_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#streamstats" class="external text">streamstats</a>
</p>
<h3> <a name="fillnull_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the fillnull command.
</p>
<a name="findkeywords"></a><h2> <a name="findkeywords_findkeywords"><span class="mw-headline" id="findkeywords"> findkeywords</span></a></h2>
<h3> <a name="findkeywords_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Given some integer labeling of events into groups, finds searches to generate these groups.
</p>
<h4><font size="3"><b><i> <a name="findkeywords_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>findkeywords labelfield=&lt;field&gt;
</p>
<h4><font size="3"><b><i> <a name="findkeywords_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> labelfield
</dt><dd> <b>Syntax:</b> labelfield=&lt;field&gt;
</dd><dd> <b>Description:</b> A field name.
</dd></dl><h3> <a name="findkeywords_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Use the <code><font size="2">findkeywords</font></code> command after the <code><font size="2"><a href="#cluster" class="external text">cluster</a></font></code> command, or a similar command that groups events. The <code><font size="2">findkeyword</font></code> command takes a set of results with a field (labelfield) that supplies a partition of the results into a set of groups. The command derives a search to generate each of these groups. This search can be saved as an <b>event type</b>.
</p><p><br></p>
<h3> <a name="findkeywords_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> This search takes advantage of what Splunk logs about itself in the _internal index. It returns all logs where the log_level is DEBUG, WARN, ERROR, FATAL and clusters them together.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal source=*splunkd.log* log_level!=info | cluster showcount=t | findkeywords labelfield=cluster_count</font></code><br></div>
<p><br>
The result is a statistics table:
</p><p><img alt="Findkeywords ex1.png" src="images/c/ca/Findkeywords_ex1.png" width="700" height="286"></p><p>The values of <code><font size="2">groupID</font></code> are the values of <code><font size="2">cluster_count</font></code> returned from the <code><font size="2">cluster</font></code> command.
</p>
<h3> <a name="findkeywords_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><code><font size="2"><a href="#cluster" class="external text">cluster</a></font></code>, <code><font size="2"><a href="#findtypes" class="external text">findtypes</a></font></code>
</p>
<h3> <a name="findkeywords_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has about using the findkeywords command.
</p>
<a name="findtypes"></a><h2> <a name="findtypes_findtypes"><span class="mw-headline" id="findtypes"> findtypes</span></a></h2>
<h3> <a name="findtypes_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Generates suggested event types by taking the results of a search and producing a list of potential event types. At most, 5000 events are analyzed for discovering event types.
</p>
<h3> <a name="findtypes_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>findtypes max=&lt;int&gt; [notcovered] [useraw]
</p>
<h4><font size="3"><b><i> <a name="findtypes_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> max
</dt><dd> <b>Datatype:</b> &lt;int&gt;
</dd><dd> <b>Description:</b> The maximum number of events to return. 
</dd><dd> <b>Default</b>: 10
</dd></dl><h4><font size="3"><b><i> <a name="findtypes_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> notcovered
</dt><dd> <b>Description:</b> If this keyword is used, findtypes returns only event types that are not already covered.
</dd></dl><dl><dt> useraw
</dt><dd> <b>Description:</b> If this keyword is used, findtypes uses phrases in the _raw text of events to generate event types.
</dd></dl><h3> <a name="findtypes_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Discover 10 common event types.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | findtypes</font></code><br></div>
<p><b>Example 2:</b> Discover 50 common event types and add support for looking at text phrases.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | findtypes max=50 useraw</font></code><br></div>
<h3> <a name="findtypes_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#typer" class="external text">typer</a>
</p>
<h3> <a name="findtypes_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the findtypes command.
</p>
<a name="folderize"></a><h2> <a name="folderize_folderize"><span class="mw-headline" id="folderize"> folderize </span></a></h2>
<h3> <a name="folderize_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Creates a higher-level grouping, such as replacing filenames with directories. Replaces the <tt>attr</tt> attribute value with a more generic value, which is the result of grouping it with other values from other results, where grouping occurs by tokenizing the attr value on the sep separator value. 
</p><p>For example, the <code><font size="2">folderize</font></code> command can group search results, such as those used on the Splunk homepage, to list hierarchical buckets (e.g. directories or categories). Rather than listing 200 sources on the Splunk homepage, folderize breaks the source strings by a separator (e.g. <tt>/</tt>) and determines if looking at just directories results in the number of results requested.
</p>
<h3> <a name="folderize_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>folderize attr=&lt;string&gt; [sep=&lt;string&gt;] [size=&lt;string&gt;] [minfolders=&lt;int&gt;] [maxfolders=&lt;int&gt;]
</p>
<h4><font size="3"><b><i> <a name="folderize_arguments"><span class="mw-headline" id="Arguments"> Arguments </span></a></i></b></font></h4>
<dl><dt> attr
</dt><dd> <b>Syntax:</b> attr=&lt;string&gt;
</dd><dd> <b>Description:</b> Replaces the <tt>attr</tt> attribute value with a more generic value, which is the result of grouping it with other values from other results, where grouping occurs by tokenizing the attribute (attr) value on the separator (sep) value.
</dd></dl><dl><dt> sep
</dt><dd> <b>Syntax:</b> sep=&lt;string&gt;
</dd><dd> <b>Description:</b> Specify a separator character used to construct output field names when multiple data series are used in conjunctions with a split-by field. 
</dd><dd> <b>Default</b>:&nbsp;::
</dd><dt> size
</dt><dd> <b>Syntax:</b> size=&lt;string&gt;
</dd><dd> <b>Description:</b> Supply a name to be used for the size of the folder. 
</dd><dd> <b>Default</b>: totalCount
</dd><dt> minfolders
</dt><dd> <b>Syntax:</b> minfolders=&lt;int&gt;
</dd><dd> <b>Description:</b> Set the minimum number of folders to group. 
</dd><dd> <b>Default:</b> 2
</dd></dl><dl><dt> maxfolders
</dt><dd> <b>Syntax:</b> maxfolders=&lt;int&gt;
</dd><dd> <b>Description:</b> Set the maximum number of folders to group. 
</dd><dd> <b>Default:</b> 20
</dd></dl><h3> <a name="folderize_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Collapse the sources into 20 folders.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| metadata type=sources | folderize maxfolders=20 attr=source sep="/"| sort totalCount d</font></code><br></div>
<p><b>Example 2:</b> Group results into folders based on the uri.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal | stats count(uri) by uri | folderize size=count(uri) attr=uri   sep="/"</font></code><br></div>
<h3> <a name="folderize_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the folderize command.
</p>
<a name="foreach"></a><h2> <a name="foreach_foreach"><span class="mw-headline" id="foreach"> foreach</span></a></h2>
<h3> <a name="foreach_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Runs a templated streaming subsearch for each field in a wildcarded field list.
</p>
<h3> <a name="foreach_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>foreach &lt;wc-field&gt; [fieldstr=&lt;string&gt;] [matchstr=&lt;string&gt;] [matchseg1=&lt;string&gt;] [matchseg2=&lt;string&gt;] [matchseg3=&lt;string&gt;] &lt;subsearch&gt;
</p>
<h4><font size="3"><b><i> <a name="foreach_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> wc-field
</dt><dd> <b>Syntax:</b> &lt;field&gt; &lt;field&gt;...
</dd><dd> <b>Description:</b> A list of field names that can include wildcards.
</dd></dl><dl><dt> subsearch
</dt><dd> <b>Syntax:</b> [ subsearch ]
</dd><dd> <b>Description:</b> A subsearch that includes a template for replacing values of the wildcarded fields
</dd></dl><h4><font size="3"><b><i> <a name="foreach_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> fieldstr
</dt><dd> <b>Syntax:</b> fieldstr=&lt;string&gt;
</dd><dd> <b>Description:</b> Replaces &lt;&lt;FIELD&gt;&gt; with the whole field name.
</dd></dl><dl><dt> matchstr
</dt><dd> <b>Syntax:</b> matchstr=&lt;string&gt;
</dd><dd> <b>Description:</b> Replaces &lt;&lt;MATCHSTR&gt;&gt; with part of the field name that matches wildcard(s) in the specifier.
</dd></dl><dl><dt> matchseg1
</dt><dd> <b>Syntax:</b> matchseg1=&lt;string&gt;
</dd><dd> <b>Description:</b> Replaces &lt;&lt;MATCHSEG1&gt;&gt; with part of the field name that matches the first wildcard.
</dd></dl><dl><dt> matchseg2
</dt><dd> <b>Syntax:</b> matchseg2=&lt;string&gt;
</dd><dd> <b>Description:</b> Replaces &lt;&lt;MATCHSEG2&gt;&gt; with part of the field name that matches the second wildcard.
</dd></dl><dl><dt> matchseg3
</dt><dd> <b>Syntax:</b> matchseg3=&lt;string&gt;
</dd><dd> <b>Description:</b> Replaces &lt;&lt;MATCHSEG3&gt;&gt; with part of the field name that matches the third wildcard.
</dd></dl><h3> <a name="foreach_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1.</b> Add together all fields with a name that starts with "test" into a total field. The result should be <code><font size="2">total=6</font></code>. 
</p><p><b>a.</b>
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2"> ... | eval total=0 | eval test1=1 | eval test2=2 | eval test3=3 | foreach test* [eval total=total + &lt;&lt;FIELD&gt;&gt;]</font></code><br></div>
<p><b>b.</b>
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2"> ... | eval total=0 | eval test1-1=1 | eval test1-2=2 | eval test1-3=3 | foreach test* [eval total=total + '&lt;&lt;FIELD&gt;&gt;']</font></code><br></div>
<p>The &lt;&lt;FIELD&gt;&gt; token in the foreach subsearch is just a string replacement of the field names (test*). The  eval expression does not recognize field names with non-alphanumeric characters unless the field names are surrounded by single quotes. Thus, the eval expression in the subsearch of 1a is invalid for 1b because the field names test1-1 and test1-2 include a non-alphanumeric character. For the eval expression to work, &lt;&lt;FIELD&gt;&gt; needs to be surrounded by single quotes.
</p><p><b>Example 2.</b> Use the foreach command to monitor license usage. Run the following search on the license master to return the daily license usage per sourcetype in <b>bytes</b>:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal source=*license_usage.log type!="*Summary" earliest=-30d
| timechart span=1d sum(b) AS daily_bytes by st</font></code><br></div>
<p>Use the foreach command to calculate the daily license usage in <b>gigabytes</b> for each field:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal source=*license_usage.log type!="*Summary" earliest=-30d
<p>| timechart span=1d sum(b) AS daily_bytes by st
</p>
| foreach * [eval &lt;&lt;FIELD&gt;&gt;='&lt;&lt;FIELD&gt;&gt;'/1024/1024/1024]</font></code><br></div>
<p><b>Example 3.</b> Add each field that matches foo* to the corresponding bar* and write the result to a new_* field. For example, new_X = fooX + barX.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2"> ... | foreach foo* [eval new_&lt;&lt;MATCHSTR&gt;&gt; = &lt;&lt;FIELD&gt;&gt; + bar&lt;&lt;MATCHSTR&gt;&gt;] </font></code><br></div>
<p><b>Example 4.</b> Equivalent to <code><font size="2">... | eval foo="foo" | eval bar="bar" | eval baz="baz"</font></code>
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | foreach foo bar baz [eval &lt;&lt;FIELD&gt;&gt; = "&lt;&lt;FIELD&gt;&gt;"]</font></code><br></div>
<p><b>Example 5.</b> For the field, fooXbarY, this is equivalent to: <code><font size="2">... | eval fooXbarY = "X"</font></code>
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2"> ... | foreach foo*bar* fieldstr="#field#" matchseg2="#matchseg2#" [eval #field# = "#matchseg2#"]</font></code><br></div>
<h3> <a name="foreach_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#eval" class="external text">eval</a>, <a href="#map" class="external text">map</a>
</p>
<h3> <a name="foreach_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has about using the foreach command.
</p>
<a name="format"></a><h2> <a name="format_format"><span class="mw-headline" id="format"> format </span></a></h2>
<h3> <a name="format_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Takes the results of a <b>subsearch</b> and formats them into a single result.
</p>
<h4><font size="3"><b><i> <a name="format_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>format ["&lt;string&gt;" "&lt;string&gt;" "&lt;string&gt;" "&lt;string&gt;" "&lt;string&gt;" "&lt;string&gt;"]
</p>
<h4><font size="3"><b><i> <a name="format_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;string&gt;
</dt><dd> <b>Syntax:</b> "&lt;string&gt;"
</dd><dd> <b>Description:</b> These six optional string arguments correspond to: ["&lt;row prefix&gt;" "&lt;column prefix&gt;" "&lt;column separator&gt;" "&lt;column end&gt;" "&lt;row separator&gt;" "&lt;row end&gt;"]. By default, when you don't specify any strings, the format output defaults to: <code><font size="2">"(" "(" "AND" ")" "OR" ")"</font></code>
</dd></dl><h3> <a name="format_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Used implicitly by subsearches, to take the search results of a subsearch and return a single result that is a query built from the input search results.
</p>
<h3> <a name="format_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Get top 2 results and create a search from their host, source and sourcetype, resulting in a single search result with a "query" field: <code><font size="2">query=( ( "host::mylaptop" AND "source::syslog.log" AND "sourcetype::syslog" ) OR ( "host::bobslaptop" AND "source::bob-syslog.log" AND "sourcetype::syslog" ) )
</font></code></p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | head 2 | fields source, sourcetype, host | format</font></code><br></div>
<p><b>Example 2:</b> Increase the maximum number of events from the default to 2000 for a subsearch to use in generating a search.
</p><p>In limits.conf:
</p>
<code><font size="2"><br>[format]<br>maxresults = 2000<br></font></code>
<p>and in the subsearch:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | head 2 | fields source, sourcetype, host | format maxresults=2000</font></code><br></div>
<h3> <a name="format_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#search" class="external text">search</a> 
</p>
<h3> <a name="format_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the format command.
</p>
<a name="gauge"></a><h2> <a name="gauge_gauge"><span class="mw-headline" id="gauge"> gauge</span></a></h2>
<p>The gauge chart types enable you to see a single numerical value mapped against a range of colors that may have particular business meaning or business logic. As the value changes over time, the gauge marker changes position within this range. 
</p><p>The gauge command enables you to indicate the field whose value will be tracked by the gauge chart. You can define the overall numerical range represented by the gauge, and you can define the size of the colored bands within that range. If you want to use the color bands, you can add four "range values" to the search string that indicate the beginning and end of the range as well as the relative sizes of the color bands within it.
</p><p>Read more about using the gauge command with the gauge chart type in the Visualization Reference's subsection about Charts in the Data Visualization Manual.
</p>
<h3> <a name="gauge_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Transforms results into a format suitable for display by the Gauge chart types.
</p>
<h4><font size="3"><b><i> <a name="gauge_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>gauge &lt;value&gt; [&lt;range_val1&gt; &lt;range_val2&gt;...]
</p>
<h4><font size="3"><b><i> <a name="gauge_arguments"><span class="mw-headline" id="Arguments"> Arguments </span></a></i></b></font></h4>
<dl><dt> value
</dt><dd> <b>Description:</b> A numeric field or literal number to use as the current value of the gauge.  A named field will retrieve the value from the first input result.
</dd></dl><dl><dt> range_val1, range_val2...
</dt><dd> <b>Description:</b> A list of two or more numeric fields or numbers to use as the displayed range of the gauge.  Each parameter may be independently a field name or a literal number.   Field names will be retrieved from the first input result.  The total range of the gauge will be from the first range_val to the last.  If there are more than three range_val parameters, the ranges between each set of values will be visually distinguished in the output.  The default range is 0 to 100, and will be used if no range values are provided.
</dd></dl><h3> <a name="gauge_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Each argument must be either a real number or the name of a numeric field.  The first argument is the value of the gauge.
</p><p>Values after the first define a range for the gauge to display.  If range values are provided they must be two or more in number.  The gauge will begin at the first value provided, and end at the final value provided.  Intermediate range values will be used to split the total range into sub-ranges which will be visually distinct.  
</p><p>If no range values are provided, the range will default to a low value of 0 and a high value of 100. 
</p><p>A single range value is meaningless and will be ignored.
</p><p><br>
The output of the gauge command is a single result, where the value is in a field called x, and the ranges are expressed as a series of fields called y1, y2, etc.
</p>
<h3> <a name="gauge_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Count the number of events and display the count on a gauge with 4 regions, (0-750, 750-1000, 1000-1250,1250-1500).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal | stats count as myCount | gauge myCount 750 1000 1250 1500</font></code><br></div>
<p><img alt="Radial gauge example-1.png" src="images/9/9a/Radial_gauge_example-1.png" width="309" height="288"></p><p>There are three types of gauges that you can choose from: radial, filler, and marker. You can see more examples of gauges in the Visualization Reference's subsection about Charts in the Data Visualization Manual.
</p>
<h3> <a name="gauge_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#eval" class="external text">eval</a>, <a href="#stats" class="external text">stats</a>
</p>
<h3> <a name="gauge_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the gauge command.
</p>
<a name="gentimes"></a><h2> <a name="gentimes_gentimes"><span class="mw-headline" id="gentimes"> gentimes </span></a></h2>
<h3> <a name="gentimes_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Generates time range results. This command is useful in conjunction with the <a href="#map" class="external text">map</a> command.
</p>
<h4><font size="3"><b><i> <a name="gentimes_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>gentimes start=&lt;timestamp&gt; [end=&lt;timestamp&gt;] [&lt;increment&gt;]
</p>
<h4><font size="3"><b><i> <a name="gentimes_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> start
</dt><dd> <b>Syntax:</b> start=&lt;timestamp&gt;
</dd><dd> <b>Description:</b> Specify as start time.
</dd></dl><dl><dt> &lt;timestamp&gt;
</dt><dd> <b>Syntax:</b> MM/DD/YYYY(:HH:MM:SS)?|&lt;int&gt;
</dd><dd> <b>Description:</b> Indicate the time, for example: 10/1/2007:12:34:56 (for October 1, 2007 12:34:56) or -5 (five days ago).
</dd></dl><h4><font size="3"><b><i> <a name="gentimes_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> end
</dt><dd> <b>Syntax:</b> end=&lt;timestamp&gt;
</dd><dd> <b>Description:</b> Specify and end time. Defaults to midnight prior to the current time in local time.
</dd></dl><dl><dt> increment
</dt><dd> <b>Syntax:</b> increment=&lt;int&gt;(s|m|h|d)
</dd><dd> <b>Description:</b> Specify a time period to increment from the start time to the end time. Defaults to 1d.
</dd></dl><h3> <a name="gentimes_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Generates timestamp results starting with the exact time specified as start time.  Each result will describe an adjacent, non-overlapping time range as indicated by the increment value, until enough results are generated to pass the endtime value.
</p><p>For example, 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| gentimes start=10/1/07 end=10/5/07 </font></code><br></div>
<p>will generate four intervals covering one day periods aligning with the calendar days October 1, 2, 3, and 4, during 2007.
</p><p>This command does not work for future dates.
</p>
<h3> <a name="gentimes_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> All HOURLY time ranges from Oct 1 till Oct 5.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| gentimes start=10/1/07 end=10/5/07 increment=1h</font></code><br></div>
<p><b>Example 2:</b> All daily time ranges from 30 days ago until 27 days ago.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| gentimes start=-30 end=-27</font></code><br></div>
<p><b>Example 3:</b> All daily time ranges from Oct 1 till Oct 5.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| gentimes start=10/1/07 end=10/5/07</font></code><br></div>
<p><b>Example 4:</b> All daily time ranges from Oct 25 till today.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| gentimes start=10/25/07</font></code><br></div>
<p><br></p>
<h3> <a name="gentimes_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#map" class="external text">map</a> 
</p>
<h3> <a name="gentimes_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the gentimes command.
</p>
<a name="geostats"></a><h2> <a name="geostats_geostats"><span class="mw-headline" id="geostats"> geostats</span></a></h2>
<p>You can use the geostats command to generate statistics to display geographic data and summaries on maps directly within Splunk Enterprise. To do so, first run your reporting search with geostats, save it as a report or to a dashboard, then edit the Simple XML to include the &lt;map&gt; visualization element. For more information, see:
</p>
<ul><li> "Visualization reference" in the Splunk Data Visualizations Manual.
</li><li> The &lt;map&gt; element in the Simple XML Reference.
</li></ul><h3> <a name="geostats_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>geostats [translatetoxy=&lt;bool&gt;] [latfield=&lt;string&gt;] [longfield=&lt;string&gt;] [globallimit=&lt;int&gt;] [locallimit=&lt;int&gt;] [outputlatfield=&lt;string&gt;] [outputlongfield=&lt;string&gt;] [ binspanlat=&lt;float&gt; binspanlong=&lt;float&gt; ] [maxzoomlevel=&lt;int&gt;] &lt;stats-agg-term&gt; [AS &lt;rename&gt;] [by &lt;split-by-fields&gt;]
</p>
<h4><font size="3"><b><i> <a name="geostats_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;stats-agg-term&gt;
</dt><dd> <b>Syntax:</b> &lt;stats-agg-term&gt; [AS &lt;rename&gt;]
</dd><dd> <b>Description:</b> Specify an aggregator or function. You can specify one or multiple functions and optionally, rename the field. For a list of stats functions with descriptions and examples, see <a href="#commonstatsfunctions" class="external text">"Functions for stats, chart, and timechart"</a>. 
</dd></dl><h4><font size="3"><b><i> <a name="geostats_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> binspanlat
</dt><dd> <b>Syntax:</b> binspanlat=&lt;float&gt;
</dd><dd> <b>Description:</b> The size of the bins in latitude degrees at the lowest zoom level. Defaults to 22.5. With default binspanlong=45.0, leads to a grid size of 8x8. 
</dd></dl><dl><dt> binspanlong
</dt><dd> <b>Syntax:</b> binspanlong=&lt;float&gt;
</dd><dd> <b>Description:</b> The size of the bins in longitude degrees at the lowest zoom level. Defaults to 45.0. With default binspanlat=22.5, leads to a grid size of 8x8.
</dd></dl><dl><dt> globallimit
</dt><dd> <b>Syntax:</b> globallimit=&lt;int&gt;
</dd><dd> <b>Description:</b> Controls the number of named categories to add to each pie-chart. There will be one additional category called "OTHER" under which all other split-by values will be grouped. Setting globallimit=0 will remove all limits and all categories will be rendered. Currently the grouping into "OTHER" only works intuitively for count and additive statistics. Defaults to 10.
</dd></dl><dl><dt> latfield
</dt><dd> <b>Syntax:</b> latfield=&lt;field&gt;
</dd><dd> <b>Description:</b> Specify a field from the pre-search that represents the latitude coordinates to use in your analysis. Defaults to "lat".
</dd></dl><dl><dt> longfield
</dt><dd> <b>Syntax:</b> longfield=&lt;field&gt;
</dd><dd> <b>Description:</b> Specify a field from the pre-search that represents the longitude coordinates to use in your analysis. Defaults to "lon".
</dd></dl><dl><dt> maxzoomlevel
</dt><dd> <b>Syntax:</b> maxzoomlevel=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum level to be created in the quad tree. Defaults to 9, which specifies that 10 zoom levels will be created: 0-9.
</dd></dl><dl><dt> outlatfield
</dt><dd> <b>Syntax:</b> outlatfield=&lt;string&gt;
</dd><dd> <b>Description:</b> Specify a name for the latitude field in your geostats output data. Defaults to "latitude".
</dd></dl><dl><dt> outlongfield
</dt><dd> <b>Syntax:</b> outlongfield=&lt;string&gt;
</dd><dd> <b>Description:</b> Specify a name for the longitude field in your geostats output data. Defaults to "longitude".
</dd></dl><dl><dt> translatetoxy
</dt><dd> <b>Syntax:</b> translatetoxy=&lt;bool&gt;
</dd><dd> <b>Description:</b> If true, geostats produces one result per each locationally binned location. This mode is appropriate for rendering on a map.  If false, geostats produces one result per category (or tuple of a multiply split dataset) per locationally binned location.  Essentially this causes the data to be broken down by category.  This mode cannot be rendered on a map.  Defaults to true.
</dd></dl><h3> <a name="geostats_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Generate statistics which are clustered into geographical bins to be rendered on a world map.
First, the events will be clustered based on latitude and longitude fields in the events.  Then, the statistics will be evaluated on the generated clusters, optionally grouped or split by fields using a by-clause. 
</p><p>For map rendering and zooming efficiency, geostats generates clustered stats at a variety of zoom levels in one search, the visualization selecting among them. The quantity of zoom levels can be controlled by the options binspanlat/binspanlong/maxzoomlevel. The initial granularity is selected by binspanlat together with binspanlong.  At each level of zoom, the number of bins will be doubled in both dimensions (a total of 4x as many bins for each zoom-in).
</p>
<h3> <a name="geostats_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> This example uses the Buttercup Games data (tutorialdata.zip) and lookup files (prices.csv
and vendors.csv) from the Search Tutorial. Compute the count of each product sold by a vendor and display the information on a map.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=vendor_* | lookup price_lookup Code OUTPUTNEW product_name | table product_name VendorID | lookup vendors_lookup VendorID | geostats latfield=VendorLatitude longfield=VendorLongitude count by product_name</font></code><br></div>
<p>In this case, the sourcetype=vendor_sales and each of the events looks like this:
</p>
<code><font size="2"><br>[26/Sep/2013:18:24:02] VendorID=5036 Code=B AcctID=6024298300471575<br></font></code>
<p>The price_lookup is used to match the Code field in each event to a product_name in the table. The vendors_lookup is used to output all the fields in vendors.csv: Vendor, VendorCity, VendorID, VendorLatitude, VendorLongitude, VendorStateProvince, VendorCountry that match the VendorID in each event. 
</p><p><b>Note:</b> In this search, the csv files are uploaded into Splunk and the lookups defined, but not automatic.
</p><p>This search produces a statistics table:
</p><p><img alt="Searchref geostats ex1.png" src="images/5/51/Searchref_geostats_ex1.png" width="700" height="315"></p><p>After you run the search, save it to a dashboard. Here, the dashboard is named "Geostats example" and the panel is named "Vendor and Product Map". Then, select <b>Edit source</b> to edit the XML to change the table element to a map element:
</p><p><img alt="Searchref geostats ex1b.png" src="images/0/02/Searchref_geostats_ex1b.png" width="700" height="279"></p><p>Now, when you view the dashboard you should see the information on a world map. Here, it is zoomed in and the mouse is over the pie chart for a region in the northeastern USA:
</p><p><img alt="Searchref geostats ex1c.png" src="images/9/92/Searchref_geostats_ex1c.png" width="700" height="287"></p><p>Zoom in and out to see more details on the map. You can read more about the &lt;map&gt; element and its available options in the Simple XML Reference.
</p><p><br><b>Example 2:</b>  Compute the average rating for each gender after clustering/grouping the events by "eventlat" and "eventlong" values.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | geostats latfield=eventlat longfield=eventlong avg(rating) by gender</font></code><br></div>
<p><b>Example 3:</b> Cluster events by default latitude and longitude fields "lat" and "lon" respectively. Calculate the count of such events
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2"> ... | geostats count</font></code><br></div>
<h3> <a name="geostats_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#iplocation" class="external text">iplocation</a>, <a href="#stats" class="external text">stats</a>, <a href="#xyseries" class="external text">xyseries</a>
</p>
<h3> <a name="geostats_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has about using the geostats command.
</p>
<a name="head"></a><h2> <a name="head_head"><span class="mw-headline" id="head"> head </span></a></h2>
<h3> <a name="head_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Returns the first n number of specified results in search order. This means the most recent n events for a historical search, or the first n captured events for a realtime search. The search results are limited to the first results in search order.
</p><p>There are two types of limits that can be applied: a quantity of results in absolute numbers, or an expression where all results are returned until the expression becomes false.
</p><p>If no options or limits are explicitly stated, head will return the first 10 results.
</p><p>If a numeric limit such as a numeric literal or the flag limit=<i>int</i> is used, head will return the first N results where N is the selected number.  Using both numeric limit syntaxes will result in an error.
</p><p>If an eval expression is used, all initial results are returned until the first result where the expression evaluates as false. In this case, no results will be returned. The result where the expression evaluates as false will be kept or dropped in accordance with the keeplast option.
</p><p>If both a numeric limit and an eval expression are used, then the smaller of the two constraints will apply.  For example 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... |head limit=10 (1==1)</font></code><br></div>
<p>will return up to the first 10 results, since the expression is always true.  However,
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... |head limit=10 (0==1)</font></code><br></div>
<p>will return no results, since the expression is always false.
</p>
<h3> <a name="head_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>head [&lt;N&gt; | (&lt;eval-expression&gt;)] [limit=&lt;int&gt;] [null=&lt;bool&gt;] [keeplast=&lt;bool&gt;]
</p>
<h4><font size="3"><b><i> <a name="head_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;N&gt;
</dt><dd> <b>Syntax:</b> &lt;int&gt;
</dd><dd> <b>Description:</b> The number of results to return.
</dd></dl><dl><dt> limit
</dt><dd> <b>Syntax:</b> limit=&lt;int&gt;
</dd><dd> <b>Description:</b> Another way to specify the number of results to return.
</dd></dl><dl><dt> eval-expression
</dt><dd> <b>Syntax:</b> &lt;eval-math-exp&gt; | &lt;eval-concat-exp&gt; | &lt;eval-compare-exp&gt; | &lt;eval-bool-exp&gt; | &lt;eval-function-call&gt; 
</dd><dd> <b>Description:</b> A valid eval expression that evaluates to a Boolean. The search returns results until this expression evaluates to false.  keeplast specifies whether to keep this terminal result. For more information, see the <a href="#commonevalfunctions" class="external text">Functions for eval</a>. 
</dd></dl><dl><dt> keeplast
</dt><dd> <b>Syntax:</b> keeplast=&lt;bool&gt;
</dd><dd> <b>Description:</b>  Controls whether or not to keep the last result, which caused the eval expression to evaluate to false (or NULL).
</dd></dl><dl><dt> null
</dt><dd> <b>Syntax:</b> null=&lt;bool&gt;
</dd><dd> <b>Description:</b> When using a boolean eval expression, this specifies how a null result should be treated. For example, if the eval expression is (x &gt; 10) and the field x does not exist, the expression evaluates to NULL instead of true or false. Null=true means that the head command continues if it gets a null result, and null=false means the command stops if this occurs. 
</dd><dd> <b>Default</b>: false
</dd></dl><h3> <a name="head_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return the first 20 results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | head 20</font></code><br></div>
<p><b>Example 2:</b> Return events until the time span of the data is &gt;= 100 seconds
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | streamstats range(_time) as timerange | head (timerange&lt;100)</font></code><br></div>
<h3> <a name="head_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#reverse" class="external text">reverse</a>, <a href="#tail" class="external text">tail</a> 
</p>
<h3> <a name="head_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the head command.
</p>
<a name="highlight"></a><h2> <a name="highlight_highlight"><span class="mw-headline" id="highlight"> highlight </span></a></h2>
<h3> <a name="highlight_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Highlights specified terms in the events list. Matches a string or list of strings and highlights them in the display in <b>Splunk Web</b>. The matching is not case sensitive.
</p>
<h3> <a name="highlight_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>highlight &lt;string&gt;+
</p>
<h4><font size="3"><b><i> <a name="highlight_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;string&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;,...
</dd><dd> <b>Description:</b> Comma-separated or space-separated list of case-insensitive strings to highlight in results.
</dd></dl><h3> <a name="highlight_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Highlight the terms "login" and "logout".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | highlight login,logout</font></code><br></div>
<p><b>Example 2:</b> Highlight the phrases "Access Denied".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | highlight "access denied"</font></code><br></div>
<h3> <a name="highlight_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the highlight command.
</p>
<a name="history"></a><h2> <a name="history_history"><span class="mw-headline" id="history"> history </span></a></h2>
<h3> <a name="history_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Use this generating command to view your (the current user's) search history, which is presented as a set of events or as a table. When you specify <code><font size="2">events=true</font></code>, the history command presents the information as if it were events with the text as search strings.  This invokes the event-oriented UI which allows for convenient highlighting, or field-inspection. When you specify <code><font size="2">events=false</font></code>, the history command presents no event text and provides the search text as a search field.  This invokes the statics view and shows the data as a table for more convenient aggregate viewing.
</p>
<ul><li> <code><font size="2">_time</font></code>: The time that the search was started.
</li><li> <code><font size="2">api_et</font></code>: The earliest time of the API call. (The earliest time for which events were requested).
</li><li> <code><font size="2">api_lt</font></code>: The latest time of the API call. (The latest time for which events were requested).
</li><li> <code><font size="2">event_count</font></code>: If the search retrieved or generated events, the count of events returned with the search.
</li><li> <code><font size="2">exec_time</font></code>: The execution time of the search in integer quantity of seconds into the Unix epoch.
</li><li> <code><font size="2">is_realtime</font></code>: Indicates whether the search was real-time (1) or historical (0).
</li><li> <code><font size="2">result_count</font></code>: If the search is a transforming search, the count of results for the search.
</li><li> <code><font size="2">scan_count</font></code>: The number of events retrieved from a Splunk index at a low level.
</li><li> <code><font size="2">search</font></code>: The search string, when run with events=false.
</li><li> <code><font size="2">search_et</font></code>: The earliest time set for the search to run.
</li><li> <code><font size="2">search_lt</font></code>: The latest time set for the search to run.
</li><li> <code><font size="2">sid</font></code>: The search job ID.
</li><li> <code><font size="2">splunk_server</font></code>: The Splunk server on which the search was run.
</li><li> <code><font size="2">status</font></code>: The status of the search.
</li><li> <code><font size="2">total_run_time</font></code>: The total time it took to run the search in seconds.
</li></ul><h3> <a name="history_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>| history [events=&lt;bool&gt;]
</p>
<h4><font size="3"><b><i> <a name="history_arguments"><span class="mw-headline" id="Arguments"> Arguments </span></a></i></b></font></h4>
<dl><dt> events
</dt><dd> <b>Syntax:</b> events=<i>bool</i>
</dd><dd> <b>Description:</b> By default, the search text is presented as a field called search. If events=<i>true</i>, the search text is presented as the event text instead (as the _raw field).   Defaults to false.
</dd></dl><h3> <a name="history_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return a table of the search history.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2"> | history</font></code><br></div>
<h3> <a name="history_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#search" class="external text">search</a> 
</p>
<h3> <a name="history_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the history command.
</p>
<a name="iconify"></a><h2> <a name="iconify_iconify"><span class="mw-headline" id="iconify"> iconify </span></a></h2>
<h3> <a name="iconify_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Causes <b>Splunk Web</b> to render a unique icon for each value of the fields listed.
</p>
<h4><font size="3"><b><i> <a name="iconify_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>iconify &lt;field-list&gt;
</p>
<h4><font size="3"><b><i> <a name="iconify_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> field-list
</dt><dd> <b>Syntax:</b> &lt;field&gt;...
</dd><dd> <b>Description:</b> Comma or space-delimited list of non-wildcarded fields.
</dd></dl><h3> <a name="iconify_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The iconify command adds a field named <code><font size="2">_icon</font></code> that is the hash value for that event. Within Splunk Web, a different icon for each field's unique value is displayed in the events list. If multiple fields are listed, the UI displays a different icon for each unique combination of the field values.
</p>
<h3> <a name="iconify_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Displays an different icon for each eventtype.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | iconify eventtype</font></code><br></div>
<p><b>Example 2:</b> Displays an different icon for unique pairs of <code><font size="2">clientip</font></code> and <code><font size="2">method</font></code> values.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | iconify clientip method</font></code><br></div>
<p>Here's how Splunk displays the results in your <b>Events List</b>:
</p><p><img alt="Iconify example.png" src="images/3/36/Iconify_example.png" width="700" height="197"></p>
<h3> <a name="iconify_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#highlight" class="external text">highlight</a>
</p>
<h3> <a name="iconify_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the iconify command.
</p>
<a name="input"></a><h2> <a name="input_input"><span class="mw-headline" id="input"> input </span></a></h2>
<h3> <a name="input_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Adds or disables sources from being processed by Splunk.
</p>
<h4><font size="3"><b><i> <a name="input_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>input (add|remove) [sourcetype=<i>string</i>] [index=<i>string</i>] [<i>string</i>=<i>string</i>]*
</p>
<h4><font size="3"><b><i> <a name="input_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> sourcetype
</dt><dd> <b>Datatype:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> When adding a new input, label the input so the data it acquires will use this sourcetype.
</dd></dl><dl><dt> index
</dt><dd> <b>Datatype:</b> &lt;string&gt;
</dd><dd> <b>Description:</b>  When adding a new input, label the input so the data it acquires will be sent to this index.  Be sure this index exists.
</dd></dl><h3> <a name="input_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Adds or removes (disables) sources from being processed by Splunk, enabling or disabling inputs in inputs.conf, with optional sourcetype and index settings. Any additional attribute=values are set added to inputs.conf. Changes are logged to $<tt>SPLUNK_HOME</tt>/var/log/splunk/inputs.log. <code><font size="2">input</font></code> is generally to be used in conjunction with the <tt>crawl</tt> command.
</p>
<h3> <a name="input_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Remove all csv files that are currently being processed
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| crawl | search source=*csv | input remove</font></code><br></div>
<p><b>Example 2:</b> Add all sources found in bob's home directory to the 'preview' index with sourcetype=text, setting custom user fields 'owner' and 'name'
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| crawl root=/home/bob/txt | input add index=preview sourcetype=text owner=bob name="my nightly crawl"</font></code><br></div>
<p><b>Example 3:</b> Add each source found by crawl in the default index with automatic source classification (sourcetyping)
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| crawl | input add</font></code><br></div>
<h3> <a name="input_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#crawl" class="external text">crawl</a> 
</p>
<h3> <a name="input_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the input command.
</p>
<a name="inputcsv"></a><h2> <a name="inputcsv_inputcsv"><span class="mw-headline" id="inputcsv"> inputcsv </span></a></h2>
<h3> <a name="inputcsv_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Loads search results from the specified <tt>csv</tt> file.
</p>
<h4><font size="3"><b><i> <a name="inputcsv_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>inputcsv [append=&lt;bool&gt;] [start=&lt;int&gt;] [max=&lt;int&gt;] [events=&lt;bool&gt;] &lt;filename&gt;
</p>
<h4><font size="3"><b><i> <a name="inputcsv_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> filename
</dt><dd> <b>Syntax:</b> &lt;filename&gt;
</dd><dd> <b>Description:</b> Specify the name of the CSV file, located in <code><font size="2">$SPLUNK_HOME/var/run/splunk</font></code>.
</dd></dl><h4><font size="3"><b><i> <a name="inputcsv_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> append
</dt><dd> <b>Syntax:</b> append=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specifies whether the data from the CSV file is appended to the current set of results (true) or replaces the current set of results (false). Defaults to false.
</dd></dl><dl><dt> events
</dt><dd> <b>Syntax:</b> events=&lt;bool&gt;
</dd><dd> <b>Description:</b> Allows the imported results to be treated as events so that a proper timeline and fields picker are displayed.
</dd></dl><dl><dt> max
</dt><dd> <b>Syntax:</b> max=&lt;int&gt;
</dd><dd> <b>Description:</b> Controls the maximum number of events to be read from the file. Defaults to 1000000000.
</dd></dl><dl><dt> start
</dt><dd> <b>Syntax:</b> start=&lt;int&gt;
</dd><dd> <b>Description:</b> Controls the 0-based offset of the first event to be read. Defaults to 0.
</dd></dl><h3> <a name="inputcsv_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Populates the results data structure using the given csv file, which is not modified. The filename must refer to a relative path in <code><font size="2">$SPLUNK_HOME/var/run/splunk</font></code> and if the specified file does not exist and the filename did not have an extension, then filename with a <tt>.csv</tt> extension is assumed. 
</p><p><b>Note:</b> If you run into an issue with inputcsv resulting in an error, make sure that your CSV file ends with a BLANK LINE.
</p>
<h3> <a name="inputcsv_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Read in results from the CSV file: "$SPLUNK_HOME/var/run/splunk/all.csv", keep any that contain the string "error", and save the results to the file: "$SPLUNK_HOME/var/run/splunk/error.csv"
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| inputcsv all.csv | search error | outputcsv errors.csv</font></code><br></div>
<p><b>Example 2:</b> Read in events 101 to 600 from either file 'bar' (if exists) or 'bar.csv'.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| inputcsv start=100 max=500 bar</font></code><br></div>
<p><b>Example 3:</b> Read in events from the CSV file: "$SPLUNK_HOME/var/run/splunk/foo.csv".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| inputcsv foo.csv</font></code><br></div>
<h3> <a name="inputcsv_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#outputcsv" class="external text">outputcsv</a> 
</p>
<h3> <a name="inputcsv_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the inputcsv command.
</p>
<a name="inputlookup"></a><h2> <a name="inputlookup_inputlookup"><span class="mw-headline" id="inputlookup"> inputlookup </span></a></h2>
<h3> <a name="inputlookup_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Loads search results from a specified lookup table.
</p>
<h4><font size="3"><b><i> <a name="inputlookup_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>inputlookup [append=&lt;bool&gt;] [start=&lt;int&gt;] [max=&lt;int&gt;] (&lt;filename&gt; | &lt;tablename&gt;)
</p>
<h4><font size="3"><b><i> <a name="inputlookup_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;filename&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of the lookup file (must end with <code><font size="2">.csv</font></code> or <code><font size="2">.csv.gz</font></code>). If the lookup does not exist, Splunk displays a warning message, but it does not generate a syntax error).
</dd></dl><dl><dt> &lt;tablename&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of the lookup table as specified by a stanza name in <code><font size="2">transforms.conf</font></code>. The lookup table can be configured for any lookup type (CSV, external, or KV store).
</dd></dl><h4><font size="3"><b><i> <a name="inputlookup_optional_arguments"><span class="mw-headline" id="Optional_arguments">  Optional arguments </span></a></i></b></font></h4>
<dl><dt> append
</dt><dd> <b>Syntax:</b> append=&lt;bool&gt;
</dd><dd> <b>Description:</b> If set to <code><font size="2">true</font></code>, the data returned from the lookup file is appended to the current set of results rather than replacing it. Defaults to <code><font size="2">false</font></code>.
</dd></dl><dl><dt> max
</dt><dd> <b>Syntax</b> max=&lt;int&gt;
</dd><dd> <b>Description:</b> Specify the maximum number of events to be read from the file. Defaults to <code><font size="2">1000000000</font></code>.
</dd></dl><dl><dt> start
</dt><dd> <b>Syntax:</b> start=&lt;int&gt;
</dd><dd> <b>Description:</b> Specify the 0-based offset of the first event to read. If <code><font size="2">start=0</font></code>, it begins with the first event. If <code><font size="2">start=4</font></code>, it begins with the fifth event. Defaults to 0.
</dd></dl><h3> <a name="inputlookup_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Lets you search the contents of a lookup table as specified by a file name (must end with <code><font size="2">.csv</font></code> or <code><font size="2">.csv.gz</font></code>) or a lookup table configuration in <code><font size="2">transforms.conf</font></code>. The lookup table can be a CSV lookup or a KV store lookup. 
</p><p>If <code><font size="2">append</font></code> is set to <code><font size="2">true</font></code>, Splunk Enterprise appends the data from the lookup file or KV store collection to the current set of results. <code><font size="2">append</font></code> is set to <code><font size="2">false</font></code> by default, which means that it replaces the current result set with the results from the lookup search.
</p><p>For more information about lookup table configuration, see "Configure CSV and external lookups" and "Configure KV store lookups" in the <i>Knowledge Manager Manual</i>.
</p><p>For more information about the App Key Value store, see  "About KV store" in the <i>Admin Manual</i>.
</p>
<h3> <a name="inputlookup_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Read in a <code><font size="2">usertogroup</font></code> lookup table that is defined in <code><font size="2">transforms.conf</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| inputlookup usertogroup</font></code><br></div>
<p><b>Example 2:</b> Read in a <code><font size="2">usertogroup</font></code> table that is defined by a stanza in <code><font size="2">transforms.conf</font></code>. Append the fields to any current results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| inputlookup append=t usertogroup</font></code><br></div>
<p><b>Example 3:</b> Search the <code><font size="2">users.csv</font></code> lookup file (under <code><font size="2">$SPLUNK_HOME/etc/system/lookups</font></code> or <code><font size="2">$SPLUNK_HOME/etc/apps/&lt;app_name&gt;/lookups</font></code>).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| inputlookup users.csv</font></code><br></div>
<p><b>Example 4:</b> Search on the contents of the KV store collection <code><font size="2">kvstorecoll</font></code>. It is referenced in a lookup table called <code><font size="2">kvstorecoll_lookup</font></code>. Provide a count of the events received from the table.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| inputlookup kvstorecoll_lookup | stats count</font></code><br></div>
<p><b>Example 5:</b> View internal key ID values for the KV store collection <code><font size="2">kvstorecoll</font></code>, using the lookup table <code><font size="2">kvstorecoll_lookup</font></code>. The internal key ID is a unique identifier for each record in the collection. This requires usage of the <code><font size="2">eval</font></code> and <code><font size="2">table</font></code> commands.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| inputlookup kvstorecoll_lookup | eval  CustKey = _key | table CustKey, CustName, CustStreet, CustCity, CustState, CustZip</font></code><br></div>
<p><b>Example 6:</b> Update field values for a single KV store collection record. This requires usage of <code><font size="2">inputlookup</font></code>, <code><font size="2">outputlookup</font></code>, and <code><font size="2">eval</font></code>. The record is indicated by the its internal key ID (the <code><font size="2">_key</font></code> field) and this search updates the record with a new customer name and customer city. The record belongs to the KV store collection <code><font size="2">kvstorecoll</font></code>, which is accessed through the lookup table <code><font size="2">kvstorecoll_lookup</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| inputlookup kvstorecoll_lookup | search _key=544948df3ec32d7a4c1d9755 | eval CustName="Marge Simpson" | eval CustCity="Springfield" | outputlookup kvstorecoll_lookup append=True</font></code><br></div>
<p><b>Example 7:</b> Write the contents of a CSV file to the KV store collection <code><font size="2">kvstorecoll</font></code> using the lookup table <code><font size="2">kvstorecoll_lookup</font></code>. This requires usage of both <code><font size="2">inputlookup</font></code> and <code><font size="2">outputlookup</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| inputlookup customers.csv | outputlookup kvstorecoll_lookup</font></code><br></div>
<h3> <a name="inputlookup_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#inputcsv" class="external text">inputcsv</a>, <a href="#join" class="external text">join</a>, <a href="#lookup" class="external text">lookup</a>, <a href="#outputlookup" class="external text">outputlookup</a> 
</p>
<h3> <a name="inputlookup_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the inputlookup command.
</p>
<a name="iplocation"></a><h2> <a name="iplocation_iplocation"><span class="mw-headline" id="iplocation"> iplocation </span></a></h2>
<h3> <a name="iplocation_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Extracts location information from IP addresses using 3rd-party databases.
</p>
<h4><font size="3"><b><i> <a name="iplocation_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>iplocation [prefix=&lt;string&gt;] [allfields=&lt;bool&gt;] [lang=&lt;string&gt;] &lt;ip-address-fieldname&gt;
</p>
<h4><font size="3"><b><i> <a name="iplocation_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> ip-address-fieldname
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Specify an IP address field, such as <code><font size="2">clientip</font></code>. 
</dd></dl><h4><font size="3"><b><i> <a name="iplocation_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> allfields
</dt><dd> <b>Syntax:</b> allfields=&lt;bool&gt;
</dd><dd> <b>Description:</b> If true, adds the fields: City, Continent, Country, Region, MetroCode, Timezone, lat (latitude), and lon (longitude). Defaults to false, which means that only the Country, City, Region, lat, and lon fields are added.
</dd></dl><dl><dt> lang
</dt><dd> <b>Syntax:</b> lang=&lt;string&gt;
</dd><dd> <b>Description:</b> Render the resulting strings in different languages. For example, use "lang=es" for Spanish. The set of languages depends on the geoip database that is used. To specify more than one language, separate them with a comma. This will also indicate the priority in descending order. Specify, "lang=code" to return the fields as two letter ISO abbreviations.
</dd></dl><dl><dt> prefix
</dt><dd> <b>Syntax:</b> prefix=&lt;string&gt;
</dd><dd> <b>Description:</b> Specify a string to prefix the field name. This lets you qualify the added field names to avoid name collisions with existing fields. Defaults to NULL/empty string.
</dd></dl><h3> <a name="iplocation_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The IP address field, specified in ip-address-fieldname, is looked up in a database and location fields information is added to the event. The fields are City, Continent, Country, Region, MetroCode, Timezone, lat (latitude), and lon (longitude). Because all the information may not be available for each IP address, an event can have empty fields.
</p><p>For IP addresses which do not have a location, such as internal addresses, no fields will be added.
</p>
<h3> <a name="iplocation_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Add location information to web access events.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | iplocation clientip</font></code><br></div>
<p><b>Example 2:</b> Search for client errors in web access events, add location information, and return a table of the IP address, City and Country for each client error.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* status&gt;=400 | head 20 | iplocation clientip | table clientip, status, City, Country</font></code><br></div>
<p><img alt="6.1 iplocation ex2.png" src="images/3/32/6.1_iplocation_ex2.png" width="700" height="275"></p><p><b>Example 3:</b>  Prefix the added fields with "iploc_".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype = access_* | iplocation prefix=iploc_ allfields=true clientip | fields iploc_*</font></code><br></div>
<p><img alt="6.1 iplocation ex3.png" src="images/9/99/6.1_iplocation_ex3.png" width="700" height="354"></p>
<h3> <a name="iplocation_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the iplocation command.
</p>
<a name="join"></a><h2> <a name="join_join"><span class="mw-headline" id="join"> join </span></a></h2>
<h3> <a name="join_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Use the <code><font size="2">join</font></code> command to combine the results of a subsearch with the results of a main search.  One or more of the fields must be common to each result set. You can also combine a search result set to itself using the <code><font size="2"><a href="#selfjoin" class="external text">selfjoin</a></font></code> command.
</p>
<h3> <a name="join_alternative_commands"><span class="mw-headline" id="Alternative_commands"> Alternative commands </span></a></h3>
<p>Another command might be a better alternative to the <code><font size="2">join</font></code> command for flexibility and performance.  Splunk Enterprise supports event grouping and correlations using time and geographic location, transactions, subsearches, field lookups, and joins. 
</p>
<table cellpadding="6"><tr><th bgcolor="#C0C0C0"> Command
</th><th bgcolor="#C0C0C0"> Use
</th></tr><tr><td valign="top" align="left"> <code><font size="2">Append</font></code></td><td valign="center" align="left"> To append the results of a subsearch to the results of your current search. The events from both result sets are retained.
<ul><li> Use only with historical data. The <code><font size="2">append</font></code> command does not produce correct results if used in a real-time search. 
</li><li> If you use <code><font size="2">append</font></code> to combine the events, use a &lt;stats&gt; command to group the events in a meaningful way.  You cannot use a <code><font size="2">transaction</font></code> command after you use an <code><font size="2">append</font></code> command.
</li></ul></td></tr><tr><td valign="top" align="left"> <code><font size="2">Lookup</font></code> </td><td valign="center" align="left"> Use when one of the result sets or source files remains static or rarely changes. For example, a file from an external system such as a CSV file.
<p>The look up cannot be a subsearch.
</p>
</td></tr><tr><td valign="top" align="left"><code><font size="2">Search</font></code> </td><td valign="center" align="left"> In the most simple scenarios, you might need to search only for sources using the OR operator and then use a <code><font size="2">stats</font></code> or <code><font size="2">transaction</font></code> command to perform the grouping operation on the events.
</td></tr><tr><td valign="top" align="left"><code><font size="2">Stats</font></code> </td><td valign="center" align="left"> To group events by a field and perform a statistical function on the events. For example to determine the average duration of events by host name.
<ul><li> To use <code><font size="2">stats</font></code>, the field must have a unique identifier. 
</li><li> To view the raw event data, use the <code><font size="2">transaction</font></code> command instead.
</li></ul></td></tr><tr><td valign="top" align="left"><code><font size="2">Transaction</font></code>
</td><td valign="center" align="left"> Use <code><font size="2">transaction</font></code> in the following situations.
<ul><li> To group events by using the <a href="#eval" class="external text">eval</a> command with a conditional expression, such as <code><font size="2">if</font></code>, <code><font size="2">case</font></code>, or <code><font size="2">match</font></code>.<br></li><li> To group events by using a recycled field value, such as an ID or IP address.<br></li><li> To group events by using a pattern, such as a start or end time for the event.<br></li><li> To break up groups larger than a certain duration. For example, when a transaction does not explicitly end with a message and you want to specify a maximum span of time after the start of the transaction.<br></li><li> To display the raw event data for the grouped events.
</li></ul></td></tr></table><p><br>
For information about when to use a join, see the flowchart in "About event grouping and correlation" in the <i>Search Manual</i>.
</p>
<h3> <a name="join_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>join [<i>join-options</i>]* &lt;field-list&gt; <tt>[</tt> <i>subsearch</i> <tt>]</tt>
</p>
<h4><font size="3"><b><i> <a name="join_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> subsearch
</dt><dd> <b>Description:</b> A secondary search where you specify the source of the events that you want to join to. The results of the subsearch should not exceed available memory. 
</dd></dl><dl><dd> Limitations on the subsearch for the <code><font size="2">join</font></code> command are specified in the <code><font size="2">limits.conf.spec</font></code> file. The limitations include the maximum subsearch to join against, the maximum search time for the subsearch, and the maximum time to wait for subsearch to fully finish. See Subsearches in the <i>Search Manual</i>.
</dd></dl><h4><font size="3"><b><i> <a name="join_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> field-list
</dt><dd> <b>Syntax:</b> &lt;field&gt;, ...
</dd><dd> <b>Description:</b> Specify the fields to use for the join. If no fields are specified, all of the fields that are common to both result sets are used. 
</dd></dl><dl><dd> Field names must match, not just in name but also in case. You cannot join <code><font size="2">product_id</font></code> with <code><font size="2">product_ID</font></code>.  You must first change the case of the field in the subsearch to match the field in the main search.
</dd></dl><dl><dt> join-options
</dt><dd> <b>Syntax:</b> type=(inner | outer | left) | usetime=&lt;bool&gt; | earlier=&lt;bool&gt; | overwrite=&lt;bool&gt; | max=&lt;int&gt;
</dd><dd> <b>Description:</b> Options to the join command. Use either <code><font size="2">outer</font></code> or <code><font size="2">left</font></code> to specify a left outer join.
</dd></dl><h5> <a name="join_descriptions_for_the_join-options_argument"><span class="mw-headline" id="Descriptions_for_the_join-options_argument"> Descriptions for the join-options argument</span></a></h5>
<dl><dt> type
</dt><dd> <b>Syntax:</b> type=inner | outer | left
</dd><dd> <b>Description:</b> Indicates the type of join to perform. The difference between an <code><font size="2">inner</font></code> and a <code><font size="2">left</font></code> (or <code><font size="2">outer</font></code>) join is how the events are treated in the main search that do not match any of the events in the subsearch. In both inner and left joins, events that match are joined. The results of an <code><font size="2">inner</font></code> join do not include events from the main search that have no matches in the subsearch. The results of a <code><font size="2">left</font></code> (or <code><font size="2">outer</font></code>) join includes all of the events in the main search and only those values in the subsearch have matching field values. 
</dd><dd> <b>Default:</b> <code><font size="2">inner</font></code>
</dd></dl><table width="100%" cellpadding="6"><tr><td align="middle" valign="center"><div class="thumb tright"><div class="thumbinner" style="width:440px;"><img alt="An image that shows two venn diagrams. Each diagram contains two intersecting circles, circle A and circle B. The first diagram is labeled Left Join and circle A is completely shaded, including the portion of the circle where it overlaps with circle B. The second diagram is labeled Inner Join and only the portion of circle A that overlaps with circle B is shaded." src="images/2/27/Join.png" width="438" height="174" class="thumbimage"><div class="thumbcaption">Examples of the data that are included in a join.</div></div></div>
</td></tr></table><dl><dt> usetime
</dt><dd> <b>Syntax:</b> usetime=&lt;bool&gt;
</dd><dd> <b>Description:</b> A Boolean value that Indicates whether to use time to limit the matches in the subsearch results. Used with the <code><font size="2">earlier</font></code> option to limit the subsearch results to matches that are earlier or later than the main search results. 
</dd><dd> <b>Default:</b> <code><font size="2">true</font></code>
</dd></dl><dl><dt> earlier
</dt><dd> <b>Syntax:</b> earlier=&lt;bool&gt;
</dd><dd> <b>Description:</b> If <code><font size="2">usetime=true</font></code> and <code><font size="2">earlier=true</font></code>, the main search results are matched only against earlier results from the subsearch. If <code><font size="2">earlier=false</font></code>, the main search results are matched only against later results from the subsearch.  Results that occur at the same time (second) are not eliminated by either value. 
</dd><dd> <b>Default:</b> <code><font size="2">true</font></code>
</dd></dl><dl><dt> overwrite
</dt><dd> <b>Syntax:</b> overwrite=&lt;bool&gt;
</dd><dd> <b>Description:</b> Indicates whether fields from the subresults overwrite the fields from the main results, if the fields have the same field name. 
</dd><dd> <b>Default:</b> <code><font size="2">true</font></code>
</dd></dl><dl><dt> max
</dt><dd> <b>Syntax:</b> max=&lt;int&gt;
</dd><dd> <b>Description:</b> Specifies the maximum number of subsearch results that each main search result can join with. If set to <code><font size="2">max=0</font></code>, there is no limit. 
</dd><dd> <b>Default:</b> <code><font size="2">1</font></code>
</dd></dl><h3> <a name="join_usage"><span class="mw-headline" id="Usage"> Usage </span></a></h3>
<p>Use the <code><font size="2">join</font></code> command when the results of the subsearch are relatively small, for example 50000 rows or less. Splunk Enterprise imposes some default limitations on the subsearch for resource and performance reason. See the subsearch section in the syntax for more information about these limitations.
</p>
<h3> <a name="join_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="join_example_1"><span class="mw-headline" id="Example_1">Example 1</span></a></i></b></font></h4>
<p>Combine the results from a main search with the results from a subsearch <code><font size="2">search vendors</font></code>. The result sets are joined on the <code><font size="2">product_id</font></code> field, which is common to both sources.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | join product_id [search vendors]</font></code><br></div>
<h4><font size="3"><b><i> <a name="join_example_2"><span class="mw-headline" id="Example_2">Example 2</span></a></i></b></font></h4>
<p>If the field names in the sources do not match, you can rename the field in the subsearch result set.  The field in the main search is <code><font size="2">product_id</font></code>. The field in the subsearch is <code><font size="2">pid</font></code>.
</p><p><b>Note</b>: The field names must match in name and in case. You cannot join <code><font size="2">product_id</font></code> with <code><font size="2">product_ID</font></code>.  
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | join product_id [search vendors | rename pid AS product_id]</font></code><br></div>
<h4><font size="3"><b><i> <a name="join_example_3"><span class="mw-headline" id="Example_3">Example 3</span></a></i></b></font></h4>
<p>By default, only the first row of the subsearch that matches a row of the main search is returned.  To return all of the matching subsearch rows, include the <code><font size="2">max=&lt;int&gt;</font></code> option and set the value to 0. This option joins each matching subsearch row with the corresponding main search row. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | join product_id max=0 [search vendors]</font></code><br></div>
<h4><font size="3"><b><i> <a name="join_example_4"><span class="mw-headline" id="Example_4">Example 4</span></a></i></b></font></h4>
<p>The dashboards and alerts in the distributed management console shows you performance information about your Splunk Enterprise deployment. The Resource Usage: Instance dashboard contains a table that shows the machine, number of cores, physical memory capacity, operating system, and CPU architecture. 
</p><p>To display the information in the table, use the following search, which includes a join. The search uses the information in the dmc_assets table to look up the instance name and machine name. The search then uses the <code><font size="2">serverName</font></code> field to join the information with information from the  <code><font size="2">/services/server/info</font></code>  REST endpoint. The <code><font size="2">/services/server/info</font></code>  is the URI path to the Splunk REST API endpoint which provides hardware and operating system information for the machine. The  <code><font size="2">$splunk_server$</font></code> part of the search is a token variable.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| inputlookup dmc_assets
<p>| search serverName = $splunk_server$
</p><p>| stats first(serverName) as serverName, first(host) as host, first(machine) as machine
</p><p>| join type=left serverName 
</p><p>[
</p>
<code><font size="2"> &nbsp;| rest splunk_server=$splunk_server$ /services/server/info<br>&nbsp;&nbsp;| fields serverName, numberOfCores, physicalMemoryMB, os_name, cpu_arch<br></font></code>
<p>]
</p><p>| fields machine numberOfCores physicalMemoryMB os_name cpu_arch 
</p><p>| rename machine AS Machine, numberOfCores AS "Number of Cores", physicalMemoryMB AS "Physical Memory Capacity (MB)", os_name AS"Operating System", cpu_arch AS "CPU Architecture"
</p>
</font></code><br></div>
<h3> <a name="join_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#selfjoin" class="external text">selfjoin</a>, <a href="#append" class="external text">append</a>, <a href="#set" class="external text">set</a>, <a href="#appendcols" class="external text">appendcols</a> 
</p>
<h3> <a name="join_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the join command.
</p>
<a name="kmeans"></a><h2> <a name="kmeans_kmeans"><span class="mw-headline" id="kmeans"> kmeans </span></a></h2>
<h3> <a name="kmeans_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Performs k-means clustering on selected fields.
</p>
<h4><font size="3"><b><i> <a name="kmeans_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>kmeans [kmeans-options]* &lt;field-list&gt;
</p>
<h4><font size="3"><b><i> <a name="kmeans_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> field-list
</dt><dd> <b>Syntax:</b> &lt;field&gt;, ...
</dd><dd> <b>Description:</b> Specify the exact fields to use for the join. If none are specified, uses all numerical fields that are common to both result sets. Skips events with non-numerical fields.
</dd></dl><h4><font size="3"><b><i> <a name="kmeans_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> kmeans-options
</dt><dd> <b>Syntax:</b> &lt;reps&gt;|&lt;iters&gt;|&lt;tol&gt;|&lt;k&gt;|&lt;cnumfield&gt;|&lt;distype&gt;
</dd><dd> <b>Description:</b> Options for the <code><font size="2">kmeans</font></code> command.
</dd></dl><h4><font size="3"><b><i> <a name="kmeans_kmeans_options"><span class="mw-headline" id="kmeans_options"> kmeans options </span></a></i></b></font></h4>
<dl><dt> reps
</dt><dd> <b>Syntax:</b> reps=&lt;int&gt;
</dd><dd> <b>Description:</b> Specify the number of times to repeat kmeans using random starting clusters. Defaults to 10.
</dd></dl><dl><dt> iters
</dt><dd> <b>Syntax:</b> maxiters=&lt;int&gt;
</dd><dd> <b>Description:</b> Specify the maximum number of iterations allowed before failing to converge. Defaults  to 10000.
</dd></dl><dl><dt> t
</dt><dd> <b>Syntax:</b> t=&lt;num&gt;
</dd><dd> <b>Description:</b> Specify the algorithm convergence tolerance. Defaults to 0.
</dd></dl><dl><dt> k
</dt><dd> <b>Syntax:</b> k=&lt;int&gt; | &lt;int&gt;-&lt;int&gt;
</dd><dd> <b>Description:</b> Specify as a scalar integer value or a range of integers. When provided as single number, selects the number of clusters to use. This produces events annotated by the cluster label. When expressed as a range,  clustering is done for each of the cluster counts in the range and a summary of the results is produced.  These results express the size of the clusters, and a 'distortion' field which represents how well the data fits those selected clusters.  Values must be greater than 1 and less than maxkvalue (see Limits section). Defaults to 2.
</dd></dl><dl><dt> cnumfield
</dt><dd> <b>Syntax:</b> cfield=&lt;field&gt;
</dd><dd> <b>Description:</b> Names the field to annotate the results with the cluster number for each event. Defaults to CLUSTERNUM.
</dd></dl><dl><dt> distype
</dt><dd> <b>Syntax:</b> dt=l1 | l1norm | cityblock | cb | l2 | l2norm | sq | sqeuclidean | cos | cosine
</dd><dd> <b>Description:</b> Specify the distance metric to use. <code><font size="2">l1, l1norm, and cb</font></code> are synonyms for to <code><font size="2">cityblock</font></code>. <code><font size="2">l2, l2norm, and sq</font></code> are synonyms for <code><font size="2">sqeuclidean</font></code>. <code><font size="2">cos</font></code> is a synonym for <code><font size="2">cosine</font></code>. Defaults to <code><font size="2">sqeucildean</font></code>.
</dd></dl><h3> <a name="kmeans_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Performs k-means clustering on select fields (or all numerical fields if empty). Events in the same cluster will be moved next to each other. Optionally the cluster number for each event is displayed.
</p>
<h3> <a name="kmeans_limits"><span class="mw-headline" id="Limits"> Limits </span></a></h3>
<p>The number of clusters to collect the values into -- k -- is not permitted to exceed maxkvalue, specified in limits.conf in the [kmeans] stanza.  This defaults to 1000.
</p><p>When a range is given for the <code><font size="2">k</font></code> option, the total distance between the begin and end cluster counts is not permitted to exceed maxkrange, specified in limits.conf in the [kmeans] stanza.  This defaults to 100.
</p><p>The above limits are designed to avoid the computation work becoming unreasonably expensive.
</p><p>The total number of values which are clustered by the algorithm (typically the number of input results) is limited by the <code><font size="2">maxdatapoints</font></code> parameter in the <code><font size="2">[kmeans]</font></code> stanza of <code><font size="2">limits.conf</font></code>.  If this limit is exceeded at runtime, a warning message displays in Splunk Web.  This defaults to 100000000 or 100 million. This <code><font size="2">maxdatapoints</font></code> limit is designed to avoid exhausting memory.
</p>
<h3> <a name="kmeans_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Group search results into 4 clusters based on the values of the "date_hour" and "date_minute" fields.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | kmeans k=4 date_hour date_minute</font></code><br></div>
<p><b>Example 2:</b> Group results into 2 clusters based on the values of all numerical fields.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | kmeans</font></code><br></div>
<h3> <a name="kmeans_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#anomalies" class="external text">anomalies</a>, <a href="#anomalousvalue" class="external text">anomalousvalue</a>, <a href="#cluster" class="external text">cluster</a>, <a href="#outlier" class="external text">outlier</a>, 
</p>
<h3> <a name="kmeans_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the kmeans command.
</p>
<a name="kvform"></a><h2> <a name="kvform_kvform"><span class="mw-headline" id="kvform"> kvform </span></a></h2>
<h3> <a name="kvform_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Extracts key/value pairs from events based on a form template that describes how to extract the values. If <code><font size="2">form</font></code> is specified, it uses an installed <i>form</i>.form file found in the Splunk configuration form directory. For example, if <code><font size="2">form=sales_order</font></code>, would look for a <code><font size="2">sales_order.form</font></code> file in <code><font size="2">$PLUNK_HOME/etc/apps/&lt;app_name&gt;/forms</font></code> for all apps. All the events processed would be matched against that form, trying to extract values. 
</p><p>If no FORM is specified, then the <code><font size="2">field</font></code> value determines the name of the field to extract. For example, if <code><font size="2">field=error_code</font></code>, then an event that has an <i>error_code=404</i>, would be matched against a <code><font size="2">404.form</font></code> file. 
</p><p>The default value for <code><font size="2">field</font></code> is <code><font size="2">sourcetype</font></code>, thus by default the <code><font size="2">kvform</font></code> command will look for <i>SOURCETYPE</i>.form files to extract values. 
</p><p>A <code><font size="2">.form</font></code> file is essentially a text file of all static parts of a form. It may be interspersed with named references to regular expressions of the type found in transforms.conf. An example <code><font size="2">.form</font></code> file might look like this:
</p>
<code><font size="2"><br>Students Name: [[string:student_name]]<br>Age: [[int:age]] Zip: [[int:zip]]<br></font></code>
<h3> <a name="kvform_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>kvform [form=&lt;string&gt;] [field=&lt;field&gt;]
</p>
<h4><font size="3"><b><i> <a name="kvform_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> form
</dt><dd> <b>Syntax:</b> form=&lt;string&gt;
</dd><dd> <b>Description:</b> Specify a .form file located in a <code><font size="2">$SPLUNK_HOME/etc/apps/*/forms/</font></code> directory.
</dd></dl><dl><dt> field
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> The name of the field to extract. 
</dd><dd> <b>Default:</b> sourcetype
</dd></dl><h3> <a name="kvform_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Extract values from "eventtype.form" if the file exists.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | kvform field=eventtype</font></code><br></div>
<h3> <a name="kvform_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#extract" class="external text">extract</a>, <a href="#multikv" class="external text">multikv</a>, <a href="#rex" class="external text">rex</a>, <a href="#xmlkv" class="external text">xmlkv</a> 
</p>
<h3> <a name="kvform_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the kvform command.
</p>
<a name="loadjob"></a><h2> <a name="loadjob_loadjob"><span class="mw-headline" id="loadjob"> loadjob </span></a></h2>
<h3> <a name="loadjob_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Loads events or results of a previously completed search job. The artifacts to load are identified either by the search job id or a scheduled search name and the time range of the current search. If a savedsearch name is provided and multiple artifacts are found within that range the latest artifacts are loaded.
</p><p>Can be used for a variety of purposes, but one of the most useful is to run a fairly expensive search that calculates statistics, and display those statistics in a variety of ways with <code><font size="2">|loadjob</font></code> searches that do further aggregation, categorization, field selection and other manipulations for charting and display.
Once a search job has completed and the results are cached you can use this command to access or load the results.
</p><p><br></p>
<h3> <a name="loadjob_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>loadjob (&lt;sid&gt;|&lt;savedsearch-opt&gt;) [&lt;result-event&gt;] [&lt;delegate&gt;] [&lt;artifact-offset&gt;] [&lt;ignore-running&gt;]
</p>
<h4><font size="3"><b><i> <a name="loadjob_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> sid
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The search ID of the job whose artifacts need to be loaded, for example: <code><font size="2">1233886270.2</font></code>
</dd></dl><dl><dt> savedsearch
</dt><dd> <b>Syntax:</b> savedsearch="&lt;user-string&gt;:&lt;app-string&gt;:&lt;search-name-string&gt;"
</dd><dd> <b>Description:</b> The unique identifier of a savedsearch whose artifacts need to be loaded. A savedsearch is uniquely identified by the triplet {user, app, savedsearch name}, for example: <code><font size="2">savedsearch="admin:search:my Saved Search"</font></code>  There is no method to specify a wildcard or match-all behavior, all portions of the triplet must be provided.
</dd></dl><h4><font size="3"><b><i> <a name="loadjob_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> result-event
</dt><dd> <b>Syntax:</b> events=&lt;bool&gt;
</dd><dd> <b>Description:</b> <code><font size="2">events=true</font></code> loads events, while <code><font size="2">events=false</font></code> loads results. 
</dd><dd> <b>Defaults:</b> false
</dd></dl><dl><dt> delegate
</dt><dd> <b>Syntax:</b> job_delegate=&lt;string&gt;
</dd><dd> <b>Description:</b> When specifying a savedsearch, this option selects jobs that were started by the given user. Scheduled jobs will be run by the delegate "scheduler".  Dashboard-embedded searches will be run in accordance with the savedsearch's dispatchAs parameter (typically the owner of the search).  
</dd><dd> <b>Defaults:</b> scheduler
</dd></dl><dl><dt> artifact-offset
</dt><dd> <b>Syntax:</b> artifact_offset=&lt;int&gt;
</dd><dd> <b>Description:</b> Selects a search artifact other than the most recent matching one.  For example, if <code><font size="2">artifact_offset=1</font></code>, the second most recent artifact will be used.  If <code><font size="2">artifact_offset=2</font></code>, the third most recent artifact will be used.  If <code><font size="2">artifact_offset=0</font></code>, selects the most recent. A value that selects past all available artifacts will result in an error. 
</dd><dd> <b>Default:</b> 0
</dd></dl><dl><dt> ignore_running
</dt><dd> <b>Syntax:</b> ignore_running=&lt;bool&gt;
</dd><dd> <b>Description:</b> Skip over artifacts whose search is still running. 
</dd><dd> <b>Default:</b> true
</dd></dl><p><br></p>
<h3> <a name="loadjob_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Loads the results of the latest scheduled execution of savedsearch MySavedSearch in the 'search' application owned by admin
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| loadjob savedsearch="admin:search:MySavedSearch"</font></code><br></div>
<p><b>Example 2:</b> Loads the events that were generated by the search job with id=1233886270.2
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| loadjob 1233886270.2 events=true</font></code><br></div>
<h3> <a name="loadjob_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#inputcsv" class="external text">inputcsv</a>
</p>
<h3> <a name="loadjob_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the loadjob command.
</p>
<a name="localize"></a><h2> <a name="localize_localize"><span class="mw-headline" id="localize"> localize </span></a></h2>
<h3> <a name="localize_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Returns a list of time ranges in which the search results were found.
</p>
<h4><font size="3"><b><i> <a name="localize_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>localize [&lt;maxpause&gt;] [&lt;timeafter&gt;] [&lt;timebefore&gt;]
</p>
<h4><font size="3"><b><i> <a name="localize_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> maxpause
</dt><dd> <b>Syntax:</b> maxpause=&lt;int&gt;(s|m|h|d)
</dd><dd> <b>Description:</b> Specify the maximum (inclusive) time between two consecutive events in a contiguous time region. Defaults to 1m.
</dd></dl><dl><dt> timeafter
</dt><dd> <b>Syntax:</b> timeafter=&lt;int&gt;(s|m|h|d)
</dd><dd> <b>Description:</b> Specify the amount of time to add to the output endtime field (expand the time region forward in time). Defaults to 30s.
</dd></dl><dl><dt> timebefore
</dt><dd> <b>Syntax:</b> timebefore=&lt;int&gt;(s|m|h|d)
</dd><dd> <b>Description:</b> Specify the amount of time to subtract from the output starttime field (expand the time region backwards in time). Defaults to 30s.
</dd></dl><h3> <a name="localize_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Generates result representing a list of time contiguous event regions defined as: a period of time in which consecutive events are separated by at most 'maxpause' time. The found regions can be expanded using the 'timeafter' and 'timebefore' modifiers to expand the range after/before the last/first event in the region respectively; these expansions are done arbitrarily, possibly causing overlaps in the regions if the values are larger than maxpause. The regions are returned in search order -- descending time for historical searches, and data-arrival order for realtime search. The time of each region is the initial pre-expanded start-time.  The regions discovered by localize are meant to be feed into the <tt>map</tt> command, which will use a different region for each iteration. Localize also reports: (a) number of events in the range, (b) range duration in seconds and (c) region density defined as (#of events in range) divided by (range duration) - events per second.
</p>
<h3> <a name="localize_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Search the time range of each previous result for "failure".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | localize maxpause=5m | map search="search failure starttimeu=$starttime$ endtimeu=$endtime$"</font></code><br></div>
<p><b>Example 2:</b> As an example, searching for "error" and then calling localize finds good regions around where error occurs, and passes each on to the search inside of the map command, so that each iteration works with a specific timerange to find promising transactions
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">error | localize | map search="search starttimeu::$starttime$ endtimeu::$endtime$ |transaction uid,qid maxspan=1h"</font></code><br></div>
<h3> <a name="localize_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#map" class="external text">map</a>, <a href="#transaction" class="external text">transaction</a> 
</p>
<h3> <a name="localize_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the localize command.
</p>
<a name="localop"></a><h2> <a name="localop_localop"><span class="mw-headline" id="localop"> localop </span></a></h2>
<h3> <a name="localop_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Prevents subsequent commands from being executed on remote peers.
</p>
<h4><font size="3"><b><i> <a name="localop_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>localop
</p>
<h3> <a name="localop_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Tells Splunk to run subsequent commands, that is all commands following this, locally and not on a remote peer(s). Another way to think of it is that the localop command forces subsequent commands to be part of the reduce step of the mapreduce process.
</p>
<h3> <a name="localop_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> The iplocation command in this case will never be run on remote peers. All events from remote peers from the initial search for the terms FOO and BAR will be forwarded to the search head where the iplocation command will be run.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">FOO BAR | localop | iplocation</font></code><br></div>
<h3> <a name="localop_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the localop command.
</p>
<a name="lookup"></a><h2> <a name="lookup_lookup"><span class="mw-headline" id="lookup"> lookup </span></a></h2>
<p>Use the lookup command to manually invoke field lookups from a lookup table that you've defined in <code><font size="2">transforms.conf</font></code>. If you have automatic lookups configured in <code><font size="2">props.conf</font></code>, this command will not use any of those settings. For more information, see "Configure CSV and external lookups" and "Configure KV store lookups," in the <i>Knowledge Manager Manual</i>.
</p>
<h3> <a name="lookup_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Explicitly invokes field value lookups.
</p>
<h4><font size="3"><b><i> <a name="lookup_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>lookup [local=&lt;bool&gt;] [update=&lt;bool&gt;] &lt;lookup-table-name&gt;  ( &lt;lookup-field&gt; [AS &lt;event-field&gt;] ) [( OUTPUT | OUTPUTNEW &lt;lookup-destfield&gt; [AS &lt;event-destfield&gt;]  )]
</p><p><b>Note:</b> The lookup command can accept multiple lookup and event <code><font size="2">fields</font></code> and <code><font size="2">destfields</font></code>. For example:
</p><p>lookup &lt;lookup-table-name&gt; &lt;lookup-field1&gt; AS &lt;event-field1&gt;, &lt;lookup-field2&gt; AS &lt;event-field2&gt; OUTPUTNEW &lt;lookup-destfield1&gt; AS &lt;event-destfield1&gt;, &lt;lookup-destfield2&gt; AS &lt;event-destfield2&gt;
</p>
<h4><font size="3"><b><i> <a name="lookup_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;lookup-table-name&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Refers to a stanza name in transforms.conf. This stanza specifies the location of the lookup table file.
</dd></dl><h4><font size="3"><b><i> <a name="lookup_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> local
</dt><dd> <b>Syntax:</b> local=&lt;bool&gt;
</dd><dd> <b>Description:</b> If local=true, forces the lookup to run on the search-head and not on any remote peers.
</dd></dl><dl><dt> update
</dt><dd> <b>Syntax:</b> update=&lt;bool&gt;
</dd><dd> <b>Description:</b> If the lookup table is modified on disk while the search is running, real-time searches will not automatically reflect the update. To do this, specify update=true. This does not apply to non-real-time searches. This implies that local=true. Defaults to false.
</dd></dl><dl><dt> &lt;lookup-field&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Refers to a field in the lookup table to match against events. Multiple &lt;lookup-field&gt; values can be specified.
</dd></dl><dl><dt> &lt;event-field&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Refers to a field the events from which to acquire the value to match in the lookup table, defaults to the value of &lt;lookup-field&gt;. Multiple &lt;local-field&gt; values can be specified.
</dd></dl><dl><dt> &lt;lookup-destfield&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Refers to a field in the lookup table to be copied into the events. Multiple &lt;lookup-destfield&gt; values can be specified. 
</dd></dl><dl><dt> &lt;event-destfield&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Refers to a field in the events , defaults to the value of &lt;lookup-destfield&gt;. Multiple &lt;local-destfield&gt; values can be specified.
</dd></dl><h3> <a name="lookup_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>When using the lookup command, if an OUTPUT or OUTPUTNEW clause is not specified, all fields in the lookup table that are not the match field will be used as output fields. If OUTPUT is specified, the output lookup fields will overwrite existing fields. If OUTPUTNEW is specified, the lookup will not be performed for events in which the output fields already exist.
</p>
<h3> <a name="lookup_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> There is a lookup table specified in a stanza named <code><font size="2">usertogroup</font></code> in <code><font size="2">transforms.conf</font></code>. This lookup table contains (at least) two fields, <code><font size="2">user</font></code> and <code><font size="2">group</font></code>. For each event, we look up the value of the field <code><font size="2">local_user</font></code> in the table and for any entries that match, the value of the <code><font size="2">group</font></code> field in the lookup table is written to the field <code><font size="2">user_group</font></code> in the event.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | lookup usertogroup user as local_user OUTPUT group as user_group</font></code><br></div>
<h3> <a name="lookup_optimizing_your_lookup_search"><span class="mw-headline" id="Optimizing_your_lookup_search"> Optimizing your lookup search </span></a></h3>
<p>If you're using the lookup command in the same pipeline as a <b>transforming command</b>, and it is possible to retain the field you will lookup on after the transforming command, do the lookup after the transforming command. For example, run:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | stats count by status | lookup status_desc status OUTPUT description</font></code><br></div>
<p>and not:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | lookup status_desc status OUTPUT description | stats count by description</font></code><br></div>
<p>The lookup in the first search is faster because it only needs to match the results of the stats command and not all the Web access events.
</p>
<h3> <a name="lookup_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#appendcols" class="external text">appendcols</a>, <a href="#inputlookup" class="external text">inputlookup</a>, <a href="#outputlookup" class="external text">outputlookup</a> 
</p>
<h3> <a name="lookup_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the lookup command.
</p>
<a name="makecontinuous"></a><h2> <a name="makecontinuous_makecontinuous"><span class="mw-headline" id="makecontinuous"> makecontinuous </span></a></h2>
<h3> <a name="makecontinuous_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Makes a field that is supposed to be the x-axis continuous (invoked by chart/timechart).
</p>
<h4><font size="3"><b><i> <a name="makecontinuous_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>makecontinuous [&lt;field&gt;] &lt;bucketing-option&gt;*
</p>
<h4><font size="3"><b><i> <a name="makecontinuous_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;bucketing-option&gt;
</dt><dd> <b>Datatype:</b> bins | span | start-end
</dd><dd> <b>Description:</b> Discretization options. See "Bucketing options" for details.
</dd></dl><h4><font size="3"><b><i> <a name="makecontinuous_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;field&gt;
</dt><dd> <b>Datatype:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Specify a field name.
</dd></dl><h4><font size="3"><b><i> <a name="makecontinuous_bucketing_options"><span class="mw-headline" id="Bucketing_options"> Bucketing options </span></a></i></b></font></h4>
<dl><dt> bins
</dt><dd> <b>Syntax:</b> bins=&lt;int&gt;
</dd><dd> <b>Description:</b> Sets the maximum number of bins to discretize into.
</dd></dl><dl><dt> span
</dt><dd> <b>Syntax:</b> &lt;log-span&gt; | &lt;span-length&gt;
</dd><dd> <b>Description:</b> Sets the size of each bucket, using a span length based on time or log-based span.
</dd></dl><dl><dt> &lt;start-end&gt;
</dt><dd> <b>Syntax:</b> end=&lt;num&gt; | start=&lt;num&gt;
</dd><dd> <b>Description:</b>Sets the minimum and maximum extents for numerical buckets. Data outside of the [start, end] range is discarded.
</dd></dl><h5> <a name="makecontinuous_log_span_syntax"><span class="mw-headline" id="Log_span_syntax"> Log span syntax </span></a></h5>
<dl><dt> &lt;log-span&gt;
</dt><dd> <b>Syntax:</b> [&lt;num&gt;]log[&lt;num&gt;]
</dd><dd> <b>Description:</b> Sets to log-based span. The first number is a coefficient. The second number is the base. If the first number is supplied, it must be a real number &gt;= 1.0 and &lt; base. Base, if supplied, must be real number &gt; 1.0 (strictly greater than 1).
</dd></dl><h5> <a name="makecontinuous_span_length_syntax"><span class="mw-headline" id="Span_length_syntax"> Span length syntax </span></a></h5>
<dl><dt> span-length
</dt><dd> <b>Syntax:</b> &lt;span&gt;[&lt;timescale&gt;]
</dd><dd> <b>Description:</b> A span length based on time.
</dd></dl><dl><dt> &lt;span&gt;
</dt><dd> <b>Syntax:</b> &lt;int&gt;
</dd><dd> <b>Description:</b> The span of each bin. If using a timescale, this is used as a time range. If not, this is an absolute bucket "length."
</dd></dl><dl><dt> &lt;timescale&gt;
</dt><dd> <b>Syntax:</b> &lt;sec&gt; | &lt;min&gt; | &lt;hr&gt; | &lt;day&gt; | &lt;month&gt; | &lt;subseconds&gt;
</dd><dd> <b>Description:</b> Time scale units.
</dd></dl><dl><dt> &lt;sec&gt;
</dt><dd> <b>Syntax:</b> s | sec | secs | second | seconds
</dd><dd> <b>Description:</b> Time scale in seconds.
</dd></dl><dl><dt> &lt;min&gt; 
</dt><dd> <b>Syntax:</b> m | min | mins | minute | minutes
</dd><dd> <b>Description:</b> Time scale in minutes.
</dd></dl><dl><dt> &lt;hr&gt;
</dt><dd> <b>Syntax:</b> h | hr | hrs | hour | hours
</dd><dd> <b>Description:</b> Time scale in hours.
</dd></dl><dl><dt> &lt;day&gt;
</dt><dd> <b>Syntax:</b> d | day | days
</dd><dd> <b>Description:</b> Time scale in days.
</dd></dl><dl><dt> &lt;month&gt;
</dt><dd> <b>Syntax:</b> mon | month | months
</dd><dd> <b>Description:</b> Time scale in months.
</dd></dl><dl><dt> &lt;subseconds&gt;
</dt><dd> <b>Syntax:</b> us | ms | cs | ds
</dd><dd> <b>Description:</b> Time scale in microseconds (us), milliseconds (ms), centiseconds (cs), or deciseconds (ds).
</dd></dl><p><br></p>
<h3> <a name="makecontinuous_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Makes buckets on the X axis numerically continuous, by introducing empty buckets for periods where there are no data, and quantizing the periods where there is data.
</p>
<h3> <a name="makecontinuous_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Make "_time" continuous with a span of 10 minutes.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | makecontinuous _time span=10m</font></code><br></div>
<h3> <a name="makecontinuous_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#chart" class="external text">chart</a>, <a href="#timechart" class="external text">timechart</a>
</p>
<h3> <a name="makecontinuous_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the makecontinuous command.
</p>
<a name="makemv"></a><h2> <a name="makemv_makemv"><span class="mw-headline" id="makemv"> makemv </span></a></h2>
<h3> <a name="makemv_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Convert a delimited field into a multivalue field.
</p>
<h4><font size="3"><b><i> <a name="makemv_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>makemv [delim=&lt;string&gt;|tokenizer=&lt;string&gt;] [allowempty=&lt;bool&gt;] [setsv=&lt;bool&gt;] &lt;field&gt;
</p>
<h4><font size="3"><b><i> <a name="makemv_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> field
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Specify the name of a field.
</dd></dl><h4><font size="3"><b><i> <a name="makemv_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> delim
</dt><dd> <b>Syntax:</b> delim=&lt;string&gt;
</dd><dd> <b>Description:</b> Split <i>field</i> on every occurrence of this string. Defaults to a single space (" ").
</dd></dl><dl><dt> tokenizer
</dt><dd> <b>Syntax:</b> tokenizer=&lt;string&gt;
</dd><dd> <b>Description:</b> A regex, with a capturing group, that will be repeat-matched against the text of <i>field</i>.  For each match, the first capturing group is used as a value of the newly created multivalue field.
</dd></dl><dl><dt> allowempty
</dt><dd> <b>Syntax:</b> allowempty=&lt;bool&gt;
</dd><dd> <b>Description:</b> Permit empty string values in the multivalue field.  When using the delim argument, this means that repeats of the delim string produce an empty string value, for example <code><font size="2">delim=","</font></code> and <code><font size="2">field="a,,b"</font></code>.  By default this will not produce any value.  When using the tokenizer argument,  zero length matches will produce empty string values. By default they will produce no values.  
</dd><dd><b>Default:</b> false
</dd></dl><dl><dt> setsv
</dt><dd> <b>Syntax:</b> setsv=&lt;bool&gt;
</dd><dd> <b>Description:</b> If true,  <i>makemv</i> combines the decided values of the field into a single value which is set on the same field. (The simultaneous existence of a multivalue and a single value for the same field is a very awkward Splunk Enterprise internal design behavior.  Probably you should ignore this flag.) 
</dd><dd><b>Default:</b> false
</dd></dl><h3> <a name="makemv_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Convert a single valued field into a multivalue field by splitting it on a simple string delimiter (can be multicharacter), or alternatively by splitting it using a regex.
</p>
<h3> <a name="makemv_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> For sendmail search results, separate the values of "senders" into multiple values. Then, display the top values.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">eventtype="sendmail" | makemv delim="," senders | top senders</font></code><br></div>
<p><b>Example 2:</b> Separate the value of "foo" into multiple values.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | makemv delim=":" allowempty=true foo</font></code><br></div>
<h3> <a name="makemv_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#mvcombine" class="external text">mvcombine</a>, <a href="#mvexpand" class="external text">mvexpand</a>, <a href="#nomv" class="external text">nomv</a>, 
</p>
<h3> <a name="makemv_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the makemv command.
</p>
<a name="map"></a><h2> <a name="map_map"><span class="mw-headline" id="map"> map </span></a></h2>
<h3> <a name="map_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Looping operator, performs a search over each search result.
</p>
<h4><font size="3"><b><i> <a name="map_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>map (&lt;searchoption&gt;|&lt;savedsplunkoption&gt;) [maxsearches=int]
</p>
<h4><font size="3"><b><i> <a name="map_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;savedsplunkoption&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Name of a saved search to run for each input result. No default.
</dd></dl><dl><dt> &lt;searchoption&gt;
</dt><dd> <b>Syntax:</b> [ &lt;subsearch&gt; ] | search="&lt;string&gt;"
</dd><dd> <b>Description:</b> A literal search to run for each input result. Example: <code><font size="2">[search starttimeu::$start$ endtimeu::$end$ source="$source$"]</font></code>. No default.
</dd></dl><h4><font size="3"><b><i> <a name="map_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> maxsearches
</dt><dd> <b>Syntax:</b> maxsearches=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum number of searches to run. This will generate a message if there are more search results. Defaults to 10.
</dd></dl><h3> <a name="map_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">map</font></code> command runs a search repeatedly, for each input event or result.  When using a savedsearch, or the <code><font size="2">search="string"</font></code> forms, the map command supports substitution of $variable$ strings that match field names in the input results.  Thus search with a string like $count$, for example, will have that string replaced with the value of the count field in the input search result.
</p><p><code><font size="2">map</font></code> also supports a search id field, provided as $_serial_id$ which will have a number increemented for each run search.  In other words, the first run search will have the value 1, and the second 2, and so on.
</p><p>The [subsearch] form of the map command does not support $variable$ substitution.
</p><p>For more information about subsearches, 
</p>
<ul><li> Read "About subsearches" in the Search Manual.
</li><li> Read "How to use the search command" in the Search Manual.
</li></ul><p>Note that if the subsearch fails to be parsed, map will not provide a useful error message.  In order to troubleshoot, manually construct the intended search string and run it directly.
</p>
<h3> <a name="map_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Invoke the map command with a saved search.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">error | localize | map mytimebased_savedsearch</font></code><br></div>
<p><b>Example 2:</b> Maps the start and end time values.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | map search="search starttimeu::$start$ endtimeu::$end$" maxsearches=10</font></code><br></div>
<p><b>Example 3:</b> This example illustrates how to find a sudo event and then use the map command to trace back to the computer and the time that users logged on before the sudo event. Start with the following search for the sudo event:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=syslog sudo | stats count by user host</font></code><br></div>
<p>Which returns a table of results, such as:
</p>
<table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0">User
</th><th bgcolor="#C0C0C0">Host
</th><th bgcolor="#C0C0C0">Count
</th></tr><tr><td valign="center" align="left"> userA
</td><td valign="center" align="left"> serverA
</td><td valign="center" align="left"> 1
</td></tr><tr><td valign="center" align="left"> userB
</td><td valign="center" align="left"> serverA
</td><td valign="center" align="left"> 3
</td></tr><tr><td valign="center" align="left"> userA
</td><td valign="center" align="left"> serverB
</td><td valign="center" align="left"> 2
</td></tr></table><p>When you pipe these results into the map command, substituting the username:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=syslog sudo | stats count by user host | map search="search index=ad_summary username=$user$ type_logon=ad_last_logon"</font></code><br></div>
<p>It takes each of the three results from the previous search and searches in the <code><font size="2">ad_summary</font></code> index for the user's logon event. The results are returned as a table, such as:
</p>
<table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0">_time
</th><th bgcolor="#C0C0C0">computername
</th><th bgcolor="#C0C0C0">computertime
</th><th bgcolor="#C0C0C0">username
</th><th bgcolor="#C0C0C0">usertime
</th></tr><tr><td valign="center" align="left"> 10/12/12 8:31:35.00 AM
</td><td valign="center" align="left"> Workstation$
</td><td valign="center" align="left"> 10/12/2012 08:25:42
</td><td valign="center" align="left"> userA
</td><td valign="center" align="left"> 10/12/2012 08:31:35 AM
</td></tr></table><p>(Thanks to Alacercogitatus for this example.)
</p>
<h3> <a name="map_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#gentimes" class="external text">gentimes</a>, <a href="#search" class="external text">search</a> 
</p>
<h3> <a name="map_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the map command.
</p>
<a name="metadata"></a><h2> <a name="metadata_metadata"><span class="mw-headline" id="metadata"> metadata </span></a></h2>
<h3> <a name="metadata_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Returns a list of source, sourcetypes, or hosts from a specified index or distributed search peer.
</p>
<h4><font size="3"><b><i> <a name="metadata_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>| metadata type=&lt;metadata-type&gt; [&lt;index-specifier&gt;] [&lt;server-specifier&gt;]
</p>
<h4><font size="3"><b><i> <a name="metadata_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> type
</dt><dd> <b>Syntax:</b> type= hosts | sources | sourcetypes
</dd><dd> <b>Description:</b> Specify the type of metadata to return; this must be one of the three literal strings host, sources or sourcetypes.  If the type argument is omitted, no results will be returned.
</dd></dl><h4><font size="3"><b><i> <a name="metadata_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> index-specifier
</dt><dd> <b>Syntax:</b> index=&lt;index_name&gt;
</dd><dd> <b>Description:</b> Specify the index from which to return results. Wildcards (*) may be used.  index=* matches non-internal indexes. index=_* matches internal indexes. Defaults to the default index, which is usually main.
</dd></dl><dl><dt> server-specifier
</dt><dd> <b>Syntax:</b> splunk_server=&lt;string&gt;
</dd><dd> <b>Description:</b> Specify the distributed search peer from which to return results. If used, you can specify only one <code><font size="2">splunk_server</font></code>.  By default all configured search peers will return information.
</dd></dl><h3> <a name="metadata_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">metadata</font></code> command returns data about a specified index or distributed search peer. It returns information such as a list of the hosts, sources, or source types accumulated over time and when the first, last, and most recent event was seen for each value of the specified metadata type.  It does not provide a snapshot of an index over a specific timeframe (such as last 7 days). For example, if you search for:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| metadata type=hosts</font></code><br></div>
<p>Your results will look something like this:
</p><p><img alt="Metadata hostsEx.png" src="images/1/17/Metadata_hostsEx.png" width="600" height="101"></p><p>Where:
</p>
<ul><li> <code><font size="2">firstTime</font></code> is the timestamp for the first time that the indexer saw an event from this host.
</li><li> <code><font size="2">lastTime</font></code> is the timestamp for the last time that the indexer saw an event from this host.
</li><li> <code><font size="2">recentTime</font></code> is the <code><font size="2">indextime</font></code> for the most recent time that the index saw an event from this host (that is, the time of the last update).
</li><li> <code><font size="2">totalcount</font></code> is the total number of events seen from this host.
</li><li> <code><font size="2">type</font></code> is the specified type of metadata to display. Because this search specifies <code><font size="2">type=hosts</font></code>, there is also a <code><font size="2">host</font></code> column.
</li></ul><p>In most cases, when the data is streaming live, <code><font size="2">lastTime</font></code> and <code><font size="2">recentTime</font></code> are equal. However, if the data is historical, then the values of these fields could be different.
</p><p>In small testing environments, the data will be complete.  However in environments with large numbers of values per category, the data may not be complete.  This is intentional to allow the metadata command to operate within reasonable time and memory usage.
</p>
<h3> <a name="metadata_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return the values of "sourcetypes" for events in the "_internal" index.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| metadata type=sourcetypes index=_internal</font></code><br></div>
<p>This returns the following report:
</p><p><img alt="Searchref metadata ex1.1.png" src="images/6/6b/Searchref_metadata_ex1.1.png" width="700" height="256"></p><p>You can also use the <a href="#fieldformat" class="external text">fieldformat command</a> to format the results of firstTime, lastTime, and recentTime:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| metadata type=sourcetypes index=_internal | rename totalCount as Count firstTime as "First Event" lastTime as "Last Event" recentTime as "Last Update" | fieldformat Count=tostring(Count, "commas") | fieldformat "First Event"=strftime('First Event', "%c") | fieldformat "Last Event"=strftime('Last Event', "%c") | fieldformat "Last Update"=strftime('Last Update', "%c")</font></code><br></div>
<p>Now, the results are more readable:
</p><p><img alt="Searchref metadata ex1.2.png" src="images/5/5a/Searchref_metadata_ex1.2.png" width="700" height="258"></p><p><b>Example 2:</b> Return values of "sourcetype" for events in the "_audit" index on server foo.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| metadata type=sourcetypes index=_audit splunk_server=foo</font></code><br></div>
<h3> <a name="metadata_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#dbinspect" class="external text">dbinspect</a>
</p>
<h3> <a name="metadata_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the metadata command.
</p>
<a name="metasearch"></a><h2> <a name="metasearch_metasearch"><span class="mw-headline" id="metasearch"> metasearch </span></a></h2>
<h3> <a name="metasearch_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Retrieves event metadata from indexes based on terms in the &lt;logical-expression&gt;.
</p>
<h4><font size="3"><b><i> <a name="metasearch_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>metasearch [&lt;logical-expression&gt;]
</p>
<h4><font size="3"><b><i> <a name="metasearch_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;logical-expression&gt;
</dt><dd> <b>Syntax:</b> &lt;time-opts&gt;|&lt;search-modifier&gt;|((NOT)? &lt;logical-expression&gt;)|&lt;index-expression&gt;|&lt;comparison-expression&gt;|(&lt;logical-expression&gt; (OR)? &lt;logical-expression&gt;)
</dd><dd> <b>Description:</b> Includes time and search modifiers; comparison and index expressions.
</dd></dl><h4><font size="3"><b><i> <a name="metasearch_logical_expression"><span class="mw-headline" id="Logical_expression"> Logical expression </span></a></i></b></font></h4>
<dl><dt> &lt;comparison-expression&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;&lt;cmp&gt;&lt;value&gt;
</dd><dd> <b>Description:</b> Compare a field to a literal value or values of another field.
</dd></dl><dl><dt> &lt;index-expression&gt;
</dt><dd> <b>Syntax:</b> "&lt;string&gt;"|&lt;term&gt;|&lt;search-modifier&gt;
</dd></dl><dl><dt> &lt;time-opts&gt;
</dt><dd> <b>Syntax:</b> (&lt;timeformat&gt;)? (&lt;time-modifier&gt;)*
</dd></dl><h4><font size="3"><b><i> <a name="metasearch_comparison_expression"><span class="mw-headline" id="Comparison_expression"> Comparison expression </span></a></i></b></font></h4>
<dl><dt> &lt;cmp&gt;
</dt><dd> <b>Syntax:</b> = |&nbsp;!= | &lt; | &lt;= | &gt; | &gt;=
</dd><dd> <b>Description:</b> Comparison operators.
</dd></dl><dl><dt> &lt;field&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of a field.  In metasearch, only the fields source, sourcetype, host, _time, index, and splunk_server may be used.
</dd></dl><dl><dt> &lt;lit-value&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt; | &lt;num&gt;
</dd><dd> <b>Description:</b> An exact, or literal, value of a field; used in a comparison expression.
</dd></dl><dl><dt> &lt;value&gt;
</dt><dd> <b>Syntax:</b> &lt;lit-value&gt; | &lt;field&gt;
</dd><dd> <b>Description:</b> In comparison-expressions, the literal (number or string) value of a field or another field name.
</dd></dl><h4><font size="3"><b><i> <a name="metasearch_index_expression"><span class="mw-headline" id="Index_expression"> Index expression </span></a></i></b></font></h4>
<dl><dt> &lt;search-modifier&gt;
</dt><dd> <b>Syntax:</b> &lt;field-specifier&gt;|&lt;savedsplunk-specifier&gt;|&lt;tag-specifier&gt;
</dd></dl><h4><font size="3"><b><i> <a name="metasearch_time_options"><span class="mw-headline" id="Time_options"> Time options </span></a></i></b></font></h4>
<p>Splunk allows many flexible options for searching based on time. For a list of time modifiers, see the topic <a href="#searchtimemodifiers" class="external text">"Time modifiers for search"</a>
</p>
<dl><dt> &lt;timeformat&gt;
</dt><dd> <b>Syntax:</b> timeformat=&lt;string&gt;
</dd><dd> <b>Description:</b> Set the time format for starttime and endtime terms. By default, the timestamp is formatted: <code><font size="2">timeformat=%m/%d/%Y:%H:%M:%S</font></code> .
</dd></dl><dl><dt> &lt;time-modifier&gt;
</dt><dd> <b>Syntax:</b> earliest=&lt;time_modifier&gt; | latest=&lt;time_modifier&gt;
</dd><dd> <b> Description:</b> Specify start and end times using relative or absolute time. Read more about time modifier syntax in "Specify time modifiers in your search".
</dd></dl><h3> <a name="metasearch_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Retrieves event metadata from indexes based on terms in the &lt;logical-expression&gt;.  Metadata fields include source, sourcetype, host, _time, index, and splunk_server.
</p>
<h3> <a name="metasearch_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return metadata for events with "404" and from host "webserver1".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | metasearch 404 host="webserver1"</font></code><br></div>
<h3> <a name="metasearch_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#metadata" class="external text">metadata</a>, <a href="#search" class="external text">search</a>
</p>
<h3> <a name="metasearch_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the metasearch command.
</p>
<a name="multikv"></a><h2> <a name="multikv_multikv"><span class="mw-headline" id="multikv"> multikv </span></a></h2>
<h3> <a name="multikv_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Extracts field-values from table-formatted events, such as the results of top, netstat, ps, and so on. The multikv command creates a new event for each table row and assigns field names from the title row of the table.
</p><p>An example of the type of data multikv is designed to handle:
</p>
<code><font size="2">Name &nbsp;&nbsp;&nbsp;&nbsp;Age &nbsp;&nbsp;Occupation<br>Josh &nbsp;&nbsp;&nbsp;&nbsp;42 &nbsp;&nbsp;&nbsp;SoftwareEngineer<br>Francine 35 &nbsp;&nbsp;&nbsp;CEO<br>Samantha 22 &nbsp;&nbsp;&nbsp;ProjectManager<br></font></code>
<p>The key properties here are:
</p>
<ul><li> Each line of text represents a conceptual record.  
</li><li> The columns are aligned.
</li><li> The first line of text provides the names for the data in the columns.
</li></ul><p>multikv can transform this table from one event into three events with the relevant fields.  It works more easily with the fixed-alignment though can sometimes handle merely ordered fields.
</p><p>The general strategy is to identify a header, offsets, and field counts, and then determine which components of subsequent lines should be included into those field names.  Multiple tables in a single event can be handled (if multitable=true), but may require ensuring that the secondary tables have capitalized or ALLCAPS names in a header row.
</p><p>Auto-detection of header rows favors rows that are text, and are ALLCAPS or Capitalized.
</p><p><br></p>
<h3> <a name="multikv_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>multikv [conf=&lt;stanza_name&gt;] [&lt;multikv-option&gt;]*
</p>
<h4><font size="3"><b><i> <a name="multikv_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> conf
</dt><dd> <b>Syntax:</b> conf=&lt;stanza_name&gt;
</dd><dd> <b>Description:</b> If you have a field extraction defined in <code><font size="2">multikv.conf</font></code>, use this argument to reference the stanza in your search. For more information, refer to the configuration file reference for multikv.conf in the Admin Manual.
</dd></dl><dl><dt> &lt;multikv-option&gt;
</dt><dd> <b>Syntax:</b> copyattrs=&lt;bool&gt; | fields &lt;field-list&gt; | filter &lt;field-list&gt; | forceheader=&lt;int&gt; | multitable=&lt;bool&gt; | noheader=&lt;bool&gt; | rmorig=&lt;bool&gt;
</dd><dd> <b>Description:</b> Options for extracting fields from tabular events.
</dd></dl><h4><font size="3"><b><i> <a name="multikv_descriptions_for_multikv_options"><span class="mw-headline" id="Descriptions_for_multikv_options"> Descriptions for multikv options </span></a></i></b></font></h4>
<dl><dt> copyattrs
</dt><dd> <b>Syntax:</b> copyattrs=&lt;bool&gt;
</dd><dd> <b>Description:</b> When true, <code><font size="2">multikv</font></code> copies all fields from the original event to the events generated from that event.  When false, no fields are copied from the original event.  This means that the events will have no _time field and the UI will not know how to display them. 
</dd><dd> <b>Default:</b> true
</dd></dl><dl><dt> fields
</dt><dd> <b>Syntax:</b> fields &lt;field-list&gt;
</dd><dd> <b>Description:</b> Limit the fields set by the multikv extraction to this list. Ignores any fields in the table which are not on this list.
</dd></dl><dl><dt> filter
</dt><dd> <b>Syntax:</b> filter &lt;term-list&gt;
</dd><dd> <b>Description:</b> If specified, multikv skips over table rows that do not contain at least one of the strings in the filter list. Quoted expressions are permitted, such as "multiple words" or "trailing_space ".
</dd></dl><dl><dt> forceheader
</dt><dd> <b>Syntax:</b> forceheader=&lt;int&gt;
</dd><dd> <b>Description:</b> Forces the use of the given line number (1 based) as the table's header.   Does not include empty lines in the count. By default <code><font size="2">multikv</font></code> attempts to determine the header line automatically.
</dd></dl><dl><dt> multitable
</dt><dd> <b>Syntax:</b> multitable=&lt;bool&gt;
</dd><dd> <b>Description:</b> Controls whether or not there can be multiple tables in a single _raw in the original events. 
</dd><dd> <b>Default:</b> true
</dd></dl><dl><dt> noheader
</dt><dd> <b>Syntax:</b> noheader=&lt;bool&gt;
</dd><dd> <b>Description:</b> Handle a table without header row identification.  The size of the table will be inferred from the first row, and fields will be named Column_1, Column_2, ... <code><font size="2">noheader=true</font></code> implies <code><font size="2">multitable=false</font></code>.
</dd><dd> <b>Default:</b> false
</dd></dl><dl><dt> rmorig
</dt><dd> <b>Syntax:</b> rmorig=&lt;bool&gt;
</dd><dd> <b>Description:</b> When true, the original events will not be included in the output results.  When false, the original events are retained in the output results, with each original emitted after the batch of generated results from that original. 
</dd><dd> <b>Default:</b> true
</dd></dl><h3> <a name="multikv_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Extract the "COMMAND" field when it occurs in rows that contain "splunkd".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | multikv fields COMMAND filter splunkd</font></code><br></div>
<p><b>Example 2:</b> Extract the "pid" and "command" fields.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | multikv fields pid command</font></code><br></div>
<h3> <a name="multikv_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#extract" class="external text">extract</a>, <a href="#kvform" class="external text">kvform</a>, <a href="#rex" class="external text">rex</a>, <a href="#xmlkv" class="external text">xmlkv</a> 
</p>
<h3> <a name="multikv_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the multikv command.
</p>
<a name="multisearch"></a><h2> <a name="multisearch_multisearch"><span class="mw-headline" id="multisearch"> multisearch</span></a></h2>
<h3> <a name="multisearch_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Run multiple searches at the same time.
</p>
<h4><font size="3"><b><i> <a name="multisearch_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>| multisearch &lt;subsearch1&gt; &lt;subsearch2&gt; &lt;subsearch3&gt; ...
</p>
<h4><font size="3"><b><i> <a name="multisearch_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;subsearch&gt;
</dt><dd> <b>Syntax:</b> 
</dd><dd> <b>Description:</b> At least two streaming searches.
</dd></dl><h3> <a name="multisearch_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">multisearch</font></code> command is a generating command that executes multiple <i>streaming</i> searches at the same time.  It requires at least two subsearches and allows only streaming operations in each subsearch. Examples of streaming searches include searches with the following commands: search, eval, where, fields, rex. For more information, read about "Types of searches" in the Search Manual.
</p>
<h3> <a name="multisearch_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Search for both events from index a and b and add different fields using eval in each case.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2"> | multisearch [search index=a | eval type = "foo"] [search index=b | eval mytype = "bar"]</font></code><br></div>
<h3> <a name="multisearch_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#append" class="external text">append</a>, <a href="#join" class="external text">join</a>
</p>
<h3> <a name="multisearch_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the multisearch command.
</p>
<a name="mvcombine"></a><h2> <a name="mvcombine_mvcombine"><span class="mw-headline" id="mvcombine"> mvcombine </span></a></h2>
<h3> <a name="mvcombine_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Combines events in the search results that have a single differing field value into one result with a multivalue field of the differing field.
</p>
<h4><font size="3"><b><i> <a name="mvcombine_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>mvcombine [delim=&lt;string&gt;] &lt;field&gt;
</p>
<h4><font size="3"><b><i> <a name="mvcombine_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> field
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> The name of a field to merge on, generating a multivalue field.
</dd></dl><h4><font size="3"><b><i> <a name="mvcombine_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> delim
</dt><dd> <b>Syntax:</b> delim=&lt;string&gt;
</dd><dd> <b>Description:</b> Defines the string to use to generate the combined-string form of the combined single value field.  For example if the values of your field are "1", "2", and "3", and delim is ", " then your combined single value field would be "1, 2, 3". Defaults to a single space, (" ").
</dd></dl><h3> <a name="mvcombine_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Combine a group of results that are identical except for the given field into a single result where the given field is a multivalue field. 
</p><p>In more detail: accepts a set of input results, and finds groups of results where  all field values are identical, save the selected field.  All of these results are merged into a single result, where the selected field is now multivalue, containing all of the values from the merged results.
</p><p>As raw events have many fields that vary, this is most typically useful after paring down the set of available fields with the <code><font size="2">fields</font></code> command, or for manipulating the results of certain reporting commands.
</p><p>As a special additional behavior, mvcombine generates a single value version of the field as well, combining all the values into a single string, delimited by the string from the <code><font size="2">delim</font></code> parameter.  Some forms modes of investigating the search results will prefer this single value representation, such as exporting to CSV in the UI, or running a command line search with <code><font size="2">splunk search "..." -output csv</font></code>.  Some commands that are not multivalue aware might use this single value as well.
</p><p>Most forms of accessing the search results will prefer the multivalue representation, such as viewing the results in the UI, or exporting to JSON, requesting JSON from the command line search with <code><font size="2">splunk search "..." -output json</font></code> or requesting JSON or XML from the REST API.  For these forms of, the selected delim has no effect.
</p><p><br></p>
<h3> <a name="mvcombine_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> You have three events that are the same except for the IP address value:
</p>
<code><font size="2"><br>Nov 28 11:43:48 2010 host=datagen-host1 type=dhclient: bound to ip=209.202.23.154<br>message= ASCII renewal in 5807 seconds.<br>&nbsp;<br>Nov 28 11:43:49 2010 host=datagen-host1 type=dhclient: bound to ip=160.149.39.105<br>message= ASCII renewal in 5807 seconds. <br><br>Nov 28 11:43:49 2010 host=datagen-host1 type=dhclient: bound to ip=199.223.167.243<br>message= ASCII renewal in 5807 seconds. &nbsp;<br></font></code>
<p>You want to return the three IP address in one field and delimit the values with a comma. For example:  <code><font size="2">ip="209.202.23.154, 160.149.39.105, 199.223.167.243"</font></code>.<br>
Use the following search.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | mvcombine delim="," ip</font></code><br></div>
<p><br><b>Example 2:</b> In multivalue events:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype="WMI:WinEventLog:Security" | fields EventCode, Category,RecordNumber | mvcombine delim="," RecordNumber | nomv RecordNumber</font></code><br></div>
<p><b>Example 3:</b> Combine the values of "foo" with a colon delimiter.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | mvcombine delim=":" foo</font></code><br></div>
<h3> <a name="mvcombine_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#makemv" class="external text">makemv</a>, <a href="#mvexpand" class="external text">mvexpand</a>, <a href="#nomv" class="external text">nomv</a> 
</p>
<h3> <a name="mvcombine_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the mvcombine command.
</p>
<a name="mvexpand"></a><h2> <a name="mvexpand_mvexpand"><span class="mw-headline" id="mvexpand"> mvexpand </span></a></h2>
<h3> <a name="mvexpand_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Expands the values of a multivalue field into separate events, one event for each value in the multivalue field.
</p>
<h4><font size="3"><b><i> <a name="mvexpand_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>mvexpand &lt;field&gt; [limit=&lt;int&gt;]
</p>
<h4><font size="3"><b><i> <a name="mvexpand_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> field
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> The name of a multivalue field.
</dd></dl><h4><font size="3"><b><i> <a name="mvexpand_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> limit
</dt><dd> <b>Syntax:</b> limit=&lt;int&gt;
</dd><dd> <b>Description:</b> Specify the number of values of &lt;field&gt; to use for each input event. Default is 0, or no limit.
</dd></dl><h3> <a name="mvexpand_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>For each result with the specified field, create a new result for each value of that field in that result if it is a multivalue field.
</p>
<h3> <a name="mvexpand_limits"><span class="mw-headline" id="Limits"> Limits </span></a></h3>
<p>A limit exists on the amount of RAM that mvexpand is permitted to use while expanding a particular batch of results.  The input chunk of results typically will be maxresults or smaller in size, and the expansion of all those results lives in memory at once. The total memory that would be necessary would be the average result size multiplied by the number of results in the chunk multiplied by average size of the multivalue field being expanded.
</p><p>If this attempt exceeds limits.conf max_mem_usage_mb on any chunk, the output of that chunk will be truncated, and warning message will be emitted.  This limit defaults to 200MB.
</p>
<h3> <a name="mvexpand_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Create new events for each value of multivalue field, "foo".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | mvexpand foo</font></code><br></div>
<p><b>Example 2:</b> Create new events for the first 100 values of multivalue field, "foo".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | mvexpand foo limit=100</font></code><br></div>
<p><b>Example 3:</b> The mvexpand command only works on one multivalue field. This example walks through how to expand an event with more than one multivalue field into individual events for each field's value. For example, given these events, with sourcetype=data:
</p>
<code><font size="2"><br>2012-10-01 00:11:23 a=22 b=21 a=23 b=32 a=51 b=24<br>2012-10-01 00:11:22 a=1 b=2 a=2 b=3 a=5 b=2<br></font></code>
<p>First, use the <a href="#rex" class="external text">rex command</a> to extract the field values for a and b. Then use the <a href="#eval" class="external text">eval command</a> and <a href="#commonevalfunctions" class="external text">mvzip function</a> to create a new field from the values of a and b.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=data | rex field=_raw "a=(?&lt;a&gt;\d+)" max_match=5 | rex field=_raw "b=(?&lt;b&gt;\d+)" max_match=5 | eval fields = mvzip(a,b)  | table _time fields</font></code><br></div>
<p><img alt="Mvexpand exampleP1.png" src="images/0/0f/Mvexpand_exampleP1.png" width="480" height="146"></p><p>Use the mvexpand command and the <a href="#rex" class="external text">rex command</a> on the new field, <b>fields</b>, to create new events and extract the fields alpha and beta:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=data  | rex field=_raw "a=(?&lt;a&gt;\d+)" max_match=5 | rex field=_raw "b=(?&lt;b&gt;\d+)" max_match=5 | eval fields = mvzip(a,b) | mvexpand fields | rex field=fields "(?&lt;alpha&gt;\d+),(?&lt;beta&gt;\d+)" | table _time alpha beta</font></code><br></div>
<p>Use the <a href="#table" class="external text">table command</a> to display only the _time, alpha, and beta fields in a results table:
<img alt="Mvexpand exampleP2.png" src="images/f/fc/Mvexpand_exampleP2.png" width="590" height="195"></p><p>(Thanks to Duncan for this example. You can see another version of this with JSON data and the <a href="#spath" class="external text">spath command</a>.)
</p>
<h3> <a name="mvexpand_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#makemv" class="external text">makemv</a>, <a href="#mvcombine" class="external text">mvcombine</a>, <a href="#nomv" class="external text">nomv</a> 
</p>
<h3> <a name="mvexpand_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the mvexpand command.
</p>
<a name="nomv"></a><h2> <a name="nomv_nomv"><span class="mw-headline" id="nomv"> nomv </span></a></h2>
<h3> <a name="nomv_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Converts a specified multivalue field into a single value field.
</p>
<h4><font size="3"><b><i> <a name="nomv_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>nomv &lt;field&gt;
</p>
<h4><font size="3"><b><i> <a name="nomv_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> field
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> The name of a multivalue field.
</dd></dl><h3> <a name="nomv_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Converts values of the specified multivalue field into one single value. Overrides the configurations for the multivalue field that are set in the <code><font size="2">fields.conf</font></code> file.
</p>
<h3> <a name="nomv_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> For sendmail events, combine the values of the senders field into a single value. Display the top 10 values.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">eventtype="sendmail" | nomv senders | top senders</font></code><br></div>
<h3> <a name="nomv_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#makemv" class="external text">makemv</a>, <a href="#mvcombine" class="external text">mvcombine</a>, <a href="#mvexpand" class="external text">mvexpand</a>, <a href="#convert" class="external text">convert</a> 
</p>
<h3> <a name="nomv_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the nomv command.
</p>
<a name="outlier"></a><h2> <a name="outlier_outlier"><span class="mw-headline" id="outlier"> outlier </span></a></h2>
<h3> <a name="outlier_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>This command is used to remove outliers, not detect them. It removes or truncates outlying numerical values in selected fields. If no fields are specified, then outlier will attempt to process all fields.
</p><p>Filtering is based on the inter-quartile range (IQR), which is computed from the difference between the 25th percentile and 75th percentile values of the numeric fields. If the value of a field in an event is less than <code><font size="2">(25th percentile) - param*IQR</font></code> or greater than <code><font size="2">(75th percentile) + param*IQR</font></code> , that field is transformed or that event is removed based on the <code><font size="2">action</font></code> parameter.
</p>
<h3> <a name="outlier_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>outlier &lt;outlier-option&gt;* [&lt;field-list&gt;]
</p>
<h4><font size="3"><b><i> <a name="outlier_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;outlier-option&gt;
</dt><dd> <b>Syntax:</b> &lt;action&gt; | &lt;mark&gt; | &lt;param&gt; | &lt;uselower&gt;
</dd><dd> <b>Description:</b> Outlier options.
</dd></dl><dl><dt> &lt;field-list&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;, ...
</dd><dd> <b>Description:</b> Comma or space-delimited list of field names.
</dd></dl><h4><font size="3"><b><i> <a name="outlier_outlier_options"><span class="mw-headline" id="Outlier_options"> Outlier options </span></a></i></b></font></h4>
<dl><dt> &lt;action&gt;
</dt><dd> <b>Syntax:</b> action=rm | remove | tf | transform
</dd><dd> <b>Description:</b> Specify what to do with outliers.  RM | REMOVE removes the event containing the outlying numerical value. TF | TRANSFORM truncates the outlying value to the threshold for outliers and, if <code><font size="2">mark=true</font></code>, prefixes the value with "000". 
</dd><dd> <b>Default:</b> tf
</dd></dl><dl><dt> &lt;mark&gt;
</dt><dd> <b>Syntax:</b> mark=&lt;bool&gt;
</dd><dd> <b>Description:</b> If <code><font size="2">action=transform</font></code> (or tf), and <code><font size="2">mark=true</font></code>, then prefix values pulled into the non-outlying range with "000".  If <code><font size="2">action=remove</font></code>, has no effect. 
</dd><dd> <b>Default:</b> false
</dd></dl><dl><dt> &lt;param&gt;
</dt><dd> <b>Syntax:</b> param=&lt;num&gt;
</dd><dd> <b>Description:</b> Parameter controlling the threshold of outlier detection.  An outlier is defined as a numerical value that is outside of <code><font size="2">param</font></code> multiplied by the inter-quartile range (IQR). 
</dd><dd> <b>Default:</b> 2.5
</dd></dl><dl><dt> &lt;uselower&gt;
</dt><dd> <b>Syntax:</b> uselower=&lt;bool&gt;
</dd><dd> <b>Description:</b> Controls whether to look for outliers for values below the median in addition to above. 
</dd><dd> <b>Default:</b> false
</dd></dl><p><br></p>
<h3> <a name="outlier_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> For a timechart of webserver events, transform the outlying average CPU values.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">404 host="webserver" | timechart avg(cpu_seconds) by host | outlier action=tf</font></code><br></div>
<p><b>Example 2:</b> Remove all outlying numerical values.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | outlier</font></code><br></div>
<h3> <a name="outlier_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#anomalies" class="external text">anomalies</a>, <a href="#anomalousvalue" class="external text">anomalousvalue</a>, <a href="#cluster" class="external text">cluster</a>, <a href="#kmeans" class="external text">kmeans</a> 
</p>
<h3> <a name="outlier_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the outlier command.
</p>
<a name="outputcsv"></a><h2> <a name="outputcsv_outputcsv"><span class="mw-headline" id="outputcsv"> outputcsv </span></a></h2>
<h3> <a name="outputcsv_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Outputs search results to the specified <tt>csv</tt> file.
</p>
<h4><font size="3"><b><i> <a name="outputcsv_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>outputcsv [append=&lt;bool&gt;] [create_empty=&lt;bool&gt;] [dispatch=&lt;bool&gt;] [usexml=&lt;bool&gt;] [singlefile=&lt;bool&gt;] [&lt;filename&gt;]
</p>
<h4><font size="3"><b><i> <a name="outputcsv_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> append
</dt><dd> <b>Syntax:</b> append=&lt;bool&gt;
</dd><dd> <b>Description:</b> If 'append' is true, we will attempt to append to an existing csv file if it exists or create a file if necessary.  If there is an existing file that has a csv header already, we will only emit the fields that are referenced by that header. .gz files cannot be append to. Defaults to false.
</dd></dl><dl><dt> create_empty
</dt><dd> <b>Syntax:</b> create_empty=&lt;bool&gt;
</dd><dd> <b>Description:</b> If set to true and there are no results, creates a 0-length file. When false, no file is created and if <code><font size="2">append=false</font></code>, the file is deleted if it previously existed. Defaults to false.
</dd></dl><dl><dt> dispatch
</dt><dd> <b>Syntax:</b> dispatch=&lt;bool&gt;
</dd><dd> <b>Description:</b> If set to true, refers to a file in the job directory in <code><font size="2">$SPLUNK_HOME/var/run/splunk/dispatch/&lt;job id&gt;/</font></code>.
</dd></dl><dl><dt> filename
</dt><dd> <b>Syntax:</b> &lt;filename&gt;
</dd><dd> <b>Description:</b> Specify the name of a csv file to write the search results. This file should be located in <code><font size="2">$SPLUNK_HOME/var/run/splunk</font></code>. If no filename specified, rewrites the contents of each result as a CSV row into the "_xml" field. Otherwise writes into a file (appends ".csv" to filename if filename has no existing extension). 
</dd></dl><dl><dt> singlefile
</dt><dd> <b>Syntax:</b> singlefile=&lt;bool&gt;
</dd><dd> <b>Description:</b> If singlefile is set to true and output spans multiple files, collapses it into a single file. Defaults to true.
</dd></dl><dl><dt> usexml
</dt><dd> <b>Syntax:</b> usexml=&lt;bool&gt;
</dd><dd> <b>Description:</b> If there is no filename, specifies whether or not to encode the csv output into XML. This option should not specified when invoking outputcsv from the UI.
</dd></dl><h3> <a name="outputcsv_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Output search results to the CSV file 'mysearch.csv'.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | outputcsv mysearch</font></code><br></div>
<h3> <a name="outputcsv_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#inputcsv" class="external text">inputcsv</a> 
</p>
<h3> <a name="outputcsv_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the outputcsv command.
</p>
<a name="outputlookup"></a><h2> <a name="outputlookup_outputlookup"><span class="mw-headline" id="outputlookup"> outputlookup </span></a></h2>
<h3> <a name="outputlookup_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Writes search results to the specified static lookup table or KV store collection.
</p>
<h4><font size="3"><b><i> <a name="outputlookup_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>outputlookup [append=&lt;bool&gt;] [create_empty=&lt;bool&gt;] [max=&lt;int&gt;] [key_field=&lt;field_name&gt;] [createinapp=&lt;bool&gt;] (&lt;filename&gt; | &lt;tablename&gt;)
</p>
<h4><font size="3"><b><i> <a name="outputlookup_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;filename&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of the lookup file. The file must end with <code><font size="2">.csv</font></code> or <code><font size="2">.csv.gz</font></code>.
</dd></dl><dl><dt> &lt;tablename&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of the lookup table as specified by a stanza name in <code><font size="2">transforms.conf</font></code>. The lookup table can be configured for any lookup type (CSV, external, or KV store).
</dd></dl><h4><font size="3"><b><i> <a name="outputlookup_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> append
</dt><dd> <b>Syntax:</b> append=&lt;bool&gt;
</dd><dd> <b>Description:</b> If set to true, <code><font size="2">outputlookup</font></code> attempts to append search results to an existing <code><font size="2">.csv</font></code> file or KV store collection. Otherwise it creates a file. If there is an existing .csv file <code><font size="2">outputlookup</font></code> only writes the fields that are present in the previously existing <code><font size="2">.csv</font></code> file. An <code><font size="2">outputlookup</font></code> search run with <code><font size="2">append=true</font></code> may result in a situation where the lookup table or collection is only partially updated at some times. This means that a subsequent <code><font size="2">lookup</font></code> or <code><font size="2">inputlookup</font></code> search on that collection may return stale data along with new data. <code><font size="2">outputlookup</font></code> cannot append to <code><font size="2">.gz</font></code> files. Defaults to false.
</dd></dl><dl><dt> create_empty
</dt><dd> <b>Syntax:</b> create_empty=&lt;bool&gt;
</dd><dd> <b>Description:</b> If set to true and there are no results, creates a 0-length file. When false, no file is created and the files is deleted if it previously existed. Defaults to true.
</dd></dl><dl><dt> createinapp
</dt><dd> <b>Syntax:</b> createinapp=&lt;bool&gt;
</dd><dd> <b>Description:</b> If set to false or if there is no current application context, then create the file in the system lookups directory.  Defaults to true.
</dd></dl><dl><dt> key_field
</dt><dd> <b>Syntax:</b> key_field=&lt;field_name&gt;
</dd><dd> <b>Description:</b> For KV store-based lookups, uses the specified field name as the key to a value and replaces that value. An <code><font size="2">outputlookup</font></code> search using the <code><font size="2">key_field</font></code> argument may result in a situation where the lookup table or collection is only partially updated at some times. This means that a subsequent <code><font size="2">lookup</font></code> or <code><font size="2">inputlookup</font></code> search on that collection may return stale data along with new data.
</dd></dl><dl><dt> max
</dt><dd> <b>Syntax:</b> max=&lt;int&gt;
</dd><dd> <b>Description:</b> The number of rows to output.  Defaults to no limit.
</dd></dl><h3> <a name="outputlookup_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Saves results to a lookup table as specified by a filename (must end with .csv or .gz) or a table name as specified by a lookup table configuration in <code><font size="2">transforms.conf</font></code>. The lookup table can refer to a KV store collection or a CSV lookup.  The outputlookup command cannot be used with external lookups.
</p><p>For CSV-based lookups, if the lookup file does not exist, Splunk Enterprise creates it in the lookups directory of the current application. If the lookup file already exists, Splunk Enterprise overwrites that file with the results of <code><font size="2">outputlookup</font></code>. 
</p><p>If the <code><font size="2">createinapp</font></code> option is set to <code><font size="2">false</font></code> or if there is no current application context, then Splunk Enterprise creates the file in the system lookups directory.
</p><p>For more information about lookup table configuration, see "Configure CSV and external lookups" and "Configure KV store lookups" in the <i>Knowledge Manager Manual</i>.
</p><p>For more information about App Key Value Store collections, see  "About KV store" in the <i>Admin Manual</i>.
</p>
<h3> <a name="outputlookup_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Write to <code><font size="2">usertogroup</font></code> lookup table as specified in <code><font size="2">transforms.conf</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| outputlookup usertogroup</font></code><br></div>
<p><b>Example 2:</b> Write to <code><font size="2">users.csv</font></code> lookup file under <code><font size="2">$SPLUNK_HOME/etc/system/lookups</font></code> or <code><font size="2">$SPLUNK_HOME/etc/apps/*/lookups</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| outputlookup users.csv</font></code><br></div>
<p><b>Example 3:</b> Write food inspection events for Shalimar Restaurant to a KV store collection called <code><font size="2">kvstorecoll</font></code>. This collection is referenced in a lookup table called <code><font size="2">kvstorecoll_lookup</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=sf_food_health sourcetype=sf_food_inspections name="SHALIMAR RESTAURANT" | outputlookup kvstorecoll_lookup</font></code><br></div>
<p><b>Example 4:</b> Write the contents of a CSV file to the KV store collection <code><font size="2">kvstorecoll</font></code> using the lookup table <code><font size="2">kvstorecoll_lookup</font></code>. This requires usage of both <code><font size="2">inputlookup</font></code> and <code><font size="2">outputlookup</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| inputlookup customers.csv | outputlookup kvstorecoll_lookup</font></code><br></div>
<p><b>Example 5:</b> Update field values for a single KV store collection record. This requires usage of <code><font size="2">inputlookup</font></code>, <code><font size="2">outputlookup</font></code>, and <code><font size="2">eval</font></code>. The record is indicated by the value of its internal key ID (the <code><font size="2">_key</font></code> field) and is updated with a new customer name and customer city. The record belongs to the KV store collection <code><font size="2">kvstorecoll</font></code>, which is accessed through the lookup table <code><font size="2">kvstorecoll_lookup</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| inputlookup kvstorecoll_lookup | search _key=544948df3ec32d7a4c1d9755 | eval CustName="Marge Simpson" | eval CustCity="Springfield" | outputlookup kvstorecoll_lookup append=True</font></code><br></div>
<p>To learn how to obtain the internal key ID values of the records in a KV store collection, see Example 5 for the <code><font size="2"><a href="#inputlookup" class="external text">inputlookup</a></font></code> command.
</p>
<h3> <a name="outputlookup_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#inputlookup" class="external text">inputlookup</a>, <a href="#lookup" class="external text">lookup</a>, 
<a href="#inputcsv" class="external text">inputcsv</a>,
<a href="#outputcsv" class="external text">outputcsv</a>
</p>
<h3> <a name="outputlookup_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the outputlookup command.
</p>
<a name="outputtext"></a><h2> <a name="outputtext_outputtext"><span class="mw-headline" id="outputtext"> outputtext </span></a></h2>
<h3> <a name="outputtext_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Outputs the raw text (_raw) of results into the _xml field.
</p>
<h4><font size="3"><b><i> <a name="outputtext_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>outputtext [usexml=&lt;bool&gt;]
</p>
<h4><font size="3"><b><i> <a name="outputtext_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> usexml
</dt><dd> <b>Syntax:</b> usexml=&lt;bool&gt;
</dd><dd> <b>Description:</b> If usexml is set to true (the default), the copy of the _raw field in _xml is <tt>xml</tt> escaped.  If usexml is set to false, the _xml field is an exact copy of _raw.
</dd></dl><h3> <a name="outputtext_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The outputtext was created as an internal mechanism to render event texts for output.
</p><p>By default it xml-escapes the text of events, and copies them to the _xml field.  If usexml=false, then it simply copies them to the _xml field.
</p><p>Since outputtext is a reporting command, it will pull all events to the search head, and cause the output to show in the statistics UI if used in the web interface.
</p>
<h3> <a name="outputtext_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Output the "_raw" field of your current search into "_xml".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | outputtext</font></code><br></div>
<h3> <a name="outputtext_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#outputcsv" class="external text">outputcsv</a>  
</p>
<h3> <a name="outputtext_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the outputtext command.
</p>
<a name="overlap"></a><h2> <a name="overlap_overlap"><span class="mw-headline" id="overlap"> overlap </span></a></h2>
<p><b>Note:</b> We do not recommend using the overlap command to fill/backfill summary indexes. There is script, called fill_summary_index.py, that will backfill your indexes or fill summary index gaps. For more information, refer to this Knowledge Manager manual topic.
</p>
<h3> <a name="overlap_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Finds events in a summary index that overlap in time or have missed events.
</p>
<h4><font size="3"><b><i> <a name="overlap_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>overlap
</p>
<h3> <a name="overlap_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Find events in a summary index that overlap in time, or find gaps in time during which a scheduled saved search may have missed events. 
</p>
<ul><li> <b>If you find a gap,</b> run the search over the period of the gap and summary index the results (using "| collect"). 
</li><li> <b>If you find overlapping events,</b> manually delete the overlaps from the summary index by using the search language. 
</li></ul><p>The <code><font size="2">overlap</font></code> command invokes an external python script (in etc/searchscripts/sumindexoverlap.py), which expects input events from the summary index and finds any time overlaps and gaps between events with the same 'info_search_name' but different 'info_search_id'. 
</p><p><b>Important:</b> Input events are expected to have the following fields: 'info_min_time', 'info_max_time' (inclusive and exclusive, respectively) , 'info_search_id' and 'info_search_name' fields. If the index contains raw events (_raw), the overlap command will not work. Instead, the index should contain events such as chart, stats, and timechart results.
</p>
<h3> <a name="overlap_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Find overlapping events in "summary".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=summary | overlap</font></code><br></div>
<h3> <a name="overlap_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#collect" class="external text">collect</a>, <a href="#sistats" class="external text">sistats</a>, <a href="#sitop" class="external text">sitop</a>, <a href="#sirare" class="external text">sirare</a>, <a href="#sichart" class="external text">sichart</a>, <a href="#sitimechart" class="external text">sitimechart</a> 
</p>
<h3> <a name="overlap_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the overlap command.
</p>
<a name="pivot"></a><h2> <a name="pivot_pivot"><span class="mw-headline" id="pivot"> pivot </span></a></h2>
<p><b>This page is currently a work in progress; expect frequent near-term updates.</b>
</p><p>The pivot command makes simple pivot operations fairly simple, but can be pretty complex for more sophisticated pivot operations. Fundamentally this command is a wrapper around stats and xyseries. It does not add new behavior, but it may be easier to use if you are already familiar with how Pivot works. Read more in the Pivot Manual. Also, read how to open non-transforming searches in Pivot.
</p><p>This command is a generating command and must be first in a search pipeline. It requires a large number of inputs: the data model, the data model object, and pivot elements. 
</p>
<h3> <a name="pivot_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Run pivot searches against a particular data model object.
</p>
<h4><font size="3"><b><i> <a name="pivot_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>| pivot &lt;datamodel-name&gt; &lt;objectname&gt; &lt;pivot element&gt;
</p>
<h4><font size="3"><b><i> <a name="pivot_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> datamodel-name
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of the data model to search. 
</dd></dl><dl><dt> objectname
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of a data model object to search. 
</dd></dl><dl><dt> pivot element
</dt><dd> <b>Syntax:</b> (&lt;cellvalue&gt;)* (SPLITROW &lt;rowvalue&gt;)* (SPLITCOL colvalue [options])* (FILTER &lt;filter expression&gt;)* (LIMIT &lt;limit expression&gt;)* (ROWSUMMARY &lt;true|false&gt;)* (COLSUMMARY &lt;true|false&gt;)*  (SHOWOTHER &lt;true|false&gt;)*  (NUMCOLS &lt;num&gt;)* (rowsort [options])*
</dd><dd> <b>Description:</b> Use pivot elements to define your pivot table or chart. Pivot elements include cell values, split rows, split columns, filters, limits, row and column formatting, and row sort options. Cell values always come first. They are followed by split rows and split columns, which can be interleaved, for example: <code><font size="2">avg(val), SPLITCOL foo, SPLITROW bar, SPLITCOL baz</font></code>.  
</dd></dl><h3> <a name="pivot_cell_value_element"><span class="mw-headline" id="Cell_value_element"> Cell value element </span></a></h3>
<dl><dt> &lt;cellvalue&gt;
</dt><dd> <b>Syntax:</b> &lt;function&gt;(fieldname) [AS &lt;label&gt;]
</dd><dd> <b>Description:</b> Define the values of a cell and optionally rename it. Here, "label" is the name of the cell in the report. 
</dd></dl><p>The set of allowed functions depend on the data type of field specified (fieldname):
</p>
<ul><li> <b>for strings:</b> list, values, first, last, count, and distinct_count (dc).
</li><li> <b>for numbers:</b> sum, count, avg, max, min, stdev, list, and values.
</li><li> <b>for timestamps:</b> duration, earliest, latest, list, and values.
</li><li> <b>for object or child counts:</b> count.
</li></ul><h3> <a name="pivot_row_split-by_element"><span class="mw-headline" id="Row_split-by_element"> Row split-by element </span></a></h3>
<dl><dt> SPLITROW &lt;rowvalue&gt;
</dt><dd> <b>Syntax:</b> fieldname [AS &lt;label&gt;] [RANGE start=&lt;value&gt; end=&lt;value&gt; max=&lt;value&gt; size=&lt;value&gt;] [PERIOD (auto | year | month| day | hour | minute | second)] [TRUELABEL &lt;label&gt;] [FALSELABEL &lt;label&gt;]
</dd><dd> <b>Description:</b> You can have none, some, or all of these options on each SPLITROW. They may appear in any order. You can rename the field using "AS &lt;label&gt;", where "label" is the name of the row in the report. 
</dd></dl><p>Other options depend on the data type of the field specified (fieldname):
</p>
<ul><li> RANGE applies only for numbers. The options (start, end, max, and size) do not all have to be specified.
</li><li> PERIOD applies only for timestamps. Use it to specify the period to bucket by. 
</li><li> TRUELABEL applies only for booleans. Use it to specify the label for true values.
</li><li> FALSELABEL applies only for booleans. Use it to specify the label for false values.
</li></ul><h3> <a name="pivot_column_split-by_element"><span class="mw-headline" id="Column_split-by_element"> Column split-by element </span></a></h3>
<dl><dt> SPLITCOL colvalue &lt;options&gt;
</dt><dd> <b>Syntax:</b> fieldname [ RANGE start=&lt;value&gt; end=&lt;value&gt; max=&lt;value&gt; size=&lt;value&gt;] [PERIOD (auto | year | month| day | hour | minute | second)] [TRUELABEL &lt;label&gt;] [FALSELABEL &lt;label&gt;] 
</dd><dd> <b>Description:</b> You can have none, some, or all of these options on each SPLITROW. They may appear in any order.  
</dd></dl><p>Other options depend on the data type of the field specified (fieldname):
</p>
<ul><li> RANGE applies only for numbers. The options (start, end, max, and size) do not all have to be specified.
</li><li> PERIOD applies only for timestamps. Use it to specify the period to bucket by.
</li><li> TRUELABEL applies only for booleans. Use it to specify the label for true values.
</li><li> FALSELABEL applies only for booleans. Use it to specify the label for false values.
</li></ul><h3> <a name="pivot_filter_element"><span class="mw-headline" id="Filter_element"> Filter element </span></a></h3>
<dl><dt> Filter &lt;filter expression&gt;
</dt><dd> <b>Syntax:</b> &lt;fieldname&gt; &lt;comparator&gt; &lt;value&gt; 
</dd><dd> <b>Description:</b> The comparator you can use for value expressions depends on the the type of field value.
</dd></dl><ul><li> <b>for strings:</b> is, contains, isNot, doesNotContain, startsWith, endsWith,isNull, isNotNull, and regex
</li><li> <b>ipv4:</b> is, contains, isNot, doesNotContain, startsWith, isNull, isNotNull
</li><li> <b>for numbers:</b> =,&nbsp;!=, &lt;, &lt;=, &gt;, &gt;=, isNull, isNotNull
</li><li> <b>for booleans:</b> isNull, isNotNull, = or is
</li></ul><h3> <a name="pivot_limit_element"><span class="mw-headline" id="Limit_element"> Limit element </span></a></h3>
<dl><dt> Limit &lt;limit expression&gt;
</dt><dd> <b>Syntax:</b> LIMIT &lt;fieldname&gt; BY &lt;limittype&gt; &lt;number&gt; &lt;statsfn&gt;(&lt;fieldname&gt;)
</dd></dl><h3> <a name="pivot_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> This command counts the number of events in the "HTTP Requests" object in the "Tutorial" data model. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| pivot Tutorial HTTP_requests count(HTTP_requests) AS "Count of HTTP requests"</font></code><br></div>
<p>This can be formatted as a single value report in the dashboard panel:
</p><p><img alt="Pivot command single panel.png" src="images/0/07/Pivot_command_single_panel.png" width="442" height="128"></p><p><br><b>Example 2:</b> Using the Tutorial data model, create a pivot table for the count of "HTTP Requests" per host.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| pivot Tutorial HTTP_requests count(HTTP_requests) AS "Count" SPLITROW host AS "Server" SORT 100 host</font></code><br></div>
<p><img alt="Pivot command table.png" src="images/0/01/Pivot_command_table.png" width="442" height="244"></p><p><br></p>
<h3> <a name="pivot_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#datamodel" class="external text">datamodel</a>, <a href="#stats" class="external text">stats</a>, <a href="#xyseries" class="external text">xyseries</a>
</p>
<h3> <a name="pivot_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has about using the pivot command.
</p>
<a name="predict"></a><h2> <a name="predict_predict"><span class="mw-headline" id="predict"> predict</span></a></h2>
<p>This command performs prediction for time-series data. It can fill missing data within a time-series, and provide predictions for the next several time steps. It provides rigorous confidence intervals for all of its estimates. It adds a predicted value and an upper and lower 95th percentile range to each event in the time-series.
</p>
<h3> <a name="predict_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Predict future values of fields.
</p>
<h4><font size="3"><b><i> <a name="predict_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>predict &lt;variable_to_predict&gt; [AS &lt;newfield_name&gt;] [&lt;predict_option&gt;]
</p>
<h4><font size="3"><b><i> <a name="predict_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;variable_to_predict&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> The field name for the variable that you want to predict.
</dd></dl><h4><font size="3"><b><i> <a name="predict_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;newfield&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Renames the field name for &lt;variable_to_predict&gt;.
</dd></dl><dl><dt> &lt;predict_option&gt;
</dt><dd> <b>Syntax:</b> algorithm=&lt;algorithm_name&gt; | correlate_field=&lt;field&gt; | future_timespan=&lt;number&gt; | holdback=&lt;number&gt; | period=&lt;number&gt; |  lowerXX=&lt;field&gt; | upperYY=&lt;field&gt; 
</dd><dd> <b>Description:</b> Forecasting options. All options can be specified anywhere in any order.
</dd></dl><h4><font size="3"><b><i> <a name="predict_predict_options"><span class="mw-headline" id="Predict_options"> Predict options </span></a></i></b></font></h4>
<dl><dt> algorithm
</dt><dd> <b>Syntax:</b> algorithm= LL | LLP | LLT | LLB | LLP5
</dd><dd> <b>Description:</b> Specify the name of the forecasting algorithm to apply: LL (local level), LLP (seasonal local level), LLT (local level trend), LLB (bivariate local level), or LLP5 (which combines LLP and LLT). Each algorithm expects a minimum number of data points; for more information, see "Algorithm options" below. Defaults to LLP5.
</dd></dl><dl><dt> correlate
</dt><dd> <b>Syntax:</b> correlate=&lt;field&gt;
</dd><dd> <b>Description:</b> For bivariate model, indicates the field to correlate against.
</dd></dl><dl><dt> future_timespan
</dt><dd> <b>Syntax:</b> future_timespan=&lt;number&gt;
</dd><dd> <b>Description:</b> The length of prediction into the future. Must be a non-negative number. You would not use this option if algorithm=LLB.
</dd></dl><dl><dt> holdback
</dt><dd> <b>Syntax:</b> holdback=&lt;number&gt;
</dd><dd> <b>Description:</b> Specifies the &lt;number&gt; of data points from the end that are NOT used to build the model. For example, 'holdback=10' computes the prediction for the last 10 values. Typically, this is used to compare the predicted values to the actual data. Required when algorithm=LLB.
</dd></dl><dl><dt> lowerXX
</dt><dd> <b>Syntax:</b> lower&lt;int&gt;=&lt;field&gt;
</dd><dd> <b>Description:</b> Specifies a field name for the lower &lt;int&gt; percentage confidence interval. &lt;int&gt; is greater than or equal to 0 and less than 100. Defaults to lower95, in which 95% of predictions are expected to fall.
</dd></dl><dl><dt> period
</dt><dd> <b>Syntax:</b> period=&lt;number&gt;
</dd><dd> <b>Description:</b> If algorithm is LLP or LLP5, specify the seasonal period of the time series data. If not specified, the period is estimated using the data's auto-correlation. If algorithm is not LLP or LLP5, this is ignored. 
</dd></dl><dl><dt> upperYY
</dt><dd> <b>Syntax:</b> upper&lt;int&gt;=&lt;field&gt;
</dd><dd> <b>Description:</b> Specifies a field name for the upper &lt;int&gt; percentage confidence interval. &lt;int&gt; is greater than or equal to 0 and less than 100. Defaults to upper95, in which 95% of predictions are expected to fall.
</dd></dl><h4><font size="3"><b><i> <a name="predict_algorithm_options"><span class="mw-headline" id="Algorithm_options"> Algorithm options </span></a></i></b></font></h4>
<p>All the algorithms are variations based on the Kalman filter. The algorithm names are: LL, LLP, LLT, LLB, and LLP5. Each algorithm above expects a minimum number of data points. If not enough effective data points are supplied, an error message will be displayed. For instance, the field itself may have more than enough data points, but the number of effective data points may be small if the holdback is large.
</p>
<table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0">Algorithm option
</th><th bgcolor="#C0C0C0">Algorithm name
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td valign="center" align="left"> LL
</td><td valign="center" align="left"> Local level
</td><td valign="center" align="left"> This is a univariate model with no trends and no seasonality. Requires a minimum of 2 data points.
</td></tr><tr><td valign="center" align="left"> LLP
</td><td valign="center" align="left"> Seasonal local level
</td><td valign="center" align="left"> This is a univariate model with seasonality. The periodicity of the time series is automatically computed. Requires the minimum number of data points to be twice the period.
</td></tr><tr><td valign="center" align="left"> LLT
</td><td valign="center" align="left"> Local level trend
</td><td valign="center" align="left"> This is a univariate model with trend but no seasonality. Requires a minimum of 3 data points.
</td></tr><tr><td valign="center" align="left"> LLB
</td><td valign="center" align="left"> Bivariate local level
</td><td valign="center" align="left"> This is a bivariate model with no trends and no seasonality. Requires a minimum of 2 data points. LLB uses one set of data to make predictions for another. For example, assume it uses dataset Y to make predictions for dataset X. If the holdback=10, this means LLB takes the last 10 data points of Y to make predictions for the last 10 data points of X.
</td></tr><tr><td valign="center" align="left"> LLP5
</td><td valign="center" align="left">
</td><td valign="center" align="left"> Combines LLT and LLP models for its prediction.
</td></tr></table><h4><font size="3"><b><i> <a name="predict_confidence_intervals"><span class="mw-headline" id="Confidence_intervals"> Confidence intervals </span></a></i></b></font></h4>
<p>The lower and upper confidence interval parameters default to lower95 and upper95. This specifies a confidence interval where 95% of the predictions  are expected to fall.
</p><p>It is typical for some of the predictions to fall outside the confidence interval because:
</p>
<ul><li> The confidence interval does not cover 100% of the predictions.
</li><li> The confidence interval is about a probabilistic expectation and results do not match the expectation exactly.
</li></ul><h3> <a name="predict_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Predict future downloads based on the previous download numbers.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=download | timechart span=1d count(file) as count | predict count</font></code><br></div>
<p><img alt="Predict example1.png" src="images/1/10/Predict_example1.png" width="600" height="195"></p><p><br><b>Example 2:</b> Predict the values of foo using LL or LLP, depending on whether foo is periodic.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | timechart span="1m" count AS foo | predict foo</font></code><br></div>
<p><b>Example 3:</b> Upper and lower confidence intervals do not have to match.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | timechart span="1m" count AS foo | predict foo as fubar algorithm=LL upper90=high lower97=low future_timespan=10 holdback=20</font></code><br></div>
<p><b>Example 4:</b> Illustrates the LLB algorithm. The foo2 field is predicted by correlating it with the foo1 field.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | timechart span="1m" count(x) AS foo1 count(y) AS foo2 | predict foo2 as fubar algorithm=LLB correlate=foo1 holdback=100</font></code><br></div>
<h3> <a name="predict_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#trendline" class="external text">trendline</a>, <a href="#x11" class="external text">x11</a>
</p>
<h3> <a name="predict_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has about using the predict command.
</p>
<a name="rangemap"></a><h2> <a name="rangemap_rangemap"><span class="mw-headline" id="rangemap"> rangemap </span></a></h2>
<p>Use the rangemap command to classify ranges of values for numerical fields with more descriptive names. 
</p>
<h3> <a name="rangemap_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Creates a <code><font size="2">range</font></code> field populated according to defined numeric ranges in a selected field.
</p>
<h4><font size="3"><b><i> <a name="rangemap_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>rangemap field=&lt;string&gt; (&lt;attribute_name&gt;=&lt;numeric_range&gt;)... [default=&lt;string&gt;]
</p>
<h4><font size="3"><b><i> <a name="rangemap_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> field
</dt><dd> <b>Syntax:</b> field=&lt;string&gt;
</dd><dd> <b>Description:</b> The name of the input field. This field should be numeric.
</dd></dl><h4><font size="3"><b><i> <a name="rangemap_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> attribute_name
</dt><dd> <b>Syntax:</b> &lt;string&gt;=&lt;numeric_range&gt;
</dd><dd> <b>Description:</b> The name to output in the range field for the specified numerical range.
</dd></dl><dl><dt> default
</dt><dd> <b>Syntax:</b> default=&lt;string&gt;
</dd><dd> <b>Description:</b> If the input field doesn't match a range, use this to define a default value. If you don't define a value, defaults to "None".
</dd></dl><h4><font size="3"><b><i> <a name="rangemap_parameter_for_attribute_name"><span class="mw-headline" id="Parameter_for_attribute_name"> Parameter for attribute_name </span></a></i></b></font></h4>
<dl><dt> &lt;numeric_range&gt;
</dt><dd> <b>Syntax:</b> &lt;start&gt;-&lt;end&gt;
</dd><dd> <b>Description:</b> Define the starting integer and ending number values for the range attributed to the "attribute_name" parameter. The first value must be lower than the second. The values may be integers or floating point numbers.  This can include negative values. For example: Dislike=-5--1, DontCare=0-0, Like=1-5.
</dd></dl><p><br></p>
<h3> <a name="rangemap_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Sets the <code><font size="2">range</font></code> field to the names of any <code><font size="2">attribute_name</font></code> that the value of the input <code><font size="2">field</font></code> is within. If no range is matched the <code><font size="2">range</font></code> value is set to the <code><font size="2">default</font></code> value.
</p><p>The ranges that you set can overlap. If you have overlapping values, then the <code><font size="2">range</font></code> field will be created as a multivalue field containing all the values that apply. For example, if low=1-10, elevated=5-15, and the input field value is 10, then <code><font size="2">range=low</font></code> and <code><font size="2">code=elevated</font></code>.
</p>
<h3> <a name="rangemap_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Set <code><font size="2">range</font></code> to "green" if the date_second is between 1-30; "blue", if between 31-39; "red", if between 40-59; and "gray", if no range matches (for example, if date_second=0).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | rangemap field=date_second green=1-30 blue=31-39 red=40-59 default=gray</font></code><br></div>
<p><b>Example 2:</b> Sets the value of each event's <code><font size="2">range</font></code> field to "low" if its <code><font size="2">count</font></code> field is 0 (zero); "elevated", if between 1-100; "severe", otherwise.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | rangemap field=count low=0-0 elevated=1-100 default=severe</font></code><br></div>
<h3> <a name="rangemap_using_rangemap_with_single_value_panels"><span class="mw-headline" id="Using_rangemap_with_single_value_panels"> Using rangemap with single value panels </span></a></h3>
<p>The Single Value dashboard panel type can be configured to use <code><font size="2">rangemap</font></code> values; for example, Splunk ships with CSS that defines colors for low, elevated, and severe. You can customize the CSS for these values to apply different colors. Also, you have to edit the XML for the view to associate the colors with the <code><font size="2">range</font></code> value; to do this:
</p><p><b>1.</b> Go to <b>Manager &gt;&gt; User interface &gt;&gt; Views</b> and select the view you want to edit.
</p><p><b>2.</b> For the single value panel that uses the rangemap search, include the following line underneath the <code><font size="2">&lt;title /&gt;</font></code> tags:
</p>
<code><font size="2"><br>&lt;option name="classField"&gt;range&lt;/option&gt;<br></font></code>
<p>So, if you had a view called "Example" and your search was named, "Count of events", your XML might look something like this:
</p>
<code><font size="2"><br>&lt;dashboard&gt;<br>&nbsp;&nbsp;&lt;label&gt;Example&lt;/label&gt;<br>&nbsp;&nbsp;&lt;row&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;single&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;searchName&gt;Count of events&lt;/searchName&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;Count of events&lt;/title&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;option name="classField"&gt;range&lt;/option&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/single&gt;<br>&nbsp;&nbsp;&lt;/row&gt;<br>&lt;/dashboard&gt;<br></font></code>
<h3> <a name="rangemap_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#eval" class="external text">eval</a>
</p>
<h3> <a name="rangemap_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the rangemap command.
</p>
<a name="rare"></a><h2> <a name="rare_rare"><span class="mw-headline" id="rare"> rare </span></a></h2>
<h3> <a name="rare_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Displays the least common values of a field.
</p>
<h4><font size="3"><b><i> <a name="rare_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>rare &lt;top-opt&gt;* &lt;field-list&gt; [&lt;by-clause&gt;]
</p>
<h4><font size="3"><b><i> <a name="rare_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;field-list&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;,...
</dd><dd> <b>Description:</b> Comma-delimited list of field names.
</dd></dl><dl><dt> &lt;top-opt&gt;
</dt><dd> <b>Syntax:</b> countfield=&lt;string&gt; | limit=&lt;int&gt; | percentfield=&lt;string&gt; | showcount=&lt;bool&gt; | showperc=&lt;bool&gt; 
</dd><dd> <b>Description:</b> Options for rare (same as top).
</dd></dl><h4><font size="3"><b><i> <a name="rare_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;by-clause&gt;
</dt><dd> <b>Syntax:</b> by &lt;field-list&gt;
</dd><dd> <b>Description:</b> The name of one or more fields to group by.
</dd></dl><h4><font size="3"><b><i> <a name="rare_top_options"><span class="mw-headline" id="Top_options"> Top options </span></a></i></b></font></h4>
<dl><dt> countfield
</dt><dd> <b>Syntax:</b> countfield=&lt;string&gt;
</dd><dd> <b>Description:</b> Name of a new field to write the value of count, default is "count".
</dd></dl><dl><dt> limit
</dt><dd> <b>Syntax:</b> limit=&lt;int&gt;
</dd><dd> <b>Description:</b> Specifies how many tuples to return, "0" returns all values up to maxresultrows (see limits section). Selecting a value larger than maxresultrows will produce an error. Defaults to 10.
</dd></dl><dl><dt> percentfield
</dt><dd> <b>Syntax:</b> percentfield=&lt;string&gt;
</dd><dd> <b>Description:</b> Name of a new field to write the value of percentage, default is "percent".
</dd></dl><dl><dt> showcount
</dt><dd> <b>Syntax:</b> showcount=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether to create a field called "count" (see "countfield" option) with the count of that tuple. Default is true.
</dd></dl><dl><dt> showperc
</dt><dd> <b>Syntax:</b> showperc=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether to create a field called "percent" (see "percentfield" option) with the relative prevalence of that tuple. Default is true.
</dd></dl><h3> <a name="rare_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Finds the least frequent tuple of values of all fields in the field list. If optional by-clause is specified, this command will return rare tuples of values for each distinct tuple of values of the group-by fields.
</p><p>Operates identically to the top command, only finding the least frequent instead of the most.
</p>
<h3> <a name="rare_limits"><span class="mw-headline" id="Limits"> Limits </span></a></h3>
<p>There is a limit on the number of results which will be returned by rare.  By default this limit is 10, but other values can be selected with the limit option up to a further constraint expressed in limits.conf, in the [rare] stanza, maxresultrows.  This ceiling is 50,000 by default, and effectively keeps a ceiling on the memory that rare will use.
</p>
<h3> <a name="rare_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return the least common values of the "url" field.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | rare url</font></code><br></div>
<p><b>Example 2:</b> Find the least common "user" value for a "host".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | rare user by host</font></code><br></div>
<h3> <a name="rare_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#top" class="external text">top</a>, <a href="#stats" class="external text">stats</a>, <a href="#sirare" class="external text">sirare</a> 
</p>
<h3> <a name="rare_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the rare command.
</p>
<a name="regex"></a><h2> <a name="regex_regex"><span class="mw-headline" id="regex"> regex </span></a></h2>
<h3> <a name="regex_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Removes or keeps results that match the specified regular expression.
</p>
<h4><font size="3"><b><i> <a name="regex_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>regex (&lt;field&gt;=&lt;regex-expression&gt; | &lt;field&gt;!=&lt;regex-expression&gt; | &lt;regex-expression&gt;)
</p>
<h4><font size="3"><b><i> <a name="regex_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;regex-expression&gt;
</dt><dd> <b>Syntax:</b> "&lt;string&gt;"
</dd><dd> <b>Description:</b> A Perl Compatible Regular Expression supported by the PCRE library. Quotes are required.
</dd></dl><h4><font size="3"><b><i> <a name="regex_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;field&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Specify the field name from which to match the values against the regular expression. If no field is specified, the match is against "_raw".
</dd></dl><h3> <a name="regex_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The regex command removes results that do not match the specified regular expression. You can specify for the regex to keep results that match the expression  (<i>field=regex-expression</i>) or to keep those that do not match  (<i>field!=regex-expression</i>).  
</p><p><b>Note:</b> If you want to use the "OR" ("|") command in a regex argument, the whole regex expression must be surrounded by quotes (that is, ...|regex "expression | with pipe").
</p>
<b>Note:</b> The splunk search language uses backslashes as escape characters in *addition* to the regular expression language using the search language as escape characters.  If you need to match, for example, a literal backslash, you will need *four* consecutive backslashes in your quoted argument to regex.  Example: <div class="inlineQuery splunk_search_4_3"><code><font size="2"> |regex _raw="\\\\"</font></code><br></div>
<h3> <a name="regex_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Keep only search results whose "_raw" field contains IP addresses in the non-routable class A (10.0.0.0/8).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | regex _raw="(?=!\d)10\.\d{1,3}\.\d{1,3}\.\d{1,3}(?!\d)"</font></code><br></div>
<p><b>Example 2:</b> Example usage
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | regex _raw="complicated|regex(?=expression)"</font></code><br></div>
<h3> <a name="regex_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#rex" class="external text">rex</a>, <a href="#search" class="external text">search</a> 
</p>
<h3> <a name="regex_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the regex command.
</p>
<a name="relevancy"></a><h2> <a name="relevancy_relevancy"><span class="mw-headline" id="relevancy"> relevancy </span></a></h2>
<h3> <a name="relevancy_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Calculates how well the event matches the query.
</p>
<h4><font size="3"><b><i> <a name="relevancy_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>relevancy
</p>
<h3> <a name="relevancy_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Calculates the 'relevancy' field based on how well the events _raw field matches the keywords of the 'search'. Useful for retrieving the best matching events/documents, rather than the default time-based ordering. Events score a higher relevancy if they have more rare search keywords, more frequently, in fewer terms. For example a search for <tt>disk error</tt> will favor a short event/document that has 'disk' (a rare term) several times and 'error' once, than a very large event that has 'disk' once and 'error' several times.
</p><p><b>Note</b>: The relevancy command does not currently work.  See SPL-93039 on the Known issues page here: http://docs.splunk.com/Documentation/Splunk/latest/ReleaseNotes/KnownIssues
</p>
<h3> <a name="relevancy_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Calculate the relevancy of the search and sort the results in descending order.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">disk error | relevancy | sort -relevancy</font></code><br></div>
<h3> <a name="relevancy_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#abstract" class="external text">abstract</a>, <a href="#highlight" class="external text">highlight</a>, <a href="#sort" class="external text">sort</a> 
</p>
<h3> <a name="relevancy_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the relevancy command.
</p>
<a name="reltime"></a><h2> <a name="reltime_reltime"><span class="mw-headline" id="reltime"> reltime </span></a></h2>
<h3> <a name="reltime_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Creates a relative time field, called 'reltime', and sets it to a human readable value of the difference between 'now' and '_time'.
</p>
<h4><font size="3"><b><i> <a name="reltime_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>reltime
</p>
<h3> <a name="reltime_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Sets the 'reltime' field to a human readable value of the difference between 'now' and '_time'.  Human-readable values look like "5 days ago", "1 minute ago", "2 years ago", etc.
</p>
<h3> <a name="reltime_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Adds a field called <code><font size="2">reltime</font></code> to the events returned from the search.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | reltime</font></code><br></div>
<h3> <a name="reltime_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#convert" class="external text">convert</a> 
</p>
<h3> <a name="reltime_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the reltime command.
</p>
<a name="rename"></a><h2> <a name="rename_rename"><span class="mw-headline" id="rename"> rename </span></a></h2>
<p>Use the <code><font size="2">rename</font></code> command to rename fields. This command is useful for giving fields more meaningful names, such as "Product ID" instead of "pid". If you want to rename multiple fields, you can use wildcards. 
</p>
<h3> <a name="rename_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Renames a specified field or multiple fields.
</p>
<h4><font size="3"><b><i> <a name="rename_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>rename (<i>wc-field</i> AS <i>wc-field</i>)...
</p>
<h4><font size="3"><b><i> <a name="rename_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> wc-field
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of a field and the name to replace it. Can be wildcarded.
</dd></dl><h3> <a name="rename_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Use quotes to rename a field to a phrase:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | rename SESSIONID AS sessionID</font></code><br></div>
<p>Use wildcards to rename multiple fields:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | rename *ip AS *IPaddress</font></code><br></div>
<p>If both the source and destination fields are wildcard expressions with the same number of wildcards, the renaming will carry over the wildcarded portions to the destination expression. See Example 2, below.
</p><p><b>Note:</b> You cannot rename one field with multiple names. For example if you had a field A, you can't do "A as B, A as C" in one string. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | stats first(host) AS site, first(host) AS report</font></code><br></div>
<p><b>Note:</b> You cannot use this command to merge multiple fields into one field, as null (non-present) fields are brought along with the values. For example, if you had events with either <code><font size="2">product_id</font></code> or <code><font size="2">pid</font></code> fields, <code><font size="2">... | rename pid AS product_id</font></code> would not merge the <code><font size="2">pid</font></code> values into the <code><font size="2">product_id</font></code> field. It overwrites <code><font size="2">product_id</font></code> with Null values where <code><font size="2">pid</font></code> does not exist for the event. Instead, see <a href="#eval" class="external text">the eval command</a> and <a href="#commonevalfunctions" class="external text">coalesce() function</a>.
</p>
<h3> <a name="rename_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Rename the "_ip" field as "IPAddress".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | rename _ip as IPAddress</font></code><br></div>
<p><b>Example 2:</b> Rename fields beginning with "foo" to begin with "bar".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | rename foo* as bar*</font></code><br></div>
<p><b>Example 3:</b> Rename the "count" field.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | rename count as "CountofEvents"</font></code><br></div>
<h3> <a name="rename_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#fields" class="external text">fields</a>,
<a href="#table" class="external text">table</a> 
</p>
<h3> <a name="rename_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the rename command.
</p>
<a name="replace"></a><h2> <a name="replace_replace"><span class="mw-headline" id="replace"> replace </span></a></h2>
<h3> <a name="replace_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Replaces values of specified fields with a specified new value.
</p>
<h4><font size="3"><b><i> <a name="replace_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>replace (&lt;wc-str&gt; with &lt;wc-str&gt;)+ [in &lt;field-list&gt;]
</p>
<h4><font size="3"><b><i> <a name="replace_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> wc-string
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Specify one or more field values and their replacements. You can include wildcards to match one or multiple terms.
</dd></dl><h4><font size="3"><b><i> <a name="replace_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> field-list
</dt><dd> <b>Syntax:</b> &lt;string&gt; [&lt;string&gt;...]
</dd><dd> <b>Description:</b> Specify a comma-delimited list of field names in which to do the field value replacement. Replacements on <code><font size="2">_internal</font></code> fields, require the "in &lt;fieldname&gt;".
</dd></dl><h3> <a name="replace_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Replaces a single occurrence of the first string with the second within the specified fields (or all fields if none were specified). Non-wildcard replacements specified later take precedence over those specified earlier. For wildcard replacement, fuller matches take precedence over lesser matches. To assure precedence relationships, one is advised to split the replace into two separate invocations. When using wildcarded replacements, the result must have the same number of wildcards, or none at all. Wildcards (*) can be used to specify many values to replace, or replace values with.
</p>
<h3> <a name="replace_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Change any host value that ends with "localhost" to "localhost".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | replace *localhost with localhost in host</font></code><br></div>
<p><b>Example 2:</b> Change the order of strings in host values so that "localhost" precedes the other strings.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | replace "* localhost" with "localhost *" in host</font></code><br></div>
<p><b>Example 3:</b> Change the value of two fields.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | replace aug with August in start_month end_month</font></code><br></div>
<p><b>Example 5:</b> Replace an IP address with a more descriptive name.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | replace 127.0.0.1 with localhost in host</font></code><br></div>
<p><b>Example 6:</b> Replace values of a field with more descriptive names.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | replace 0 with Critical, 1 with Error in msg_level</font></code><br></div>
<p><b>Example 7:</b> Search for an error message and replace empty strings with a whitespace. <b>Note:</b> This example won't work unless you have values that are actually the empty string, which is not the same as not having a value.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">"Error exporting to XYZ&nbsp;:" | rex "Error exporting to XYZ:(?.*)" | replace
"" with " " in errmsg</font></code><br></div>
<p><b>Example 8:</b> Replace values of an internal field, _time.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=* | head 5 | eval _time="XYZ" | stats count by _time | replace *XYZ* with *ALL* in _time
</font></code><br></div>
<h3> <a name="replace_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#fillnull" class="external text">fillnull</a>,  <a href="#rename" class="external text">rename</a> 
</p>
<h3> <a name="replace_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the replace command.
</p>
<a name="rest"></a><h2> <a name="rest_rest"><span class="mw-headline" id="rest"> rest</span></a></h2>
<p>The <code><font size="2">rest</font></code> command reads a Splunk Enterprise REST API endpoint and returns the resource data as a search result.
</p><p>For more information, see the REST API User Manual and REST API Reference Manual.
</p><p><br></p>
<h3> <a name="rest_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>rest &lt;rest-uri&gt; [count=&lt;int&gt;] [splunk_server=&lt;string&gt;] [timeout=&lt;int&gt;] (&lt;get-arg-name&gt;=&lt;get-arg-value&gt;)...
</p>
<h4><font size="3"><b><i> <a name="rest_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> rest-uri
</dt><dd> <b>Syntax:</b> &lt;uri&gt;
</dd><dd> <b>Description:</b> URI path to the Splunk REST API endpoint.
</dd></dl><dl><dt> get-arg-name
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> REST argument name.
</dd></dl><dl><dt> get-arg-value
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> REST argument value.
</dd></dl><h4><font size="3"><b><i> <a name="rest_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> count
</dt><dd> <b>Syntax:</b> count=&lt;int&gt;
</dd><dd> <b>Description:</b> Limits the number of results returned. When count=0, there is no limit.
</dd><dd> <b>Default:</b> 0
</dd></dl><dl><dt> splunk_server
</dt><dd> <b>Syntax:</b> splunk_server=&lt;string&gt;
</dd><dd> <b>Description:</b> Limits the results to one specific server. Use "local" to refer to the search head.
</dd></dl><dl><dt> timeout
</dt><dd> <b>Syntax:</b> timeout=&lt;int&gt;
</dd><dd> <b>Description:</b> Specify the timeout in seconds when waiting for the REST endpoint to respond. 
</dd><dd> <b>Default:</b> 60
</dd></dl><h3> <a name="rest_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Access saved search jobs.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| rest /services/search/jobs count=0 splunk_server=local | search isSaved=1</font></code><br></div>
<p><b>Example 2:</b> Add current search user to all events (useful for creating reports that only show events associated with logged in user).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">* | head 10 | join [ | rest splunk_server=local /services/authentication/current-context | rename username as auth_user_id | fields auth_user_id ]</font></code><br></div>
<h3> <a name="rest_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has about using the rest command.
</p>
<a name="return"></a><h2> <a name="return_return"><span class="mw-headline" id="return"> return</span></a></h2>
<h3> <a name="return_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Returns values from a subsearch.
</p>
<h4><font size="3"><b><i> <a name="return_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>return [&lt;count&gt;] [&lt;alias&gt;=&lt;field&gt;] [&lt;field&gt;] [$&lt;field&gt;]
</p>
<h4><font size="3"><b><i> <a name="return_arguments"><span class="mw-headline" id="Arguments"> Arguments </span></a></i></b></font></h4>
<dl><dt> &lt;count&gt;
</dt><dd> <b>Syntax:</b> &lt;int&gt;
</dd><dd> <b>Description:</b> Specify the number of rows. Defaults to 1, which is the first row of results passed into the command.
</dd></dl><dl><dt> &lt;alias&gt;
</dt><dd> <b>Syntax:</b> &lt;alias&gt;=&lt;field&gt;
</dd><dd> <b>Description:</b> Specify the field alias and value to return.
</dd></dl><dl><dt> &lt;field&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Specify the field to return.
</dd></dl><dl><dt> &lt;$field&gt;
</dt><dd> <b>Syntax:</b> &lt;$field&gt;
</dd><dd> <b>Description:</b> Specify the field values to return.
</dd></dl><h3> <a name="return_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">return</font></code> command is for passing values up from a subsearch. Replaces the incoming events with one event, with one attribute: "search". To improve performance, the <code><font size="2">return</font></code> command automatically limits the number of incoming results with <code><font size="2">head</font></code> and the resulting fields with the <code><font size="2">fields</font></code>.  
</p><p>The command also allows convenient outputting of field=value, '<code><font size="2">return source</font></code>',  alias=value, '<code><font size="2">return ip=srcip</font></code>', and value, '<code><font size="2">return $srcip</font></code>'. 
</p><p>The <code><font size="2">return</font></code> command defaults to using as input just the first row of results that are passed to it. Multiple rows can be specified with count, for example '<code><font size="2">return 2 ip</font></code>'; and each row is ORed, that is, output might be '<code><font size="2">(ip=10.1.11.2) OR (ip=10.2.12.3)</font></code>'. Multiple values can be specified and are placed within OR clauses. So, '<code><font size="2">return 2 user ip</font></code>' might output '<code><font size="2">(user=bob ip=10.1.11.2) OR (user=fred ip=10.2.12.3)</font></code>'.  
</p><p>In most cases, using the <code><font size="2">return</font></code> command at the end of a subsearch removes the need for <code><font size="2"><a href="#head" class="external text">head</a></font></code>, <code><font size="2"><a href="#fields" class="external text">fields</a></font></code>, <code><font size="2"><a href="#rename" class="external text">rename</a></font></code>, <code><font size="2"><a href="#format" class="external text">format</a></font></code>, and <code><font size="2"><a href="#dedup" class="external text">dedup</a></font></code>.
</p>
<h3> <a name="return_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Search for '<code><font size="2">error ip=&lt;someip&gt;</font></code>', where someip is the most recent ip used by Boss.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">error [ search user=boss | return ip ]</font></code><br></div>
<p><b>Example 2:</b> Search for '<code><font size="2">error (user=user1 ip=ip1) OR (user=user2 ip=ip2)</font></code>', where users and IPs come from the two most-recent logins.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">error [ search login | return 2 user, ip ]</font></code><br></div>
<p><b>Example 3:</b> Return to eval the userid of the last user, and increment it by 1.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eval nextid = 1 + [ search user=* | return $id ] | ...</font></code><br></div>
<h3> <a name="return_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#format" class="external text">format</a>, <a href="#search" class="external text">search</a> 
</p>
<h3> <a name="return_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the return command.
</p>
<a name="reverse"></a><h2> <a name="reverse_reverse"><span class="mw-headline" id="reverse"> reverse </span></a></h2>
<h3> <a name="reverse_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Reverses the order of the results. Note: the reverse command does not affect which events are returned by the search, only the order in which they are displayed. For the CLI, this includes any default or explicit maxout setting.
</p>
<h4><font size="3"><b><i> <a name="reverse_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>reverse
</p>
<h3> <a name="reverse_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p><b>Note</b>: Reverse on very large result sets (millions of results or more) will require large large amounts of temporary storage, I/O and time.
</p>
<h3> <a name="reverse_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Reverse the order of a result set.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | reverse</font></code><br></div>
<h3> <a name="reverse_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#head" class="external text">head</a>, <a href="#sort" class="external text">sort</a>, <a href="#tail" class="external text">tail</a> 
</p>
<h3> <a name="reverse_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the reverse command.
</p>
<a name="rex"></a><h2> <a name="rex_rex"><span class="mw-headline" id="rex"> rex </span></a></h2>
<p>Use the <code><font size="2">rex</font></code> command for <b>search-time</b> <b>field extraction</b> or string replacement and character substitution. Splunk Enterprise uses perl-compatible regular expressions (PCRE). Read more about Splunk Enterprise regular expressions in the Knowledge Manager manual.
</p>
<h3> <a name="rex_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Specify either regular expression named groups to extract fields or sed expressions to replace or substitute characters in a field.
</p>
<h4><font size="3"><b><i> <a name="rex_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>rex [field=&lt;field&gt;] (&lt;regex-expression&gt; [max_match=&lt;int&gt;] [offset_field=&lt;string&gt;] | mode=sed &lt;sed-expression&gt;)
</p>
<h4><font size="3"><b><i> <a name="rex_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> field
</dt><dd> <b>Syntax:</b> field=&lt;field&gt;
</dd><dd> <b>Description:</b> The field that you want to extract information from. Defaults to <code><font size="2">_raw</font></code>. 
</dd></dl><dl><dt> mode
</dt><dd> <b>Syntax:</b> mode=sed
</dd><dd> <b>Description:</b> Specify to indicate that you are using a sed expression.
</dd></dl><dl><dt> regex-expression
</dt><dd> <b>Syntax:</b> "&lt;string&gt;"
</dd><dd> <b>Description:</b> The PCRE regular expression to define information to match and extract from the specified field. Quotes are required.
</dd></dl><dl><dt> sed-expression
</dt><dd> <b>Syntax:</b> "&lt;string&gt;"
</dd><dd> <b>Description:</b> When mode=sed, specify whether to replace strings (s) or substitute characters (y) in the matching regular expression.  No other sed commands are implemented. Quotes are required. Sed mode supports the following flags: global (g) and Nth occurrence (N), where N is a number that is the character's location in the string.
</dd></dl><h4><font size="3"><b><i> <a name="rex_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> max_match
</dt><dd> <b>Syntax:</b> max_match=&lt;int&gt;
</dd><dd> <b>Description:</b> Controls the number of times the regex is matched. If greater than 1, the resulting fields will be multivalued fields. Defaults to 1, use 0 to mean unlimited.
</dd></dl><dl><dt> offset_field
</dt><dd> <b>Syntax:</b> offset_field=&lt;string&gt;
</dd><dd> <b>Description:</b> If provided, a field will be created with the name selected by <code><font size="2">&lt;string&gt;</font></code>.  This field's value will have the endpoints of the match in terms of zero-offset characters into the matched field.  For example, if the rex expression is "(?&lt;tenchars&gt;.{10})",  this will match the first ten characters of the field, and the offset_field contents will be "0-9".  Defaults to unset.
</dd></dl><h4><font size="3"><b><i> <a name="rex_sed_expression"><span class="mw-headline" id="Sed_expression"> Sed expression </span></a></i></b></font></h4>
<p>When using the rex command in sed mode, you have two options: replace (s) or character substitution (y).
</p><p>The syntax for using sed to replace (s) text in your data is: <code><font size="2">"s/&lt;regex&gt;/&lt;replacement&gt;/&lt;flags&gt;"</font></code>
</p>
<ul><li> &lt;regex&gt; is a PCRE regular expression, which can include capturing groups.
</li><li> &lt;replacement&gt; is a string to replace the regex match. Use <code><font size="2">\n</font></code> for backreferences, where "n" is a single digit.
</li><li> &lt;flags&gt; can be either: g to replace all matches, or a number to replace a specified match.
</li></ul><p>The syntax for using sed to substitute characters is: <code><font size="2">"y/&lt;string1&gt;/&lt;string2&gt;/"</font></code>
</p>
<ul><li> This substitutes the characters that match &lt;string1&gt; with the characters in &lt;string2&gt;.
</li></ul><h3> <a name="rex_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">rex</font></code> command matches the value of the specified field against the unanchored regular expression and extracts the named groups into fields of the corresponding names. If a field is not specified, the regex is applied to the _raw field. Note that running rex against the _raw field may have a performance impact. 
</p><p>When mode=sed, the given sed expression (to replace or substitute characters) is applied to the value of the chosen field (or to _raw if a field is not specified). This sed-syntax is also used to mask sensitive data at <b>index-time</b>. Read about using sed to anonymize data in the Getting Data In manual. 
</p>
<h3> <a name="rex_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Extract "from" and "to" fields using regular expressions. If a raw event contains "From: Susan To: Bob", then <code><font size="2">from=Susan</font></code> and <code><font size="2">to=Bob</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | rex field=_raw "From: (?&lt;from&gt;.*) To: (?&lt;to&gt;.*)"</font></code><br></div>
<p><b>Example 2:</b> Extract "user", "app" and "SavedSearchName" from a field called "savedsearch_id" in scheduler.log events. If <code><font size="2">savedsearch_id=bob;search;my_saved_search</font></code> then <code><font size="2">user=bob</font></code> , <code><font size="2">app=search</font></code> and <code><font size="2">SavedSearchName=my_saved_search</font></code>
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | rex field=savedsearch_id "(?&lt;user&gt;\w+);(?&lt;app&gt;\w+);(?&lt;SavedSearchName&gt;\w+)"</font></code><br></div>
<p><b>Example 3:</b> Use <code><font size="2">sed</font></code> syntax to match the regex to a series of numbers and replace them with an anonymized string.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | rex field=ccnumber mode=sed "s/(\d{4}-){3}/XXXX-XXXX-XXXX-/g"</font></code><br></div>
<p><b>Example 4:</b> Display IP address and ports of potential attackers.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=linux_secure port "failed password" | rex "\s+(?&lt;ports&gt;port \d+)" | top src_ip ports showperc=0</font></code><br></div>
<p>This search used rex to extract the port field and values. Then, it displays a table of the top source IP addresses (src_ip) and ports the returned with the search for potential attackers.
</p>
<h3> <a name="rex_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#extract" class="external text">extract</a>, <a href="#kvform" class="external text">kvform</a>, <a href="#multikv" class="external text">multikv</a>, 
<a href="#regex" class="external text">regex</a>,
<a href="#spath" class="external text">spath</a>, <a href="#xmlkv" class="external text">xmlkv</a>,
</p>
<a name="rtorder"></a><h2> <a name="rtorder_rtorder"><span class="mw-headline" id="rtorder"> rtorder </span></a></h2>
<h3> <a name="rtorder_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Buffers events from real-time search to emit them in ascending time order when possible.
</p>
<h4><font size="3"><b><i> <a name="rtorder_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>rtorder [discard=&lt;bool&gt;] [buffer_span=&lt;span-length&gt;] [max_buffer_size=&lt;int&gt;]
</p>
<h4><font size="3"><b><i> <a name="rtorder_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> buffer_span
</dt><dd> <b>Syntax:</b> buffer_span=&lt;span-length&gt;
</dd><dd> <b>Description:</b> Specify the length of the buffer. Default is 10 seconds.
</dd></dl><dl><dt> discard
</dt><dd> <b>Syntax:</b> discard=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specifies whether or not to always discard out-of-order events. Default is false.
</dd></dl><dl><dt> max_buffer_size
</dt><dd> <b>Syntax:</b> max_buffer_size=&lt;int&gt;
</dd><dd> <b>Description:</b> Specifies the maximum size of the buffer. Default is 50000, or the <code><font size="2">max_result_rows</font></code> setting of the [search] stanza in limits.conf.
</dd></dl><h3> <a name="rtorder_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The rtorder command creates a streaming event buffer that takes input events, stores them in the buffer in ascending time order, and emits them in that order from the buffer only after the current time reaches at least the span of time given by buffer_span after the timestamp of the event.  
</p><p>Events will also be emitted from the buffer if the maximum size of the buffer is exceeded.
</p><p>If an event is received as input that is earlier than an event that has already been emitted previously, that out of order event will be emitted immediately unless the discard option is set to true. When discard is set to true, out of order events will always been discarded, assuring that the output is always strictly in time ascending order.
</p>
<h3> <a name="rtorder_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Keep a buffer of the last 5 minutes of events, emitting events in ascending time order once they are more than 5 minutes old.  Newly received events that are older than 5 minutes are dicarded if an event after that time has already been emitted.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | rtorder discard=t buffer_span=5m</font></code><br></div>
<h3> <a name="rtorder_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#sort" class="external text">sort</a>
</p>
<h3> <a name="rtorder_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the rtorder command.
</p>
<a name="run"></a><h2> <a name="run_run"><span class="mw-headline" id="run"> run </span></a></h2>
<p>See <a href="#script" class="external text">script</a>.
</p>
<a name="savedsearch"></a><h2> <a name="savedsearch_savedsearch"><span class="mw-headline" id="savedsearch"> savedsearch </span></a></h2>
<h3> <a name="savedsearch_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Returns the search results of a saved search.
</p>
<h4><font size="3"><b><i> <a name="savedsearch_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>savedsearch &lt;savedsearch name&gt; [&lt;savedsearch-opt&gt;]*
</p>
<h4><font size="3"><b><i> <a name="savedsearch_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> savedsearch name
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Name of the saved search to run.
</dd></dl><h4><font size="3"><b><i> <a name="savedsearch_savedsearch_options"><span class="mw-headline" id="Savedsearch_options"> Savedsearch options </span></a></i></b></font></h4>
<dl><dt> savedsearch-opt
</dt><dd> <b>Syntax:</b> &lt;substitution-control&gt;|&lt;replacement&gt;
</dd><dd> <b>Description:</b> The savedsearch options lets you specify either no substitution or the key/value pair to use in the string substition replacement.
</dd></dl><dl><dt> substitution-control
</dt><dd> <b>Syntax:</b> nosubstitution=&lt;bool&gt;
</dd><dd> <b>Description:</b> If true, no string substitution replacements are made. Defaults to false.
</dd></dl><dl><dt> replacement
</dt><dd> <b>Syntax:</b> &lt;field&gt;=&lt;string&gt;
</dd><dd> <b>Description:</b> A key/value pair to use in string substition replacement.
</dd></dl><h3> <a name="savedsearch_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Runs a saved search.
</p>
If the search contains replacement terms such as $replace_me$, the search processor replaces strings. For example via <div class="inlineQuery splunk_search_4_3"><code><font size="2">|savedsearch mysearch replace_me="value"</font></code><br></div>
<p><b>Note</b>: The savedsearch command cannot be combined with other seach commands in a pipeline.  The implementation of the savedsearch command replaces the entire search text with the specified savedsearch and runs that, erasing any other commands you might provide after the savedsearch command.
</p>
<h3> <a name="savedsearch_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Run the "mysecurityquery" saved search.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| savedsearch mysecurityquery</font></code><br></div>
<p><br></p>
<h3> <a name="savedsearch_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#search" class="external text">search</a> 
</p>
<h3> <a name="savedsearch_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the savedsearch command.
</p>
<a name="script"></a><h2> <a name="script_script"><span class="mw-headline" id="script"> script </span></a></h2>
<h3> <a name="script_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Makes calls to external Python-implemented search commands.
</p>
<h4><font size="3"><b><i> <a name="script_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>script &lt;script-name&gt; [&lt;script-arg&gt;]* [maxinputs=&lt;int&gt;]
</p>
<h4><font size="3"><b><i> <a name="script_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> script-name
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of the scripted search command to execute, as defined in commands.conf
</dd></dl><h4><font size="3"><b><i> <a name="script_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> maxinputs
</dt><dd> <b>Syntax:</b> maxinputs=&lt;int&gt;
</dd><dd> <b>Description:</b> Determines how many of the input results are passed to the script. Defaults to 100.
</dd></dl><dl><dt> script-arg
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> One or more arguments to pass to the script. If passing more than one argument, delimit each with a space.
</dd></dl><h3> <a name="script_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Calls an external python program that can modify or generate search results. Scripts must be declared in commands.conf, and be located in <code><font size="2">$SPLUNK_HOME/etc/apps/&lt;app_name&gt;/bin/</font></code>.  The script will be executed using <tt>splunk_home/bin/python</tt>
</p>
The <tt>script</tt> search command is effectively an alterntive way to invoke custom search commands, which are discussed in the Custom search commands topic. <div class="inlineQuery splunk_search_4_3"><code><font size="2"> |script commandname </font></code><br></div> is largely synonymous with <div class="inlineQuery splunk_search_4_3"><code><font size="2">|commandname</font></code><br></div>
<p><b>Note:</b> Some functions of the script command have been removed over time.  The explicit choice of perl or python as an argument is no longer functional and such an argument will be ignored.  If you need to write perl search commands you will need to declare them as perl in the commands.conf file (this is not recommended, as you will need to determine a number of underdocumented things about the input and output formats).  Additionally, support for explicit filename reference for scripts in <tt>etc/searchscripts</tt> has been removed. All search commands must now be declared in commands.conf files.
</p>
<h3> <a name="script_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Run the Python script "myscript" with arguments, myarg1 and myarg2; then, email the results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | script myscript myarg1 myarg2 | sendemail to=david@splunk.com</font></code><br></div>
<h3> <a name="script_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the script command.
</p>
<a name="scrub"></a><h2> <a name="scrub_scrub"><span class="mw-headline" id="scrub"> scrub </span></a></h2>
<h3> <a name="scrub_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Anonymizes the search results using the dictionary and configuration files found in <code><font size="2">$SPLUNK_HOME/etc/anonymizer</font></code>, unless others are specified.
</p>
<h4><font size="3"><b><i> <a name="scrub_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>scrub  [public-terms=&lt;filename&gt;] [private-terms=&lt;filename&gt;] [name-terms=&lt;filename&gt;] [dictionary=&lt;filename&gt;] [timeconfig=&lt;filename&gt;]
</p>
<h4><font size="3"><b><i> <a name="scrub_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> public-terms
</dt><dd> <b>Syntax:</b> public-terms=&lt;filename&gt;
</dd><dd> <b>Description:</b> Specify a filename that includes the public terms to be anonymized.
</dd></dl><dl><dt> private-terms
</dt><dd> <b>Syntax:</b> private-terms=&lt;filename&gt;
</dd><dd> <b>Description:</b> Specify a filename that includes the private terms to be anonymized.
</dd></dl><dl><dt> name-terms
</dt><dd> <b>Syntax:</b> name-terms=&lt;filename&gt;
</dd><dd> <b>Description:</b> Specify a filename that includes names to be anonymized.
</dd></dl><dl><dt> dictionary
</dt><dd> <b>Syntax:</b> dictionary=&lt;filename&gt;
</dd><dd> <b>Description:</b> Specify a filename that includes a dictionary of terms to be anonymized.
</dd></dl><dl><dt> timeconfig
</dt><dd> <b>Syntax:</b> timeconfig=&lt;filename&gt;
</dd><dd> <b>Description:</b> Specify a filename that includes time configurations to be anonymized.
</dd></dl><h3> <a name="scrub_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Anonymizes the search results by replacing identifying data - usernames, <tt>ip</tt> addresses, domain names, etc. - with fictional values that maintain the same word length. For example, it may turn the string user=carol@adalberto.com into user=aname@mycompany.com. This lets Splunk users share log data without revealing confidential or personal information. By default the dictionary and configuration files found in $SPLUNK_HOME/etc/anonymizer are used. These can be overridden by specifying arguments to the scrub command. The arguments exactly correspond to the settings in the stand-alone CLI <code><font size="2">anonymize</font></code> command, and are documented there. 
</p><p>Anonymizes all attributes, except those that start with <tt>_</tt> (except <tt>_raw</tt>) or <tt>date_</tt>, or the following attributes: <tt>eventtype</tt>, <tt>linecount</tt>, <tt>punct</tt>, <tt>sourcetype</tt>, <tt>timeendpos</tt>, <tt>timestartpos</tt>.
</p>
<h3> <a name="scrub_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Anonymize the current search results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | scrub</font></code><br></div>
<h3> <a name="scrub_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the scrub command.
</p>
<a name="search"></a><h2> <a name="search_search"><span class="mw-headline" id="search"> search </span></a></h2>
<p>Use the <code><font size="2">search</font></code> command to retrieve events from your indexes, using keywords, quoted phrases, wildcards, and key/value expressions. The command is implicit when it's the first search command (used at the beginning of a pipeline). 
</p><p>When the search command is not the first command in the pipeline, the search is used to filter the results of the previous command and is referred to as a <i>subsearch</i>. Learn more  about subsearches in the Search Manual.
</p><p>After you retrieve events, you can apply commands to transform, filter, and report on the events. Use the vertical bar "|" , or pipe character, to apply a command to the retrieved events.
</p>
<h3> <a name="search_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Retrieve events from indexes, or filter the results of a previous search command in the pipeline.
</p>
<h4><font size="3"><b><i> <a name="search_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>search &lt;logical-expression&gt;
</p>
<h4><font size="3"><b><i> <a name="search_arguments"><span class="mw-headline" id="Arguments"> Arguments </span></a></i></b></font></h4>
<dl><dt> &lt;logical-expression&gt;
</dt><dd> <b>Syntax:</b> &lt;time-opts&gt; | &lt;search-modifier&gt; | [NOT] &lt;logical-expression&gt; | &lt;index-expression&gt; | &lt;comparison-expression&gt; | &lt;logical-expression&gt; [OR] &lt;logical-expression&gt;
</dd><dd> <b>Description:</b> Includes all keywords or key/value pairs used to describe the events to retrieve from the index. These filters can be defined using Boolean expressions, comparison operators, time modifiers, search modifiers, or combinations of expressions.
</dd></dl><h4><font size="3"><b><i> <a name="search_logical_expression"><span class="mw-headline" id="Logical_expression"> Logical expression </span></a></i></b></font></h4>
<dl><dt> &lt;comparison-expression&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;&lt;cmp&gt;&lt;value&gt;
</dd><dd> <b>Description:</b> Compare a field to a literal value or values of another field.
</dd></dl><dl><dt> &lt;index-expression&gt;
</dt><dd> <b>Syntax:</b> "&lt;string&gt;" | &lt;term&gt; | &lt;search-modifier&gt;
</dd><dd> <b>Description:</b> Describe the events you want to retrieve from the index using literal strings and search modifiers.
</dd></dl><dl><dt> &lt;time-opts&gt;
</dt><dd> <b>Syntax:</b> [&lt;timeformat&gt;] (&lt;time-modifier&gt;)*
</dd><dd> <b>Description:</b> Describe the format of the starttime and endtime terms of the search
</dd></dl><h4><font size="3"><b><i> <a name="search_comparison_expression"><span class="mw-headline" id="Comparison_expression"> Comparison expression </span></a></i></b></font></h4>
<dl><dt> &lt;cmp&gt;
</dt><dd> <b>Syntax:</b> = |&nbsp;!= | &lt; | &lt;= | &gt; | &gt;=
</dd><dd> <b>Description:</b> Comparison operators. You can use comparison expressions when searching field/value pairs. Comparison expressions with "=" and "!=" work with all field/value pairs. Comparison expressions with &lt; &gt; &lt;= &gt;= work only with fields that have numeric values.
</dd></dl><dl><dt> &lt;field&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of a field.
</dd></dl><dl><dt> &lt;lit-value&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt; | &lt;num&gt;
</dd><dd> <b>Description:</b> An exact or literal value of a field. Used in a comparison expression.
</dd></dl><dl><dt> &lt;value&gt;
</dt><dd> <b>Syntax:</b> &lt;lit-value&gt; | &lt;field&gt;
</dd><dd> <b>Description:</b> In comparison-expressions, the literal (number or string) value of a field or another field name.
</dd></dl><h4><font size="3"><b><i> <a name="search_index_expression"><span class="mw-headline" id="Index_expression"> Index expression </span></a></i></b></font></h4>
<dl><dt> &lt;string&gt;
</dt><dd> <b>Syntax:</b> "&lt;string&gt;"
</dd><dd> <b>Description:</b> Specify keywords or quoted phrases to match. When searching for strings and quoted strings (anything that's not a search modifier), Splunk searches the <code><font size="2">_raw</font></code> field for the matching events or results. 
</dd></dl><dl><dt> &lt;search-modifier&gt;
</dt><dd> <b>Syntax:</b> &lt;sourcetype-specifier&gt; | &lt;host-specifier&gt; | &lt;hosttag-specifier&gt; | &lt;source-specifier&gt; | &lt;savedsplunk-specifier&gt; | &lt;eventtype-specifier&gt; | &lt;eventtypetag-specifier&gt; | &lt;splunk_server-specifier&gt;
</dd><dd> <b>Description:</b> Search for events from specified fields or field tags. For example, search for one or a combination of hosts, sources, source types, saved searches, and event types. Also, search for the field tag, with the format: <code><font size="2">tag=&lt;field&gt;::&lt;string&gt;</font></code>.
</dd></dl><ul><li> Read more about searching with default fields in the <i>Knowledge Manager manual</i>.
</li><li> Read more about using tags and field alias in the <i>Knowledge Manager manual</i>.
</li></ul><dl><dt> &lt;host-specifier&gt;
</dt><dd> <b>Syntax:</b> host=&lt;string&gt;
</dd><dd> <b>Description:</b> Search for events from the specified host field.
</dd></dl><dl><dt> &lt;hosttag-specifier&gt;
</dt><dd> <b>Syntax:</b> hosttag=&lt;string&gt;
</dd><dd> <b>Description:</b> Search for events that have hosts that are tagged by the string.
</dd></dl><dl><dt> &lt;eventtype-specifier&gt;
</dt><dd> <b>Syntax:</b> eventtype=&lt;string&gt;
</dd><dd> <b>Description:</b> Search for events that match the specified event type.
</dd></dl><dl><dt> &lt;eventtypetag-specifier&gt;
</dt><dd> <b>Syntax:</b> eventtypetag=&lt;string&gt;
</dd><dd> <b>Description:</b> Search for events that would match all eventtypes tagged by the string.
</dd></dl><dl><dt> &lt;savedsplunk-specifier&gt;
</dt><dd> <b>Syntax:</b> savedsearch=&lt;string&gt; | savedsplunk=&lt;string&gt;
</dd><dd> <b>Description:</b> Search for events that would be found by the specified saved search.
</dd></dl><dl><dt> &lt;source-specifier&gt;
</dt><dd> <b>Syntax:</b> source=&lt;string&gt;
</dd><dd> <b>Description:</b> Search for events from the specified source field.
</dd></dl><dl><dt> &lt;splunk_server-specifier&gt;
</dt><dd> <b>Syntax:</b> splunk_server=&lt;string&gt; 
</dd><dd> <b>Description:</b> Search for events from a specific server. Use "local" to refer to the search head.
</dd></dl><h4><font size="3"><b><i> <a name="search_time_options"><span class="mw-headline" id="Time_options"> Time options </span></a></i></b></font></h4>
<p>Splunk allows many flexible options for searching based on time. For a list of time modifiers, see the topic <a href="#searchtimemodifiers" class="external text">"Time modifiers for search"</a>
</p>
<dl><dt> &lt;timeformat&gt;
</dt><dd> <b>Syntax:</b> timeformat=&lt;string&gt;
</dd><dd> <b>Description:</b> Set the time format for starttime and endtime terms. By default, the timestamp is formatted: <code><font size="2">timeformat=%m/%d/%Y:%H:%M:%S</font></code> .
</dd></dl><dl><dt> &lt;time-modifier&gt;
</dt><dd> <b>Syntax:</b> starttime=&lt;string&gt; | endtime=&lt;string&gt; | earliest=&lt;time_modifier&gt; | latest=&lt;time_modifier&gt;
</dd><dd> <b> Description:</b> Specify start and end times using relative or absolute time. 
</dd></dl><ul><li> You can also use the earliest and latest attributes to specify absolute and relative time ranges for your search. Read more about this time modifier syntax in "About search time ranges" in the <i>Search manual</i>.
</li></ul><dl><dt> starttime
</dt><dd> <b>Syntax:</b> starttime=&lt;string&gt;
</dd><dd> <b>Description:</b> Events must be later or equal to this time. Must match <code><font size="2">timeformat</font></code>.
</dd></dl><dl><dt> endtime
</dt><dd> <b>Syntax:</b> endtime=&lt;string&gt;
</dd><dd> <b>Description:</b> All events must be earlier or equal to this time.
</dd></dl><h3> <a name="search_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The search command enables you to use keywords, phrases, fields, boolean expressions, and comparison expressions to specify exactly which events you want to retrieve from a Splunk index(es). 
</p><p>Some examples of search terms are:
</p>
<ul><li> keywords:	<code><font size="2">error login</font></code>
</li><li> quoted phrases:	<code><font size="2">"database error"</font></code>
</li><li> boolean operators:	<code><font size="2">login NOT (error OR fail)</font></code>
</li><li> wildcards:    <code><font size="2">fail*</font></code>
</li><li> field values:	<code><font size="2">status=404, status!=404, or status&gt;200</font></code>
</li></ul><p>Read more about how to "Use the search command to retrieve events" in the Search Manual.
</p>
<h4><font size="3"><b><i> <a name="search_quotes_and_escaping_characters"><span class="mw-headline" id="Quotes_and_escaping_characters"> Quotes and escaping characters </span></a></i></b></font></h4>
<p><b>Generally, you need quotes around phrases and field values that include white spaces, commas, pipes, quotes, and/or brackets.</b> Quotes must be balanced, an opening quote must be followed by an unescaped closing quote. For example:
</p>
<ul><li> A search such as <code><font size="2">error | stats count</font></code> will find the number of events containing the string error. 
</li><li> A search such as <code><font size="2">... | search "error | stats count"</font></code> would return the raw events containing error, a pipe, stats, and count, in that order.
</li></ul><p>Additionally, you want to use quotes around keywords and phrases if you don't want to search for their default meaning, such as Boolean operators and field/value pairs. For example:
</p>
<ul><li> A search for the keyword AND without meaning the Boolean operator: <code><font size="2">error "AND"</font></code>
</li><li> A search for this field/value phrase: <code><font size="2">error "startswith=foo"</font></code>
</li></ul><p><b>The backslash character (\) is used to escape quotes, pipes, and itself.</b> Backslash escape sequences are still expanded inside quotes. For example:
</p>
<ul><li> The sequence \| as part of a search will send a pipe character to the command, instead of having the pipe split between commands. 
</li><li> The sequence \" will send a literal quote to the command, for example for searching for a literal quotation mark or inserting a literal quotation mark into a field using rex.  
</li><li> The \\ sequence will be available as a literal backslash in the command.
</li></ul><p>Unrecognized backslash sequences are not altered:
</p>
<ul><li> For example \s in a search string will be available as \s to the command, because \s is not a known escape sequence.  
</li><li> However, in the search string \\s will be available as \s to the command, because \\ is a known escape sequence that is converted to \.
</li></ul><h4><font size="3"><b><i> <a name="search_search_with_term.28.29"><span class="mw-headline" id="Search_with_TERM.28.29"> Search with TERM() </span></a></i></b></font></h4>
<p>You can use the TERM() directive to force Splunk to match whatever is inside the parentheses as a single term in the index. TERM is more useful for cases where the term contains minor segmenters, such as periods and commas, and is bounded by major segmenters, such as spaces or commas. In fact, TERM does not work for terms that are not bounded by major breakers.
</p>
<h4><font size="3"><b><i> <a name="search_search_with_case.28.29"><span class="mw-headline" id="Search_with_CASE.28.29"> Search with CASE() </span></a></i></b></font></h4>
<p>You can use the CASE() directive to search for terms and field values that are case-sensitive.
</p>
<h3> <a name="search_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p>These examples demonstrate how to use the <code><font size="2">search</font></code> command. You can find more examples in the Start Searching topic of the Search Tutorial.
</p><p><b>Example 1:</b> This example demonstrates key/value pair matching for specific values of source IP (src) and destination IP (dst).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">src="10.9.165.*" OR dst="10.9.165.8"</font></code><br></div>
<p><b>Example 2:</b> This example demonstrates key/value pair matching with boolean and comparison operators. Search for events with code values of either 10 or 29, any host that isn't "localhost", and an <code><font size="2">xqp</font></code> value that is greater than 5.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">(code=10 OR code=29) host!="localhost" xqp&gt;5</font></code><br></div>
<p><b>Example 3:</b> This example demonstrates key/value pair matching with wildcards. Search for events from all the webservers that have an HTTP client or server error status.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">host=webserver* (status=4* OR status=5*)</font></code><br></div>
<p><b>Example 4:</b> This example uses <code><font size="2">search</font></code> later in the pipeline to filter out search results. This search defines a web session using the <code><font size="2"><a href="#transaction" class="external text">transaction</a></font></code> command and searches for the user sessions that contain more than three events.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">eventtype=web-traffic | transaction clientip startswith="login" endswith="logout" | search eventcount&gt;3</font></code><br></div>
<p><b>Example 5:</b> Searching with the boolean "NOT" versus the comparison operator "!=" is not the same. The following search returns events where <code><font size="2">field</font></code> is undefined (or NULL).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">NOT field="value"</font></code><br></div>
<p>The following search returns events where <code><font size="2">field</font></code> exists and does not have the value "value".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">field!="value"</font></code><br></div>
<p>In the case where the value in question is the wildcard "*", <code><font size="2">NOT field=*</font></code> will return events where field is null/undefined, and <code><font size="2">field!=*</font></code> will never return any events.
</p>
<h3> <a name="search_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the search command.
</p>
<a name="searchtxn"></a><h2> <a name="searchtxn_searchtxn"><span class="mw-headline" id="searchtxn"> searchtxn </span></a></h2>
<h3> <a name="searchtxn_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Finds specific transaction events within specified search constraints.
</p>
<h4><font size="3"><b><i> <a name="searchtxn_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>searchtxn &lt;transaction-name&gt; [max_terms=&lt;int&gt;] [use_disjunct=&lt;bool&gt;] [eventsonly=&lt;bool&gt;] &lt;search-string&gt;
</p>
<h4><font size="3"><b><i> <a name="searchtxn_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;transaction-name&gt;
</dt><dd> <b>Syntax:</b> &lt;transactiontype&gt;
</dd><dd> <b>Description:</b> The name of the <code><font size="2">transactiontype</font></code> stanza that is defined in <code><font size="2">transactiontypes.conf</font></code>.
</dd></dl><dl><dt> &lt;search-string&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Terms to search for within the transaction events.
</dd></dl><h4><font size="3"><b><i> <a name="searchtxn_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> eventsonly
</dt><dd> <b>Syntax:</b> eventsonly=&lt;bool&gt;
</dd><dd> <b>Description:</b> If true, retrieves only the relevant events but does not run "| transaction" command. Defaults to false.
</dd></dl><dl><dt> max_terms
</dt><dd> <b>Syntax:</b> maxterms=&lt;int&gt;
</dd><dd> <b>Description:</b> Integer between 1-1000 which determines how many unique field values all fields can use.  Using smaller values will speed up search, favoring more recent values. Defaults to 1000.
</dd></dl><dl><dt> use_disjunct
</dt><dd> <b>Syntax:</b> use_disjunct=&lt;bool&gt;
</dd><dd> <b>Description:</b> Determines if each term in SEARCH-STRING should be ORed on the initial search. Defaults to true.
</dd></dl><h3> <a name="searchtxn_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Efficiently retrieves transaction events matching the transaction type <code><font size="2">transaction-name</font></code> that contain the text selected by <code><font size="2">search-string</font></code>.
</p><p>For example, given an 'email' transactiontype with fields="qid pid" and with a search attribute of 'sourcetype="sendmail_syslog"', and a <code><font size="2">search-string</font></code> of "to=root", searchtxn will find all the events that match 'sourcetype="sendmail_syslog" to=root'. 
</p><p>From those results, all the qid's and pid's locatable via this constraint are then used to further search for relevant transaction events. When no more qid or pid values are found, the resulting search is run: 
</p><p>'sourcetype="sendmail_syslog" ((qid=val1 pid=val1) OR (qid=valn pid=valm) | transaction name=email | search to=root'
</p><p><b>Note</b>: searchtxn can only work for transactions bound together by particular field values, not by ordering or time constraints.
</p>
<h3> <a name="searchtxn_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Find all email transactions to root from David Smith.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| searchtxn email to=root from="David Smith"</font></code><br></div>
<h3> <a name="searchtxn_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#transaction" class="external text">transaction</a> 
</p>
<h3> <a name="searchtxn_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the searchtxn command.
</p>
<a name="selfjoin"></a><h2> <a name="selfjoin_selfjoin"><span class="mw-headline" id="selfjoin"> selfjoin </span></a></h2>
<h3> <a name="selfjoin_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Joins results with themselves.
</p>
<h4><font size="3"><b><i> <a name="selfjoin_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>selfjoin [&lt;selfjoin-options&gt;]* &lt;field-list&gt;
</p>
<h4><font size="3"><b><i> <a name="selfjoin_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;field-list&gt;
</dt><dd> <b>Sytnax:</b> &lt;field&gt;...
</dd><dd> <b>Description:</b> Specify the field or list of fields to join on.
</dd></dl><dl><dt> &lt;selfjoin-options&gt;
</dt><dd> <b>Syntax:</b> overwrite=&lt;bool&gt; | max=&lt;int&gt; | keepsingle=&lt;bool&gt; 
</dd><dd> <b>Description:</b> Options for the selfjoin command. You can use a combination of the three options.
</dd></dl><h4><font size="3"><b><i> <a name="selfjoin_selfjoin_options"><span class="mw-headline" id="Selfjoin_options"> Selfjoin options </span></a></i></b></font></h4>
<dl><dt> keepsingle
</dt><dd> <b>Syntax:</b> keepsingle=&lt;bool&gt;
</dd><dd> <b>Description:</b> Controls whether or not results with a unique value for the join fields  should be retained.  In other words, keep results with no other results to join with. Defaults to false.
</dd></dl><dl><dt> max
</dt><dd> <b>Syntax:</b> max=&lt;int&gt;
</dd><dd> <b>Description:</b> Indicate the maximum number of 'other' results to join with each main result. If 0, there is no limit. Defaults to 1.
</dd></dl><dl><dt> overwrite
</dt><dd> <b>Sytnax:</b> overwrite=&lt;bool&gt;
</dd><dd> <b>Description:</b> When true, causes fields from these 'other' results to overwrite fields of the results used as the basis for the join. Defaults to true.
</dd></dl><h3> <a name="selfjoin_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Join results with themselves, based on a specified field or list of fields to join on. The selfjoin options, <code><font size="2">overwrite</font></code>, <code><font size="2">max</font></code>, and <code><font size="2">keepsingle</font></code> controls the out results of the selfjoin.
</p><p><br></p>
<h3> <a name="selfjoin_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Join results with itself on 'id' field.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | selfjoin id</font></code><br></div>
<h3> <a name="selfjoin_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#join" class="external text">join</a> 
</p>
<h3> <a name="selfjoin_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the selfjoin command.
</p>
<a name="set"></a><h2> <a name="set_set"><span class="mw-headline" id="set"> set </span></a></h2>
<h3> <a name="set_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Performs set operations on <b>subsearches</b>.
</p>
<h4><font size="3"><b><i> <a name="set_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>set (union|diff|intersect) <i>subsearch</i> <i>subsearch</i>
</p>
<h4><font size="3"><b><i> <a name="set_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> subsearch
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Specifies a subsearch. For more information about subsearch syntax, see "About subsearches" in the Search manual.
</dd></dl><h3> <a name="set_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Performs two subsearches and then executes the specified set operation on the two sets of search results: 
</p>
<ul><li> The result of a <b>union operation</b> are results that are produced by either subsearch.
</li><li> The result of a <b>diff operation</b> are the results that are produced by only one of the two subsearches.  Note that there is no information provided as to which subsearch the results originated from.
</li><li> The result of an <b>intersect operation</b> are the results that are common for both subsearches.
</li></ul><p>The set command will consider results to be the same if all the fields they contain match. Because some internal fields generated by splunk will vary from search to search (for example, _serial), you will need to filter out some of the fields if you are using the set command with raw events, as opposed to transformed results such as from a stats command or similar, where typically all the fields will be the same from search to search.
</p>
<h3> <a name="set_limits"><span class="mw-headline" id="Limits"> Limits </span></a></h3>
<p>A limit exists on the quantity of results that will come out of the invoked subsearches that the set command will receive to operate on.  If this limit is exceeded, the input result sets to the diff command will be silently truncated.
</p><p>This limit is controlled in limits.conf.  The specific setting is the maxout value in the subsearch stanza.  If this value is altered, the default quantity of results coming from a variety of subsearch scenarios will be altered.  Note that very large values may cause extensive stalls during the 'parsing' phase of a search which is when subsearches run.  The default value for this limit is 10000, or ten thousand.
</p><p>Additionally, a limit exists on the number of items that the set command will attempt to traverse from each subsearch.  If the number of input results from either search exceeds this limit, the set command will ignore the remaining events silently.  This limit attempts to constrain the number of output results to this maximum.
</p><p>This limit is controlled by the maxresultrows setting in the [set] stanza in limits.conf.  It defaults to 50000 or fifty thousand, so by default this limit can not be encountered, due to the maxout value for subsearches.
</p>
<h3> <a name="set_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return values of "URL" that contain the string "404" or "303" but not both.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| set diff [search 404 | fields url] [search 303 | fields url]</font></code><br></div>
<p><b>Example 2:</b> Return all urls that have 404 errors and 303 errors.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| set intersect [search 404 | fields url] [search 303 | fields url]</font></code><br></div>
<p><b>Note:</b> When you use the <code><font size="2">fields</font></code> command in your subsearches, it does not filter out internal fields by default. If you don't want the <code><font size="2">set</font></code> command to compare internal fields, such as the <code><font size="2">_raw</font></code> or <code><font size="2">_time</font></code> fields, you need to explicitly exclude them from the subsearches:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| set intersect [search 404 | fields url | fields - _*] [search 303 | fields url | fields - _*]</font></code><br></div>
<h3> <a name="set_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#append" class="external text">append</a>, <a href="#appendcols" class="external text">appendcols</a>, <a href="#join" class="external text">join</a>, <a href="#diff" class="external text">diff</a> 
</p>
<h3> <a name="set_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the set command.
</p>
<a name="setfields"></a><h2> <a name="setfields_setfields"><span class="mw-headline" id="setfields"> setfields</span></a></h2>
<h3> <a name="setfields_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Sets the field values for all results to a common value.
</p>
<h4><font size="3"><b><i> <a name="setfields_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>setfields &lt;setfields-arg&gt;, ...
</p>
<h4><font size="3"><b><i> <a name="setfields_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;setfields-arg&gt;
</dt><dd> <b>Syntax:</b> string="&lt;string&gt;"
</dd><dd> <b>Description:</b> A key-value pair with quoted value. Standard key cleaning will be performed, ie all non-alphanumeric characters will be replaced with '_' and leading '_' will be removed.
</dd></dl><h3> <a name="setfields_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Sets the value of the given fields to the specified values for each event in the result set. Delimit multiple definitions with commas. Missing fields are added, present fields are overwritten.
</p><p>Whenever you need to change or define field values, you can use the more general purpose <b><code><font size="2"><a href="#eval" class="external text">eval</a></font></code></b> command. See usage of an <b>eval expression</b> to set the value of a field in Example 1.
</p>
<h3> <a name="setfields_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Specify a value for the ip and foo fields.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | setfields ip="10.10.10.10", foo="foo bar"</font></code><br></div>
<p>To do this with the <a href="#eval" class="external text">eval</a> command:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eval ip="10.10.10.10" | eval foo="foo bar"</font></code><br></div>
<h3> <a name="setfields_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#eval" class="external text">eval</a>,
<a href="#fillnull" class="external text">fillnull</a>,
<a href="#rename" class="external text">rename</a> 
</p>
<h3> <a name="setfields_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the setfields command.
</p>
<a name="sendemail"></a><h2> <a name="sendemail_sendemail"><span class="mw-headline" id="sendemail"> sendemail </span></a></h2>
<p>Use the sendemail command to generate email notifications. 
</p>
<h3> <a name="sendemail_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Emails search results to specified email addresses.
</p>
<h4><font size="3"><b><i> <a name="sendemail_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>sendemail to=&lt;email_list&gt; [from=&lt;email_list&gt;] [cc=&lt;email_list&gt;] [bcc=&lt;email_list&gt;] [subject=&lt;string&gt;] [format= (csv | table | raw)] [inline= &lt;bool&gt;] [sendresults=&lt;bool&gt;] [sendpdf=&lt;bool&gt;] [priority=( highest | high | normal | low | lowest)] [server=&lt;string&gt;] [width_sort_columns=&lt;bool&gt;] [graceful=&lt;bool&gt;] [message=&lt;string&gt;] [sendcsv=&lt;bool&gt;] [use_ssl=&lt;bool&gt;] [use_tls=&lt;bool&gt;] [pdfview=&lt;string&gt;] [papersize=(letter | legal | ledger | a2 | a3 | a4 | a5)] [paperorientation=(portrait | landscape)] [maxinputs=&lt;int&gt;] [maxtime=&lt;int&gt;m | s | h | d] [footer=&lt;string&gt;]
</p>
<h4><font size="3"><b><i> <a name="sendemail_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> to
</dt><dd> <b>Syntax:</b> to=&lt;email_list&gt;
</dd><dd> <b>Description:</b> List of email addresses to send search results to.
</dd></dl><h4><font size="3"><b><i> <a name="sendemail_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> bcc
</dt><dd> <b>Syntax:</b> bcc=&lt;email_list&gt;
</dd><dd> <b>Description:</b> Blind cc line; comma-separated and quoted list of valid email addresses.
</dd></dl><dl><dt> cc
</dt><dd> <b>Syntax:</b> cc=&lt;email_list&gt;
</dd><dd> <b>Description:</b> Cc line; comma-separated quoted list of valid email addresses.
</dd></dl><dl><dt> format
</dt><dd> <b>Syntax:</b> format= csv | table | raw
</dd><dd> <b>Description:</b> Specifies how to format inline results. Defaults to table.
</dd></dl><dl><dt> footer
</dt><dd> <b>Syntax:</b> footer=&lt;string&gt;
</dd><dd> <b>Description:</b> Specify an alternate email footer. Defaults to "If you believe you've received this email in error, please see your Splunk administrator.\r\n\r\nsplunk &gt; the engine for machine data."
</dd></dl><dl><dt> from
</dt><dd> <b>Syntax:</b> from=&lt;email_list&gt;
</dd><dd> <b>Description:</b> Email address from line. Defaults to "splunk@&lt;hostname&gt;".
</dd></dl><dl><dt> inline
</dt><dd> <b>Syntax:</b> inline= true | false
</dd><dd> <b>Description:</b> Specifies whether to send the results in the message body or as an attachment.  Attachments are provided as csv. Defaults to true.
</dd></dl><dl><dt> graceful
</dt><dd> <b>Syntax:</b> graceful= true | false
</dd><dd> <b>Description:</b> If set to true, no error is thrown, if email sending fails and thus the search pipeline continues execution as if sendemail was not there. Defaults to false.
</dd></dl><dl><dt> maxinputs
</dt><dd> <b>Syntax:</b> maxinputs = &lt;integer&gt;
</dd><dd> <b>Description:</b> Set the maximum number of search results sent via alerts. Defaults to 50000.
</dd></dl><dl><dt> maxtime
</dt><dd> <b>Syntax:</b> maxtime = &lt;integer&gt;m | s | h | d
</dd><dd> <b>Description:</b> The maximum amount of time that the execution of an action is allowed to take before the action is aborted. Defaults to no limit.
</dd></dl><dl><dt> message
</dt><dd> <b>Syntax:</b> message=&lt;string&gt;
</dd><dd> <b>Description:</b> Specifies the message sent in the email. If sendresults=true, message defaults to "Search complete." If sendresults=true, inline=true, and either sendpdf=false or sendcsv=false, message defaults to "Search results." If sendpdf=true or sendcsv=true, message defaults to "Search results attached."
</dd></dl><dl><dt> paperorientation
</dt><dd> <b>Syntax:</b> paperorientation = portrait | landscape
</dd><dd> <b>Description:</b> Paper orientation: portrait or landscape. Defaults to "portrait".
</dd></dl><dl><dt> papersize
</dt><dd> <b>Syntax:</b> papersize = letter | legal | ledger | a2 | a3 | a4 | a5
</dd><dd> <b>Description:</b> Default paper size for PDFs. Acceptable values: letter, legal, ledger, a2, a3, a4, a5. Defaults to "letter".
</dd></dl><dl><dt> pdfview
</dt><dd> <b>Syntax:</b> pdfview=&lt;string&gt;
</dd><dd> <b>Description:</b> Name of view to send as a PDF. 
</dd></dl><dl><dt> priority
</dt><dd> <b>Syntax:</b> priority=highest | high | normal | low | lowest
</dd><dd> <b>Description:</b> Set the priority of the email as it appears in the email client. Lowest or 5, low or 4, high or 2, highest or 1. Defaults to normal or 3.
</dd></dl><dl><dt> sendcsv
</dt><dd> <b>Syntax:</b> sendcsv=true | false
</dd><dd> <b>Description:</b> Specify whether to send the results with the email as an attached csv file or not. Defaults to false.
</dd></dl><dl><dt> sendpdf
</dt><dd> <b>Syntax:</b> sendpdf=true | false
</dd><dd> <b>Description:</b> Specify whether to send the results with the email as an attached PDF or not. For more information about using Splunk's integrated PDF generation functionality, see "Generate PDFs of your reports and dashboards" in the Reporting Manual. Defaults to false.
</dd></dl><dl><dt> sendresults
</dt><dd> <b>Syntax:</b> sendresults=true | false
</dd><dd> <b>Description:</b> Determines whether the results should be included with the email. Defaults to false.
</dd></dl><dl><dt> server
</dt><dd> <b>Syntax:</b> server=&lt;string&gt;
</dd><dd> <b>Description:</b>  If the SMTP server is not local, use this to specify it. Defaults to <b>localhost</b>.
</dd></dl><dl><dt> subject
</dt><dd> <b>Syntax:</b> subject=&lt;string&gt;
</dd><dd> <b>Description:</b> Specifies the subject line. Defaults to "Splunk Results".
</dd></dl><dl><dt> use_ssl
</dt><dd> <b>Syntax:</b> use_ssl=true | false
</dd><dd> <b>Description:</b> Whether to use SSL when communicating with the SMTP server. When set to 1 (true), you must also specify both the server name or IP address and the TCP port in the "mailserver" attribute. Defaults to 0 (false).
</dd></dl><dl><dt> use_tls
</dt><dd> <b>Syntax:</b> use_tls=true | false
</dd><dd> <b>Description:</b> Specify whether to use TLS (transport layer security) when communicating with the SMTP server (starttls). Defaults to 0 (false).
</dd></dl><dl><dt> width_sort_columns
</dt><dd> <b>Syntax:</b> width_sort_columns=true | false
</dd><dd> <b>Description:</b> This is only valid for plain text emails. Specifies whether the columns should be sorted by their width. Defaults to true.
</dd></dl><h3> <a name="sendemail_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Send search results in table format with the subject "myresults".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | sendemail to="elvis@splunk.com,john@splunk.com" format=raw subject=myresults server=mail.splunk.com sendresults=true</font></code><br></div>
<p><b>Example 2:</b> Send search results to the specified email. By default, the results are formatted as raw.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | sendemail to="elvis@splunk.com" sendresults=true</font></code><br></div>
<p><b>Example 3:</b> Send an email notification with a pdf attachment, a message, and raw inline results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal | head 5 | sendemail to=example@splunk.com server=mail.example.com subject="Here is an email from Splunk" message="This is an example message" sendresults=true inline=true format=raw sendpdf=true</font></code><br></div>
<h3> <a name="sendemail_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the sendemail command.
</p>
<a name="sichart"></a><h2> <a name="sichart_sichart"><span class="mw-headline" id="sichart"> sichart </span></a></h2>
<p><b>Summary indexing</b> is a method you can use to speed up long-running searches that <i>don't</i> qualify for report acceleration, such as searches that use commands that are not <b>streamable</b> before the reporting command. For more information read "About report accelleration and summary indexing" and "Use summary indexing for increased reporting efficiency" in the Knowledge Manager Manual.
</p><p><code><font size="2">sichart</font></code> is the summary indexing version of the <code><font size="2"><a href="#chart" class="external text">chart</a></font></code> command, which returns your results in a data structure that supports visualization as a chart (such as a column, line, area, and pie chart). The <code><font size="2">sichart</font></code> command populates a summary index with the statistics necessary to generate a chart visualization. After you populate the summary index, use the regular <code><font size="2">chart</font></code> command with the exact same search string as the <code><font size="2">sichart</font></code> command search to report against it.
</p>
<h3> <a name="sichart_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Summary indexing version of the <a href="#chart" class="external text">chart command</a>.
</p>
<h4><font size="3"><b><i> <a name="sichart_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>sichart [sep=&lt;string&gt;] [format=&lt;string&gt;] [cont=&lt;bool&gt;] [limit=&lt;int&gt;] [agg=&lt;stats-agg-term&gt;] <b>( &lt;stats-agg-term&gt; | &lt;sparkline-agg-term&gt; | &lt;eval-expression&gt;... )</b> [ by &lt;field&gt; (&lt;bucketing-option&gt; )... [&lt;split-by-clause&gt;] ] | [ over &lt;field&gt; (&lt;bucketing-option&gt;)... (by &lt;split-by-clause&gt;] ]
</p><p>Refer to the <a href="#chart" class="external text">chart command syntax</a> and <a href="#commonstatsfunctions" class="external text">chart functions</a>.
</p>
<h3> <a name="sichart_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Compute the necessary information to later do 'chart avg(foo) by bar' on summary indexed results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | sichart avg(foo) by bar</font></code><br></div>
<h3> <a name="sichart_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#chart" class="external text">chart</a>,
<a href="#collect" class="external text">collect</a>, <a href="#overlap" class="external text">overlap</a>, <a href="#sirare" class="external text">sirare</a>, <a href="#sistats" class="external text">sistats</a>, <a href="#sitimechart" class="external text">sitimechart</a>, <a href="#sitop" class="external text">sitop</a> 
</p>
<h3> <a name="sichart_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the sichart command.
</p>
<a name="sirare"></a><h2> <a name="sirare_sirare"><span class="mw-headline" id="sirare"> sirare </span></a></h2>
<p><b>Summary indexing</b> is a method you can use to speed up long-running searches that <i>don't</i> qualify for report acceleration, such as searches that use commands that are not <b>streamable</b> before the reporting command. For more information read "About report accelleration and summary indexing" and "Use summary indexing for increased reporting efficiency" in the Knowledge Manager Manual.
</p><p><code><font size="2">sirare</font></code> is the summary indexing version of the <code><font size="2"><a href="#rare" class="external text">rare</a></font></code> command, which returns the least common values of a field or combination of fields. The <code><font size="2">sirare</font></code> command populates a summary index with the statistics necessary to generate a rare report. After you populate the summary index, use the regular <code><font size="2">rare</font></code> command with the exact same search string as the rare command search to report against it.
</p>
<h3> <a name="sirare_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Summary indexing version of the <a href="#rare" class="external text">rare command</a>.
</p>
<h4><font size="3"><b><i> <a name="sirare_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>sirare &lt;top-opt&gt;* &lt;field-list&gt; [&lt;by-clause&gt;]
</p>
<h4><font size="3"><b><i> <a name="sirare_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;field-list&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;,...
</dd><dd> <b>Description:</b> Comma-delimited list of field names.
</dd></dl><dl><dt> &lt;top-opt&gt;
</dt><dd> <b>Syntax:</b> countfield=&lt;string&gt; | limit=&lt;int&gt; | percentfield=&lt;string&gt; | showcount=&lt;bool&gt; | showperc=&lt;bool&gt; 
</dd><dd> <b>Description:</b> Options for rare (same as top).
</dd></dl><h4><font size="3"><b><i> <a name="sirare_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;by-clause&gt;
</dt><dd> <b>Syntax:</b> by &lt;field-list&gt;
</dd><dd> <b>Description:</b> The name of one or more fields to group by.
</dd></dl><h4><font size="3"><b><i> <a name="sirare_top_options"><span class="mw-headline" id="Top_options"> Top options </span></a></i></b></font></h4>
<dl><dt> countfield
</dt><dd> <b>Syntax:</b> countfield=&lt;string&gt;
</dd><dd> <b>Description:</b> Name of a new field to write the value of count, default is "count".
</dd></dl><dl><dt> limit
</dt><dd> <b>Syntax:</b> limit=&lt;int&gt;
</dd><dd> <b>Description:</b> Specifies how many tuples to return, "0" returns all values.
</dd></dl><dl><dt> percentfield
</dt><dd> <b>Syntax:</b> percentfield=&lt;string&gt;
</dd><dd> <b>Description:</b> Name of a new field to write the value of percentage, default is "percent".
</dd></dl><dl><dt> showcount
</dt><dd> <b>Syntax:</b> showcount=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether to create a field called "count" (see "countfield" option) with the count of that tuple. Default is true.
</dd></dl><dl><dt> showpercent
</dt><dd> <b>Syntax:</b> showpercent=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether to create a field called "percent" (see "percentfield" option) with the relative prevalence of that tuple. Default is true.
</dd></dl><h3> <a name="sirare_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Compute the necessary information to later do 'rare foo bar' on summary indexed results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | sirare foo bar</font></code><br></div>
<h3> <a name="sirare_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#collect" class="external text">collect</a>, <a href="#overlap" class="external text">overlap</a>, <a href="#sichart" class="external text">sichart</a>, <a href="#sistats" class="external text">sistats</a>, <a href="#sitimechart" class="external text">sitimechart</a>, <a href="#sitop" class="external text">sitop</a> 
</p>
<h3> <a name="sirare_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the sirare command.
</p>
<a name="sistats"></a><h2> <a name="sistats_sistats"><span class="mw-headline" id="sistats"> sistats </span></a></h2>
<p><b>Summary indexing</b> is a method you can use to speed up long-running searches that <i>don't</i> qualify for report acceleration, such as searches that use commands that are not <b>streamable</b> before the reporting command. For more information read "About report accelleration and summary indexing" and "Use summary indexing for increased reporting efficiency" in the Knowledge Manager Manual.
</p><p><code><font size="2">sistats</font></code> is the summary indexing version of the <code><font size="2"><a href="#stats" class="external text">stats</a></font></code> command, which calculates aggregate statistics over the dataset. The <code><font size="2">sistats</font></code> command populates a summary index with the statistics necessary to generate a stats report. After you populate the summary index, use the regular <code><font size="2">stats</font></code> command with the exact same search string as the <code><font size="2">sistats</font></code> command search to report against it.
</p>
<h3> <a name="sistats_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Summary indexing version of the <a href="#stats" class="external text">stats command</a>.
</p>
<h4><font size="3"><b><i> <a name="sistats_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>sistats [allnum=&lt;bool&gt;] [delim=&lt;string&gt;] ( &lt;stats-agg-term&gt; | &lt;sparkline-agg-term&gt; ) [&lt;by clause&gt;]
</p><p>Refer to the <a href="#stats" class="external text">stats command syntax</a> and <a href="#commonstatsfunctions" class="external text">stats functions</a>.
</p>
<h3> <a name="sistats_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Compute the necessary information to later do 'stats avg(foo) by bar' on summary indexed results
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | sistats avg(foo) by bar</font></code><br></div>
<h3> <a name="sistats_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#collect" class="external text">collect</a>, <a href="#overlap" class="external text">overlap</a>, <a href="#sichart" class="external text">sichart</a>, <a href="#sirare" class="external text">sirare</a>, <a href="#sitop" class="external text">sitop</a>, <a href="#sitimechart" class="external text">sitimechart</a>
</p>
<h3> <a name="sistats_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the sistats command.
</p>
<a name="sitimechart"></a><h2> <a name="sitimechart_sitimechart"><span class="mw-headline" id="sitimechart"> sitimechart </span></a></h2>
<p><b>Summary indexing</b> is a method you can use to speed up long-running searches that <i>don't</i> qualify for report acceleration, such as searches that use commands that are not <b>streamable</b> before the reporting command. For more information read "About report accelleration and summary indexing" and "Use summary indexing for increased reporting efficiency" in the Knowledge Manager Manual.
</p><p><code><font size="2">sitimechart</font></code> is the summary indexing version of the <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code> command, which creates a time-series chart visualization with the corresponding table of statistics. The <code><font size="2">sitimechart</font></code> command populates a summary index with the statistics necessary to generate a timechart report. After you populate the summary index, use the regular <code><font size="2">timechart</font></code> command with the exact same search string as the <code><font size="2">sitimechart</font></code> command search to report against it.
</p>
<h3> <a name="sitimechart_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Summary indexing version of the <a href="#timechart" class="external text">timechart command</a>.
</p>
<h4><font size="3"><b><i> <a name="sitimechart_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>sitimechart [sep=&lt;string&gt;] [partial=&lt;bool&gt;] [cont=&lt;t|f&gt;] [limit=&lt;int&gt;] [agg=&lt;stats-agg-term&gt;] [&lt;bucketing-option&gt; ]* <b>(&lt;single-agg&gt; [by &lt;split-by-clause&gt;] ) | ( (&lt;eval-expression&gt;) by &lt;split-by-clause&gt; )</b>
</p><p>Refer to the <a href="#timechart" class="external text">timechart command syntax</a> and <a href="#commonstatsfunctions" class="external text">timechart functions</a>.
</p>
<h3> <a name="sitimechart_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Compute the necessary information to later do 'timechart avg(foo) by bar' on summary indexed results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | sitimechart avg(foo) by bar</font></code><br></div>
<h3> <a name="sitimechart_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#collect" class="external text">collect</a>, <a href="#overlap" class="external text">overlap</a>, <a href="#sichart" class="external text">sichart</a>, <a href="#sirare" class="external text">sirare</a>, <a href="#sistats" class="external text">sistats</a>, <a href="#sitop" class="external text">sitop</a> 
</p>
<h3> <a name="sitimechart_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the sitimechart command.
</p>
<a name="sitop"></a><h2> <a name="sitop_sitop"><span class="mw-headline" id="sitop"> sitop </span></a></h2>
<p><b>Summary indexing</b> is a method you can use to speed up long-running searches that <i>don't</i> qualify for report acceleration, such as searches that use commands that are not <b>streamable</b> before the reporting command. For more information read "About report accelleration and summary indexing" and "Use summary indexing for increased reporting efficiency" in the Knowledge Manager Manual.
</p><p><code><font size="2">sitop</font></code> is the summary indexing version of the <code><font size="2"><a href="#top" class="external text">top</a></font></code> command, which returns the most frequent value of a field or combination of fields. The <code><font size="2">sitop</font></code> command populates a summary index with the statistics necessary to generate a top report. After you populate the summary index, use the regular <code><font size="2">top</font></code> command with the exact same search string as the sitop command search to report against it.
</p>
<h3> <a name="sitop_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Summary indexing version of top command.
</p>
<h4><font size="3"><b><i> <a name="sitop_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>sitop &lt;top-opt&gt;* &lt;field-list&gt; [&lt;by-clause&gt;]
</p><p><b>Note:</b> This is the exact same syntax as the <code><font size="2">top</font></code> command.
</p>
<h4><font size="3"><b><i> <a name="sitop_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;field-list&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;, ...
</dd><dd> <b>Description:</b> Comma-delimited list of field names.
</dd></dl><dl><dt> &lt;top-opt&gt;
</dt><dd> <b>Syntax:</b> countfield=&lt;string&gt; | limit=&lt;int&gt; | otherstr=&lt;string&gt; | percentfield=&lt;string&gt; | showcount=&lt;bool&gt; | showperc=&lt;bool&gt; | useother=&lt;bool&gt; 
</dd><dd> <b>Description:</b> Options for top.
</dd></dl><h4><font size="3"><b><i> <a name="sitop_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;by-clause&gt;
</dt><dd> <b>Syntax:</b> by &lt;field-list&gt;
</dd><dd> <b>Description:</b> The name of one or more fields to group by.
</dd></dl><h4><font size="3"><b><i> <a name="sitop_top_options"><span class="mw-headline" id="Top_options"> Top options </span></a></i></b></font></h4>
<dl><dt> countfield
</dt><dd> <b>Syntax:</b> countfield=&lt;string&gt;
</dd><dd> <b>Description:</b> Name of a new field to write the value of count, default is "count".
</dd></dl><dl><dt> limit
</dt><dd> <b>Syntax:</b> limit=&lt;int&gt;
</dd><dd> <b>Description:</b> Specifies how many tuples to return, "0" returns all values. Default is "10". 
</dd></dl><dl><dt> otherstr
</dt><dd> <b>Syntax:</b> otherstr=&lt;string&gt;
</dd><dd> <b>Description:</b> If useother is true, specify the value that is written into the row representing all other values. Default is "OTHER".
</dd></dl><dl><dt> percentfield
</dt><dd> <b>Syntax:</b> percentfield=&lt;string&gt;
</dd><dd> <b>Description:</b> Name of a new field to write the value of percentage, default is "percent".
</dd></dl><dl><dt> showcount
</dt><dd> <b>Syntax:</b> showcount=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether to create a field called "count" (see "countfield" option) with the count of that tuple. Default is true.
</dd></dl><dl><dt> showperc
</dt><dd> <b>Syntax:</b> showperc=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether to create a field called "percent" (see "percentfield" option) with the relative prevalence of that tuple. Default is true.
</dd></dl><dl><dt> useother
</dt><dd> <b>Syntax:</b> useother=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether or not to add a row that represents all values not included due to the limit cutoff. Default is false.
</dd></dl><h3> <a name="sitop_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Compute the necessary information to later do 'top foo bar' on summary indexed results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | sitop foo bar</font></code><br></div>
<p><b>Example 2:</b> Populate a summary index with the top source IP addresses in a scheduled search that runs daily:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">eventtype=firewall | sitop src_ip</font></code><br></div>
<p>Save the search as, "Summary - firewall top src_ip". 
</p><p>Later, when you want to retrieve that information and report on it, run this search over the past year:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=summary search_name="summary - firewall top src_ip" |top src_ip</font></code><br></div>
<p>Additionally, because this search specifies the search name, it filters out other data that have been placed in the summary index by other summary indexing searches.
</p>
<h3> <a name="sitop_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#collect" class="external text">collect</a>, <a href="#overlap" class="external text">overlap</a>, <a href="#sichart" class="external text">sichart</a>, <a href="#sirare" class="external text">sirare</a>, <a href="#sistats" class="external text">sistats</a>, <a href="#sitimechart" class="external text">sitimechart</a> 
</p>
<h3> <a name="sitop_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the sitop command.
</p>
<a name="sort"></a><h2> <a name="sort_sort"><span class="mw-headline" id="sort"> sort </span></a></h2>
<h3> <a name="sort_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Sorts search results by the specified fields.
</p>
<h4><font size="3"><b><i> <a name="sort_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>sort [&lt;count&gt;] (&lt;sort-by-clause&gt;)+ [desc]
</p>
<h4><font size="3"><b><i> <a name="sort_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;count&gt;
</dt><dd> <b>Syntax:</b> &lt;int&gt;
</dd><dd> <b>Description:</b> Specify the number of results to sort. If no count is specified, the default limit of 10000 is used. If "0" is specified, all results will be returned.
</dd></dl><dl><dt> &lt;sort-by-clause&gt;
</dt><dd> <b>Syntax:</b> ( - | + ) &lt;sort-field&gt;
</dd><dd> <b>Description:</b> List of fields to sort by and their order, descending ( - ) or ascending ( + ).
</dd></dl><h4><font size="3"><b><i> <a name="sort_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> desc
</dt><dd> <b>Syntax:</b> d | desc 
</dd><dd> <b>Description:</b> A trailing string that reverses the results.
</dd></dl><h4><font size="3"><b><i> <a name="sort_sort_field_options"><span class="mw-headline" id="Sort_field_options"> Sort field options </span></a></i></b></font></h4>
<dl><dt> &lt;sort-field&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt; |  auto(&lt;field&gt;) | str(&lt;field&gt;) | ip(&lt;field&gt;) | num(&lt;field&gt;)
</dd><dd> <b>Description:</b> Options for sort-field.
</dd></dl><dl><dt> &lt;field&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> The name of field to sort.
</dd></dl><dl><dt> auto
</dt><dd> <b>Syntax:</b> auto(&lt;field&gt;)
</dd><dd> <b>Description:</b> Determine automatically how to sort the field's values.
</dd></dl><dl><dt> ip
</dt><dd> <b>Syntax:</b> ip(&lt;field&gt;)
</dd><dd> <b>Description:</b> Interpret the field's values as an IP address.
</dd></dl><dl><dt> num
</dt><dd> <b>Syntax:</b> num(&lt;field&gt;)
</dd><dd> <b>Description:</b> Treat the field's values as numbers.
</dd></dl><dl><dt> str
</dt><dd> <b>Syntax:</b> str(&lt;field&gt;)
</dd><dd> <b>Description:</b> Order the field's values lexigraphically.
</dd></dl><h3> <a name="sort_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">sort</font></code> command sorts the results by the given list of fields. Results missing a given field are treated as having the smallest or largest possible value of that field if the order is descending or ascending, respectively. 
</p><p>If the first argument to the <code><font size="2">sort</font></code> command is a number, then at most that many results are returned (in order). If no number is specified, the default limit of 10000 is used. If the number 0 is specified, all results will be returned.
</p><p>By default, <code><font size="2">sort</font></code> tries to automatically determine what it is sorting. If the field takes on numeric values, the collating sequence is numeric. If the field takes on IP address values, the collating sequence is for IPs. Otherwise, the collating sequence is lexicographic ordering. Some specific examples are:
</p>
<ul><li> Alphabetic strings are sorted lexicographically.
</li><li> Punctuation strings are sorted lexicographically.
</li><li> Numeric data is sorted as you would expect for numbers and the sort order is specified (ascending or descending).
</li><li> Alphanumeric strings are sorted based on the data type of the first character. If it starts with a number, it's sorted numerically based on that number alone; otherwise, it's sorted lexicographically.
</li><li> Strings that are a combination of alphanumeric and punctuation characters are sorted the same way as alphanumeric strings.
</li></ul><p>In the default automatic mode for a field, the sort order is determined between each pair of values that are compared at any one time. This means that for some pairs of values, the order may be lexicographical, while for other pairs the order may be numerical. For example, if sorting in descending order: 10.1 &gt; 9.1, but 10.1.a &lt; 9.1.a.
</p>
<h3> <a name="sort_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Sort results by "ip" value in ascending order and then by "url" value in descending order.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | sort num(ip), -str(url)</font></code><br></div>
<p><b>Example 2:</b> Sort first 100 results in descending order of the "size" field and then by the "source" value in ascending order.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | sort 100 -num(size), +str(source)</font></code><br></div>
<p><b>Example 3:</b> Sort results by the "_time" field in ascending order and then by the "host" value in descending order.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | sort _time, -host</font></code><br></div>
<p><b>Example 4:</b> Change the format of the event's time and sort the results in descending order by new time.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | bucket _time span=60m | eval Time=strftime(_time, "%m/%d&nbsp;%H:%M&nbsp;%Z") | stats avg(time_taken) AS AverageResponseTime BY Time | sort - Time</font></code><br></div>
<p>(Thanks to Ayn for this example.)
</p><p><b>Example 5.</b> Sort a table of results in a specific order, such as days of the week or months of the year, that is not lexicographical or numeric. For example, you have a search that produces the following table:
</p>
<table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0"> Day
</th><th bgcolor="#C0C0C0"> Total
</th></tr><tr><td valign="center" align="left"> Friday
</td><td valign="center" align="left"> 120
</td></tr><tr><td valign="center" align="left"> Monday
</td><td valign="center" align="left"> 93
</td></tr><tr><td valign="center" align="left"> Tuesday
</td><td valign="center" align="left"> 124
</td></tr><tr><td valign="center" align="left"> Thursday
</td><td valign="center" align="left"> 356
</td></tr><tr><td valign="center" align="left"> Weekend
</td><td valign="center" align="left"> 1022
</td></tr><tr><td valign="center" align="left"> Wednesday
</td><td valign="center" align="left"> 248
</td></tr></table><p>Sorting on the day field (Day) returns a table sorted alphabetically, which doesn't make much sense. Instead, you want to sort the table by the day of the week, Monday to Friday. To do this, you first need to create a field (sort_field) that defines the order. Then you can sort on this field.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eval wd=lower(Day) | eval sort_field=case(wd=="monday",1, wd=="tuesday",2, wd=="wednesday",3, wd=="thursday",4, wd=="friday",5, wd=="weekend",6) | sort sort_field | fields - sort_field</font></code><br></div>
<p>This search uses the <a href="#eval" class="external text">eval</a> command to create the sort_field and the <a href="#fields" class="external text">fields</a> command to remove sort_field from the final results table.
</p><p>(Thanks to Ant1D and Ziegfried for this example.)
</p><p><b>Example 6.</b> Return the most recent event:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | sort 1 -_time</font></code><br></div>
<h3> <a name="sort_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#reverse" class="external text">reverse</a> 
</p>
<h3> <a name="sort_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the sort command.
</p>
<a name="spath"></a><h2> <a name="spath_spath"><span class="mw-headline" id="spath"> spath</span></a></h2>
<p>The <code><font size="2">spath</font></code> command--the "s" stands for Splunk (or structured) -- provides a straightforward means for extracting information from structured data formats, XML and JSON. It also highlights the syntax in the displayed events list.
</p><p>You can also use the <code><font size="2"><a href="#eval" class="external text">eval</a></font></code> command's  <code><font size="2">spath()</font></code> function. For more information, see the <a href="#commonevalfunctions" class="external text">Functions for eval and where</a>.
</p>
<h3> <a name="spath_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Extracts values from structured data (XML or JSON) and stores them in a field or fields.
</p>
<h4><font size="3"><b><i> <a name="spath_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>spath [input=&lt;field&gt;]  [output=&lt;field&gt;] [path=&lt;datapath&gt; | &lt;datapath&gt;]
</p>
<h4><font size="3"><b><i> <a name="spath_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> input
</dt><dd> <b>Syntax:</b> input=&lt;field&gt;
</dd><dd> <b>Description:</b> The field to read in and extract values. Defaults to _raw.
</dd></dl><dl><dt> output
</dt><dd> <b>Syntax:</b> output=&lt;field&gt;
</dd><dd> <b>Description:</b> If specified, the value extracted from the path is written to this field name.
</dd></dl><dl><dt> path
</dt><dd> <b>Syntax:</b> path=&lt;datapath&gt; | &lt;datapath&gt;
</dd><dd> <b>Description:</b> The location path to the value that you want to extract. If you don't use the <code><font size="2">path</font></code> argument, the first unlabeled argument will be used as a path. A location path is composed of one or more location steps, separated by periods; for example 'foo.bar.baz'. A location step is composed of a field name and an optional index surrounded by curly brackets. The index can be an integer, to refer to the data's position in an array (this will differ between JSON and XML), or a string, to refer to an XML attribute. If the index refers to an XML attribute, specify the attribute name with an @ symbol. If you don't specify an output argument, this path becomes the field name for the extracted value.
</dd></dl><h3> <a name="spath_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>When called with no path argument, <code><font size="2">spath</font></code> runs in "auto-extract" mode, where it finds and extracts all the fields from the first 5000 characters in the input field (which defaults to <code><font size="2">_raw</font></code> if another input source isn't specified). If a path is provided, the value of this path is extracted to a field named by the path or to a field specified by the output argument (if it is provided).
</p><p><b>A location path contains one or more location steps, each of which has a context that is specified by the location steps that precede it.</b> The context for the top-level location step is implicitly the top-level node of the entire XML or JSON document. 
</p><p><b>The location step is composed of a field name and an optional array index indicated by curly brackets around an integer or a string.</b> Array indices mean different things in XML and JSON. For example, in JSON, <code><font size="2">foo.bar{3}</font></code> refers to the third element of the <code><font size="2">bar</font></code> child of the <code><font size="2">foo</font></code> element. In XML, this same path refers to the third <code><font size="2">bar</font></code> child of <code><font size="2">foo</font></code>. 
</p><p><b>The <code><font size="2">spath</font></code> command lets you use wildcards to take the place of an array index in JSON.</b> Now, you can use the location path <code><font size="2">entities.hashtags{}.text</font></code> to get the text for all of the hashtags, as opposed to specifying <code><font size="2">entities.hashtags{0}.text</font></code>, <code><font size="2">entities.hashtags{1}.text</font></code>, etc. The referenced path, here <code><font size="2">entities.hashtags</font></code> has to refer to an array for this to make sense (otherwise you get an error, just like with regular array indices).
</p><p>This also works with XML; for example, <code><font size="2">catalog.book</font></code> and <code><font size="2">catalog.book{}</font></code> are equivalent (both will get you all the books in the catalog).
</p>
<h3> <a name="spath_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="spath_example_1:_github"><span class="mw-headline" id="Example_1:_GitHub">Example 1: GitHub</span></a></i></b></font></h4>
<p>As an administrator of a number of large git repositories, I want to:
</p>
<ul><li> see who has committed the most changes and to which repository
</li><li> produce a list of the commits submitted for each user
</li></ul><p>I set up Splunk to track all the post-commit JSON information, then use <code><font size="2">spath</font></code> to extract fields that I call repository, commit_author, and commit_id:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | spath output=repository path=repository.url</font></code><br></div>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | spath output=commit_author path=commits.author.name</font></code><br></div>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | spath output=commit_id path=commits.id</font></code><br></div>
<p>Now, if I want to see who has committed the most changes to a repository, I can run the search:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | top commit_author by repository</font></code><br></div>
<p>and, to see the list of commits by each user:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | stats values(commit_id) by commit_author</font></code><br></div>
<h4><font size="3"><b><i> <a name="spath_example_2:_extract_a_subset_of_an_attribute"><span class="mw-headline" id="Example_2:_Extract_a_subset_of_an_attribute">Example 2: Extract a subset of an attribute</span></a></i></b></font></h4>
<p>This example shows how to extract values from XML attributes and elements.
</p>
<code><font size="2"><br>&lt;vendorProductSet vendorID="2"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;product productID="17" units="mm" &gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;prodName nameGroup="custom"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;locName locale="all"&gt;APLI 01209&lt;/locName&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/prodName&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;desc descGroup="custom"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;locDesc locale="es"&gt;Precios&lt;/locDesc&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;locDesc locale="fr"&gt;Prix&lt;/locDesc&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;locDesc locale="de"&gt;Preise&lt;/locDesc&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;locDesc locale="ca"&gt;Preus&lt;/locDesc&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;locDesc locale="pt"&gt;Pre&Atilde;&sect;os&lt;/locDesc&gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/desc&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/product&gt;<br></font></code>
<p>To extract the values of the <code><font size="2">locDesc</font></code> elements (Precios, Prix, Preise, etc.), use:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | spath output=locDesc path=vendorProductSet.product.desc.locDesc</font></code><br></div>
<p>To extract the value of the <code><font size="2">locale</font></code> attribute (es, fr, de, etc.), use:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | spath output=locDesc.locale  path=vendorProductSet.product.desc.locDesc{@locale}</font></code><br></div>
<p>To extract the attribute of the 4th locDesc (ca), use:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | spath path=vendorProductSet.product.desc.locDesc{4}{@locale}</font></code><br></div>
<h4><font size="3"><b><i> <a name="spath_example_3:_extract_and_expand_json_events_with_multvalued_fields"><span class="mw-headline" id="Example_3:_Extract_and_expand_JSON_events_with_multvalued_fields">Example 3: Extract and expand JSON events with multvalued fields</span></a></i></b></font></h4>
<p>The mvexpand command only works on one multivalued field. This example walks through how to expand a JSON event with more than one multivalued field into individual events for each fields's values. For example, given this event, with sourcetype=json: 
</p>
<code><font size="2"><br>{"widget": {<br>&nbsp;&nbsp;&nbsp;&nbsp;"text": {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"data": "Click here",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"size": 36,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"data": "Learn more",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"size": 37,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"data": "Help",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"size": 38,<br>}}<br></font></code>
<p>First, start with a search to extract the fields from the JSON and rename them in a table:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=json | spath | rename widget.text.size AS size, widget.text.data AS data | table _time,size,data</font></code><br></div>
<code><font size="2"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_time &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size &nbsp;&nbsp;&nbsp;data<br>--------------------------- ---- -----------<br>2012-10-18 14:45:46.000 BST &nbsp;&nbsp;36 Click here<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37 Learn more<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38 Help<br></font></code>
<p>Then, use the eval function, mvzip(), to create a new multivalued field named x, with the values of the size and data:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=json | spath | rename widget.text.size AS size, widget.text.data AS data | eval x=mvzip(data,size) | table _time,data,size,x</font></code><br></div>
<code><font size="2"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_time &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data &nbsp;&nbsp;&nbsp;size &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x<br>--------------------------- ----------- ----- --------------<br>2012-10-18 14:45:46.000 BST Click here &nbsp;&nbsp;36 &nbsp;&nbsp;Click here,36<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Learn more &nbsp;&nbsp;37 &nbsp;&nbsp;Learn more,37<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Help &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38 &nbsp;&nbsp;Help,38<br></font></code>
<p>Now, use the <a href="#mvexpand" class="external text">mvexpand command</a> to create individual events based on x and the eval function mvindex() to redefine the values for data and size.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=json | spath | rename widget.text.size AS size, widget.text.data AS data | eval x=mvzip(data,size)| mvexpand x |  eval x = split(x,",") | eval data=mvindex(x,0) | eval size=mvindex(x,1) | table _time,data, size</font></code><br></div>
<code><font size="2"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_time &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data &nbsp;&nbsp;size<br>--------------------------- ---------- ----<br>2012-10-18 14:45:46.000 BST Click here &nbsp;36<br>2012-10-18 14:45:46.000 BST Learn more &nbsp;37<br>2012-10-18 14:45:46.000 BST Help &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38<br></font></code>
<p><br>
(Thanks to G. Zaimi for this example.)
</p>
<h4><font size="3"><b><i> <a name="spath_more_examples"><span class="mw-headline" id="More_examples"> More examples </span></a></i></b></font></h4>
<p><b>Example 1:</b>
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | spath output=myfield path=foo.bar</font></code><br></div>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | spath output=myfield path=foo{1}</font></code><br></div>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | spath output=myfield path=foo.bar{7}.baz</font></code><br></div>
<p><b>Example 2:</b> 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | spath output=author path=book{@author}</font></code><br></div>
<h3> <a name="spath_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#extract" class="external text">extract</a>, <a href="#kvform" class="external text">kvform</a>, <a href="#multikv" class="external text">multikv</a>, <a href="#regex" class="external text">regex</a>, <a href="#rex" class="external text">rex</a>, <a href="#xmlkv" class="external text">xmlkv</a>,
<a href="#xpath" class="external text">xpath</a>
</p>
<h3> <a name="spath_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the spath command.
</p>
<a name="stats"></a><h2> <a name="stats_stats"><span class="mw-headline" id="stats"> stats </span></a></h2>
<h3> <a name="stats_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Calculates aggregate statistics over the results set, such as average, count, and sum. If this command is used without a <code><font size="2">by </font></code> clause only one row is returned, which is the aggregation over the entire incoming result set. If you use a <code><font size="2">by </font></code> clause one row is returned for each distinct value specified in the <code><font size="2">by </font></code> clause.
</p>
<h3> <a name="stats_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p><b>Simple:</b> stats (stats-function(<i>field</i>) [as <i>field</i>])+ [by <i>field-list</i>]
</p><p><b>Complete:</b> stats [partitions=&lt;num&gt;] [allnum=&lt;bool&gt;] [delim=&lt;string&gt;] ( &lt;stats-agg-term&gt; | &lt;sparkline-agg-term&gt; ) [&lt;by clause&gt;]
</p>
<h4><font size="3"><b><i> <a name="stats_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> stats-agg-term
</dt><dd> <b>Syntax:</b> &lt;stats-func&gt;( &lt;evaled-field&gt; | &lt;wc-field&gt;  ) [AS &lt;wc-field&gt;]
</dd><dd> <b>Description:</b> A statistical specifier optionally renamed to a new field name. The specifier can be by an aggregation function applied to a field or set of fields, or an aggregation function applied to an arbitrary eval expression.
</dd></dl><dl><dt> sparkline-agg-term
</dt><dd> <b>Syntax:</b> &lt;sparkline-agg&gt; [AS &lt;wc-field&gt;]
</dd><dd> <b>Description:</b> A sparkline specifier optionally renamed to a new field.
</dd></dl><h4><font size="3"><b><i> <a name="stats_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> allnum
</dt><dd> <b>syntax:</b> allnum=&lt;bool&gt;
</dd><dd> <b>Description:</b> If true, computes numerical statistics on each field if and only if all of the values of that field are numerical. (default is false.)
</dd></dl><dl><dt> delim
</dt><dd> <b>Syntax:</b> delim=&lt;string&gt;
</dd><dd> <b>Description:</b> Used to specify how the values in the list() or values() aggregation are delimited.  (default is a single space.)
</dd></dl><dl><dt> by clause
</dt><dd> <b>Syntax:</b> by &lt;field-list&gt;
</dd><dd> <b>Description:</b> The name of one or more fields to group by.
</dd></dl><dl><dt> partitions
</dt><dd> <b>Syntax:</b> partitions=&lt;num&gt;
</dd><dd> <b>Description:</b> If specified, partitions the input data based on the split-by fields for multithreaded reduce. Default is 1.
</dd></dl><h4><font size="3"><b><i> <a name="stats_stats_function_options"><span class="mw-headline" id="Stats_function_options"> Stats function options </span></a></i></b></font></h4>
<dl><dt> stats-function
</dt><dd> <b>Syntax:</b> avg() | c() | count() | dc() | distinct_count() | earliest() | estdc() | estdc_error() | exactperc&lt;int&gt;() | first() | last() | latest() | list() | max() | median() | min() | mode() | p&lt;in&gt;() | perc&lt;int&gt;() | range() | stdev() | stdevp() | sum() | sumsq() | upperperc&lt;int&gt;() | values() | var() | varp()
</dd><dd> <b>Description:</b> Functions used with the stats command. Each time you invoke the <code><font size="2">stats</font></code> command, you can use more than one function. However, you can only use one <code><font size="2">by</font></code> clause. 
</dd></dl><p>For a list of stats functions with descriptions and examples, see <a href="#commonstatsfunctions" class="external text">"Functions for stats, chart, and timechart"</a>.
</p>
<h4><font size="3"><b><i> <a name="stats_sparkline_function_options"><span class="mw-headline" id="Sparkline_function_options"> Sparkline function options </span></a></i></b></font></h4>
<p>Sparklines are inline charts that appear within table cells in search results to display time-based trends associated with the primary key of each row. Read more about how to "Add sparklines to your search results" in the Search Manual.
</p>
<dl><dt> sparkline-agg
</dt><dd> <b>Syntax:</b> sparkline (count(&lt;wc-field&gt;), &lt;span-length&gt;) | sparkline (&lt;sparkline-func&gt;(&lt;wc-field&gt;), &lt;span-length&gt;)
</dd><dd> <b>Description:</b> A sparkline specifier, which takes the first argument of a aggregation function on a field and an optional timespan specifier.  If no timespan specifier is used, an appropriate timespan is chosen based on the time range of the search.  If the sparkline is not scoped to a field, only the count aggregator is permitted.
</dd></dl><dl><dt> sparkline-func
</dt><dd> <b>Syntax:</b> c() | count() | dc() | mean() | avg() | stdev() | stdevp() | var() | varp() | sum() | sumsq() | min() | max() | range()
</dd><dd> <b>Description:</b> Aggregation function to use to generate sparkline values.  Each sparkline value is produced by applying this aggregation to the events that fall into each particular time bucket.
</dd></dl><h3> <a name="stats_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="stats_example_1"><span class="mw-headline" id="Example_1"> Example 1 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial but should work with any format of Apache Web access log. Download the data set from <b>Get the tutorial data into Splunk</b> and follow the instructions. Then, run this search using the time range, <b>Other &gt; Yesterday</b>.
</td></tr></table><p>Count the frequency of number of events for a combination of host and HTTP status code values:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | chart count by status, host</font></code><br></div>
<p>This creates the following table:
<img alt="Searchref stats ex1.1.png" src="images/0/0e/Searchref_stats_ex1.1.png" width="700" height="274"></p><p><br></p>
<h4><font size="3"><b><i> <a name="stats_example_2"><span class="mw-headline" id="Example_2"> Example 2 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial but should work with any format of Apache Web access log. Download the data set from <b>Get the tutorial data into Splunk</b> and follow the instructions. Then, run this search using the time range, <b>Other &gt; Yesterday</b>.
</td></tr></table><p>Count the number of different types of requests made against each Web server.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | stats count(eval(method="GET")) as GET, count(eval(method="POST")) as POST by host</font></code><br></div>
<p>This example uses <code><font size="2">eval</font></code> expressions to specify field values for the <code><font size="2">stats</font></code> command to count. The search is only interested in two page request methods, GET or POST. The first clause tells Splunk to count the Web access events that contain the <code><font size="2">method=GET</font></code> field value and call the result "GET". The second clause does the same for <code><font size="2">method=POST</font></code> events. Then the <i>by</i> clause, <code><font size="2">by host</font></code>, separates the counts for each request by the <code><font size="2">host</font></code> value that they correspond to.
</p><p>This returns the following table:
</p><p><img alt="Searchref stats ex1.png" src="images/5/5d/Searchref_stats_ex1.png" width="700" height="146"></p>
<h4><font size="3"><b><i> <a name="stats_example_3"><span class="mw-headline" id="Example_3"> Example 3 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">These searches use recent earthquake data downloaded from the USGS Earthquakes website. The data is a comma separated ASCII text file that contains magnitude (mag), coordinates (latitude, longitude), region (place), etc., for each earthquake recorded.
<p>You can download a current CSV file from the <b>USGS Earthquake Feeds</b> and add it as an input to Splunk.
</p>
</td></tr></table><p><b>3a.</b> Count the number of earthquakes that occurred for each magnitude range. (This data set was comprised of events over a 30-day period.)
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">source=usgs | chart count AS "Number of Earthquakes" by mag span=1 | rename mag AS "Magnitude Range"</font></code><br></div>
<p><img alt="Searchref stats ex3.01.png" src="images/f/fc/Searchref_stats_ex3.01.png" width="700" height="220"></p><p>This search used <code><font size="2">span=1</font></code> to define each of the ranges for the magnitude field, mag. The <a href="#rename" class="external text">rename command</a> is then used to rename the field to "Magnitude Range". 
</p><p><b>3b.</b> Search for earthquakes in and around California and count the number of quakes that were recorded. Then, calculate the minimum, maximum, the range (difference between the min and max), and average magnitudes of those recent quakes and list them by magnitude type.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">source=usgs place=*California* | stats count, max(mag), min(mag), range(mag), avg(mag) by magType</font></code><br></div>
<p>Use <code><font size="2">stats</font></code> functions for each of these calculations: <code><font size="2">count(), max(), min(), range(), and avg()</font></code>. This returns the following table:
</p><p><img alt="Searchref stats usgsex2.1.png" src="images/4/4e/Searchref_stats_usgsex2.1.png" width="700" height="182"></p><p><br><b>3c.</b> Additionally, you can find the mean, standard deviation, and variance of the magnitudes of those recent quakes. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">source=usgs place=*California* | stats count mean(mag), stdev(mag), var(mag) by magType</font></code><br></div>
<p>Use <code><font size="2">stats</font></code> functions for each of these calculations: <code><font size="2">mean(), stdev(), and var()</font></code>. This returns the following table: 
</p><p><img alt="Searchref stats usgsex2.2.png" src="images/2/24/Searchref_stats_usgsex2.2.png" width="700" height="190"></p><p><br>
The <code><font size="2">mean</font></code> values should be exactly the same as the values calculated using <code><font size="2">avg()</font></code>.
</p>
<h4><font size="3"><b><i> <a name="stats_example_4"><span class="mw-headline" id="Example_4"> Example 4 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial and a field lookup to add more information to the event data.
<ul><li> Download the data set from <b>Add data tutorial</b> and follow the instructions to get the tutorial data into Splunk. 
</li><li> Download the CSV file from <b>Use field lookups tutorial</b> and follow the instructions to set up the lookup definition to add price and productName to the events. 
</li></ul><p>After you configure the field lookup, you can run this search using the time range, <b>All time</b>. 
</p>
</td></tr></table><p>Create a table that displays the items sold at the Buttercup Games online store by their ID, type, and name. Also, calculate the revenue for each product.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* status=200 action=purchase | stats values(categoryId) AS Type, values(productName) AS Name, sum(price) AS "Revenue" by productId | rename productId AS "Product ID" | eval Revenue="$ ".tostring(Revenue,"commas")</font></code><br></div>
<p>This example uses the <code><font size="2">values()</font></code> function to display the corresponding <code><font size="2">categoryId</font></code> and <code><font size="2">productName</font></code> values for each <code><font size="2">productId</font></code>. Then, it uses the <code><font size="2">sum()</font></code> function to calculate a running total of the values of the <code><font size="2">price</font></code> field. 
</p><p>Also, this example renames the various fields, for better display. For the <code><font size="2">stats</font></code> functions, the renames are done inline with an "AS" clause. The <code><font size="2">rename</font></code> command is used to change the name of the <code><font size="2">product_id</font></code> field, since the syntax does not let you rename a split-by field.
</p><p>Finally, the results are piped into an <code><font size="2">eval</font></code> expression to reformat the <code><font size="2">Revenue</font></code> field values so that they read as currency, with a dollar sign and commas.
</p><p>This returns the following table:
</p><p><img alt="Searchref stats ex4.png" src="images/4/49/Searchref_stats_ex4.png" width="700" height="229"></p>
<h4><font size="3"><b><i> <a name="stats_example_5"><span class="mw-headline" id="Example_5"> Example 5 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses generated email data (<code><font size="2">sourcetype=cisco_esa</font></code>). You should be able to run this example on any email data by replacing the <code><font size="2">sourcetype=cisco_esa</font></code> with your data's <code><font size="2">sourcetype</font></code> value and the <code><font size="2">mailfrom</font></code> field with your data's email address field name (for example, it might be <code><font size="2">To, From, or Cc</font></code>).
</td></tr></table><p>Find out how much of your organization's email comes from com/net/org or other top level domains.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype="cisco_esa" mailfrom=* | eval accountname=split(mailfrom,"@") | eval from_domain=mvindex(accountname,-1) | stats count(eval(match(from_domain, "[^\n\r\s]+\.com"))) AS ".com", count(eval(match(from_domain, "[^\n\r\s]+\.net"))) AS ".net", count(eval(match(from_domain, "[^\n\r\s]+\.org"))) AS ".org", count(eval(NOT match(from_domain, "[^\n\r\s]+\.(com|net|org)"))) AS "other"</font></code><br></div>
<p>The first half of this search uses eval to break up the email address in the <code><font size="2">mailfrom</font></code> field and define the <code><font size="2">from_domain</font></code> as the portion of the <code><font size="2">mailfrom</font></code> field after the <code><font size="2">@</font></code> symbol.
</p><p>The results are then piped into the <code><font size="2">stats</font></code> command. The <code><font size="2">count()</font></code> function is used to count the results of the <code><font size="2">eval</font></code> expression. Here, <code><font size="2">eval</font></code> uses the <code><font size="2">match()</font></code> function to compare the <code><font size="2">from_domain</font></code> to a regular expression that looks for the different suffixes in the domain. If the value of <code><font size="2">from_domain</font></code> matches the regular expression, the <code><font size="2">count</font></code> is updated for each suffix, <code><font size="2">.com, .net, and .org</font></code>. Other domain suffixes are counted as <code><font size="2">other</font></code>.
</p><p>This produces the following results table:
</p><p><img alt="StatsEx5 resultsTable.png" src="images/f/f3/StatsEx5_resultsTable.png" width="700" height="134"></p>
<h4><font size="3"><b><i> <a name="stats_example_6"><span class="mw-headline" id="Example_6"> Example 6 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial but should work with any format of Apache Web access log. Download the data set from <b>this topic in the tutorial</b> and follow the instructions to upload it to Splunk. Then, run this search using the time range, <b>Other &gt; Yesterday</b>.
</td></tr></table><p>Search Web access logs, and return the total number of hits from the top 10 referring domains. (The "top" command returns a count and percent value for each <code><font size="2">referer</font></code>.)
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | top limit=10 referer | stats sum(count) AS total</font></code><br></div>
<p>This search uses the <code><font size="2">top</font></code> command to find the ten most common referer domains, which are values of the <code><font size="2">referer</font></code> field. (You might also see this as <code><font size="2">referer_domain</font></code>.) The results of <code><font size="2">top</font></code> are then piped into the <code><font size="2">stats</font></code> command. This example uses the <code><font size="2">sum()</font></code> function to add the number of times each <code><font size="2">referer</font></code> accesses the website. This summation is then saved into a field, <code><font size="2">total</font></code>. This produces the single numeric value:
</p><p><img alt="Searchref stats ex6.png" src="images/e/ea/Searchref_stats_ex6.png" width="315" height="161"></p>
<h4><font size="3"><b><i> <a name="stats_more_examples"><span class="mw-headline" id="More_examples"> More examples </span></a></i></b></font></h4>
<p><b>Example 1:</b> Search the access logs, and return the total number of hits from the top 100 values of "referer_domain". (The "top" command returns a count and percent value for each "referer_domain".)
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_combined | top limit=100 referer_domain | stats sum(count) AS total</font></code><br></div>
<p><b>Example 2:</b> Return the average for each hour, of any unique field that ends with the string "lay" (for example, delay, xdelay, relay, etc).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | stats avg(*lay) BY date_hour</font></code><br></div>
<p><b>Example 3:</b> Remove duplicates of results with the same "host" value and return the total count of the remaining results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | stats dc(host)</font></code><br></div>
<p><b>Example 4:</b> Return the average transfer rate for each host.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access* | stats avg(kbps) by host</font></code><br></div>
<h3> <a name="stats_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#eventstats" class="external text">eventstats</a>, <a href="#rare" class="external text">rare</a>, <a href="#sistats" class="external text">sistats</a>, <a href="#streamstats" class="external text">streamstats</a>, <a href="#top" class="external text">top</a> 
</p>
<h3> <a name="stats_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the stats command.
</p>
<a name="strcat"></a><h2> <a name="strcat_strcat"><span class="mw-headline" id="strcat"> strcat </span></a></h2>
<h3> <a name="strcat_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Concatenates string values.
</p>
<h4><font size="3"><b><i> <a name="strcat_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>strcat [allrequired=&lt;bool&gt;] &lt;srcfields&gt;* &lt;destfield&gt;
</p>
<h4><font size="3"><b><i> <a name="strcat_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;destfield&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> A destination field to save the concatenated string values defined by srcfields. The destfield is always at the end of the series of srcfields.
</dd></dl><dl><dt> &lt;srcfields&gt;
</dt><dd> <b>Syntax:</b> (&lt;field&gt;|&lt;quoted-str&gt;)
</dd><dd> <b>Description:</b> Specify either key names or quoted literals.
</dd></dl><dl><dt> quoted-str
</dt><dd> <b>Syntax:</b> "&lt;string&gt;"
</dd><dd> <b>Description:</b> Quoted literals.
</dd></dl><h4><font size="3"><b><i> <a name="strcat_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> allrequired
</dt><dd> <b>Syntax:</b> allrequired=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specifies whether or not all source fields need to exist in each event before values are written to the destination field. By default, allrequired=f, meaning that the destination field is always written and source fields that do not exist are treated as empty strings. If allrequired=t, the values are written to destination field only if all source fields exist.
</dd></dl><h3> <a name="strcat_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Stitch together fields and/or strings to create a new field. Quoted tokens are assumed to be literals and the rest field names. The destination field name is always at the end. 
</p>
<h3> <a name="strcat_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Add the field, comboIP, which combines the source and destination IP addresses and separates them with a front slash character.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | strcat sourceIP "/" destIP comboIP</font></code><br></div>
<p><b>Example 2:</b> Add the field, comboIP, and then create a chart of the number of occurrences of the field values.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">host="mailserver" | strcat sourceIP "/" destIP comboIP | chart count by comboIP</font></code><br></div>
<p><b>Example 3:</b> Add a field, address, which combines the host and port values into the format &lt;host&gt;::&lt;port&gt;.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | strcat host "::" port address</font></code><br></div>
<h3> <a name="strcat_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#eval" class="external text">eval</a> 
</p>
<h3> <a name="strcat_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the strcat command.
</p>
<a name="streamstats"></a><h2> <a name="streamstats_streamstats"><span class="mw-headline" id="streamstats"> streamstats </span></a></h2>
<p>The <code><font size="2">streamstats</font></code> command, similar to the <code><font size="2"><a href="#stats" class="external text">stats</a></font></code> command, calculates summary statistics on search results. Unlike, <code><font size="2">stats</font></code> (which works on the results as a whole), <code><font size="2">streamstats</font></code> calculates statistics for each event at the time the event is seen.
</p>
<h3> <a name="streamstats_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Adds summary statistics to all search results in a streaming manner.
</p>
<h4><font size="3"><b><i> <a name="streamstats_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>streamstats [current=&lt;bool&gt;] [window=&lt;int&gt;] [global=&lt;bool&gt;] [allnum=&lt;bool&gt;] &lt;stats-agg-term&gt;* [&lt;by clause&gt;]
</p>
<h4><font size="3"><b><i> <a name="streamstats_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> stats-agg-term
</dt><dd> <b>Syntax:</b> &lt;stats-func&gt;( &lt;evaled-field&gt; | &lt;wc-field&gt;  ) [AS &lt;wc-field&gt;]
</dd><dd> <b>Description:</b> A statistical specifier optionally renamed to a new field name. The specifier can be by an aggregation function applied to a field or set of fields or an aggregation function applied to an arbitrary eval expression.
</dd></dl><h4><font size="3"><b><i> <a name="streamstats_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> current
</dt><dd> <b>Syntax:</b> current=&lt;bool&gt;
</dd><dd> <b>Description:</b> If true, tells Splunk to include the given, or current, event in the summary calculations. If false, tells Splunk to use the field value from the previous event. Defaults to true.
</dd></dl><dl><dt> window
</dt><dd> <b>Syntax:</b> window=&lt;int&gt;
</dd><dd> <b>Description:</b> The 'window' option specifies the number of events to use when computing the statistics. Defaults to 0, which means that all previous (plus current) events are used.
</dd></dl><dl><dt> global
</dt><dd> <b>Syntax:</b> global=&lt;bool&gt;
</dd><dd> <b>Description:</b> Defines whether the 'window' is global or for each field in the by clause. If 'global' is false and 'window' is set to a non-zero value, a separate window is used for each group of values of the group by fields. Defaults to true.
</dd></dl><dl><dt> allnum
</dt><dd> <b>Syntax:</b> allnum=&lt;bool&gt;
</dd><dd> <b>Description:</b> If true, computes numerical statistics on each field if and only if all of the values of that field are numerical. Defaults to false.
</dd></dl><dl><dt> by clause
</dt><dd> <b>Syntax:</b> by &lt;field-list&gt;
</dd><dd> <b>Description:</b> The name of one or more fields to group by.
</dd></dl><h4><font size="3"><b><i> <a name="streamstats_stats_functions_options"><span class="mw-headline" id="Stats_functions_options"> Stats functions options </span></a></i></b></font></h4>
<dl><dt> stats-function
</dt><dd> <b>Syntax:</b> avg() | c() | count() | dc() | distinct_count() | first() | last() | list() | max() | median() | min() | mode() | p&lt;in&gt;() | perc&lt;int&gt;() | per_day() | per_hour() | per_minute() | per_second() | range() | stdev() | stdevp() | sum() | sumsq() | values() | var() | varp()
</dd><dd> <b>Description:</b> Functions used with the stats command. Each time you invoke the <code><font size="2">stats</font></code> command, you can use more than one function; however, you can only use one <code><font size="2">by clause</font></code>. For a list of stats functions with descriptions and examples, see <b><a href="#commonstatsfunctions" class="external text">"Functions for stats, chart, and timechart"</a></b>.
</dd></dl><h3> <a name="streamstats_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">streamstats</font></code> command is similar to the <code><font size="2"><a href="#eventstats" class="external text">eventstats</a></font></code> command except that it uses events before a given event to compute the aggregate statistics applied to each event. If you want to include the given event in the stats calculations, use current=true (which is the default).
</p>
<h3> <a name="streamstats_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="streamstats_example_1"><span class="mw-headline" id="Example_1"> Example 1 </span></a></i></b></font></h4>
<p>Each day you track unique users, and you'd like to track the cumulative count of distinct users. This example calculates the running total of distinct users over time.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">eventtype="download" | bin _time span=1d as day | stats values(clientip) as ips dc(clientip) by day | streamstats dc(ips) as "Cumulative total"</font></code><br></div>
<p>The <code><font size="2"><a href="#bin" class="external text">bin</a></font></code> command breaks the time into days. The <code><font size="2"><a href="#stats" class="external text">stats</a></font></code> command calculates the distinct users (clientip) and user count per day. The <code><font size="2"><a href="#streamstats" class="external text">streamstats</a></font></code> command finds the running distinct count of users.
</p><p>This search returns a table that includes: <code><font size="2">day</font></code>, <code><font size="2">ips</font></code>, <code><font size="2">dc(clientip)</font></code>, and <code><font size="2">Cumulative total</font></code>.
</p>
<h4><font size="3"><b><i> <a name="streamstats_example_2"><span class="mw-headline" id="Example_2"> Example 2 </span></a></i></b></font></h4>
<p>This example uses streamstats to produce hourly cumulative totals for category values.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | timechart span=1h sum(value) as total by category | streamstats global=f sum(total) as accu_total</font></code><br></div>
<p>The <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code> command buckets the events into spans of 1 hour and counts the total values for each category. The <code><font size="2">timechart</font></code> command will also fill NULL values, so that there are no missing values. Then, the <code><font size="2">streamstats</font></code> command is used to calculate the accumulated total.
</p>
<h4><font size="3"><b><i> <a name="streamstats_example_3"><span class="mw-headline" id="Example_3"> Example 3 </span></a></i></b></font></h4>
<p>This example uses streamstats to figure out when a DHCP IP lease address changed for a MAC address, 54:00:00:00:00:00.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">source=dhcp MAC=54:00:00:00:00:00 | head 10 | streamstats current=f last(DHCP_IP) as new_dhcp_ip last(_time) as time_of_change by MAC</font></code><br></div>
<p>You can also clean up the presentation to display a table of the DHCP IP address changes and the times the occurred.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">source=dhcp MAC=54:00:00:00:00:00 | head 10 | streamstats current=f last(DHCP_IP) as new_dhcp_ip last(_time) as time_of_change by MAC | where DHCP_IP!=new_dhcp_ip | convert ctime(time_of_change) as time_of_change | rename DHCP_IP as old_dhcp_ip | table time_of_change, MAC, old_dhcp_ip, new_dhcp_ip</font></code><br></div>
<p>For more details, refer to the Splunk Blogs post for this example.
</p>
<h4><font size="3"><b><i> <a name="streamstats_more_examples"><span class="mw-headline" id="More_examples"> More examples </span></a></i></b></font></h4>
<p><b>Example 1:</b> Compute the average value of foo for each value of bar including only 5 events (specified by the window size) with that value of bar.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | streamstats avg(foo) by bar window=5 global=f</font></code><br></div>
<p><b>Example 2:</b> For each event, compute the average of field foo over the last 5 events (including the current event). Similar to doing trendline sma5(foo)
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | streamstats avg(foo) window=5</font></code><br></div>
<p><b>Example 3:</b> This example adds to each event a count field that represents the number of events seen so far (including that event). For example, it adds 1 for the first event, 2 for the second event, etc. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | streamstats count</font></code><br></div>
<p>If you didn't want to include the current event, you would specify:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | streamstats count current=f</font></code><br></div>
<h3> <a name="streamstats_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#accum" class="external text">accum</a>, <a href="#autoregress" class="external text">autoregress</a>, <a href="#delta" class="external text">delta</a>,
<a href="#fillnull" class="external text">fillnull</a>,  <a href="#eventstats" class="external text">eventstats</a>, <a href="#stats" class="external text">stats</a>, <a href="#streamstats" class="external text">streamstats</a>, <a href="#trendline" class="external text">trendline</a>
</p>
<h3> <a name="streamstats_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the streamstats command.
</p>
<a name="table"></a><h2> <a name="table_table"><span class="mw-headline" id="table"> table</span></a></h2>
<p>The <code><font size="2">table</font></code> command is similar to the <code><font size="2"><a href="#fields" class="external text">fields</a></font></code> command in that it enables you to specify the fields you want to keep in your results. Use <code><font size="2">table</font></code> command when you want to retain data purely as a table. 
</p><p>The <code><font size="2">table</font></code> command can be used to build a scatter plot to show trends in the relationships between discrete values of your data. Otherwise, you should not use it for charts (such as <code><font size="2"><a href="#chart" class="external text">chart</a></font></code> or <code><font size="2"><a href="#timechart" class="external text">timechart</a></font></code>) because the UI requires the internal fields (which are the fields beginning with an underscore, _*) to render the charts, and the <code><font size="2">table</font></code> command strips these fields out of the results by default. Instead, you should use the <code><font size="2"><a href="#fields" class="external text">fields</a></font></code> command because it always retains all the internal fields.
</p>
<h3> <a name="table_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Creates a table using only the field names specified.
</p>
<h4><font size="3"><b><i> <a name="table_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p><b>table</b> &lt;wc-field-list&gt;
</p>
<h4><font size="3"><b><i> <a name="table_arguments"><span class="mw-headline" id="Arguments"> Arguments </span></a></i></b></font></h4>
<dl><dt> &lt;wc-field-list&gt;
</dt><dd> <b>Syntax:</b> &lt;wc-field&gt; &lt;wc-field&gt; ...
</dd><dd> <b>Description:</b> A list of field names, can include wildcards.
</dd></dl><h3> <a name="table_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">table</font></code> command returns a table formed by only the fields specified in the arguments. Columns are displayed in the same order that fields are specified. Column headers are the field names. Rows are the field values. Each row represents an event.
</p><p><b>Field renaming.</b> The <code><font size="2">table</font></code> command doesn't let you rename fields, only specify the fields that you want to show in your tabulated results. If you're going to rename a field, do it before piping the results to <code><font size="2">table</font></code>.
</p><p><b>Truncated results.</b> The table command will truncate the number of results returned if the limits.conf [search] parameter, <code><font size="2">truncate_report</font></code>, is 1. The number of results is controlled with the [search] <code><font size="2">max_count</font></code> limit. If <code><font size="2">truncate_report</font></code> is 0, this <code><font size="2">max_count</font></code> will not be applied.
</p>
<h3> <a name="table_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="table_example_1"><span class="mw-headline" id="Example_1"> Example 1 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses recent earthquake data downloaded from the USGS Earthquakes website. The data is a comma separated ASCII text file that contains magnitude (mag), coordinates (latitude, longitude), region (place), etc., for each earthquake recorded.
<p>You can download a current CSV file from the <b>USGS Earthquake Feeds</b> and add it as an input to Splunk.
</p>
</td></tr></table><p>Search for recent earthquakes in and around California and display only the time of the quake (<code><font size="2">Datetime</font></code>), where it occurred (<code><font size="2">Region</font></code>), and the quake's magnitude (<code><font size="2">Magnitude</font></code>) and depth (<code><font size="2">Depth</font></code>).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=usgs_* source=usgs place=*California | table time, place, mag, depth</font></code><br></div>
<p>This simply reformats your events into a table and displays only the fields that you specified as arguments.
</p><p><img alt="Searchref table usgsex1.1.png" src="images/4/4c/Searchref_table_usgsex1.1.png" width="700" height="242"></p><p><br></p>
<h4><font size="3"><b><i> <a name="table_example_2"><span class="mw-headline" id="Example_2"> Example 2 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses recent earthquake data downloaded from the USGS Earthquakes website. The data is a comma separated ASCII text file that contains magnitude (mag), coordinates (latitude, longitude), region (place), etc., for each earthquake recorded.
<p>You can download a current CSV file from the <b>USGS Earthquake Feeds</b> and add it as an input to Splunk.
</p>
</td></tr></table><p>Show the date, time, coordinates, and magnitude of each recent earthquake in Northern California.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=usgs_* source=usgs place=*California | rename lat as latitude lon as longitude | table time, place, lat*, lon*, mag</font></code><br></div>
<p>This example begins with a search for all recent earthquakes in Northern California (<code><font size="2">Region="Northern California"</font></code>). 
</p><p>Then it pipes these events into the <code><font size="2">rename</font></code> command to change the names of the coordinate fields, from <code><font size="2">lat</font></code> and <code><font size="2">lon</font></code> to <code><font size="2">latitude</font></code> and <code><font size="2">longitude</font></code>. (The <code><font size="2">table</font></code> command doesn't let you rename or reformat fields, only specify the fields that you want to show in your tabulated results.)
</p><p>Finally, it pipes the results into the <code><font size="2">table</font></code> command and specifies both coordinate fields with <code><font size="2">lat*</font></code>, <code><font size="2">lon*</font></code>, the magnitude with <code><font size="2">mag</font></code>, and the date and time with <code><font size="2">time</font></code>. 
</p><p><img alt="Searchref table usgsex2.1.png" src="images/0/0e/Searchref_table_usgsex2.1.png" width="700" height="208"></p><p>This example just illustrates how the <code><font size="2">table</font></code> command syntax allows you to specify multiple fields using the asterisk wildcard.
</p><p><br></p>
<h4><font size="3"><b><i> <a name="table_example_3"><span class="mw-headline" id="Example_3"> Example 3 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the tutorial but should work with any format of Apache Web access log. Download the data set from the <b>Add data tutorial</b> and follow the instructions to get the sample data into Splunk. Then, run this search using the time range, <b>All time</b>.
</td></tr></table><p>Search for IP addresses and classify the network they belong to. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | dedup clientip | eval network=if(cidrmatch("192.0.0.0/16", clientip), "local", "other") | table clientip, network</font></code><br></div>
<p>This example searches for Web access data and uses the <code><font size="2">dedup</font></code> command to remove duplicate values of the IP addresses (<code><font size="2">clientip</font></code>) that access the server. These results are piped into the <code><font size="2">eval</font></code> command, which uses the <code><font size="2">cidrmatch()</font></code> function to compare the IP addresses to a subnet range (192.0.0.0/16). This search also uses the <code><font size="2">if()</font></code> function, which says that if the value of <code><font size="2">clientip</font></code> falls in the subnet range, then network is given the value local. Otherwise, <code><font size="2">network=other</font></code>. 
</p><p>The results are then piped into the <code><font size="2">table</font></code> command to show only the distinct IP addresses (<code><font size="2">clientip</font></code>) and the network classification (<code><font size="2">network</font></code>):
</p><p><img alt="TableExample3.png" src="images/2/24/TableExample3.png" width="700" height="227"></p>
<h4><font size="3"><b><i> <a name="table_more_examples"><span class="mw-headline" id="More_examples"> More examples </span></a></i></b></font></h4>
<p><b>Example 1:</b> Create a table for fields foo, bar, then all fields that start with 'baz'.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | table foo bar baz*</font></code><br></div>
<h3> <a name="table_see_also"><span class="mw-headline" id="See_Also"> See Also </span></a></h3>
<p><a href="#fields" class="external text">fields</a>
</p>
<h3> <a name="table_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the table command.
</p>
<a name="tags"></a><h2> <a name="tags_tags"><span class="mw-headline" id="tags"> tags </span></a></h2>
<h3> <a name="tags_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Annotates specified fields in your search results with tags.
</p>
<h4><font size="3"><b><i> <a name="tags_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>tags [outputfield=&lt;field&gt;] [inclname=&lt;bool&gt;] [inclvalue=&lt;bool&gt;] &lt;field-list&gt;
</p>
<h4><font size="3"><b><i> <a name="tags_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;field-list&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt; &lt;field&gt; ...
</dd><dd> <b>Description:</b> Specify the fields to annotate with tags. 
</dd></dl><h4><font size="3"><b><i> <a name="tags_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> outputfield
</dt><dd> <b>Syntax:</b> outputfield=&lt;field&gt;
</dd><dd> <b>Description:</b> If specified, the tags for all fields will be written to this field. Otherwise, the tags for each field will be written to a field named <code><font size="2">tag::&lt;field&gt;</font></code>.
</dd></dl><dl><dt> inclname
</dt><dd> <b>Syntax:</b> inclname=T|F
</dd><dd> <b>Description:</b> If outputfield is specified, controls whether or not the field name is added to the output field. Defaults to F.
</dd></dl><dl><dt> inclvalue
</dt><dd> <b>Syntax:</b> inclvalue=T|F
</dd><dd> <b>Description:</b> If outputfield is specified, controls whether or not the field value is added to the output field. Defaults to F.
</dd></dl><h3> <a name="tags_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Annotate the search results with tags. If there are fields specified only annotate tags for those fields otherwise look for tags for all fields.  If outputfield is specified, the tags for all fields will be written to this field. If outputfield is specified, inclname and inclvalue control whether or not the field name and field values are added to the output field.  By default only the tag itself is written to the outputfield, that is (&lt;field&gt;::)?(&lt;value&gt;::)?tag .
</p>
<h3> <a name="tags_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Write tags for host and eventtype fields into tag::host and tag::eventtype.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | tags host eventtype</font></code><br></div>
<p><b>Example 2:</b> Write new field test that contains tags for all fields.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | tags outputfield=test</font></code><br></div>
<p><b>Example 3:</b> Write tags for host and sourcetype into field test in the format host::&lt;tag&gt; or sourcetype::&lt;tag&gt;.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | tags outputfield=test inclname=t host sourcetype</font></code><br></div>
<h3> <a name="tags_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#eval" class="external text">eval</a>
</p>
<h3> <a name="tags_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the tags command.
</p>
<a name="tail"></a><h2> <a name="tail_tail"><span class="mw-headline" id="tail"> tail </span></a></h2>
<h3> <a name="tail_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Returns the last n number of specified results.
</p>
<h4><font size="3"><b><i> <a name="tail_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>tail [&lt;N&gt;]
</p>
<h4><font size="3"><b><i> <a name="tail_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;N&gt;
</dt><dd> <b>Syntax:</b> &lt;int&gt;
</dd><dd> <b>Description:</b> The number of results to return, default is 10 if none is specified.
</dd></dl><h3> <a name="tail_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Returns the last n results, or 10 if no integer is specified. The events are returned in reverse order, starting at the end of the result set.
</p>
<h3> <a name="tail_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return the last 20 results (in reverse order).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | tail 20</font></code><br></div>
<h3> <a name="tail_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#head" class="external text">head</a>, <a href="#reverse" class="external text">reverse</a> 
</p>
<h3> <a name="tail_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the tail command.
</p>
<a name="timechart"></a><h2> <a name="timechart_timechart"><span class="mw-headline" id="timechart"> timechart </span></a></h2>
<h3> <a name="timechart_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Creates a time series chart with corresponding table of statistics. The timechart is a statistical aggregation applied to a field, with time as the x-axis. You can specify a split-by field so that each distinct value of the split-by field is a series. If you use an <code><font size="2">eval</font></code> expression, the split-by clause is required. With the <code><font size="2">limit</font></code> and <code><font size="2">agg</font></code> options, you can specify series filtering. These options are ignored if you specify an explicit where-clause. If you set limit=0, no series filtering occurs.
</p>
<h3> <a name="timechart_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>timechart [sep=&lt;string&gt;] [format=&lt;string&gt;] [partial=&lt;bool&gt;] [cont=&lt;t|f&gt;] [limit=&lt;int&gt;] [agg=&lt;stats-agg-term&gt;] [&lt;bucketing-option&gt; ]* <b>(</b> (&lt;single-agg&gt; [by &lt;split-by-clause&gt;] ) |  (&lt;eval-expression&gt;) by &lt;split-by-clause&gt; <b>)</b>
</p>
<h4><font size="3"><b><i> <a name="timechart_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<p>When specifying timechart arguments, either single-agg or an eval-expression is required.
</p>
<dl><dt> eval-expression
</dt><dd> <b>Syntax:</b> &lt;math-exp&gt; | &lt;concat-exp&gt; | &lt;compare-exp&gt; | bool-exp&gt; | &lt;function-call&gt; 
</dd><dd> <b>Description:</b> A combination of literals, fields, operators, and functions that represent the value of your destination field. For these evaluations to work, your values need to be valid for the type of operation. For example, with the exception of addition, arithmetic operations might not produce valid results if the values are not numerical. Additionally, the search can concatenate the two operands if they are both strings. When concatenating values with a period '.' the search treats both values as strings, regardless of their actual data type. 
</dd></dl><dl><dt> single-agg
</dt><dd> <b>Syntax:</b> count|&lt;stats-func&gt;(&lt;field&gt;) 
</dd><dd> <b>Description:</b> A single aggregation applied to a single field, including an evaluated field. No wildcards are allowed. The field must be specified, except when using the <code><font size="2"> count</font></code> aggregator which applies to events as a whole. 
</dd></dl><dl><dt> split-by-clause
</dt><dd> <b>Syntax:</b> &lt;field&gt; (&lt;tc-option&gt;)* [&lt;where-clause&gt;]
</dd><dd> <b>Description:</b> Specifies a field to split by.  If field is numerical, default discretization is applied; discretization is defined with the <code><font size="2">tc-option</font></code>.
</dd></dl><h4><font size="3"><b><i> <a name="timechart_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> agg=&lt;stats-agg-term&gt;
</dt><dd> <b>Syntax:</b> &lt;stats-agg-term&gt;
</dd><dd> <b>Description:</b> See the Stats functions section below. For a list of stats functions with descriptions and examples, see <a href="#commonstatsfunctions" class="external text">"Functions for stats, chart, and timechart"</a>.
</dd></dl><dl><dt> bucketing-option
</dt><dd> <b>Syntax:</b> bins | minspan | span | &lt;start-end&gt;
</dd><dd> <b>Description:</b> Options that you can use to specify discreet buckets, or bins, to organize the information. The <code><font size="2">bins</font></code> options sets the maximum number of bins, not the target number of bins. 
</dd><dd> <b>Default:</b> bins=100
</dd></dl><dl><dt> cont
</dt><dd> <b>Syntax:</b> cont=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specifies whether the chart is continuous or not. If set to <code><font size="2">true</font></code>, the Search application fills in the time gaps. 
</dd><dd> <b>Default:</b> true | t
</dd></dl><dl><dt> fixedrange
</dt><dd> <b>Syntax:</b> fixedrange=&lt;bool&gt;
</dd><dd> <b>Description:</b> (Not valid for 4.2) Specify whether or not to enforce the earliest and latest times of the search. Setting it to false allows the timechart to constrict to just the time range with valid data. 
</dd><dd> <b>Default:</b> true | t
</dd></dl><dl><dt> format
</dt><dd> <b>Syntax:</b> format=&lt;string&gt;
</dd><dd> <b>Description:</b> Used to construct output field names when multiple data series are used in conjuction with a split-by-field. <code><font size="2">format</font></code> takes precedence over <code><font size="2">sep</font></code> and allows you to specify a parameterized expression with the stats aggregator and function ($AGG$) and the value of the split-by-field ($VALUE$).
</dd></dl><dl><dt> limit
</dt><dd> <b>Syntax:</b> limit=&lt;int&gt;
</dd><dd> <b>Description:</b> Specify a limit for series filtering; limit=0 means no filtering. By default, setting limit=N filters the top N values based on the sum of each series.
</dd></dl><dl><dt> partial
</dt><dd> <b>Syntax:</b> partial=&lt;bool&gt;
</dd><dd> <b>Description:</b> Controls if partial time buckets should be retained or not. Only the first and last bucket could ever be partial. Defaults to True|T, meaning that they are retained.
</dd></dl><dl><dt> sep
</dt><dd> <b>Syntax:</b> sep=&lt;string&gt;
</dd><dd> <b>Description:</b> Used to construct output field names when multiple data series are used in conjunctions with a split-by field. This is equivalent to setting <code><font size="2">format</font></code> to <code><font size="2">$AGG$&lt;sep&gt;$VALUE$</font></code>.
</dd></dl><h4><font size="3"><b><i> <a name="timechart_stats_functions"><span class="mw-headline" id="Stats_functions"> Stats functions </span></a></i></b></font></h4>
<dl><dt> stats-agg-term
</dt><dd> <b>Syntax:</b> &lt;stats-func&gt;( &lt;evaled-field&gt; | &lt;wc-field&gt;  ) [AS &lt;wc-field&gt;]
</dd><dd> <b>Description:</b> A statistical specifier optionally renamed to a new field name. The specifier can be by an aggregation function applied to a field or set of fields or an aggregation function applied to an arbitrary eval expression.
</dd></dl><dl><dt> stats-function
</dt><dd> <b>Syntax:</b> avg() | c() | count() | dc() | distinct_count() | earliest() | estdc() | estdc_error() | exactperc&lt;int&gt;() | first() | last() | latest() | list() | max() | median() | min() | mode() | p&lt;in&gt;() | perc&lt;int&gt;() | per_day() | per_hour() | per_minute() | per_second() |range() | stdev() | stdevp() | sum() | sumsq() | upperperc&lt;int&gt;() | values() | var() | varp()
</dd><dd> <b>Description:</b> Functions you can use with the <code><font size="2">stats</font></code> command. Each time you invoke the <code><font size="2">stats</font></code> command, you can soecify more than one function.  However, you can specify only one <code><font size="2">by</font></code> clause. For a list of stats functions with descriptions and examples, see <a href="#commonstatsfunctions" class="external text">"Functions for stats, chart, and timechart"</a>.
</dd></dl><h4><font size="3"><b><i> <a name="timechart_bucketing_options"><span class="mw-headline" id="Bucketing_options"> Bucketing options </span></a></i></b></font></h4>
<dl><dt> bins
</dt><dd> <b>Syntax:</b> bins=&lt;int&gt;
</dd><dd> <b>Description:</b> Sets the <i>maximum number</i> of bins to discretize into. This does not set the target number of bins. (It finds the smallest bucket size that results in no more than 100 distinct buckets. Even though you specify 100 or 300, the resulting number of buckets might be much lower.)  Defaults to 100.
</dd></dl><dl><dt> minspan
</dt><dd> <b>Syntax:</b> minspan=&lt;span-length&gt;
</dd><dd> <b>Description:</b> Specifies the smallest span granularity to use automatically inferring span from the data time range.
</dd></dl><dl><dt> span
</dt><dd> <b>Syntax:</b> span=&lt;log-span&gt; | span=&lt;span-length&gt;
</dd><dd> <b>Description:</b> Sets the size of each bucket, using a span length based on time or log-based span.
</dd></dl><dl><dt> &lt;start-end&gt;
</dt><dd> <b>Syntax:</b> end=&lt;num&gt; | start=&lt;num&gt;
</dd><dd> <b>Description:</b>Sets the minimum and maximum extents for numerical buckets. Data outside of the [start, end] range is discarded.
</dd></dl><h5> <a name="timechart_log_span_syntax"><span class="mw-headline" id="Log_span_syntax"> Log span syntax </span></a></h5>
<dl><dt> &lt;log-span&gt;
</dt><dd> <b>Syntax:</b> [&lt;num&gt;]log[&lt;num&gt;]
</dd><dd> <b>Description:</b> Sets to log-based span. The first number is a coefficient. The second number is the base. If the first number is supplied, it must be a real number &gt;= 1.0 and &lt; base. Base, if supplied, must be real number &gt; 1.0 (strictly greater than 1).
</dd></dl><h5> <a name="timechart_span_length_syntax"><span class="mw-headline" id="Span_length_syntax"> Span length syntax </span></a></h5>
<dl><dt> span-length
</dt><dd> <b>Syntax:</b> &lt;int&gt;[&lt;timescale&gt;]
</dd><dd> <b>Description:</b> A span of each bin, based on time. If the timescale is provided, this is used as a time range. If not, this is an absolute bucket length. 
</dd></dl><dl><dt> &lt;timescale&gt;
</dt><dd> <b>Syntax:</b> &lt;sec&gt; | &lt;min&gt; | &lt;hr&gt; | &lt;day&gt; | &lt;week&gt; | &lt;month&gt; | &lt;subseconds&gt;
</dd><dd> <b>Description:</b> Time scale units.
</dd></dl><dl><dt> &lt;sec&gt;
</dt><dd> <b>Syntax:</b> s | sec | secs | second | seconds
</dd><dd> <b>Description:</b> Time scale in seconds.
</dd></dl><dl><dt> &lt;min&gt; 
</dt><dd> <b>Syntax:</b> m | min | mins | minute | minutes
</dd><dd> <b>Description:</b> Time scale in minutes.
</dd></dl><dl><dt> &lt;hr&gt;
</dt><dd> <b>Syntax:</b> h | hr | hrs | hour | hours
</dd><dd> <b>Description:</b> Time scale in hours.
</dd></dl><dl><dt> &lt;day&gt;
</dt><dd> <b>Syntax:</b> d | day | days
</dd><dd> <b>Description:</b> Time scale in days.
</dd></dl><dl><dt> &lt;week&gt;
</dt><dd> <b>Syntax:</b> w | week | weeks
</dd><dd> <b>Description:</b> Time scale in weeks.
</dd></dl><dl><dt> &lt;month&gt;
</dt><dd> <b>Syntax:</b> mon | month | months
</dd><dd> <b>Description:</b> Time scale in months.
</dd></dl><dl><dt> &lt;subseconds&gt;
</dt><dd> <b>Syntax:</b> us | ms | cs | ds
</dd><dd> <b>Description:</b> Time scale in microseconds (us), milliseconds (ms), centiseconds (cs), or deciseconds (ds).
</dd></dl><h4><font size="3"><b><i> <a name="timechart_tc_options"><span class="mw-headline" id="tc_options"> tc options </span></a></i></b></font></h4>
<dl><dt> tc-option
</dt><dd> <b>Syntax:</b> &lt;bucketing-option&gt; | usenull=&lt;bool&gt; | useother=&lt;bool&gt; | nullstr=&lt;string&gt; | otherstr=&lt;string&gt;
</dd><dd> <b>Description:</b> Options for controlling the behavior of splitting by a field.
</dd></dl><dl><dt> usenull
</dt><dd> <b>Syntax:</b> usenull=&lt;bool&gt;
</dd><dd> <b>Description:</b> Controls whether or not a series is created for events that do not contain the split-by field.
</dd></dl><dl><dt> nullstr
</dt><dd> <b>Syntax:</b> nullstr=&lt;string&gt;
</dd><dd> <b>Description:</b> If usenull is true, this series is labeled by the value of the nullstr option. Defaults to NULL.
</dd></dl><dl><dt> useother 
</dt><dd> <b>Syntax:</b> useother=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specifies if a series should be added for data series not included in the graph because they did not meet the criteria of the &lt;where-clause&gt;. Defaults to True.
</dd></dl><dl><dt> otherstr
</dt><dd> <b>Syntax:</b> otherstr=&lt;string&gt;
</dd><dd> <b>Description:</b> If useother is true, this series is labeled by the value of the otherstr option. Defaults to OTHER.
</dd></dl><h4><font size="3"><b><i> <a name="timechart_where_clause"><span class="mw-headline" id="where_clause"> where clause </span></a></i></b></font></h4>
<dl><dt> where clause
</dt><dd> <b>Syntax:</b> &lt;single-agg&gt; &lt;where-comp&gt;
</dd><dd> <b>Description:</b> Specifies the criteria for including particular data series when a field is given in the tc-by-clause. The most common use of this option is to select for spikes rather than overall mass of distribution in series selection. The default value finds the top ten series by area under the curve. Alternately one could replace sum with max to find the series with the ten highest spikes.This has no relation to the where command.
</dd></dl><dl><dt> &lt;where-comp&gt;
</dt><dd> <b>Syntax:</b> &lt;wherein-comp&gt; | &lt;wherethresh-comp&gt;
</dd><dd> <b>Description:</b> A criteria for the where clause.
</dd></dl><dl><dt> &lt;wherein-comp&gt;
</dt><dd> <b>Syntax:</b> (in|notin) (top | bottom)&lt;int&gt;
</dd><dd> <b>Description:</b> A where-clause criteria that requires the aggregated series value be in or not in some top or bottom grouping.
</dd></dl><dl><dt> &lt;wherethresh-comp&gt;
</dt><dd> <b>Syntax:</b> (&lt;|&gt;)( )?&lt;num&gt;
</dd><dd> <b>Description:</b> A where-clause criteria that requires the aggregated series value be greater than or less than some numeric threshold.
</dd></dl><p><br></p>
<h3> <a name="timechart_bucket_time_spans_versus_per_.2a_functions"><span class="mw-headline" id="Bucket_time_spans_versus_per_.2A_functions"> Bucket time spans versus per_* functions </span></a></h3>
<p>The functions, <code><font size="2">per_day()</font></code>, <code><font size="2">per_hour()</font></code>, <code><font size="2">per_minute()</font></code>, and <code><font size="2">per_second()</font></code> are aggregator functions and are not responsible for setting a time span for the resultant chart. These functions are used to get a consistent scale for the data when an explicit span is not provided. The resulting span can depend on the search time range. 
</p><p>For example, <code><font size="2">per_hour()</font></code> converts the field value so that it is a rate per hour, or sum()/&lt;hours in the span&gt;. If your chart span ends up being 30m, it is sum()*2. 
</p><p>If you want the span to be 1h, you still have to specify the argument <code><font size="2">span=1h</font></code> in your search. 
</p><p><b>Note:</b> You can do <code><font size="2">per_hour()</font></code> on one field and <code><font size="2">per_minute()</font></code> (or any combination of the functions) on a different field in the same search. 
</p>
<h4><font size="3"><b><i> <a name="timechart_a_note_about_split-by_fields"><span class="mw-headline" id="A_note_about_split-by_fields"> A note about split-by fields </span></a></i></b></font></h4>
<p>If you use <code><font size="2">chart</font></code> or <code><font size="2">timechart</font></code>, you cannot use a field that you specify in a function as your split-by field as well. For example, you will not be able to run:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | chart sum(A) by A span=log2</font></code><br></div>
<p>However, you can work around this with an <code><font size="2">eval</font></code> expression, for example:
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | eval A1=A | chart sum(A) by A1 span=log2</font></code><br></div>
<h3> <a name="timechart_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="timechart_example_1"><span class="mw-headline" id="Example_1"> Example 1 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial and a field lookup to add more information to the event data. Before you run this example:
<ul><li> Download the data set from <b>this topic in the Search Tutorial</b> and follow the instructions to upload it to Splunk. 
</li><li> Download the CSV file from <b>this topic in the Search Tutorial</b> and follow the instructions to set up your field lookup. 
</li></ul><p>The original data set includes a <code><font size="2">productId</font></code> field that is the catalog number for the items sold at the Buttercup Games online store. The field lookup adds two new fields to your events: <code><font size="2">product_name</font></code>, which is a descriptive name for the item, and <code><font size="2">price</font></code>, which is the cost of the item.
</p>
</td></tr></table><p>Chart revenue for the different product that were purchased yesterday.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* action=purchase | timechart per_hour(price) by productName usenull=f useother=f</font></code><br></div>
<p>This example searches for all purchase events (defined by the <code><font size="2">action=purchase</font></code>) and pipes those results into the <code><font size="2">timechart</font></code> command. The <code><font size="2">per_hour()</font></code> function sums up the values of the <code><font size="2">price</font></code> field for each item (<code><font size="2">product_name</font></code>) and buckets the total for each hour of the day. 
</p><p>This produces the following table of results in the Statistics tab.
</p><p><img alt="6.0 timechart ex1.1.png" src="images/7/78/6.0_timechart_ex1.1.png" width="700" height="241"></p><p><br>
View and format the report in the Visualizations tab. Here, it's formatted as a stacked column chart over time.
</p><p><img alt="6.0 timechart ex1.2.png" src="images/f/ff/6.0_timechart_ex1.2.png" width="700" height="244"></p><p>After you create this chart, you can mouseover each section to view more metrics for the product purchased at that hour of the day. Notice that the chart does not display the data in hourly spans. Because a span is not provided (such as span=1hr), the per_hour() function converts the value so that it is a sum per hours in the time range (which in this cause is 24 hours).
</p>
<h4><font size="3"><b><i> <a name="timechart_example_2"><span class="mw-headline" id="Example_2"> Example 2 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial and a field lookup to add more information to the event data. Before you run this example, download the data set from <b>this topic in the Search Tutorial</b> and follow the instructions to upload it to Splunk.
</td></tr></table><p>Chart the number of purchases made daily for each type of product. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* action=purchase | timechart span=1d count by categoryId usenull=f</font></code><br></div>
<p>This example searches for all purchases events (defined by the <code><font size="2">action=purchase</font></code>) and pipes those results into the <code><font size="2">timechart</font></code> command. The <code><font size="2">span=1day</font></code> argument buckets the count of purchases over the week into daily chunks. The <code><font size="2">usenull=f</font></code> argument tells Splunk  to ignore any events that contain a NULL value for <code><font size="2">categoryId</font></code>.
</p><p>This produces the following table of results in the Statistics tab.
</p><p><img alt="6.0 timechart ex2.1.png" src="images/3/32/6.0_timechart_ex2.1.png" width="700" height="207"></p><p><br>
View and format the report in the Visualizations tab. Here, it's formatted as a column chart over time.
</p><p><img alt="6.0 timechart ex2.2.png" src="images/5/51/6.0_timechart_ex2.2.png" width="700" height="242"></p><p><br>
Compare the number of different items purchased each day and over the course of the week. It looks like day-to-day, the number of purchases for each item does not vary significantly.
</p>
<h4><font size="3"><b><i> <a name="timechart_example_3"><span class="mw-headline" id="Example_3"> Example 3 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial and a field lookup to add more information to the event data. Before you run this example:
<ul><li> Download the data set from <b>this topic in the Search Tutorial</b> and follow the instructions to upload it to Splunk. 
</li><li> Download the CSV file from <b>this topic in the Search Tutorial</b> and follow the instructions to set up your field lookup. 
</li></ul><p>The original data set includes a <code><font size="2">productId</font></code> field that is the catalog number for the items sold at the Buttercup Games online store. The field lookup adds two new fields to your events: <code><font size="2">product_name</font></code>, which is a descriptive name for the item, and <code><font size="2">price</font></code>, which is the cost of the item.
</p>
</td></tr></table><p>Count the total revenue made for each item sold at the shop over the course of the week. This examples shows two ways to do this.
</p><p><b>1.</b> This first search uses the <code><font size="2">span</font></code> argument to bucket the times of the search results into 1 day increments. Then uses the <code><font size="2">sum()</font></code> function to add the <code><font size="2">price</font></code> for each <code><font size="2">product_name</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* action=purchase | timechart span=1d sum(price) by product_name usenull=f</font></code><br></div>
<p><b>2.</b> This second search uses the <code><font size="2">per_day()</font></code> function to calculate the total of the <code><font size="2">price</font></code> values for each day.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* action=purchase | timechart per_day(price) by product_name usenull=f</font></code><br></div>
<p>Both searches produce the following results table in the Satistics tab.
</p><p><img alt="6.0 timechart ex3.1.png" src="images/d/d4/6.0_timechart_ex3.1.png" width="700" height="220"></p><p><br>
View and format the report in the Visualizations tab. Here, it's formatted as a column chart over time.
</p><p><img alt="6.0 timechart ex3.2.png" src="images/3/3d/6.0_timechart_ex3.2.png" width="700" height="245"></p><p><br>
Now you can compare the total revenue made for items purchased each day and over the course of the week.
</p>
<h4><font size="3"><b><i> <a name="timechart_example_4"><span class="mw-headline" id="Example_4"> Example 4 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial. Download the data set from <b>this topic in the Search Tutorial</b> and follow the instructions to upload it to Splunk. Then, run this search using the Preset time range "Yesterday" or "Last 24 hours".
</td></tr></table><p>Chart a single day's views and purchases at the Buttercup Games online store.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | timechart per_hour(eval(method="GET")) AS Views, per_hour(eval(action="purchase")) AS Purchases</font></code><br></div>
<p>This search uses the <code><font size="2">per_hour()</font></code> function and <code><font size="2">eval</font></code> expressions to search for page views (<code><font size="2">method=GET</font></code>) and purchases (<code><font size="2">action=purchase</font></code>). The results of the <code><font size="2">eval</font></code> expressions are renamed as <code><font size="2">Views</font></code> and <code><font size="2">Purchases</font></code>, respectively. 
</p><p>This produces the following results table in the Statistics tab.
</p><p><img alt="6.0 timechart ex4.1.png" src="images/c/c7/6.0_timechart_ex4.1.png" width="700" height="199"></p><p>View and format the report in the Visualizations tab. Here, it's formatted as an area chart.
</p><p><img alt="6.0 timechart ex4.2.png" src="images/9/99/6.0_timechart_ex4.2.png" width="700" height="247"></p><p><br>
The difference between the two areas indicates that all the views did not lead to purchases. If all views lead to purchases, you would expect the areas to overlay atop each other completely so that there is no difference between the two areas.
</p><p><br></p>
<h4><font size="3"><b><i> <a name="timechart_using_where_clauses"><span class="mw-headline" id="Using_where_clauses"> Using where clauses </span></a></i></b></font></h4>
<p>These examples use the <code><font size="2">where</font></code> clause to control the number of series values returned in the time-series chart.
</p><p><b>Example 1:</b> Show the 5 most rare series based on the minimum count values. All other series values will be labeled as "other".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal | timechart span=1h count by source WHERE min in bottom5</font></code><br></div>
<p><b>Example 2:</b> Show the 5 most frequent series based on the maximum values. All other series values will be labeled as "other".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal | timechart span=1h count by source WHERE max in top5</font></code><br></div>
<p>These two searches return six data series: the five top or bottom series specified and the series labeled <code><font size="2">other</font></code>. To hide the "other" series, specify the argument <code><font size="2">useother=f</font></code>.
</p><p><b>Example 3:</b> Show the source series count of INFO events, but only where the total number of events is larger than 100. All other series values will be labeled as "other".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal | timechart span=1h sum(eval(if(log_level=="INFO",1,0))) by source WHERE sum &gt; 100</font></code><br></div>
<p><br><b>Example 4:</b> Using the where clause with the count function measures the total number of events over the period. This yields results similar to using the sum function.
</p><p>The following two searches returns the sources series with a total count of events greater than 100. All other series values will be labeled as "other".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal | timechart span=1h count by source WHERE count &gt; 100</font></code><br></div>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=_internal | timechart span=1h count by source WHERE sum &gt; 100</font></code><br></div>
<h4><font size="3"><b><i> <a name="timechart_more_examples"><span class="mw-headline" id="More_examples"> More examples </span></a></i></b></font></h4>
<p><b>Example 1:</b> Compute the product of the average "CPU" and average "MEM" each minute for each "host"
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | timechart span=1m eval(avg(CPU) * avg(MEM)) by host</font></code><br></div>
<p><b>Example 2:</b> Display timechart of the avg of cpu_seconds by processor rounded to 2 decimal places.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | timechart eval(round(avg(cpu_seconds),2)) by processor</font></code><br></div>
<p><b>Example 3:</b> Calculate the average value of "CPU" each minute for each "host".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | timechart span=1m avg(CPU) by host</font></code><br></div>
<p><b>Example 4:</b> Create a timechart of average "cpu_seconds" by "host", and remove data (outlying values) that may distort the timechart's axis.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | timechart avg(cpu_seconds) by host | outlier action=tf</font></code><br></div>
<p><b>Example 5:</b> Graph the average "thruput" of hosts over time.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | timechart span=5m avg(thruput) by host</font></code><br></div>
<p><b>Example 6:</b> Example usage
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sshd failed OR failure | timechart span=1m count(eventtype) by source_ip usenull=f where count&gt;10</font></code><br></div>
<h3> <a name="timechart_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#bucket" class="external text">bucket</a>, <a href="#chart" class="external text">chart</a>, <a href="#sitimechart" class="external text">sitimechart</a> 
</p>
<h3> <a name="timechart_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the timechart command.
</p>
<a name="top"></a><h2> <a name="top_top"><span class="mw-headline" id="top"> top </span></a></h2>
<h3> <a name="top_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Displays the most common values of a field.
</p>
<h4><font size="3"><b><i> <a name="top_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>top &lt;top-opt&gt;* &lt;field-list&gt; [&lt;by-clause&gt;]
</p>
<h4><font size="3"><b><i> <a name="top_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;field-list&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;, ...
</dd><dd> <b>Description:</b> Comma-delimited list of field names.
</dd></dl><dl><dt> &lt;top-opt&gt;
</dt><dd> <b>Syntax:</b> countfield=&lt;string&gt; | limit=&lt;int&gt; | otherstr=&lt;string&gt; | percentfield=&lt;string&gt; | showcount=&lt;bool&gt; | showperc=&lt;bool&gt; | useother=&lt;bool&gt; 
</dd><dd> <b>Description:</b> Options for top.
</dd></dl><h4><font size="3"><b><i> <a name="top_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;by-clause&gt;
</dt><dd> <b>Syntax:</b> by &lt;field-list&gt;
</dd><dd> <b>Description:</b> The name of one or more fields to group by.
</dd></dl><h4><font size="3"><b><i> <a name="top_top_options"><span class="mw-headline" id="Top_options"> Top options </span></a></i></b></font></h4>
<dl><dt> countfield
</dt><dd> <b>Syntax:</b> countfield=&lt;string&gt;
</dd><dd> <b>Description:</b> Name of a new field to write the value of count, default is "count".
</dd></dl><dl><dt> limit
</dt><dd> <b>Syntax:</b> limit=&lt;int&gt;
</dd><dd> <b>Description:</b> Specifies how many tuples to return, "0" returns all values. Default is "10". 
</dd></dl><dl><dt> otherstr
</dt><dd> <b>Syntax:</b> otherstr=&lt;string&gt;
</dd><dd> <b>Description:</b> If useother is true, specify the value that is written into the row representing all other values. Default is "OTHER".
</dd></dl><dl><dt> percentfield
</dt><dd> <b>Syntax:</b> percentfield=&lt;string&gt;
</dd><dd> <b>Description:</b> Name of a new field to write the value of percentage, default is "percent".
</dd></dl><dl><dt> showcount
</dt><dd> <b>Syntax:</b> showcount=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether to create a field called "count" (see "countfield" option) with the count of that tuple. Default is true.
</dd></dl><dl><dt> showperc
</dt><dd> <b>Syntax:</b> showperc=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether to create a field called "percent" (see "percentfield" option) with the relative prevalence of that tuple. Default is true.
</dd></dl><dl><dt> useother
</dt><dd> <b>Syntax:</b> useother=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether or not to add a row that represents all values not included due to the limit cutoff. Default is false.
</dd></dl><h3> <a name="top_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Finds the most frequent tuple of values of all fields in the field list, along with a count and percentage. If a the optional by-clause is provided, we will find the most frequent values for each distinct tuple of values of the group-by fields.
</p>
<h3> <a name="top_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return the 20 most common values of the "referer" field.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | top limit=20 referer</font></code><br></div>
<p><img alt="Searchref top ex1.1.png" src="images/6/6e/Searchref_top_ex1.1.png" width="700" height="209"></p><p><br><b>Example 2:</b> Return top "action" values for each "referer_domain".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | top action by referer_domain</font></code><br></div>
<p>Because a limit is specified, this will return all the combinations of values for "action" and "referer_domain" as well as the counts and percentages:
</p><p><img alt="Searchref top ex2.1.png" src="images/3/3c/Searchref_top_ex2.1.png" width="700" height="240"></p><p><br><b>Example 3:</b> Return the top products purchased for each category, but don't show the percent field, and rename the count field to "total".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* status=200 action=purchase | top 1 productName by categoryId showperc=f countfield=total</font></code><br></div>
<p><img alt="Searchref top ex3.1.png" src="images/f/fc/Searchref_top_ex3.1.png" width="700" height="169"></p>
<h3> <a name="top_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#rare" class="external text">rare</a>, <a href="#sitop" class="external text">sitop</a>, <a href="#stats" class="external text">stats</a>
</p>
<h3> <a name="top_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the top command.
</p>
<a name="transaction"></a><h2> <a name="transaction_transaction"><span class="mw-headline" id="transaction"> transaction </span></a></h2>
<p>Given events as input, this command finds transactions based on events that meet various constraints. Transactions are made up of the raw text (the <code><font size="2">_raw</font></code> field) of each member, the time and date fields of the earliest member, as well as the union of all other fields of each member. 
</p><p>Additionally, the <code><font size="2">transaction</font></code> command produces two fields to the raw events, <code><font size="2">duration</font></code> and <code><font size="2">eventcount</font></code>. The <code><font size="2">duration</font></code> value is the difference between the timestamps for the first and last events in the transaction. The <code><font size="2">eventcount</font></code> value is the number of events in the transaction.
</p><p>Read more about transactions in the Search Manual.
</p>
<h3> <a name="transaction_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Groups events into transactions.
</p>
<h4><font size="3"><b><i> <a name="transaction_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>transaction [&lt;field-list&gt;] [name=&lt;transaction-name&gt;] &lt;txn_definition-opt&gt;* &lt;memcontrol-opt&gt;* &lt;rendering-opt&gt;*
</p>
<h4><font size="3"><b><i> <a name="transaction_arguments"><span class="mw-headline" id="Arguments"> Arguments </span></a></i></b></font></h4>
<dl><dt> field-list
</dt><dd> <b>Syntax:</b> &lt;string&gt;, ...
</dd><dd> <b>Description:</b> One field or a list of field names. The events are grouped into transactions based on the values of this field. If a quoted list of fields is specified, events are grouped together if they have the same value for each of the fields.
</dd></dl><dl><dt> memcontrol-opt
</dt><dd> <b>Syntax:</b> &lt;maxopentxn&gt; | &lt;maxopenevents&gt; | &lt;keepevicted&gt;
</dd><dd> <b>Description:</b> These options control the memory usage for your transactions. They are not required, but you can use 0 or more of the options to define your transaction.
</dd></dl><dl><dt> name
</dt><dd> <b>Syntax:</b> name=&lt;transaction-name&gt;
</dd><dd> <b>Description:</b> The name of a stanza from <code><font size="2">transactiontypes.conf</font></code> to be used for finding transactions. If other configuration arguments (such as maxspan) are provided, they overrule the values of that parameter that is specified in the transaction definition.
</dd></dl><dl><dt> rendering-opt
</dt><dd> <b>Syntax:</b> &lt;delim&gt; | &lt;mvlist&gt; | &lt;mvraw&gt; | &lt;nullstr&gt;
</dd><dd> <b>Description:</b> These options control the multivalue rendering for your transactions. They are not required, but you can use 0 or more of the options to define your transaction.
</dd></dl><dl><dt> txn_definition-opt
</dt><dd> <b>Syntax:</b> &lt;maxspan&gt; | &lt;maxpause&gt; | &lt;maxevents&gt; | &lt;startswith&gt; | &lt;endswith&gt; | &lt;connected&gt; | &lt;unifyends&gt; | &lt;keeporphans&gt;
</dd><dd> <b>Description:</b> Use these option to define your transactions. They are not required, but you can use 0 or more of the options to define your transaction.
</dd></dl><h4><font size="3"><b><i> <a name="transaction_transaction_definition_options"><span class="mw-headline" id="Transaction_definition_options"> Transaction definition options </span></a></i></b></font></h4>
<dl><dt> connected=&lt;bool&gt;
</dt><dd> <b>Description:</b> Only relevant if a field or fields list is specified. If an event contains fields required by the transaction, but none of these fields have been instantiated in the transaction (added with a previous event), this opens a new transaction (connected=t) or adds the event to the transaction (connected=f).
</dd></dl><dl><dt> endswith=&lt;filter-string&gt;
</dt><dd> <b>Description:</b> A search or eval filtering expression which, if satisfied by an event, marks the end of a transaction.
</dd></dl><dl><dt> keeporphans=&lt;bool&gt;
</dt><dd> <b>Description:</b> Specify whether the transaction command should output the results that are not part of any transactions. The results that are passed through as "orphans" are distinguished from transaction events with a <code><font size="2">_txn_orphan</font></code> field, which has a value of 1 for orphan results. Defaults to false.
</dd></dl><dl><dt> maxspan=&lt;int&gt;[s|m|h|d]
</dt><dd> <b>Description:</b> The maxspan constraint requires the transaction's events to span less than maxspan. If value is negative, disable the maxspan constraint. By default, maxspan=-1 (no limit).
</dd></dl><dl><dt> maxpause=&lt;int&gt;[s|m|h|d]
</dt><dd> <b>Description:</b> The maxpause constraint requires there be no pause between a transaction's events of greater than maxpause. If value is negative, disable the maxpause constraint. By default, maxpause=-1 (no limit).
</dd></dl><dl><dt> maxevents=&lt;int&gt;
</dt><dd> <b>Description:</b> The maximum number of events in a transaction. If the value is negative this constraint is disabled. By default, maxevents=1000.
</dd></dl><dl><dt> startswith=&lt;filter-string&gt;
</dt><dd> <b>Description:</b> A search or eval filtering expression which if satisfied by an event marks the beginning of a new transaction.
</dd></dl><dl><dt> unifyends=&lt;bool&gt;
</dt><dd> <b>Description:</b> Whether to force events that match startswith/endswith constraint(s) to also match at least one of the fields used to unify events into a transaction. By default, unifyends=f.
</dd></dl><h4><font size="3"><b><i> <a name="transaction_filter_string_options"><span class="mw-headline" id="Filter_string_options"> Filter string options </span></a></i></b></font></h4>
<dl><dt> &lt;filter-string&gt;
</dt><dd> <b>Syntax:</b> &lt;search-expression&gt; | (&lt;quoted-search-expression&gt;) | eval(&lt;eval-expression&gt;) 
</dd><dd> <b>Description:</b> A search or eval filtering expression which if satisfied by an event marks the end of a transaction. 
</dd></dl><dl><dt> &lt;search-expression&gt; 
</dt><dd> <b>Description:</b> A valid search expression that does not contain quotes.
</dd></dl><dl><dt> &lt;quoted-search-expression&gt; 
</dt><dd> <b>Description:</b> A valid search expression that contains quotes.
</dd></dl><dl><dt> &lt;eval-expression&gt; 
</dt><dd> <b>Description:</b> A valid eval expression that evaluates to a Boolean.
</dd></dl><h4><font size="3"><b><i> <a name="transaction_memory_constraint_options"><span class="mw-headline" id="Memory_constraint_options"> Memory constraint options </span></a></i></b></font></h4>
<dl><dt> keepevicted=&lt;bool&gt;
</dt><dd> <b>Description:</b> Whether to output evicted transactions. Evicted transactions can be distinguished from non-evicted transactions by checking the value of the 'closed_txn' field, which is set to '0' for evicted transactions and '1' for closed ones. 'closed_txn' is set to '1' if one of the following conditions is hit: maxevents, maxpause, maxspan, startswith (for this last one, because transaction sees events in reverse time order, it closes a transaction when it satisfies the start condition). If none of these conditions is specified, all transactions will be output even though all transactions will have 'closed_txn' set to '0'. A transaction can also be evicted when the memory limitations are reached.
</dd></dl><dl><dt> maxopenevents=&lt;int&gt;
</dt><dd><b>Description:</b> Specifies the maximum number of events (which are) part of open transactions before transaction eviction starts happening, using LRU policy. The default value of this field is read from the transactions stanza in limits.conf.
</dd></dl><dl><dt> maxopentxn=&lt;int&gt;
</dt><dd> <b>Description:</b> Specifies the maximum number of not yet closed transactions to keep in the open pool before starting to evict transactions, using LRU policy. The default value of this field is read from the transactions stanza in limits.conf.
</dd></dl><h4><font size="3"><b><i> <a name="transaction_multivalue_rendering_options"><span class="mw-headline" id="Multivalue_rendering_options"> Multivalue rendering options </span></a></i></b></font></h4>
<dl><dt> delim=&lt;string&gt;
</dt><dd> <b>Description:</b> Specify a character to separate multiple values. When used in conjunction with mvraw=t, represents a string used to delimit the values of _raw. Defaults to a space, " ".
</dd></dl><dl><dt> mvlist=&lt;bool&gt; | &lt;field-list&gt;
</dt><dd><b> Description:</b> Flag controlling whether the multivalued fields of the transaction are (mvlist=t) a list of the original events ordered in arrival order or (mvlist=f) a set of unique field values ordered lexigraphically. If a comma/space delimited list of fields is provided only those fields are rendered as lists. Defaults to f.
</dd></dl><dl><dt> mvraw=&lt;bool&gt;
</dt><dd> <b>Description:</b> Used to specify whether the <code><font size="2">_raw</font></code> field of the transaction search result should be a multivalued field. Defaults to f.
</dd></dl><dl><dt> nullstr=&lt;string&gt;
</dt><dd> <b>Description:</b> A string value to use when rendering missing field values as part of multivalued fields in a transaction. This option applies only to fields that are rendered as lists. Defaults to NULL.
</dd></dl><h3> <a name="transaction_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
Splunk Enterprise does not necessarily interpret the transaction defined by multiple fields as a conjunction (<code><font size="2">field1 AND field2 AND field3</font></code>) or a disjunction (<code><font size="2">field1 OR field2 OR field3</font></code>) of those fields. If there is a transitive relationship between the fields in the fields list and if the related events appear in the correct sequence, each with a different timestamp, <code><font size="2">transaction</font></code> command will try to use it. For example, if you searched for <div class="inlineQuery splunk_search_4_3"><code><font size="2">... | transaction host cookie</font></code><br></div>
<p>you might see the following events grouped into a transaction:
</p>
<code><font size="2"><br>event=1 host=a<br>event=2 host=a cookie=b<br>event=3 cookie=b<br></font></code>
<h3> <a name="transaction_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<h4><font size="3"><b><i> <a name="transaction_example_1"><span class="mw-headline" id="Example_1"> Example 1 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial. Download the data set from <b>this topic in the tutorial</b> and follow the instructions to upload it to Splunk. Then, run this search using the time range, <b>Other &gt; Yesterday</b>.
</td></tr></table><p>Define a transaction based on Web access events that share the same IP address. The first and last events in the transaction should be no more than thirty seconds apart and each event should not be longer than five seconds apart. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | transaction clientip maxspan=30s maxpause=5s</font></code><br></div>
<p>This produces the following events list:
</p><p><img alt="TransactionExample2.png" src="images/8/83/TransactionExample2.png" width="700" height="355"></p><p><br>
This search groups events together based on the IP addresses accessing the server and the time constraints. 
The search results may have multiple values for some fields, such as <code><font size="2">host</font></code> and <code><font size="2">source</font></code>. For example, requests from a single IP could come from multiple hosts if multiple people were shopping from the same office. For more information, read the topic  "About transactions" in the <i>Knowledge Manager manual</i>.
</p>
<h4><font size="3"><b><i> <a name="transaction_example_2"><span class="mw-headline" id="Example_2"> Example 2 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial. Download the data set from <b>this topic in the tutorial</b> and follow the instructions to upload it to Splunk. Then, run this search using the time range, <b>Other &gt; Yesterday</b>.
</td></tr></table><p>Define a transaction based on Web access events that have a unique combination of <code><font size="2">host</font></code> and <code><font size="2">clientip</font></code>  values. The first and last events in the transaction should be no more than thirty seconds apart and each event should not be longer than five seconds apart.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | transaction clientip host maxspan=30s maxpause=5s</font></code><br></div>
<p>This produces the following events list:
</p><p><img alt="TransactionExample1.png" src="images/b/b4/TransactionExample1.png" width="700" height="247"></p><p><br>
In contrast to the transaction in Example 1, each of these events have a distinct combination of the IP address (<code><font size="2">clientip</font></code> values) and <code><font size="2">host</font></code> values within the limits of the time constraints. Thus, you should not see different values of <code><font size="2">host</font></code> or <code><font size="2">clientip</font></code> addresses among the events in a single transaction.
</p>
<h4><font size="3"><b><i> <a name="transaction_example_3"><span class="mw-headline" id="Example_3"> Example 3 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial. Download the data set from <b>this topic in the tutorial</b> and follow the instructions to upload it to Splunk. Then, run this search using the time range, <b>Other &gt; Yesterday</b>.
</td></tr></table><p>Define a purchase transaction as 3 events from one IP address which occur in a ten minute span of time. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* action=purchase | transaction clientip maxspan=10m maxevents=3</font></code><br></div>
<p>This search defines a purchase event based on Web access events that have the <code><font size="2">action=purchase</font></code> value. These results are then piped into the <code><font size="2">transaction</font></code> command. This search identifies purchase transactions by events that share the same <code><font size="2">clientip</font></code>, where each session lasts no longer than 10 minutes, and includes no more than three events.
</p><p>This produces the following events list:
</p><p><img alt="TransactionEx3 eventsList.png" src="images/b/b3/TransactionEx3_eventsList.png" width="700" height="347"></p><p><br>
This above results show the same IP address appearing from different host domains.
</p>
<h4><font size="3"><b><i> <a name="transaction_example_4"><span class="mw-headline" id="Example_4"> Example 4 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses generated email data (<code><font size="2">sourcetype=cisco_esa</font></code>). You should be able to run this example on any email data by replacing the <code><font size="2">sourcetype=cisco_esa</font></code> with your data's <code><font size="2">sourcetype</font></code> value.
</td></tr></table><p>Define an email transaction as a group of up to 10 events each containing the same value for the <code><font size="2">mid</font></code> (message ID), <code><font size="2">icid</font></code> (incoming connection ID), and <code><font size="2">dcid</font></code> (delivery connection ID) and with the last event in the transaction containing a "Message done" string.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype="cisco_esa" | transaction mid dcid icid maxevents=10 endswith="Message done"</font></code><br></div> 
<p>This produces the following events list:
</p><p><img alt="TransactionEx4 eventsList.png" src="images/9/9a/TransactionEx4_eventsList.png" width="700" height="375"></p><p><br>
Here, you can see that each transaction has no more than ten events. Also, the last event includes the string, "Message done" in the event line.
</p><p><br></p>
<h4><font size="3"><b><i> <a name="transaction_example_5"><span class="mw-headline" id="Example_5"> Example 5 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses generated email data (<code><font size="2">sourcetype=cisco_esa</font></code>). You should be able to run this example on any email data by replacing the <code><font size="2">sourcetype=cisco_esa</font></code> with your data's <code><font size="2">sourcetype</font></code> value.
</td></tr></table><p>Define an email transaction as a group of up to 10 events each containing the same value for the <code><font size="2">mid</font></code> (message ID), <code><font size="2">icid</font></code> (incoming connection ID), and <code><font size="2">dcid</font></code> (delivery connection ID). The first and last events in the transaction should be no more than five seconds apart and each transaction should have no more than ten events.  
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype="cisco_esa" | transaction mid dcid icid maxevents=10 maxspan=5s mvlist=t</font></code><br></div>
<p>By default, the values of multivalue fields are suppressed in search results (<code><font size="2">mvlist=f</font></code>). Specifying <code><font size="2">mvlist=t</font></code> in this search tells Splunk to display all the values of the selected fields. This produces the following events list:
</p><p><img alt="TransactionEx5 eventsList.png" src="images/d/dc/TransactionEx5_eventsList.png" width="700" height="278"></p><p><br>
Here you can see that each transaction has a duration that is less than five seconds. Also, if there is more than one value for a field, each of the values is listed.
</p><p><br></p>
<h4><font size="3"><b><i> <a name="transaction_example_6"><span class="mw-headline" id="Example_6"> Example 6 </span></a></i></b></font></h4>
<table cellpadding="10" cellspacing="0" border="1" width="100%"><tr><td valign="center" align="left">This example uses the sample dataset from the Search Tutorial. Download the data set from <b>this topic in the tutorial</b> and follow the instructions to upload it to Splunk. Then, run this search using the time range, <b>All time</b>.
</td></tr></table><p>Define a transaction as a group of events that have the same session ID (<code><font size="2">JSESSIONID</font></code>) and come from the same IP address (<code><font size="2">clientip</font></code>) and where the first event contains the string, "signon", and the last event contains the string, "purchase".
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=access_* | transaction JSESSIONID clientip startswith="*signon*" endswith="purchase" | where duration&gt;0</font></code><br></div>
<p>The search defines the first event in the transaction as events that include the string, "signon", using the <code><font size="2">startswith="*signon*"</font></code> argument. The <code><font size="2">endswith="purchase"</font></code> argument does the same for the last event in the transaction. 
</p><p>This example then pipes the transactions into the <code><font size="2">where</font></code> command and the <code><font size="2">duration</font></code> field to filter out all the transactions that took less than a second to complete:
</p><p><img alt="TransactionEx6.png" src="images/e/e7/TransactionEx6.png" width="700" height="249"></p><p>You might be curious about why the transactions took a long time, so viewing these events may help you to troubleshoot. You won't see it in this data, but some transactions may take a long time because the user is updating and removing items from his shopping cart before he completes the purchase.
</p>
<h4><font size="3"><b><i> <a name="transaction_more_examples"><span class="mw-headline" id="More_examples"> More examples </span></a></i></b></font></h4>
<p><b>Example 1:</b> Group search results that that have the same host and cookie value, occur within 30 seconds, and do not have a pause of more than 5 seconds between the events.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | transaction host cookie maxspan=30s maxpause=5s</font></code><br></div>
<p><b>Example 2:</b> Group search results that have the same value of "from", with a maximum span of 30 seconds, and a pause between events no greater than 5 seconds into a transaction.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | transaction from maxspan=30s maxpause=5s</font></code><br></div>
<h3> <a name="transaction_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the transaction command.
</p>
<a name="transpose"></a><h2> <a name="transpose_transpose"><span class="mw-headline" id="transpose"> transpose </span></a></h2>
<h3> <a name="transpose_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Returns the specified number of rows (search results) as columns (list of field values), such that each search row becomes a column.
</p>
<h4><font size="3"><b><i> <a name="transpose_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>transpose [int]
</p>
<h4><font size="3"><b><i> <a name="transpose_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> int
</dt><dd> <b>Syntax:</b> &lt;int&gt;
</dd><dd> <b>Description:</b> Limit the number of rows to transpose. Default is 5.
</dd></dl><h3> <a name="transpose_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Transpose your first five search results, so that each column represents an event and each row, the field values.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | transpose</font></code><br></div>
<h3> <a name="transpose_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#fields" class="external text">fields</a>, <a href="#stats" class="external text">stats</a>
</p>
<h3> <a name="transpose_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the transpose command.
</p>
<a name="trendline"></a><h2> <a name="trendline_trendline"><span class="mw-headline" id="trendline"> trendline </span></a></h2>
<h3> <a name="trendline_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Computes the moving averages of fields.
</p>
<h4><font size="3"><b><i> <a name="trendline_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>trendline &lt;trendtype&gt;&lt;period&gt;(&lt;field&gt;) [AS &lt;newfield&gt;]
</p>
<h4><font size="3"><b><i> <a name="trendline_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> trendtype
</dt><dd> <b>Syntax:</b> syntax = sma | ema | wma
</dd><dd> <b>Description:</b> The type of trend to compute. Current supported trend types include simple moving average (sma), exponential moving average (ema), and weighted moving average (wma).
</dd></dl><dl><dt> period
</dt><dd> <b>Syntax:</b> &lt;num&gt;
</dd><dd> <b>Description:</b> The period over which to compute the trend, an integer between 2 and 10000.
</dd></dl><dl><dt> &lt;field&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> The name of the field on which to calculate the trend.
</dd></dl><h4><font size="3"><b><i> <a name="trendline_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;newfield&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Specify a new field name to write the output to. Defaults to &lt;trendtype&gt;&lt;period&gt;(&lt;field&gt;).
</dd></dl><h3> <a name="trendline_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Computes the moving averages of fields: simple moving average (sma), exponential moving average(ema), and weighted moving average(wma) The output is written to a new field, which you can specify.
</p><p>SMA and WMA both compute a sum over the <code><font size="2">period</font></code> of most recent values. WMA puts more weight on recent values rather than past values. EMA is calculated using the following formula.
</p>
<code><font size="2">EMA(t) = alpha * EMA(t-1) + (1 - alpha) * field(t)<br></font></code>
<p>where <code><font size="2">alpha = 2/(period + 1)</font></code> and <code><font size="2">field(t)</font></code> is the current value of a field.
</p>
<h3> <a name="trendline_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Computes a five event simple moving average for field 'foo' and write to new field 'smoothed_foo.' Also, in the same line, computes ten event exponential moving average for field 'bar' and write to field 'ema10(bar)'.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | trendline sma5(foo) as smoothed_foo ema10(bar)</font></code><br></div>
<p><b>Example 2:</b> Overlay a trendline over a chart of events by month.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index="bar" | stats count by date_month | trendline sma2(count) as trend | fields * trend</font></code><br></div>
<h3> <a name="trendline_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#accum" class="external text">accum</a>, <a href="#autoregress" class="external text">autoregress</a>, <a href="#delta" class="external text">delta</a>, <a href="#streamstats" class="external text">streamstats</a>
</p>
<h3> <a name="trendline_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the trendline command.
</p>
<a name="tscollect"></a><h2> <a name="tscollect_tscollect"><span class="mw-headline" id="tscollect"> tscollect </span></a></h2>
<p>The <code><font size="2">tscollect</font></code> command uses indexed fields to create <b>time series index (tsidx) files</b> in a namespace that you define. The result tables in these files are a subset of the data that you've already indexed. This then enables you to use the <code><font size="2"><a href="#tstats" class="external text">tstats</a></font></code> command to search and report on these tsidx files instead of searching raw data. Because you are searching on a subset of the full index, the search should complete faster than it would otherwise.
</p><p><code><font size="2">tscollect</font></code> can create multiple tsidx files in the same namespace. It will begin a new tsidx file when it determines that the one it's currently creating has gotten big enough.  
</p><p><b>Note:</b> If you are upgrading from Splunk Enterprise 5.x and you used the experimental version of the <code><font size="2">tscollect</font></code> command in that release, the format of the tsidx files in Splunk Enterprise 6.x is not compatible with the earlier version.
</p>
<h3> <a name="tscollect_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Writes results into tsidx file(s) for later use by <a href="#tstats" class="external text">tstats command</a>. 
</p><p><b>Important:</b> The 'indexes_edit' capability is required to run this command.
</p>
<h4><font size="3"><b><i> <a name="tscollect_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>... | tscollect namespace=&lt;string&gt; [squashcase=&lt;bool&gt;] [keepresults=&lt;bool&gt;]
</p>
<h4><font size="3"><b><i> <a name="tscollect_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> keepresults
</dt><dd> <b>Syntax:</b> keepresults = true | false
</dd><dd> <b>Description:</b> If true, tscollect outputs the same results it received as input. If false, tscollect returns the count of results processed (this is more efficient since it does not need to store as many results). Defaults to false.
</dd></dl><dl><dt> namespace
</dt><dd> <b>Syntax:</b> namespace=&lt;string&gt;
</dd><dd> <b>Description:</b> Define a location for the tsidx file(s). If namespace is provided, the tsidx files are written to a directory of that name under the main tsidxstats directory (that is, within <code><font size="2">$SPLUNK_DB/tsidxstats</font></code>). These namespaces can be written to multiple times to add new data. If namespace is not provided, the files are written to a directory within the job directory of that search, and will live as long as the job does. This namespace location is also configurable in <code><font size="2">indexes.conf</font></code>, with the attribute <code><font size="2">tsidxStatsHomePath</font></code>.
</dd></dl><dl><dt> squashcase
</dt><dd> <b>Syntax:</b> squashcase = true | false
</dd><dd> <b>Description:</b> Specify whether or not the case for the entire field::value tokens are case sensitive when it is put into the lexicon. To create indexed field tsidx files similar to Splunk's, set squashcase=true for results to be converted to all lowercase. Defaults to false.
</dd></dl><h3> <a name="tscollect_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Write the results table to tsidx files in namespace foo.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2"> ... | tscollect namespace=foo</font></code><br></div>
<p><b>Example 2:</b> Retrieve events from the main index and write the values of field foo to tsidx files in the job directory.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2"> index=main | fields foo | tscollect</font></code><br></div>
<h3> <a name="tscollect_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#collect" class="external text">collect</a>, <a href="#stats" class="external text">stats</a>, <a href="#tstats" class="external text">tstats</a>
</p>
<h3> <a name="tscollect_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the tscollect command.
</p>
<a name="tstats"></a><h2> <a name="tstats_tstats"><span class="mw-headline" id="tstats"> tstats </span></a></h2>
<p>Use the tstats command to perform statistical queries on indexed fields in tsidx files, which could come from normal index data, tscollect data, or accelerated datamodels.
</p>
<h3> <a name="tstats_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Performs statistics on indexed fields in tsidx files.
</p>
<h4><font size="3"><b><i> <a name="tstats_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>tstats [prestats=&lt;bool&gt;] [local=&lt;bool&gt;] [append=&lt;bool&gt;] [summariesonly=&lt;bool&gt;] [allow_old_summaries=&lt;bool&gt;] [chunk_size=&lt;unsigned int&gt;] &lt;stats-func&gt;  [ FROM ( &lt;namespace&gt; | sid=&lt;tscollect-job-id&gt; | datamodel=&lt;datamodel-name&gt; )] [WHERE &lt;search-query&gt;] [( by | GROUPBY ) &lt;field-list&gt; [span=&lt;timespan&gt;] ]
</p>
<h4><font size="3"><b><i> <a name="tstats_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;stats-func&gt;
</dt><dd> <b>Syntax:</b> count(&lt;field&gt;) | ( avg | dc | earliest | estdc | exactperc | first | last | latest | median | max | min | mode | perc | p | range | stdev | stdevp | sum | sumsq | upperperc | values | var | varp )(&lt;field&gt;) [AS &lt;string&gt;]
</dd><dd> <b>Description:</b> Either perform a basic count of a field or perform a function on a field. You can provide any number of aggregates to perform. You can also rename the result using 'AS', unless you are in prestats mode. For the complete list of functions with examples, see "<a href="#commonstatsfunctions" class="external text">Functions for stats</a>".
</dd></dl><dl><dt> namespace
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Define a location for the tsidx file with <code><font size="2">$SPLUNK_DB/tsidxstats</font></code>. This namespace location is also configurable in <code><font size="2">indexes.conf</font></code>, with the attribute <code><font size="2">tsidxStatsHomePath</font></code>.
</dd></dl><dl><dt> sid
</dt><dd> <b>Syntax:</b> sid=&lt;tscollect-job-id&gt;
</dd><dd> <b>Description:</b> The job ID string of a tscollect search (that generated tsidx files).
</dd></dl><dl><dt> datamodel
</dt><dd> <b>Syntax:</b> datamodel=&lt;datamodel-name&gt;
</dd><dd> <b>Description:</b> The name of an accelerated data model.
</dd></dl><h4><font size="3"><b><i> <a name="tstats_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> append
</dt><dd> <b> Syntax:</b> append=&lt;bool&gt;
</dd><dd> <b>Description:</b> When in prestats mode (<code><font size="2">prestats=t</font></code>), enables <code><font size="2">append=t</font></code> where the prestats results append to existing results, instead of generating them.
</dd></dl><dl><dt> allow_old_summaries
</dt><dd> <b>Syntax:</b> allow_old_summaries=true | false
</dd><dd> <b>Description:</b> Only applies when selecting from an accelerated datamodel.  When false, Splunk only provides results from summary directories when those directories are up-to-date. That is, if the datamodel definition has changed, those summary directories which are older than the new definition are not used when producing output from tstats. This default ensures that the output from tstats will always reflect your current configuration.  When set to true, tstats will use both current summary data and summary data that was generated prior to the definition change.  Essentially this is an advanced performance feature for cases where you know that the old summaries are "good enough". Defaults to false.  
</dd></dl><dl><dt> chunk_size
</dt><dd> <b>Syntax:</b> chunk_size=&lt;unsigned_int&gt;
</dd><dd> <b>Description:</b> Advanced option. This argument controls how many events are retrieved at a time within a single TSIDX file when answering queries. Only consider supplying a lower value for this if you find a particular query is using too much memory. The case that could cause this would be an excessively high cardinality split-by, such as grouping by several fields that have a very large amount of distinct values. Setting this value too low can negatively impact the overall run time of your query. Defaults to 10000000.
</dd></dl><dl><dt> local
</dt><dd> <b>Syntax:</b> local=true | false
</dd><dd> <b>Description:</b> If true, forces the processor to be run only on the search head. Defaults to false.
</dd></dl><dl><dt> prestats
</dt><dd> <b>Syntax:</b> prestats=true | false
</dd><dd> <b>Description:</b> Use this to output the answer in prestats format, which enables you to pipe the results to a different type of processor, such as <a href="#chart" class="external text">chart</a> or <a href="#timechart" class="external text">timechart</a>, that takes prestats output. This is very useful for creating graph visualizations. Defaults to false.
</dd></dl><dl><dt> summariesonly
</dt><dd> <b>Syntax:</b> summariesonly=&lt;bool&gt;
</dd><dd> <b>Description:</b> Only applies when selecting from an accelerated datamodel.  When false, generates results from both summarized data and data that is not summarized. For data not summarized as TSIDX data, the full search behavior will be used against the original index data. If set to true, 'tstats' will only generate results from the TSIDX data that has been automatically generated by the acceleration and non-summarized data will not be provided. Defaults to false.                    
</dd></dl><dl><dt> &lt;field-list&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;, &lt;field&gt;, ...
</dd><dd> <b>Description:</b> Specify a list of fields to group results.
</dd></dl><h3> <a name="tstats_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">tstats</font></code> command is a generating processor, so it must be the first command in a search pipeline except in append mode (<code><font size="2">append=t</font></code>).
</p><p>Use the tstats command to perform statistical queries on indexed fields in tsidx fields. You can select from data in several different ways:
</p><p><b>1.</b> Normal index data: If you do not supply a FROM clause (to specify a namespace, search job ID, or datamodel), Splunk selects from index data in the same way as search. You are restricted to selecting from your allowed indexes by role, and you can control exactly which indexes you select from in the WHERE clause. If no indexes are mentioned in the WHERE clause search, Splunk uses the default index(es). By default, role-based search filters are applied, but can be turned off in limits.conf.
</p><p><b>2.</b> Data manually collected with <a href="#tscollect" class="external text">tscollect</a>: Select from your namespace with <code><font size="2">FROM &lt;namespace&gt;</font></code>. If you didn't supply a namespace to tscollect, the data was collected into the dispatch directory of that job. In that case, select from that data with <code><font size="2">FROM sid=&lt;tscollect-job-id&gt;</font></code>.
</p><p><b>3.</b> A high-performance analytics store (collection of <code><font size="2">.tsidx</font></code> data summaries) for an accelerated data model: Select from this accelerated data model with <code><font size="2">FROM datamodel=&lt;datamodel-name&gt;</font></code>. 
</p><p>You might see a count mismatch in the events retrieved when searching tsidx files. This is because it's not possible to distinguish between indexed field tokens and raw tokens in tsidx files. On the other hand, it is more explicit to run tstats on accelerated datamodels or from a <code><font size="2">tscollect</font></code>, where only the fields and values are stored and not the raw tokens.
</p>
<h4><font size="3"><b><i> <a name="tstats_filtering_with_where"><span class="mw-headline" id="Filtering_with_where"> Filtering with where </span></a></i></b></font></h4>
<p>You can provide any number of aggregates  (<code><font size="2">aggregate-opt</font></code>) to perform and also have the option of providing a filtering query using the WHERE keyword. This query looks like a normal query you would use in the search processor. This supports all the same time arguments as search, such as earliest=-1y.
</p>
<h4><font size="3"><b><i> <a name="tstats_grouping_by_time"><span class="mw-headline" id="Grouping_by_time"> Grouping by _time </span></a></i></b></font></h4>
<p>You can provide any number of GROUPBY fields. If you are grouping by <code><font size="2">_time</font></code>, you should supply a timespan with <code><font size="2">span</font></code> for grouping the time buckets. This timespan looks like any normal timespan in Splunk, such as <code><font size="2">span='1hr'</font></code> or <code><font size="2">'3d'</font></code>. It also supports 'auto'.
</p>
<h3> <a name="tstats_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Gets the count of all events in  the <code><font size="2">mydata</font></code> namespace.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| tstats count FROM mydata</font></code><br></div>
<p><b>Example 2:</b> Returns the average of the field <code><font size="2">foo</font></code> in <code><font size="2">mydata</font></code>, specifically where <code><font size="2">bar</font></code> is <code><font size="2">value2</font></code> and the value of <code><font size="2">baz</font></code> is greater than 5.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| tstats avg(foo) FROM mydata WHERE bar=value2 baz&gt;5</font></code><br></div>
<p><b>Example 3:</b> Gives the count by source for events with host=x.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| tstats count where host=x by source</font></code><br></div>
<p><b>Example 4:</b> Gives a timechart of all the data in your default indexes with a day granularity. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| tstats prestats=t count by _time span=1d | timechart span=1d count</font></code><br></div>
<p><b>Example 5:</b> Use prestats mode in conjunction with append to compute the median values of foo and bar, which are in different namespaces.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| tstats prestats=t median(foo) from mydata | tstats prestats=t append=t median(bar) from otherdata | stats median(foo) median(bar)</font></code><br></div>
<p><b>Example 6:</b> Uses the <code><font size="2">summariesonly</font></code> argument to get the time range of the summary for an accelerated data model named <code><font size="2">mydm</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| tstats summariesonly=t min(_time) as min, max(_time) as max from datamodel=mydm | eval prettymin=strftime(min, "%c") | eval prettymax=strftime(max, "%c")</font></code><br></div>
<p><b>Example 7:</b> Uses <code><font size="2">summariesonly</font></code> in conjunction with <code><font size="2">timechart</font></code> to reveal what data has been summarized over the past hour for an accelerated data model titled <code><font size="2">mydm</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| tstats summariesonly=t prestats=t count from datamodel=mydm by _time span=1h | timechart span=1h count</font></code><br></div>
<h3> <a name="tstats_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#stats" class="external text">stats</a>, <a href="#tscollect" class="external text">tscollect</a>
</p>
<h3> <a name="tstats_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the tstats command.
</p>
<a name="typeahead"></a><h2> <a name="typeahead_typeahead"><span class="mw-headline" id="typeahead"> typeahead </span></a></h2>
<h3> <a name="typeahead_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Returns a max of <code><font size="2">count</font></code> results on a specified prefix. It can be targeted to an index and restricted by time.
</p>
<h3> <a name="typeahead_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>typeahead prefix=&lt;string&gt; count=&lt;int&gt; [max_time=&lt;int&gt;] [&lt;index-specifier&gt;] [&lt;starttimeu&gt;] [&lt;endtimeu&gt;] [<i>collapse</i>]
</p>
<h4><font size="3"><b><i> <a name="typeahead_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> prefix
</dt><dd> <b>Syntax:</b> prefix=&lt;string&gt;
</dd><dd> <b>Description:</b> The full search string to return typeahead information.
</dd></dl><dl><dt> count
</dt><dd> <b>Syntax:</b> count=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum number of results to return.
</dd></dl><h4><font size="3"><b><i> <a name="typeahead_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> index-specifier
</dt><dd> <b>Syntax:</b> index=&lt;string&gt;
</dd><dd> <b>Description:</b> Search the specified index instead of the default index.
</dd></dl><dl><dt> max_time
</dt><dd> <b>Syntax:</b> max_time=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum time in seconds that typeahead can run. If max_time=0, there is no limit.
</dd></dl><dl><dt> startimeu
</dt><dd> <b>Syntax:</b> starttimeu=&lt;int&gt;
</dd><dd> <b>Description:</b> Set the start time to N seconds since the epoch (Unix time). 
</dd><dd> <b>Default</b>: 0
</dd><dt> endtimeu
</dt><dd> <b>Syntax:</b> endtimeu=&lt;int&gt;
</dd><dd> <b>Description:</b> Set the end time to N seconds since the epoch (Unix time). 
</dd><dd> <b>Default</b>: now
</dd></dl><dl><dt> collapse
</dt><dd> <b>Syntax:</b> collapse=&lt;bool&gt;
</dd><dd> <b>Description:</b> Specify whether to collapse terms that are a prefix of another term and the event count is the same. 
</dd><dd> <b>Default</b>: true
</dd></dl><h4><font size="3"><b><i> <a name="typeahead_typeahead_and_sourcetype_renaming"><span class="mw-headline" id="Typeahead_and_sourcetype_renaming"> Typeahead and sourcetype renaming </span></a></i></b></font></h4>
<p>After renaming the sourcetype in props.conf, it takes about 5 minutes (the exact time might slightly depend on the performance of the server) to clear up the cache data. The typeahead search during the time will still return the cached sourcetype data. This is expected behavior.
</p><p>To remove the cached data, you can run the following command in a terminal:
</p>
<div class="samplecode">
<code><font size="2"><br>rm $SPLUNK_HOME/var/run/splunk/typeahead/*, then re-run the typeahead search.<br></font></code></div>
<p>When you re-run the typeahead search, you should see the renamed source types.
</p><p>For more information, read "Rename source types" in the Getting Data in Manual.
</p>
<h3> <a name="typeahead_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return typeahead information for sources in the "_internal" index.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">| typeahead prefix=source count=10 index=_internal</font></code><br></div>
<h3> <a name="typeahead_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the typeahead command.
</p>
<a name="typelearner"></a><h2> <a name="typelearner_typelearner"><span class="mw-headline" id="typelearner"> typelearner </span></a></h2>
<h3> <a name="typelearner_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Generates suggested event types by taking previous search results and producing a list of potential searches that can be used as event types. By default, the <code><font size="2">typelearner</font></code> command initially groups events by the value of the grouping-field. The search then unifies and merges these groups based on the keywords they contain.
</p>
<h3> <a name="typelearner_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>typelearner [<i>grouping-field</i>] [<i>grouping-maxlen</i>]
</p>
<h4><font size="3"><b><i> <a name="typelearner_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> grouping-field
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> The field with values for <code><font size="2">typelearner</font></code> to use when initially grouping events. Defaults to <code><font size="2">punct</font></code>, the punctuation seen in <code><font size="2">_raw</font></code>.
</dd></dl><dl><dt> grouping-maxlen
</dt><dd> <b>Syntax:</b> maxlen=&lt;int&gt;
</dd><dd> <b>Description:</b> Determines how many characters in the grouping-field value to look at. If set to negative, the entire value of the grouping-field value is used to group events. 
</dd><dd> <b>Default:</b> 15
</dd></dl><h3> <a name="typelearner_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Have the search automatically discover and apply event types to search results
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | typelearner</font></code><br></div>
<h3> <a name="typelearner_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#typer" class="external text">typer</a> 
</p>
<h3> <a name="typelearner_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the typelearner command.
</p>
<a name="typer"></a><h2> <a name="typer_typer"><span class="mw-headline" id="typer"> typer </span></a></h2>
<h3> <a name="typer_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Calculates the 'eventtype' field for search results that match a known event type.
</p>
<h3> <a name="typer_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>typer
</p>
<h3> <a name="typer_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Force Splunk to apply event types that you have configured (Splunk Web automatically does this when you view the "eventtype" field).
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | typer</font></code><br></div>
<h3> <a name="typer_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#typelearner" class="external text">typelearner</a> 
</p>
<h3> <a name="typer_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the typer command.
</p>
<a name="uniq"></a><h2> <a name="uniq_uniq"><span class="mw-headline" id="uniq"> uniq </span></a></h2>
<h3> <a name="uniq_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">uniq</font></code> command works as a filter on the search results that you pass into it. This command removes any search result if it is an exact duplicate of the previous result. This command does not take any arguments.
</p><p><b>Note:</b> We do not recommend running this command against a large dataset.
</p>
<h3> <a name="uniq_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>uniq
</p><p><br></p>
<h3> <a name="uniq_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Keep only unique results from all web traffic in the past hour.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">eventtype=webtraffic earliest=-1h@s | uniq</font></code><br></div>
<h3> <a name="uniq_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#dedup" class="external text">dedup</a> 
</p>
<h3> <a name="uniq_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the uniq command.
</p>
<a name="untable"></a><h2> <a name="untable_untable"><span class="mw-headline" id="untable"> untable </span></a></h2>
<h3> <a name="untable_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Converts results from a tabular format to a format similar to <a href="#stats" class="external text">stats</a> output. This command is the inverse of <a href="#xyseries" class="external text">xyseries</a>.
</p>
<h4><font size="3"><b><i> <a name="untable_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>untable &lt;x-field&gt; &lt;y-name-field&gt; &lt;y-data-field&gt;
</p>
<h4><font size="3"><b><i> <a name="untable_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;x-field&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Field to be used as the x-axis.
</dd></dl><dl><dt> &lt;y-name-field&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Field that contains the values to be used as labels for the data series.
</dd></dl><dl><dt> &lt;y-data-field&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Field that contains the data to be charted.
</dd></dl><h3> <a name="untable_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Reformat the search results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | timechart avg(delay) by host | untable _time host avg_delay</font></code><br></div>
<h3> <a name="untable_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#xyseries" class="external text">xyseries</a> 
</p>
<h3> <a name="untable_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has about using the untable command.
</p>
<a name="where"></a><h2> <a name="where_where"><span class="mw-headline" id="where"> where </span></a></h2>
<h3> <a name="where_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">where</font></code> command uses <code><font size="2">eval</font></code> expressions to filter search results. The search keeps only the results for which the evaluation was successful (that is, the Boolean result was true). 
</p><p>The <code><font size="2">where</font></code> command uses the same expression syntax as <code><font size="2"><a href="#eval" class="external text">eval</a></font></code>. Also, both commands interpret quoted strings as literals. If the string is not quoted, it is treated as a field. Because of this, you can use <code><font size="2">where</font></code> to compare two different fields, which you cannot use <code><font size="2">search</font></code> to do.
</p><p><br></p>
<h3> <a name="where_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>where &lt;eval-expression&gt;
</p>
<h4><font size="3"><b><i> <a name="where_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> eval-expression
</dt><dd> <b>Syntax:</b> &lt;string&gt; 
</dd><dd> <b>Description:</b> A combination of values, variables, operators, and functions that represent the value of your destination field. 
</dd></dl><p>The syntax of the eval expression is checked before running the search, and an exception will be thrown for an invalid expression. 
</p>
<ul><li> The result of an eval statement is not allowed to be boolean. If Splunk cannot evaluate the expression successfully at search-time for a given event, eval erases the value in the result field. 
</li><li> If the expression references a <b>field name</b> that contains non-alphanumeric characters, it needs to be surrounded by <b>single quotes</b>; for example, <code><font size="2">new=count+'server-1'</font></code>.
</li><li> If the expression references <b>literal strings</b> that contains non-alphanumeric characters, it needs to be surrounded by <b>double quotes</b>; for example, <code><font size="2">new="server-"+count</font></code>.
</li></ul><h4><font size="3"><b><i> <a name="where_functions"><span class="mw-headline" id="Functions"> Functions </span></a></i></b></font></h4>
<p>The where command includes the following functions: <code><font size="2">abs, case, ceil, ceiling, cidrmatch, coalesce, commands, exact, exp, floor, if, ifnull, isbool, isint, isnotnull, isnull, isnum, isstr, len, like, ln, log, lower, ltrim, match, max, md5, min, mvappend, mvcount, mvindex, mvfilter, mvjoin, mvrange, mvzip, now, null, nullif, pi, pow, random, relative_time, replace, round, rtrim, searchmatch, sha1, sha256, sha512, sigfig, spath, split, sqrt, strftime, strptime, substr, time, tonumber, tostring, trim, typeof, upper, urldecode, validate.</font></code>.
</p><p>For <b>descriptions and examples</b> of each function, see <a href="#commonevalfunctions" class="external text">"Functions for eval and where"</a>.
</p><p><br></p>
<h3> <a name="where_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Return "CheckPoint" events that match the IP or is in the specified subnet.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">host="CheckPoint" | where like(src, "10.9.165.%") OR cidrmatch("10.9.165.0/25", dst)</font></code><br></div>
<p><b>Example 2:</b> Return "physicjobs" events with a speed is greater than 100.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype=physicsjobs | where distance/time &gt; 100</font></code><br></div>
<h3> <a name="where_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#eval" class="external text">eval</a>, <a href="#search" class="external text">search</a>, <a href="#regex" class="external text">regex</a>
</p>
<h3> <a name="where_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the where command.
</p>
<a name="x11"></a><h2> <a name="x11_x11"><span class="mw-headline" id="x11"> x11</span></a></h2>
<h3> <a name="x11_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">x11</font></code> command exposes the seasonal pattern in your time-based data series so that you can subtract it from the underlying data and see the real trend. This command has a similar purpose to the <a href="#trendline" class="external text">trendline command</a>, but it uses the more sophisticated and industry popular X11 method.
</p><p>The seasonal component of your time series data can be either additive or multiplicative. In Splunk, this is defined as the two types of seasonality that you can calculate with x11, add() for additive and mult() for multiplicative. See  "About predictive analytics with Splunk" in the <i>Search Manual</i>.
</p><p><br></p>
<h3> <a name="x11_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>x11 [&lt;type&gt;] [&lt;period&gt;=&lt;int&gt;] (&lt;fieldname&gt;) [as &lt;newname&gt;] 
</p>
<h4><font size="3"><b><i> <a name="x11_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;fieldname&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> The name of the field to calculate the seasonal trend.
</dd></dl><h4><font size="3"><b><i> <a name="x11_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> &lt;type&gt;
</dt><dd> <b>Syntax:</b> add() | mult()
</dd><dd> <b>Description:</b> Specify the type of x11 to compute, additive or multiplicative. 
</dd><dd> <b>Default:</b> <code><font size="2">mult()</font></code>
</dd></dl><dl><dt> &lt;period&gt;
</dt><dd> <b>Syntax:</b> &lt;int&gt;
</dd><dd> <b>Description:</b> The period of the data relative to the number of data points, expressed as an integer between 5 and 10000. If the period is 7, the command expects the data to be periodic ever 7 data points. If not supplied, Splunk Enterprise computes the period automatically. The algorithm does not work if the period is less than 5 and will be too slow if the period is greater than 10000. 
</dd></dl><dl><dt> &lt;newname&gt;
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Specify a field name for the output of x11. Otherwise, defaults to the specified "&lt;type&gt;&lt;period&gt;(&lt;fieldname&gt;)".
</dd></dl><h3> <a name="x11_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Here type is the default 'mult' and period is 15. 
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=download | timechart span=1d count(file) as count | x11 mult15(count)</font></code><br></div>
<p><img alt="X11 mult example.png" src="images/9/96/X11_mult_example.png" width="600" height="195"></p><p><b>Note:</b> Here, because the span=1d, every data point accounts for 1 day. And, as a result, the period in this example is 15 days.
</p><p><b>Example 2:</b> Here type is 'add' and period is 20. 
</p>
 <div class="inlineQuery splunk_search_4_3"><code><font size="2">iindex=download | timechart span=1d count(file) as count | x11 add20(count)</font></code><br></div>
<p><img alt="X11 add example.png" src="images/e/e1/X11_add_example.png" width="600" height="193"></p>
<h3> <a name="x11_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#predict" class="external text">predict</a>, <a href="#trendline" class="external text">trendline</a>
</p>
<h3> <a name="x11_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the x11 command.
</p>
<a name="xmlkv"></a><h2> <a name="xmlkv_xmlkv"><span class="mw-headline" id="xmlkv"> xmlkv </span></a></h2>
<h3> <a name="xmlkv_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>The <code><font size="2">xmlkv</font></code> command automatically extracts fields from XML-formatted data. For example, if the XML contains the following in its <code><font size="2">_raw</font></code> data: <code><font size="2">&lt;foo&gt;bar&lt;/foo&gt;</font></code>, <code><font size="2">foo</font></code> is the key and <code><font size="2">bar</font></code> is the value.
</p><p>For JSON-formatted data, use the <code><font size="2"><a href="#spath" class="external text">spath</a></font></code> command.
</p>
<h3> <a name="xmlkv_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>xmlkv maxinputs=&lt;int&gt;
</p>
<h4><font size="3"><b><i> <a name="xmlkv_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> maxinputs
</dt><dd> <b>Syntax:</b> maxinputs=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum number of inputs.
</dd></dl><p><br></p>
<h3> <a name="xmlkv_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Automatically extract fields from XML tags.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | xmlkv</font></code><br></div>
<p><b>Example 2:</b> Example usage
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | xmlkv maxinputs=10000</font></code><br></div>
<h3> <a name="xmlkv_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#extract" class="external text">extract</a>, <a href="#kvform" class="external text">kvform</a>, <a href="#multikv" class="external text">multikv</a>, <a href="#rex" class="external text">rex</a>, 
<a href="#spath" class="external text">spath</a>, 
<a href="#xpath" class="external text">xpath</a>
</p>
<h3> <a name="xmlkv_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the xmlkv command.
</p>
<a name="xmlunescape"></a><h2> <a name="xmlunescape_xmlunescape"><span class="mw-headline" id="xmlunescape"> xmlunescape </span></a></h2>
<h3> <a name="xmlunescape_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Un-escapes <code><font size="2">xml</font></code> characters, including entity references such as &amp;, &lt;, and &gt;, so that they return to their corresponding characters. For example, <code><font size="2">&amp;amp;</font></code> becomes <code><font size="2">&amp;</font></code>.
</p>
<h3> <a name="xmlunescape_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>xmlunescape maxinputs=&lt;int&gt;
</p>
<h4><font size="3"><b><i> <a name="xmlunescape_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> maxinputs
</dt><dd> <b>Syntax:</b> maxinputs=&lt;int&gt;
</dd><dd> <b>Description:</b> The maximum number of inputs.
</dd></dl><h3> <a name="xmlunescape_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Un-escape all XML characters.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | xmlunescape</font></code><br></div>
<h3> <a name="xmlunescape_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the xmlunescape command.
</p>
<a name="xpath"></a><h2> <a name="xpath_xpath"><span class="mw-headline" id="xpath"> xpath </span></a></h2>
<h3> <a name="xpath_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Extracts the xpath value from <tt>field</tt> and sets the <tt>outfield</tt> attribute.
</p>
<h4><font size="3"><b><i> <a name="xpath_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>xpath  [outfield=&lt;field&gt;] &lt;string:xpath&gt; [field=&lt;field&gt;] [default=&lt;string&gt;]
</p>
<h4><font size="3"><b><i> <a name="xpath_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> xpath
</dt><dd> <b>Syntax:</b> &lt;string&gt;
</dd><dd> <b>Description:</b> Specify the XPath reference.
</dd></dl><h4><font size="3"><b><i> <a name="xpath_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> field
</dt><dd> <b>Syntax:</b> field=&lt;field&gt;
</dd><dd> <b>Description:</b> The field to find and extract the referenced <code><font size="2">xpath</font></code> value.
</dd><dd> <b>Default:</b> <code><font size="2">_raw</font></code>
</dd></dl><dl><dt> outfield
</dt><dd> <b>Syntax:</b> outfield=&lt;field&gt;
</dd><dd> <b>Description:</b> The field to write the <code><font size="2">xpath</font></code> value. 
</dd><dd> <b>Default:</b> <code><font size="2">xpath</font></code>
</dd></dl><dl><dt> default
</dt><dd> <b>Syntax:</b> default=&lt;string&gt;
</dd><dd> <b>Description:</b> If the attribute referenced in <code><font size="2">xpath</font></code> doesn't exist, this specifies what to write to outfield. If this isn't defined, there is no default value.
</dd></dl><h3> <a name="xpath_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Extract the <code><font size="2">name</font></code> value from <code><font size="2">_raw</font></code> XML events, which might look like this:
</p>
<code><font size="2"><br>&lt;foo&gt;<br>&lt;bar name="spock"&gt;<br>&lt;/bar&gt;<br>&lt;/foo&gt;<br></font></code>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">sourcetype="xml" | xpath outfield=name "//bar/@name"</font></code><br></div>
<p><b>Example 2:</b> Extract the <code><font size="2">identity_id</font></code> and <code><font size="2">instrument_id</font></code> from the <code><font size="2">_raw</font></code> XML events:
</p>
<code><font size="2"><br>&nbsp;&nbsp;&nbsp;&lt;DataSet xmlns=""&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;identity_id&gt;3017669&lt;/identity_id&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;instrument_id&gt;912383KM1&lt;/instrument_id&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;transaction_code&gt;SEL&lt;/transaction_code&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;sname&gt;BARC&lt;/sname&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;currency_code&gt;USA&lt;/currency_code&gt;<br>&nbsp;&nbsp;&nbsp;&lt;/DataSet&gt; <br><br>&nbsp;&nbsp;&nbsp;&lt;DataSet xmlns=""&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;identity_id&gt;1037669&lt;/identity_id&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;instrument_id&gt;219383KM1&lt;/instrument_id&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;transaction_code&gt;SEL&lt;/transaction_code&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;sname&gt;TARC&lt;/sname&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;currency_code&gt;USA&lt;/currency_code&gt;<br>&nbsp;&nbsp;&nbsp;&lt;/DataSet&gt;<br></font></code>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | xpath outfield=identity_id "//DataSet/identity_id" </font></code><br></div>
<p>This search will return two results: <code><font size="2">identity_id=3017669</font></code> and <code><font size="2">identity_id=1037669</font></code>.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | xpath outfield=instrument_id "//DataSet[sname=\"BARC\"]/instrument_id"</font></code><br></div>
<p>Because you specify <code><font size="2">sname="BARC"</font></code>, this search will return one result: <code><font size="2">instrument_id=912383KM1</font></code>.
</p>
<h3> <a name="xpath_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#extract" class="external text">extract</a>, <a href="#kvform" class="external text">kvform</a>, <a href="#multikv" class="external text">multikv</a>, <a href="#rex" class="external text">rex</a>, 
<a href="#spath" class="external text">spath</a>, <a href="#xmlkv" class="external text">xmlkv</a>
</p>
<h3> <a name="xpath_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the xpath command.
</p>
<a name="xyseries"></a><h2> <a name="xyseries_xyseries"><span class="mw-headline" id="xyseries"> xyseries </span></a></h2>
<h3> <a name="xyseries_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Converts results into a format suitable for graphing.
</p>
<h3> <a name="xyseries_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></h3>
<p>xyseries [grouped=&lt;bool&gt;] &lt;x-field&gt; &lt;y-name-field&gt; &lt;y-data-field&gt;... [sep=&lt;string&gt;] [format=&lt;string&gt;]
</p>
<h4><font size="3"><b><i> <a name="xyseries_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> &lt;x-field&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Field to be used as the x-axis.
</dd></dl><dl><dt> &lt;y-name-field&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt;
</dd><dd> <b>Description:</b> Field that contains the values to be used as labels for the data series.
</dd></dl><dl><dt> &lt;y-data-field&gt;
</dt><dd> <b>Syntax:</b> &lt;field&gt; | &lt;field&gt;, &lt;field&gt;, ...
</dd><dd> <b>Description:</b> Field(s) that contains the data to be charted.
</dd></dl><h4><font size="3"><b><i> <a name="xyseries_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> format
</dt><dd> <b>Syntax:</b> format=&lt;string&gt;
</dd><dd> <b>Description:</b> Used to construct output field names when multiple data series are used in conjuction with a split-by-field. <code><font size="2">format</font></code> takes precedence over <code><font size="2">sep</font></code> and lets you specify a parameterized expression with the stats aggregator and function ($AGG$) and the value of the split-by-field ($VALUE$).
</dd></dl><dl><dt> grouped
</dt><dd> <b>Syntax:</b> grouped= true | false
</dd><dd> <b>Description:</b> If true, indicates that the input is sorted by the value of the &lt;x-field&gt; and multifile input is allowed. 
</dd><dd> <b>Default:</b> <code><font size="2">false</font></code>
</dd></dl><dl><dt> sep
</dt><dd> <b>Syntax:</b> sep=&lt;string&gt;
</dd><dd> <b>Description:</b> Used to construct output field names when multiple data series are used in conjunctions with a split-by field. This is equivalent to setting <code><font size="2">format</font></code> to <code><font size="2">$AGG$&lt;sep&gt;$VALUE$</font></code>.
</dd></dl><h3> <a name="xyseries_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Reformat the search results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | xyseries delay host_type host</font></code><br></div>
<p><b>Example 2:</b> Refer to this walkthrough to see how you can combine <a href="#stats" class="external text">stats</a> and <a href="#eval" class="external text">eval</a> with the xyseries command to create a report on multiple data series.
</p>
<h3> <a name="xyseries_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#untable" class="external text">untable</a> 
</p>
<h3> <a name="xyseries_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the xyseries command.
</p>
<h1>Internal Search Commands</h1><a name="aboutinternalcommands"></a><h2> <a name="aboutinternalcommands_about_internal_commands"><span class="mw-headline" id="About_internal_commands"> About internal commands</span></a></h2>
<p>Internal search commands refer to search commands that are experimental. They may be removed or updated and reimplemented differently in future versions. They are not supported commands.
</p>
<a name="collapse"></a><h2> <a name="collapse_collapse"><span class="mw-headline" id="collapse"> collapse </span></a></h2>
<p>The collapse command is an experimental command and not supported by Splunk. 
</p>
<h3> <a name="collapse_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Condenses multifile results into as few files as chunksize option will allow.
</p>
<h4><font size="3"><b><i> <a name="collapse_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>... | collapse [chunksize=&lt;num&gt;] [force=&lt;bool&gt;]
</p>
<h4><font size="3"><b><i> <a name="collapse_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> chunksize
</dt><dd> <i>Syntax:</i> chunksize=&lt;num&gt;
</dd><dd> <b>Description:</b> Limits the number of resulting files. Default is 50000.
</dd></dl><dl><dt> force
</dt><dd> <b>Syntax:</b> force=&lt;bool&gt;
</dd><dd> <b>Description:</b> If force=true and the results are entirely in memory, re-divide the results into appropriated chunked files. Default is false.
</dd></dl><h3> <a name="collapse_description"><span class="mw-headline" id="Description">Description</span></a></h3>
<p>The collapse command is automatically invoked by output* operators.
</p>
<h3> <a name="collapse_examples"><span class="mw-headline" id="Examples">Examples</span></a></h3>
<p><b>Example 1:</b> Collapse results.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">... | collapse</font></code><br></div>

<a name="dispatch"></a><h2> <a name="dispatch_dispatch"><span class="mw-headline" id="dispatch"> dispatch </span></a></h2>
<p>The dispatch command is no longer required; all Splunk searches are run as dispatch searches. For more information, see <a href="#search" class="external text">the search command</a>.
</p>
<a name="dump"></a><h2> <a name="dump_dump"><span class="mw-headline" id="dump"> dump </span></a></h2>
<h3> <a name="dump_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Executes a given search query and export events to a set of chunk files on local disk.
</p>
<h4><font size="3"><b><i> <a name="dump_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>dump basefilename=&lt;string&gt; [rollsize=&lt;number&gt;] [maxlocal=&lt;number&gt;] [compress=&lt;number&gt;] [format=&lt;string&gt;] [fields=&lt;comma-delimited-string&gt;]
</p>
<h4><font size="3"><b><i> <a name="dump_required_arguments"><span class="mw-headline" id="Required_arguments"> Required arguments </span></a></i></b></font></h4>
<dl><dt> basefilename
</dt><dd> <b>Syntax:</b> basefilename=&lt;string&gt;
</dd><dd> <b>Description:</b> The prefix of the export filename.
</dd></dl><h4><font size="3"><b><i> <a name="dump_optional_arguments"><span class="mw-headline" id="Optional_arguments"> Optional arguments </span></a></i></b></font></h4>
<dl><dt> compress
</dt><dd> <b>Syntax:</b> compress=&lt;number&gt;
</dd><dd> <b>Description:</b> The gzip compression level. Specify a number from 0 to 9, where 0 means no compression and a higher number means more compression and slower writing speed. Defaults to 2.
</dd></dl><dl><dt> fields
</dt><dd> <b>Syntax:</b> fields=&lt;comma-delimited-string&gt;
</dd><dd> <b>Description:</b> A list of Splunk event fields exported to export data. Invalid fields will be ignored.
</dd></dl><dl><dt> format
</dt><dd> <b>Syntax:</b> format= raw | csv | tsv | json | xml
</dd><dd> <b>Description:</b> The output data format.
</dd></dl><dl><dt> maxlocal
</dt><dd> <b>Syntax:</b> maxlocal=&lt;number&gt;
</dd><dd> <b>Description:</b> The maximum allowable local disk usage, in MB, at which point in-memory data and local files are flushing and exporting to HDFS. Defaults to 1 GB. 
</dd></dl><dl><dt> rollsize
</dt><dd> <b>Syntax:</b> rollsize=&lt;number&gt;
</dd><dd> <b>Description:</b> The minimum file size, in MB, at which point no more events are written to the file and it becomes a candidate for HDFS transfer. Defaults to 64MB.
</dd></dl><p><br></p>
<h3> <a name="dump_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>This command runs a specified search query and oneshot export search result to local disk at "$SPLUNK_HOME/var/run/splunk/dispatch/&lt;sid&gt;/dump". It recognizes  a special field in the input events, _dstpath, which if set will be used as a path to be appended to dst to compute final destination path.
</p><p><b>Note:</b> The <code><font size="2">dump</font></code> command is one of several search result export methods offered by Splunk Enterprise. For information about the other export methods, see "Export search results" in the <i>Search Manual</i>.
</p>
<h3> <a name="dump_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p><b>Example 1:</b> Export all events from index "bigdata" to the location "YYYYmmdd/HH/host" at "$SPLUNK_HOME/var/run/splunk/dispatch/&lt;sid&gt;/dump/" directory on local disk with "MyExport" as the prefix of export filenames. Partitioning of the export data is achieved by eval preceeding the dump command.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=bigdata | eval _dstpath=strftime(_time, "%Y%m%d/%H") + "/" + host | dump basefilename=MyExport </font></code><br></div>
<p><b> Example 2:</b> Export all events from index "bigdata" to the local disk with "MyExport" as the prefix of export filenames.
</p>
<div class="inlineQuery splunk_search_4_3"><code><font size="2">index=bigdata | dump basefilename=MyExport</font></code><br></div>
<h3> <a name="dump_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the dump command.
</p>
<a name="runshellscript"></a><h2> <a name="runshellscript_runshellscript"><span class="mw-headline" id="runshellscript"> runshellscript </span></a></h2>
<p>The runshellscript command is an internal command to execute scripted alerts. It is not supported as a search command. 
</p>
<h3> <a name="runshellscript_synopsis"><span class="mw-headline" id="Synopsis"> Synopsis </span></a></h3>
<p>Execute scripted alerts.
</p>
<h4><font size="3"><b><i> <a name="runshellscript_syntax"><span class="mw-headline" id="Syntax"> Syntax </span></a></i></b></font></h4>
<p>runshellscript &lt;script-filename&gt; &lt;result-count&gt; &lt;search-terms&gt; &lt;search-string&gt; &lt;savedsearch-name&gt; &lt;description&gt; &lt;results-url&gt; &lt;deprecated-arg&gt; &lt;results_file&gt;
</p>
<h3> <a name="runshellscript_description"><span class="mw-headline" id="Description"> Description </span></a></h3>
<p>Internal command used to execute scripted alerts. The script file needs to be located in either <code><font size="2">$SPLUNK_HOME/etc/system/bin/scripts</font></code> OR <code><font size="2">$SPLUNK_HOME/etc/apps/&lt;app-name&gt;/bin/scripts</font></code>. All other arguments are passed to the script unvalidated, as follows:
</p>
<table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0">Argument
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td valign="center" align="left"> $0
</td><td valign="center" align="left">The filename of the script.
</td></tr><tr><td valign="center" align="left"> $1
</td><td valign="center" align="left"> The result count, or number of events returned.
</td></tr><tr><td valign="center" align="left"> $2
</td><td valign="center" align="left"> The search terms.
</td></tr><tr><td valign="center" align="left"> $3
</td><td valign="center" align="left"> The fully qualified query string.
</td></tr><tr><td valign="center" align="left"> $4
</td><td valign="center" align="left"> The name of the saved search in Splunk.
</td></tr><tr><td valign="center" align="left"> $5
</td><td valign="center" align="left"> The description or trigger reason. For example, "The number of events was greater than 1."
</td></tr><tr><td valign="center" align="left"> $6
</td><td valign="center" align="left"> The link to saved search results.
</td></tr><tr><td valign="center" align="left"> $7
</td><td valign="center" align="left"> DEPRECATED - empty string argument.
</td></tr><tr><td valign="center" align="left"> $8
</td><td valign="center" align="left"> The path to the results file, <code><font size="2">results.csv</font></code>. The results file contains raw results.
</td></tr></table><p>For more information, check out this excellent topic on troubleshooting alert scripts on the Splunk Community Wiki and see "Configure scripted alerts" in the Alerting Manual.
</p>
<h3> <a name="runshellscript_see_also"><span class="mw-headline" id="See_also"> See also </span></a></h3>
<p><a href="#script" class="external text">script</a>
</p>
<h3> <a name="runshellscript_answers"><span class="mw-headline" id="Answers"> Answers </span></a></h3>
<p>Have questions? Visit Splunk Answers and see what questions and answers the Splunk community has using the runshellscript command.
</p>
<h1>Search in the CLI</h1><a name="aboutclisearches"></a><h2> <a name="aboutclisearches_about_searches_in_the_cli"><span class="mw-headline" id="About_searches_in_the_CLI"> About searches in the CLI </span></a></h2>
<p>You can use the Splunk CLI to monitor, configure, and execute searches on your Splunk server. This topic discusses how to search from the CLI. 
</p>
<ul><li> If you're looking for how to access the CLI and find help for it, refer to "About the CLI" in the <i>Admin manual</i>.
</li></ul><h3> <a name="aboutclisearches_cli_help_for_search"><span class="mw-headline" id="CLI_help_for_search">  CLI help for search </span></a></h3>
<p>You can run both historical and real-time searches from the CLI in Splunk by invoking the <code><font size="2">search</font></code> or <code><font size="2">rtsearch</font></code> commands, respectively. The following is a table of useful search-related CLI help objects.  To see the full help information for each object, type into the CLI:
</p>
<code><font size="2"><br>./splunk help &lt;object&gt;<br></font></code>
<table cellpadding="5" cellspacing="0" border="1" width="100%"><tr><th bgcolor="#C0C0C0">Object
</th><th bgcolor="#C0C0C0">Description
</th></tr><tr><td valign="center" align="left"> rtsearch
</td><td valign="center" align="left"> Returns the parameters and syntax for real-time searches.
</td></tr><tr><td valign="center" align="left"> search
</td><td valign="center" align="left"> Returns the parameters and syntax for historical searches.
</td></tr><tr><td valign="center" align="left"> search-commands
</td><td valign="center" align="left"> Returns a list of search commands that you can use from the CLI.
</td></tr><tr><td valign="center" align="left"> search-fields
</td><td valign="center" align="left"> Returns a list of default fields.
</td></tr><tr><td valign="center" align="left"> search-modifiers
</td><td valign="center" align="left"> Returns a list of search and time-based modifiers that you can use to narrow your search.
</td></tr></table><h3> <a name="aboutclisearches_search_in_the_cli"><span class="mw-headline" id="Search_in_the_CLI"> Search in the CLI </span></a></h3>
<p>Historical and real-time searches in the CLI work the same way as searches in Splunk Web except that there is no timeline rendered with the search results and there is no default time range. Instead, the results are displayed as a raw events list or a table, depending on the type of search. 
</p>
<ul><li> For more information, read "Type of searches" in the Search Overview chapter of the Search Manual.
</li></ul><p>The syntax for CLI searches is similar to the syntax for searches you run from Splunk Web except that you can pass parameters outside of the query to control the time limit of the search, tell Splunk which server to run the search, and specify how Splunk displays results. 
</p>
<ul><li> For more information about the CLI search options, see the next topic in this chapter, <a href="#clisearchsyntax" class="external text">"CLI search syntax"</a>.
</li><li> For more information about how to search remote Splunk servers from your local server, see "Access and use the CLI on a remote server" in the <i>Admin manual</i>.
</li></ul><a name="clisearchsyntax"></a><h2> <a name="clisearchsyntax_syntax_for_searches_in_the_cli"><span class="mw-headline" id="Syntax_for_searches_in_the_CLI"> Syntax for searches in the CLI </span></a></h2>
<p>This is a quick discussion of the syntax and options available for using the <code><font size="2">search</font></code> and <code><font size="2">rtsearch</font></code> commands in the CLI. 
</p><p>The syntax for CLI searches is similar to the syntax for searches you run from Splunk Web except that you can pass parameters outside of the search object to control the time limit of the search, tell Splunk which server to run the search, and specify how Splunk displays results.
</p><p><code><font size="2">search | rtsearch [object][-parameter &lt;value&gt;]</font></code>
</p>
<h3> <a name="clisearchsyntax_search_objects"><span class="mw-headline" id="Search_objects"> Search objects </span></a></h3>
<p>Search objects are enclosed in single quotes (' ') and can be keywords, expressions, or a series of search commands. On Windows OS use double quotes (" ") to enclose your search object.  
</p>
<ul><li> For more information about searching in Splunk, see the "Start searching" topic in the Search Tutorial.
</li><li> For the complete list of search commands, see <a href="#listofsearchcommands" class="external text">"All search commands"</a> in the Search Reference Manual.
</li><li> For a quick reference search language and search commands, see the <a href="#searchcheatsheet" class="external text">"Search Command Cheat Sheet and Search Language Quick Reference Card"</a> in the Search Reference Manual.
</li></ul><p>Search objects can include not only keywords and search commands but also fields and modifiers to specify the events you want to retrieve and the results you want to generate. 
</p>
<ul><li> For more information about fields, see the "Use fields to search" topic in the Search Tutorial.
</li><li> For more information about default fields and how to use them, see the "Use default and internal fields" topic in the Knowledge Manager Manual.
</li><li> For more information about time modifiers, see the <a href="#searchtimemodifiers" class="external text">"Time modifiers for search"</a> topic in the Search Reference Manual.
</li></ul><h3> <a name="clisearchsyntax_search_parameters"><span class="mw-headline" id="Search_parameters"> Search parameters </span></a></h3>
<p>Search parameters are options that control the way the search is run or the way the search results are displayed. All of these parameters are optional. Parameters that take Boolean values support <code><font size="2">{0, false, f, no}</font></code> as negatives and <code><font size="2">{1, true, t, yes}</font></code> positives.
</p>
<table cellpadding="5" cellspacing="0" border="1"><tr><th bgcolor="#C0C0C0"> Parameter
</th><th bgcolor="#C0C0C0"> Value(s)
</th><th bgcolor="#C0C0C0"> Default(s)
</th><th bgcolor="#C0C0C0"> Description
</th></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">app</font></code>
</td><td valign="center" align="left"> &lt;app_name&gt;
</td><td valign="center" align="left"> search
</td><td valign="center" align="left"> Specify the name of the app in which to run your search.
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">batch</font></code>
</td><td valign="center" align="left"> &lt;bool&gt;
</td><td valign="center" align="left"> F
</td><td valign="center" align="left"> Indicates how to handle updates in preview mode.
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">detach</font></code>
</td><td valign="center" align="left"> &lt;bool&gt;
</td><td valign="center" align="left"> F
</td><td valign="center" align="left"> Triggers an asynchronous search and displays the job ID and TTL for the search.
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">earliest_time</font></code>
</td><td valign="center" align="left"> &lt;time-modifier&gt;
</td><td valign="center" align="left"> &minus;
</td><td valign="center" align="left"> The relative time modifier for the start time of the search. This is optional for both search and rtsearch.
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">header</font></code>
</td><td valign="center" align="left"> &lt;bool&gt;
</td><td valign="center" align="left"> T
</td><td valign="center" align="left"> Indicates whether to display a header in the table output mode.
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">index_earliest</font></code>
</td><td valign="center" align="left"> &lt;time-modifer&gt;
</td><td valign="center" align="left">
</td><td valign="center" align="left"> The start time of the search. This can be expressed as an epoch or relative time modifier and uses the same syntax as the "earliest" and "latest" time modifiers for search language. This is optional for both search and rtsearch.
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">index_latest</font></code>
</td><td valign="center" align="left"> &lt;time-modifer&gt;
</td><td valign="center" align="left">
</td><td valign="center" align="left"> The end time of the search. This can be expressed as an epoch or relative time modifier and uses the same syntax as the "earliest" and "latest" time modifiers for search language. This is optional for both search and rtsearch.
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">latest_time</font></code>
</td><td valign="center" align="left"> &lt;time-modifer&gt;
</td><td valign="center" align="left">  &minus;
</td><td valign="center" align="left"> The relative time modifer for the end time of search. For search, if this is not specified, it defaults to the end of the time (or the time of the last event in the data), so that any "future" events are also included. <b>For rtsearch, this is a required parameter</b> and the real-time search will not run if it's not specified.
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">max_time</font></code>
</td><td valign="center" align="left"> &lt;number&gt;
</td><td valign="center" align="left"> 0
</td><td valign="center" align="left"> The length of time in seconds that a search job runs before it is finalized. A value of 0 means that there is no time limit.
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">maxout</font></code>
</td><td valign="center" align="left"> &lt;number&gt;
</td><td valign="center" align="left"> search, 100
<p>rtsearch, 0
</p>
</td><td valign="center" align="left"> The maximum number of events to return or send to <code><font size="2">stdout</font></code> when exporting events. A value of 0 means that it will output an unlimited number of events.
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">output</font></code>
</td><td valign="center" align="left"> rawdata, table, csv, auto
</td><td valign="center" align="left"> Use <code><font size="2">rawdata</font></code> for non-transforming searches.
<p>Use <code><font size="2">table</font></code> for transforming searches.
</p>
</td><td valign="center" align="left"> Indicates how to display the job.
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">preview</font></code>
</td><td valign="center" align="left"> &lt;bool&gt;
</td><td valign="center" align="left"> T
</td><td valign="center" align="left"> Indicates that reporting searches should be previewed (displayed as results are calculated).
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">timeout</font></code>
</td><td valign="center" align="left"> &lt;number&gt;
</td><td valign="center" align="left"> 0
</td><td valign="center" align="left"> The length of time in seconds that a search job is allowed to live after running. A value of 0 means that the job is canceled immediately after it is run.
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">uri</font></code>
</td><td valign="center" align="left"> [http|https]://name_of_server:management_port
</td><td valign="center" align="left">
</td><td valign="center" align="left"> Specify the server name and management port. <code><font size="2">name_of_server</font></code> can be the fully-resolved domain name or the IP address of the Splunk server.
<p>The default uri value is the <code><font size="2">mgmtHostPort</font></code> value that you defined in the Splunk server's <code><font size="2">web.conf</font></code>.
</p><p>For more information, see Access and use the CLI on a remote Splunk Server in the <i>Admin manual</i>.
</p>
</td></tr><tr valign="top"><td valign="center" align="left"> <code><font size="2">wrap</font></code>
</td><td valign="center" align="left"> &lt;bool&gt;
</td><td valign="center" align="left"> T
</td><td valign="center" align="left"> Indicates whether to line wrap for individual lines that are longer than the terminal width.
</td></tr></table><h3> <a name="clisearchsyntax_examples"><span class="mw-headline" id="Examples"> Examples </span></a></h3>
<p>You can see more examples in the CLI help information.
</p><p><b>Example 1:</b> Retrieve events from yesterday that match root sessions.
</p>
<div class="samplecode">
<p>./splunk search "session root daysago=1"
</p>
</div>
<p><br><b>Example 2:</b> Retrieve events that match web access errors and detach the search.
</p>
<div class="samplecode">
<p>./splunk search 'eventtype=webaccess error' -detach true
</p>
</div>
<p><b>Example 3:</b> Run a windowed real-time search.
</p>
<div class="samplecode">
<p>./splunk rtsearch 'index=_internal' -earliest_time 'rt-30s'  -latest_time 'rt+30s'
</p>
</div>
<p>See more examples of <b>Real-time searches and reports in the CLI</b> in the Admin manual.
</p><p><b>Example 4:</b> Return a list of unique hostnames. 
</p><p>There are two recommended ways that you can do this. This first is with the <a href="#stats" class="external text">stats command</a>:
</p>
<div class="samplecode">
<p>./splunk search 'index=* | stats count by host | fields - count' -preview true
</p>
</div>
<p>Alternatively, since you are only interested in the host field, you can use the <a href="#metadata" class="external text">metadata command</a>:
</p>
<div class="samplecode">
<p>./splunk search '| metadata type=hosts | fields hosts' -preview true
</p>
</div>
<p>Here, the <i>-preview</i> flag is optional and used to view the results as it is returned. In contrast, the <a href="#table" class="external text">table command</a>, unlike <a href="#fields" class="external text">fields</a>, generally requires all inputs before it can emit any non-preview output. In this case, you would need to use the <i>preview</i> flag to be able to view the results of the search.
</p><p><b>Example 5:</b>  Return yesterday's internal events.
</p>
<div class="samplecode">
<p>./splunk search 'index=_internal' -index_earliest -1d@d -index_latest @d
</p>
</div>

</body><script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

        <script src="js/index.js"></script></html>
