
<!DOCTYPE html>

<html lang="en">
<head>
<title>love.math.linearToGamma - LOVE</title>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link href="main.css" rel="stylesheet"/>
</head>
<body>
<h1 class="firstHeading" id="firstHeading" lang="en">love.math.linearToGamma</h1><div id="bodyContent">
<!-- <div id="siteSub">From LOVE</div> -->
<!-- <div id="contentSub"></div> -->
<!-- <div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div> -->
<!-- start content -->
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><table bgcolor="#d0d0ff" class="new-section" data-newin="[[0.9.1]]" style="margin-top: 1em; padding: 3px; border-radius:5px; -moz-border-radius:5px;">
<tr>
<td><i> <b>Available since LÖVE 0.9.1</b> </i>
</td></tr>
<tr>
<td> <small>This function is not supported in earlier versions.</small>
</td></tr></table>
<p>Converts a color from linear-space (RGB) to gamma-space (sRGB). This is useful when storing linear RGB color values in an image, because the linear RGB color space has less precision than sRGB for dark colors, which can result in noticeable color banding when drawing.
</p><p>In general, colors chosen based on what they look like on-screen are already in gamma-space and should not be double-converted. Colors calculated using math are often in the linear RGB space.
</p><p>Read more about gamma-correct rendering here, here, and here.
</p><p>In versions prior to 11.0, color component values were within the range of 0 to 255 instead of 0 to 1.
</p>
<table align="center" bgcolor="gold" class="notice" style="border-style:solid;border-width:1px;-moz-border-radius:3px;border-radius:3px;" width="80%">
<tr>
<td width="1"> <img alt="O.png" height="64" src="w-images-0-09-o.png" width="64"/>
</td>
<td>Gamma-correct rendering is an advanced topic and it's easy to get color-spaces mixed up. If you're not sure whether you need this, you might want to avoid it.
</td>
<td width="1"> 
</td></tr></table><br/>
<h2><span class="mw-headline" id="Function">Function</span></h2>
<h3><span class="mw-headline" id="Synopsis">Synopsis</span></h3>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="lua source-lua"><pre class="de1">cr<span class="sy0">,</span> cg<span class="sy0">,</span> cb <span class="sy0">=</span> love<span class="sy0">.</span><span class="kw3">math</span><span class="sy0">.</span>linearToGamma<span class="br0">(</span> lr<span class="sy0">,</span> lg<span class="sy0">,</span> lb <span class="br0">)</span></pre></div></div>
<h3><span class="mw-headline" id="Arguments">Arguments</span></h3>
<dl><dt><code>number lr</code></dt>
<dd> The red channel of the linear RGB color to convert.</dd>
<dt><code>number lg</code></dt>
<dd> The green channel of the linear RGB color to convert.</dd>
<dt><code>number lb</code></dt>
<dd> The blue channel of the linear RGB color to convert.</dd></dl>
<h3><span class="mw-headline" id="Returns">Returns</span></h3>
<dl><dt><code>number cr</code></dt>
<dd> The red channel of the converted color in gamma sRGB space.</dd>
<dt><code>number cg</code></dt>
<dd> The green channel of the converted color in gamma sRGB space.</dd>
<dt><code>number cb</code></dt>
<dd> The blue channel of the converted color in gamma sRGB space.</dd></dl>
<h3><span class="mw-headline" id="Notes">Notes</span></h3>
<p>An alpha value can be passed into the function as a fourth argument, but it will be returned unchanged because alpha is always linear.
</p>
<h2><span class="mw-headline" id="Function_2">Function</span></h2>
<h3><span class="mw-headline" id="Synopsis_2">Synopsis</span></h3>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="lua source-lua"><pre class="de1">cr<span class="sy0">,</span> cg<span class="sy0">,</span> cb <span class="sy0">=</span> love<span class="sy0">.</span><span class="kw3">math</span><span class="sy0">.</span>linearToGamma<span class="br0">(</span> color <span class="br0">)</span></pre></div></div>
<h3><span class="mw-headline" id="Arguments_2">Arguments</span></h3>
<dl><dt><code>table color</code></dt>
<dd> An array with the red, green, and blue channels of the linear RGB color to convert.</dd></dl>
<h3><span class="mw-headline" id="Returns_2">Returns</span></h3>
<dl><dt><code>number cr</code></dt>
<dd> The red channel of the converted color in gamma sRGB space.</dd>
<dt><code>number cg</code></dt>
<dd> The green channel of the converted color in gamma sRGB space.</dd>
<dt><code>number cb</code></dt>
<dd> The blue channel of the converted color in gamma sRGB space.</dd></dl>
<h2><span class="mw-headline" id="Function_3">Function</span></h2>
<h3><span class="mw-headline" id="Synopsis_3">Synopsis</span></h3>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="lua source-lua"><pre class="de1">c <span class="sy0">=</span> love<span class="sy0">.</span><span class="kw3">math</span><span class="sy0">.</span>linearToGamma<span class="br0">(</span> lc <span class="br0">)</span></pre></div></div>
<h3><span class="mw-headline" id="Arguments_3">Arguments</span></h3>
<dl><dt><code>number lc</code></dt>
<dd> The value of a color channel in linear RGB space to convert.</dd></dl>
<h3><span class="mw-headline" id="Returns_3">Returns</span></h3>
<dl><dt><code>number c</code></dt>
<dd> The value of the color channel in gamma sRGB space.</dd></dl>
<h2><span class="mw-headline" id="Examples">Examples</span></h2>
<h3><span class="mw-headline" id="Pre-multiply_an_image.27s_alpha_with_its_RGB_values_in_linear_RGB_space">Pre-multiply an image's alpha with its RGB values in linear RGB space</span></h3>
<div class="mw-geshi mw-code mw-content-ltr" dir="ltr"><div class="lua source-lua"><pre class="de1"><span class="kw1">local</span> <span class="kw1">function</span> PremultiplyLinearPixel<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> r<span class="sy0">,</span> g<span class="sy0">,</span> b<span class="sy0">,</span> a<span class="br0">)</span>
   r <span class="sy0">=</span> r <span class="sy0">*</span> a
   g <span class="sy0">=</span> g <span class="sy0">*</span> a
   b <span class="sy0">=</span> b <span class="sy0">*</span> a
   <span class="kw1">return</span> r<span class="sy0">,</span> g<span class="sy0">,</span> b<span class="sy0">,</span> a
<span class="kw1">end</span>
 
<span class="kw1">local</span> <span class="kw1">function</span> PremultiplyGammaPixel<span class="br0">(</span>x<span class="sy0">,</span> y<span class="sy0">,</span> r<span class="sy0">,</span> g<span class="sy0">,</span> b<span class="sy0">,</span> a<span class="br0">)</span>
   r<span class="sy0">,</span> g<span class="sy0">,</span> b <span class="sy0">=</span> love<span class="sy0">.</span><span class="kw3">math</span><span class="sy0">.</span>gammaToLinear<span class="br0">(</span>r<span class="sy0">,</span> g<span class="sy0">,</span> b<span class="br0">)</span>
   r <span class="sy0">=</span> r <span class="sy0">*</span> a
   g <span class="sy0">=</span> g <span class="sy0">*</span> a
   b <span class="sy0">=</span> b <span class="sy0">*</span> a
   r<span class="sy0">,</span> g<span class="sy0">,</span> b <span class="sy0">=</span> love<span class="sy0">.</span><span class="kw3">math</span><span class="sy0">.</span>linearToGamma<span class="br0">(</span>r<span class="sy0">,</span> g<span class="sy0">,</span> b<span class="br0">)</span>
   <span class="kw1">return</span> r<span class="sy0">,</span> g<span class="sy0">,</span> b<span class="sy0">,</span> a
<span class="kw1">end</span>
 
<span class="co1">-- Loads an image and pre-multiplies its RGB values with its alpha, for use with the ('alpha', 'premultiplied') blend mode.</span>
<span class="co1">-- The multiplication correctly accounts for the color-space of the image.</span>
<span class="kw1">function</span> NewPremultipliedImage<span class="br0">(</span>filepath<span class="sy0">,</span> flags<span class="br0">)</span>
    <span class="kw1">local</span> imagedata <span class="sy0">=</span> love<span class="sy0">.</span>image<span class="sy0">.</span>newImageData<span class="br0">(</span>filepath<span class="br0">)</span>
 
    <span class="kw1">local</span> mapfunction <span class="sy0">=</span> <span class="br0">(</span>flags <span class="kw2">and</span> flags<span class="sy0">.</span>linear<span class="br0">)</span> <span class="kw2">and</span> PremultiplyLinearPixel <span class="kw2">or</span> PremultiplyGammaPixel
    imagedata<span class="sy0">:</span>mapPixel<span class="br0">(</span>mapfunction<span class="br0">)</span>
 
    <span class="kw1">return</span> love<span class="sy0">.</span>graphics<span class="sy0">.</span>newImage<span class="br0">(</span>imagedata<span class="sy0">,</span> flags<span class="br0">)</span>
<span class="kw1">end</span>
 
image <span class="sy0">=</span> NewPremultipliedImage<span class="br0">(</span><span class="st0">"pig.png"</span><span class="br0">)</span></pre></div></div>
<h2><span class="mw-headline" id="See_Also">See Also</span></h2>
<ul><li> <a href="love-math.html" title="love.math">love.math</a></li>
<li> <a href="love-math-gammatolinear.html" title="love.math.gammaToLinear">love.math.gammaToLinear</a></li></ul>
<!-- 
NewPP limit report
CPU time usage: 0.112 seconds
Real time usage: 0.119 seconds
Preprocessor visited node count: 542/1000000
Preprocessor generated node count: 1552/1000000
Post‐expand include size: 6290/2097152 bytes
Template argument size: 2925/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->
<!-- Saved in parser cache with key love2d_wiki:pcache:idhash:3584-0!*!0!!*!5!* and timestamp 20190306100351 and revision id 21278
 -->
</div>
<!-- end content -->
<div class="visualClear"></div>
</div>
</body>
</html>
