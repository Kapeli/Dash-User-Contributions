

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<!-- Mirrored from ipython.readthedocs.org/en/master/parallel/parallel_winhpc.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 22 Apr 2014 07:16:37 GMT -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting started with Windows HPC Server 2008 &mdash; IPython 3.0.0-dev documentation</title>
  

  
  

  
  <link href='../../../../fonts.googleapis.com/css732b.css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  

  
    <link rel="stylesheet" href="../../../../media.readthedocs.org/css/sphinx_rtd_theme.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../../media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />
  
    <link rel="top" title="IPython 3.0.0-dev documentation" href="../index-2.html"/>
        <link rel="up" title="Using IPython for parallel computing" href="index.html"/>
        <link rel="next" title="Parallel examples" href="parallel_demos.html"/>
        <link rel="prev" title="Security details of IPython" href="parallel_security.html"/>
 
<!-- RTD Extra Head -->



<!-- 
Read the Docs is acting as the canonical URL for your project. 
If you want to change it, more info is available in our docs:
  http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="http://ipython.readthedocs.org/en/latest/parallel/parallel_winhpc.html" />

<script type="text/javascript">
  // This is included here because other places don't have access to the pagename variable.
  var READTHEDOCS_DATA = {
    project: "ipython",
    version: "master",
    language: "en",
    page: "parallel/parallel_winhpc",
    theme: "sphinx_rtd_theme",
    docroot: "/docs/source/",
    source_suffix: ".rst",
    api_host: "https://readthedocs.org"
  }
  // Old variables
  var doc_version = "master";
  var doc_slug = "ipython";
  var page_name = "parallel/parallel_winhpc";
  var html_theme = "sphinx_rtd_theme";
</script>
<!-- RTD Analytics Code -->
<!-- Included in the header because you don't have a footer block. -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17997319-1']);
  _gaq.push(['_trackPageview']);


  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<!-- end RTD Analytics Code -->
<!-- end RTD <extrahead> -->


  
  <script src="../../../../cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index-2.html" class="fa fa-home"> IPython</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="https://ipython.readthedocs.org/en/master/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#id1">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#enhanced-interactive-python-shell">Enhanced interactive Python shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#decoupled-two-process-model">Decoupled two-process model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#interactive-parallel-computing">Interactive parallel computing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../whatsnew/index.html">What&#8217;s new in IPython</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/development.html">Development version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version2.0.html">2.0 Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/github-stats-2.0.html">Issues closed in the 2.0 development cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version1.0.html">1.0 Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/github-stats-1.0.html">Issues closed in the 1.0 development cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version0.13.html">0.13 Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/github-stats-0.13.html">Issues closed in the 0.13 development cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version0.12.html">0.12 Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/github-stats-0.12.html">Issues closed in the 0.12 development cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version0.11.html">0.11 Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/github-stats-0.11.html">Issues closed in the 0.11 development cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version0.10.html">0.10 series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version0.9.html">0.9 series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version0.8.html">0.8 series</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html">Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#installing-ipython-itself">Installing IPython itself</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#basic-optional-dependencies">Basic optional dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#dependencies-for-ipython-parallel-parallel-computing">Dependencies for IPython.parallel (parallel computing)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#dependencies-for-ipython-kernel-zmq">Dependencies for IPython.kernel.zmq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#dependencies-for-the-ipython-qt-console">Dependencies for the IPython QT console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#dependencies-for-the-ipython-html-notebook">Dependencies for the IPython HTML notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#dependencies-for-nbconvert-converting-notebooks-to-various-formats">Dependencies for nbconvert (converting notebooks to various formats)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../interactive/index.html">Using IPython for interactive work</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interactive/tutorial.html">Introducing IPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactive/tips.html">IPython Tips &amp; Tricks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactive/reference.html">IPython reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactive/shell.html">IPython as a system shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactive/qtconsole.html">A Qt Console for IPython</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/index.html">The IPython notebook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebook/notebook.html">The IPython Notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebook/nbconvert.html">Converting notebooks to other formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebook/public_server.html">Running a notebook server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebook/security.html">Security in IPython notebooks</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Using IPython for parallel computing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="parallel_intro.html">Overview and getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_process.html">Starting the IPython controller and engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_multiengine.html">IPython&#8217;s Direct interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="magics.html">Parallel Magic Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_task.html">The IPython task interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="asyncresult.html">The AsyncResult object</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_mpi.html">Using MPI with IPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_db.html">IPython&#8217;s Task Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_security.html">Security details of IPython</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Getting started with Windows HPC Server 2008</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_demos.html">Parallel examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="dag_dependencies.html">DAG Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_details.html">Details of Parallel Computing with IPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_transition.html">Transitioning from IPython.kernel to IPython.parallel</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config/index.html">Configuration and customization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../config/index.html#configuring-ipython">Configuring IPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config/index.html#extending-and-integrating-with-ipython">Extending and integrating with IPython</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">IPython developer&#8217;s guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/messaging.html">Messaging in IPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/parallel_messages.html">Messaging for Parallel Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/parallel_connections.html">Connection Diagrams of The IPython ZMQ Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/lexer.html">New IPython Console Lexer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/pycompat.html">Writing code for Python 2 and 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/config.html">Overview of the IPython configuration system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/inputhook_app.html">IPython GUI Support Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">The IPython API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About IPython</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about/credits.html">Credits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/history.html">History</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/license_and_copyright.html">License and Copyright</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index-2.html">IPython</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index-2.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Using IPython for parallel computing</a> &raquo;</li>
      
    <li>Getting started with Windows HPC Server 2008</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="https://github.com/ipython/ipython/blob/master/docs/source/parallel/parallel_winhpc.rst" class="fa fa-github"> Edit on GitHub</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This documentation is for a development version of IPython. There may be
significant differences from the latest stable release.</p>
</div>
</div></blockquote>
<div class="section" id="getting-started-with-windows-hpc-server-2008">
<h1>Getting started with Windows HPC Server 2008<a class="headerlink" href="#getting-started-with-windows-hpc-server-2008" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The Python programming language is an increasingly popular language for
numerical computing. This is due to a unique combination of factors. First,
Python is a high-level and <em>interactive</em> language that is well matched to
interactive numerical work. Second, it is easy (often times trivial) to
integrate legacy C/C++/Fortran code into Python. Third, a large number of
high-quality open source projects provide all the needed building blocks for
numerical computing: numerical arrays (NumPy), algorithms (SciPy), 2D/3D
Visualization (<a class="reference external" href="http://matplotlib.org/">matplotlib</a>, Mayavi, Chaco), Symbolic Mathematics (Sage, Sympy)
and others.</p>
<p>The IPython project is a core part of this open-source toolchain and is
focused on creating a comprehensive environment for interactive and
exploratory computing in the Python programming language. It enables all of
the above tools to be used interactively and consists of two main components:</p>
<ul class="simple">
<li>An enhanced interactive Python shell with support for interactive plotting
and visualization.</li>
<li>An architecture for interactive parallel computing.</li>
</ul>
<p>With these components, it is possible to perform all aspects of a parallel
computation interactively. This type of workflow is particularly relevant in
scientific and numerical computing where algorithms, code and data are
continually evolving as the user/developer explores a problem. The broad
threads in computing (commodity clusters, multicore, cloud computing, etc.)
make these capabilities of IPython particularly relevant.</p>
<p>While IPython is a cross platform tool, it has particularly strong support for
Windows based compute clusters running Windows HPC Server 2008. This document
describes how to get started with IPython on Windows HPC Server 2008. The
content and emphasis here is practical: installing IPython, configuring
IPython to use the Windows job scheduler and running example parallel programs
interactively. A more complete description of IPython&#8217;s parallel computing
capabilities can be found in IPython&#8217;s online documentation
(<a class="reference external" href="http://ipython.org/documentation.html">http://ipython.org/documentation.html</a>).</p>
</div>
<div class="section" id="setting-up-your-windows-cluster">
<h2>Setting up your Windows cluster<a class="headerlink" href="#setting-up-your-windows-cluster" title="Permalink to this headline">¶</a></h2>
<p>This document assumes that you already have a cluster running Windows
HPC Server 2008. Here is a broad overview of what is involved with setting up
such a cluster:</p>
<ol class="arabic simple">
<li>Install Windows Server 2008 on the head and compute nodes in the cluster.</li>
<li>Setup the network configuration on each host. Each host should have a
static IP address.</li>
<li>On the head node, activate the &#8220;Active Directory Domain Services&#8221; role
and make the head node the domain controller.</li>
<li>Join the compute nodes to the newly created Active Directory (AD) domain.</li>
<li>Setup user accounts in the domain with shared home directories.</li>
<li>Install the HPC Pack 2008 on the head node to create a cluster.</li>
<li>Install the HPC Pack 2008 on the compute nodes.</li>
</ol>
<p>More details about installing and configuring Windows HPC Server 2008 can be
found on the Windows HPC Home Page (<a class="reference external" href="http://www.microsoft.com/hpc">http://www.microsoft.com/hpc</a>). Regardless
of what steps you follow to set up your cluster, the remainder of this
document will assume that:</p>
<ul class="simple">
<li>There are domain users that can log on to the AD domain and submit jobs
to the cluster scheduler.</li>
<li>These domain users have shared home directories. While shared home
directories are not required to use IPython, they make it much easier to
use IPython.</li>
</ul>
</div>
<div class="section" id="installation-of-ipython-and-its-dependencies">
<h2>Installation of IPython and its dependencies<a class="headerlink" href="#installation-of-ipython-and-its-dependencies" title="Permalink to this headline">¶</a></h2>
<p>IPython and all of its dependencies are freely available and open source.
These packages provide a powerful and cost-effective approach to numerical and
scientific computing on Windows. The following dependencies are needed to run
IPython on Windows:</p>
<ul class="simple">
<li>Python 2.6 or 2.7 (<a class="reference external" href="http://www.python.org/">http://www.python.org</a>)</li>
<li>pywin32 (<a class="reference external" href="http://sourceforge.net/projects/pywin32/">http://sourceforge.net/projects/pywin32/</a>)</li>
<li>PyReadline (<a class="reference external" href="https://launchpad.net/pyreadline">https://launchpad.net/pyreadline</a>)</li>
<li>pyzmq (<a class="reference external" href="http://github.com/zeromq/pyzmq/downloads">http://github.com/zeromq/pyzmq/downloads</a>)</li>
<li>IPython (<a class="reference external" href="http://ipython.org/">http://ipython.org</a>)</li>
</ul>
<p>In addition, the following dependencies are needed to run the demos described
in this document.</p>
<ul class="simple">
<li>NumPy and SciPy (<a class="reference external" href="http://www.scipy.org/">http://www.scipy.org</a>)</li>
<li><a class="reference external" href="http://matplotlib.org/">matplotlib</a> (<a class="reference external" href="http://matplotlib.org/">http://matplotlib.org</a>)</li>
</ul>
<p>The easiest way of obtaining these dependencies is through the Enthought
Python Distribution (EPD) (<a class="reference external" href="http://www.enthought.com/products/epd.php">http://www.enthought.com/products/epd.php</a>). EPD is
produced by Enthought, Inc. and contains all of these packages and others in a
single installer and is available free for academic users. While it is also
possible to download and install each package individually, this is a tedious
process. Thus, we highly recommend using EPD to install these packages on
Windows.</p>
<p>Regardless of how you install the dependencies, here are the steps you will
need to follow:</p>
<ol class="arabic simple">
<li>Install all of the packages listed above, either individually or using EPD
on the head node, compute nodes and user workstations.</li>
<li>Make sure that <tt class="file docutils literal"><span class="pre">C:\Python27</span></tt> and <tt class="file docutils literal"><span class="pre">C:\Python27\Scripts</span></tt> are
in the system <span class="target" id="index-0"></span><tt class="xref std std-envvar docutils literal"><span class="pre">%PATH%</span></tt> variable on each node.</li>
<li>Install the latest development version of IPython. This can be done by
downloading the the development version from the IPython website
(<a class="reference external" href="http://ipython.org/">http://ipython.org</a>) and following the installation instructions.</li>
</ol>
<p>Further details about installing IPython or its dependencies can be found in
the online IPython documentation (<a class="reference external" href="http://ipython.org/documentation.html">http://ipython.org/documentation.html</a>)
Once you are finished with the installation, you can try IPython out by
opening a Windows Command Prompt and typing <tt class="docutils literal"><span class="pre">ipython</span></tt>. This will
start IPython&#8217;s interactive shell and you should see something like the
following:</p>
<div class="highlight-python"><div class="highlight"><pre>Microsoft Windows [Version 6.0.6001]
Copyright (c) 2006 Microsoft Corporation.  All rights reserved.

Z:\&gt;ipython
Python 2.7.2 (default, Jun 12 2011, 15:08:59) [MSC v.1500 32 bit (Intel)]
Type &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.

IPython 0.12.dev -- An enhanced Interactive Python.
?         -&gt; Introduction and overview of IPython&#39;s features.
%quickref -&gt; Quick reference.
help      -&gt; Python&#39;s own help system.
object?   -&gt; Details about &#39;object&#39;, use &#39;object??&#39; for extra details.

In [1]:
</pre></div>
</div>
</div>
<div class="section" id="starting-an-ipython-cluster">
<h2>Starting an IPython cluster<a class="headerlink" href="#starting-an-ipython-cluster" title="Permalink to this headline">¶</a></h2>
<p>To use IPython&#8217;s parallel computing capabilities, you will need to start an
IPython cluster. An IPython cluster consists of one controller and multiple
engines:</p>
<dl class="docutils">
<dt>IPython controller</dt>
<dd>The IPython controller manages the engines and acts as a gateway between
the engines and the client, which runs in the user&#8217;s interactive IPython
session. The controller is started using the <strong class="command">ipcontroller</strong>
command.</dd>
<dt>IPython engine</dt>
<dd>IPython engines run a user&#8217;s Python code in parallel on the compute nodes.
Engines are starting using the <strong class="command">ipengine</strong> command.</dd>
</dl>
<p>Once these processes are started, a user can run Python code interactively and
in parallel on the engines from within the IPython shell using an appropriate
client. This includes the ability to interact with, plot and visualize data
from the engines.</p>
<p>IPython has a command line program called <strong class="command">ipcluster</strong> that automates
all aspects of starting the controller and engines on the compute nodes.
<strong class="command">ipcluster</strong> has full support for the Windows HPC job scheduler,
meaning that <strong class="command">ipcluster</strong> can use this job scheduler to start the
controller and engines. In our experience, the Windows HPC job scheduler is
particularly well suited for interactive applications, such as IPython. Once
<strong class="command">ipcluster</strong> is configured properly, a user can start an IPython
cluster from their local workstation almost instantly, without having to log
on to the head node (as is typically required by Unix based job schedulers).
This enables a user to move seamlessly between serial and parallel
computations.</p>
<p>In this section we show how to use <strong class="command">ipcluster</strong> to start an IPython
cluster using the Windows HPC Server 2008 job scheduler. To make sure that
<strong class="command">ipcluster</strong> is installed and working properly, you should first try
to start an IPython cluster on your local host. To do this, open a Windows
Command Prompt and type the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>ipcluster start -n 2
</pre></div>
</div>
<p>You should see a number of messages printed to the screen.
The result should look something like this:</p>
<div class="highlight-python"><div class="highlight"><pre>Microsoft Windows [Version 6.1.7600]
Copyright (c) 2009 Microsoft Corporation.  All rights reserved.

Z:\&gt;ipcluster start --profile=mycluster
[IPClusterStart] Using existing profile dir: u&#39;\\\\blue\\domainusers$\\bgranger\\.ipython\\profile_mycluster&#39;
[IPClusterStart] Starting ipcluster with [daemon=False]
[IPClusterStart] Creating pid file: \\blue\domainusers$\bgranger\.ipython\profile_mycluster\pid\ipcluster.pid
[IPClusterStart] Writing job description file: \\blue\domainusers$\bgranger\.ipython\profile_mycluster\ipcontroller_job.xml
[IPClusterStart] Starting Win HPC Job: job submit /jobfile:\\blue\domainusers$\bgranger\.ipython\profile_mycluster\ipcontroller_job.xml /scheduler:HEADNODE
[IPClusterStart] Starting 15 engines
[IPClusterStart] Writing job description file: \\blue\domainusers$\bgranger\.ipython\profile_mycluster\ipcontroller_job.xml
[IPClusterStart] Starting Win HPC Job: job submit /jobfile:\\blue\domainusers$\bgranger\.ipython\profile_mycluster\ipengineset_job.xml /scheduler:HEADNODE
</pre></div>
</div>
<p>At this point, the controller and two engines are running on your local host.
This configuration is useful for testing and for situations where you want to
take advantage of multiple cores on your local computer.</p>
<p>Now that we have confirmed that <strong class="command">ipcluster</strong> is working properly, we
describe how to configure and run an IPython cluster on an actual compute
cluster running Windows HPC Server 2008. Here is an outline of the needed
steps:</p>
<ol class="arabic simple">
<li>Create a cluster profile using: <tt class="docutils literal"><span class="pre">ipython</span> <span class="pre">profile</span> <span class="pre">create</span> <span class="pre">mycluster</span> <span class="pre">--parallel</span></tt></li>
<li>Edit configuration files in the directory <tt class="file docutils literal"><span class="pre">.ipython\cluster_mycluster</span></tt></li>
<li>Start the cluster using: <tt class="docutils literal"><span class="pre">ipcluster</span> <span class="pre">start</span> <span class="pre">--profile=mycluster</span> <span class="pre">-n</span> <span class="pre">32</span></tt></li>
</ol>
<div class="section" id="creating-a-cluster-profile">
<h3>Creating a cluster profile<a class="headerlink" href="#creating-a-cluster-profile" title="Permalink to this headline">¶</a></h3>
<p>In most cases, you will have to create a cluster profile to use IPython on a
cluster. A cluster profile is a name (like &#8220;mycluster&#8221;) that is associated
with a particular cluster configuration. The profile name is used by
<strong class="command">ipcluster</strong> when working with the cluster.</p>
<p>Associated with each cluster profile is a cluster directory. This cluster
directory is a specially named directory (typically located in the
<tt class="file docutils literal"><span class="pre">.ipython</span></tt> subdirectory of your home directory) that contains the
configuration files for a particular cluster profile, as well as log files and
security keys. The naming convention for cluster directories is:
<tt class="file docutils literal"><span class="pre">profile_&lt;profile</span> <span class="pre">name&gt;</span></tt>. Thus, the cluster directory for a profile named
&#8220;foo&#8221; would be <tt class="file docutils literal"><span class="pre">.ipython\cluster_foo</span></tt>.</p>
<p>To create a new cluster profile (named &#8220;mycluster&#8221;) and the associated cluster
directory, type the following command at the Windows Command Prompt:</p>
<div class="highlight-python"><div class="highlight"><pre>ipython profile create --parallel --profile=mycluster
</pre></div>
</div>
<p>The output of this command is shown in the screenshot below. Notice how
<strong class="command">ipcluster</strong> prints out the location of the newly created profile
directory:</p>
<div class="highlight-python"><div class="highlight"><pre>Z:\&gt;ipython profile create mycluster --parallel
[ProfileCreate] Generating default config file: u&#39;\\\\blue\\domainusers$\\bgranger\\.ipython\\profile_mycluster\\ipython_config.py&#39;
[ProfileCreate] Generating default config file: u&#39;\\\\blue\\domainusers$\\bgranger\\.ipython\\profile_mycluster\\ipcontroller_config.py&#39;
[ProfileCreate] Generating default config file: u&#39;\\\\blue\\domainusers$\\bgranger\\.ipython\\profile_mycluster\\ipengine_config.py&#39;
[ProfileCreate] Generating default config file: u&#39;\\\\blue\\domainusers$\\bgranger\\.ipython\\profile_mycluster\\ipcluster_config.py&#39;
[ProfileCreate] Generating default config file: u&#39;\\\\blue\\domainusers$\\bgranger\\.ipython\\profile_mycluster\\iplogger_config.py&#39;

Z:\&gt;
</pre></div>
</div>
</div>
<div class="section" id="configuring-a-cluster-profile">
<h3>Configuring a cluster profile<a class="headerlink" href="#configuring-a-cluster-profile" title="Permalink to this headline">¶</a></h3>
<p>Next, you will need to configure the newly created cluster profile by editing
the following configuration files in the cluster directory:</p>
<ul class="simple">
<li><tt class="file docutils literal"><span class="pre">ipcluster_config.py</span></tt></li>
<li><tt class="file docutils literal"><span class="pre">ipcontroller_config.py</span></tt></li>
<li><tt class="file docutils literal"><span class="pre">ipengine_config.py</span></tt></li>
</ul>
<p>When <strong class="command">ipcluster</strong> is run, these configuration files are used to
determine how the engines and controller will be started. In most cases,
you will only have to set a few of the attributes in these files.</p>
<p>To configure <strong class="command">ipcluster</strong> to use the Windows HPC job scheduler, you
will need to edit the following attributes in the file
<tt class="file docutils literal"><span class="pre">ipcluster_config.py</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Set these at the top of the file to tell ipcluster to use the</span>
<span class="c"># Windows HPC job scheduler.</span>
<span class="n">c</span><span class="o">.</span><span class="n">IPClusterStart</span><span class="o">.</span><span class="n">controller_launcher_class</span> <span class="o">=</span> <span class="s">&#39;WindowsHPCControllerLauncher&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">IPClusterEngines</span><span class="o">.</span><span class="n">engine_launcher_class</span> <span class="o">=</span> <span class="s">&#39;WindowsHPCEngineSetLauncher&#39;</span>

<span class="c"># Set these to the host name of the scheduler (head node) of your cluster.</span>
<span class="n">c</span><span class="o">.</span><span class="n">WindowsHPCControllerLauncher</span><span class="o">.</span><span class="n">scheduler</span> <span class="o">=</span> <span class="s">&#39;HEADNODE&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">WindowsHPCEngineSetLauncher</span><span class="o">.</span><span class="n">scheduler</span> <span class="o">=</span> <span class="s">&#39;HEADNODE&#39;</span>
</pre></div>
</div>
<p>There are a number of other configuration attributes that can be set, but
in most cases these will be sufficient to get you started.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If any of your configuration attributes involve specifying the location
of shared directories or files, you must make sure that you use UNC paths
like <tt class="file docutils literal"><span class="pre">\\host\share</span></tt>. It is helpful to specify
these paths using raw Python strings: <tt class="docutils literal"><span class="pre">r'\\host\share'</span></tt> to make sure
that the backslashes are properly escaped.</p>
</div>
</div>
<div class="section" id="starting-the-cluster-profile">
<h3>Starting the cluster profile<a class="headerlink" href="#starting-the-cluster-profile" title="Permalink to this headline">¶</a></h3>
<p>Once a cluster profile has been configured, starting an IPython cluster using
the profile is simple:</p>
<div class="highlight-python"><div class="highlight"><pre>ipcluster start --profile=mycluster -n 32
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">-n</span></tt> option tells <strong class="command">ipcluster</strong> how many engines to start (in
this case 32). Stopping the cluster is as simple as typing Control-C.</p>
</div>
<div class="section" id="using-the-hpc-job-manager">
<h3>Using the HPC Job Manager<a class="headerlink" href="#using-the-hpc-job-manager" title="Permalink to this headline">¶</a></h3>
<p>føø
When <tt class="docutils literal"><span class="pre">ipcluster</span> <span class="pre">start</span></tt> is run the first time, <strong class="command">ipcluster</strong> creates
two XML job description files in the cluster directory:</p>
<ul class="simple">
<li><tt class="file docutils literal"><span class="pre">ipcontroller_job.xml</span></tt></li>
<li><tt class="file docutils literal"><span class="pre">ipengineset_job.xml</span></tt></li>
</ul>
<p>Once these files have been created, they can be imported into the HPC Job
Manager application. Then, the controller and engines for that profile can be
started using the HPC Job Manager directly, without using <strong class="command">ipcluster</strong>.
However, anytime the cluster profile is re-configured, <tt class="docutils literal"><span class="pre">ipcluster</span> <span class="pre">start</span></tt>
must be run again to regenerate the XML job description files. The
following screenshot shows what the HPC Job Manager interface looks like
with a running IPython cluster.</p>
<img alt="../_images/hpc_job_manager.png" src="../_images/hpc_job_manager.png" />
</div>
</div>
<div class="section" id="performing-a-simple-interactive-parallel-computation">
<h2>Performing a simple interactive parallel computation<a class="headerlink" href="#performing-a-simple-interactive-parallel-computation" title="Permalink to this headline">¶</a></h2>
<p>Once you have started your IPython cluster, you can start to use it. To do
this, open up a new Windows Command Prompt and start up IPython&#8217;s interactive
shell by typing:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ipython</span>
</pre></div>
</div>
<p>Then you can create a <tt class="xref py py-class docutils literal"><span class="pre">DirectView</span></tt> instance for your profile and
use the resulting instance to do a simple interactive parallel computation. In
the code and screenshot that follows, we take a simple Python function and
apply it to each element of an array of integers in parallel using the
<tt class="xref py py-meth docutils literal"><span class="pre">DirectView.map()</span></tt> method:</p>
<div class="highlight-ipython"><div class="highlight"><pre>In [1]: from IPython.parallel import *

In [2]: c = Client(profile=&#39;mycluster&#39;)

In [3]: view = c[:]

In [4]: c.ids
Out[4]: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]

In [5]: def f(x):
   ...:     return x**10

In [6]: view.map(f, range(15))  # f is applied in parallel
Out[6]:
[0,
 1,
 1024,
 59049,
 1048576,
 9765625,
 60466176,
 282475249,
 1073741824,
 3486784401L,
 10000000000L,
 25937424601L,
 61917364224L,
 137858491849L,
 289254654976L]
</pre></div>
</div>
<p>The <tt class="xref py py-meth docutils literal"><span class="pre">map()</span></tt> method has the same signature as Python&#8217;s builtin <a class="reference external" href="http://docs.python.org/2/library/functions.html#map" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">map()</span></tt></a>
function, but runs the calculation in parallel. More involved examples of using
<tt class="xref py py-class docutils literal"><span class="pre">DirectView</span></tt> are provided in the examples that follow.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="parallel_demos.html" class="btn btn-neutral float-right" title="Parallel examples">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="parallel_security.html" class="btn btn-neutral" title="Security details of IPython"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The IPython Development Team.
      Last updated on Apr 21, 2014.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: master
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="../index.html">master</a></dd>
        
          <dd><a href="https://ipython.readthedocs.org/en/latest/">latest</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://media.readthedocs.org/pdf/ipython/master/ipython.pdf">PDF</a></dd>
        
          <dd><a href="https://media.readthedocs.org/htmlzip/ipython/master/ipython.zip">HTML</a></dd>
        
          <dd><a href="https://media.readthedocs.org/epub/ipython/master/ipython.epub">Epub</a></dd>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="http://readthedocs.org/projects/ipython/?fromdocs=ipython">Project Home</a>
          </dd>
          <dd>
            <a href="http://readthedocs.org/builds/ipython/?fromdocs=ipython">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org/">Read the Docs</a>.

    </div>
  </div>



  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.0.0-dev',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../media.readthedocs.org/javascript/jquery/jquery-2.0.3.min.js"></script>
      <script type="text/javascript" src="../../../../media.readthedocs.org/javascript/jquery/jquery-migrate-1.2.1.min.js"></script>
      <script type="text/javascript" src="../../../../media.readthedocs.org/javascript/underscore.js"></script>
      <script type="text/javascript" src="../../../../media.readthedocs.org/javascript/doctools.js"></script>
      <script type="text/javascript" src="../../../../media.readthedocs.org/javascript/readthedocs-doc-embed.js"></script>

  

  
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>

<!-- Mirrored from ipython.readthedocs.org/en/master/parallel/parallel_winhpc.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 22 Apr 2014 07:16:37 GMT -->
</html>