

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<!-- Mirrored from ipython.readthedocs.org/en/master/parallel/magics.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 22 Apr 2014 07:16:37 GMT -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Parallel Magic Commands &mdash; IPython 3.0.0-dev documentation</title>
  

  
  

  
  <link href='../../../../fonts.googleapis.com/css732b.css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  

  
    <link rel="stylesheet" href="../../../../media.readthedocs.org/css/sphinx_rtd_theme.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../../media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />
  
    <link rel="top" title="IPython 3.0.0-dev documentation" href="../index-2.html"/>
        <link rel="up" title="Using IPython for parallel computing" href="index.html"/>
        <link rel="next" title="The IPython task interface" href="parallel_task.html"/>
        <link rel="prev" title="IPythonâ€™s Direct interface" href="parallel_multiengine.html"/>
 
<!-- RTD Extra Head -->



<!-- 
Read the Docs is acting as the canonical URL for your project. 
If you want to change it, more info is available in our docs:
  http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="http://ipython.readthedocs.org/en/latest/parallel/magics.html" />

<script type="text/javascript">
  // This is included here because other places don't have access to the pagename variable.
  var READTHEDOCS_DATA = {
    project: "ipython",
    version: "master",
    language: "en",
    page: "parallel/magics",
    theme: "sphinx_rtd_theme",
    docroot: "/docs/source/",
    source_suffix: ".rst",
    api_host: "https://readthedocs.org"
  }
  // Old variables
  var doc_version = "master";
  var doc_slug = "ipython";
  var page_name = "parallel/magics";
  var html_theme = "sphinx_rtd_theme";
</script>
<!-- RTD Analytics Code -->
<!-- Included in the header because you don't have a footer block. -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17997319-1']);
  _gaq.push(['_trackPageview']);


  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<!-- end RTD Analytics Code -->
<!-- end RTD <extrahead> -->


  
  <script src="../../../../cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index-2.html" class="fa fa-home"> IPython</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="https://ipython.readthedocs.org/en/master/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#id1">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#enhanced-interactive-python-shell">Enhanced interactive Python shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#decoupled-two-process-model">Decoupled two-process model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#interactive-parallel-computing">Interactive parallel computing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../whatsnew/index.html">What&#8217;s new in IPython</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/development.html">Development version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version2.0.html">2.0 Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/github-stats-2.0.html">Issues closed in the 2.0 development cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version1.0.html">1.0 Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/github-stats-1.0.html">Issues closed in the 1.0 development cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version0.13.html">0.13 Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/github-stats-0.13.html">Issues closed in the 0.13 development cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version0.12.html">0.12 Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/github-stats-0.12.html">Issues closed in the 0.12 development cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version0.11.html">0.11 Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/github-stats-0.11.html">Issues closed in the 0.11 development cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version0.10.html">0.10 series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version0.9.html">0.9 series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../whatsnew/version0.8.html">0.8 series</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html">Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#installing-ipython-itself">Installing IPython itself</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#basic-optional-dependencies">Basic optional dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#dependencies-for-ipython-parallel-parallel-computing">Dependencies for IPython.parallel (parallel computing)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#dependencies-for-ipython-kernel-zmq">Dependencies for IPython.kernel.zmq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#dependencies-for-the-ipython-qt-console">Dependencies for the IPython QT console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#dependencies-for-the-ipython-html-notebook">Dependencies for the IPython HTML notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install.html#dependencies-for-nbconvert-converting-notebooks-to-various-formats">Dependencies for nbconvert (converting notebooks to various formats)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../interactive/index.html">Using IPython for interactive work</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interactive/tutorial.html">Introducing IPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactive/tips.html">IPython Tips &amp; Tricks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactive/reference.html">IPython reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactive/shell.html">IPython as a system shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interactive/qtconsole.html">A Qt Console for IPython</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/index.html">The IPython notebook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebook/notebook.html">The IPython Notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebook/nbconvert.html">Converting notebooks to other formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebook/public_server.html">Running a notebook server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebook/security.html">Security in IPython notebooks</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Using IPython for parallel computing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="parallel_intro.html">Overview and getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_process.html">Starting the IPython controller and engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_multiengine.html">IPython&#8217;s Direct interface</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Parallel Magic Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_task.html">The IPython task interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="asyncresult.html">The AsyncResult object</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_mpi.html">Using MPI with IPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_db.html">IPython&#8217;s Task Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_security.html">Security details of IPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_winhpc.html">Getting started with Windows HPC Server 2008</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_demos.html">Parallel examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="dag_dependencies.html">DAG Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_details.html">Details of Parallel Computing with IPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_transition.html">Transitioning from IPython.kernel to IPython.parallel</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config/index.html">Configuration and customization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../config/index.html#configuring-ipython">Configuring IPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config/index.html#extending-and-integrating-with-ipython">Extending and integrating with IPython</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">IPython developer&#8217;s guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/messaging.html">Messaging in IPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/parallel_messages.html">Messaging for Parallel Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/parallel_connections.html">Connection Diagrams of The IPython ZMQ Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/lexer.html">New IPython Console Lexer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/pycompat.html">Writing code for Python 2 and 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/config.html">Overview of the IPython configuration system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/inputhook_app.html">IPython GUI Support Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">The IPython API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About IPython</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about/credits.html">Credits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/history.html">History</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/license_and_copyright.html">License and Copyright</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index-2.html">IPython</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index-2.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Using IPython for parallel computing</a> &raquo;</li>
      
    <li>Parallel Magic Commands</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="https://github.com/ipython/ipython/blob/master/docs/source/parallel/magics.rst" class="fa fa-github"> Edit on GitHub</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This documentation is for a development version of IPython. There may be
significant differences from the latest stable release.</p>
</div>
</div></blockquote>
<div class="section" id="parallel-magic-commands">
<span id="parallel-magics"></span><h1>Parallel Magic Commands<a class="headerlink" href="#parallel-magic-commands" title="Permalink to this headline">Â¶</a></h1>
<p>We provide a few IPython magic commands
that make it a bit more pleasant to execute Python commands on the engines interactively.
These are mainly shortcuts to <tt class="xref py py-meth docutils literal"><span class="pre">DirectView.execute()</span></tt>
and <tt class="xref py py-meth docutils literal"><span class="pre">AsyncResult.display_outputs()</span></tt> methods respectively.</p>
<p>These magics will automatically become available when you create a Client:</p>
<div class="highlight-ipython"><div class="highlight"><pre>In [2]: rc = parallel.Client()
</pre></div>
</div>
<p>The initially active View will have attributes <tt class="docutils literal"><span class="pre">targets='all',</span> <span class="pre">block=True</span></tt>,
which is a blocking view of all engines, evaluated at request time
(adding/removing engines will change where this view&#8217;s tasks will run).</p>
<div class="section" id="the-magics">
<h2>The Magics<a class="headerlink" href="#the-magics" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="px">
<h3>%px<a class="headerlink" href="#px" title="Permalink to this headline">Â¶</a></h3>
<p>The %px magic executes a single Python command on the engines
specified by the <tt class="xref py py-attr docutils literal"><span class="pre">targets</span></tt> attribute of the <tt class="xref py py-class docutils literal"><span class="pre">DirectView</span></tt> instance:</p>
<div class="highlight-ipython"><div class="highlight"><pre># import numpy here and everywhere
In [25]: with rc[:].sync_imports():
   ....:    import numpy
importing numpy on engine(s)

In [27]: %px a = numpy.random.rand(2,2)
Parallel execution on engines: [0, 1, 2, 3]

In [28]: %px numpy.linalg.eigvals(a)
Parallel execution on engines: [0, 1, 2, 3]
Out [0:68]: array([ 0.77120707, -0.19448286])
Out [1:68]: array([ 1.10815921,  0.05110369])
Out [2:68]: array([ 0.74625527, -0.37475081])
Out [3:68]: array([ 0.72931905,  0.07159743])

In [29]: %px print &#39;hi&#39;
Parallel execution on engine(s): all
[stdout:0] hi
[stdout:1] hi
[stdout:2] hi
[stdout:3] hi
</pre></div>
</div>
<p>Since engines are IPython as well, you can even run magics remotely:</p>
<div class="highlight-ipython"><div class="highlight"><pre>In [28]: %px %pylab inline
Parallel execution on engine(s): all
[stdout:0]
Populating the interactive namespace from numpy and matplotlib
[stdout:1]
Populating the interactive namespace from numpy and matplotlib
[stdout:2]
Populating the interactive namespace from numpy and matplotlib
[stdout:3]
Populating the interactive namespace from numpy and matplotlib
</pre></div>
</div>
<p>And once in pylab mode with the inline backend,
you can make plots and they will be displayed in your frontend
if it supports the inline figures (e.g. notebook or qtconsole):</p>
<div class="highlight-ipython"><div class="highlight"><pre>In [40]: %px plot(rand(100))
Parallel execution on engine(s): all
&lt;plot0&gt;
&lt;plot1&gt;
&lt;plot2&gt;
&lt;plot3&gt;
Out[0:79]: [&lt;matplotlib.lines.Line2D at 0x10a6286d0&gt;]
Out[1:79]: [&lt;matplotlib.lines.Line2D at 0x10b9476d0&gt;]
Out[2:79]: [&lt;matplotlib.lines.Line2D at 0x110652750&gt;]
Out[3:79]: [&lt;matplotlib.lines.Line2D at 0x10c6566d0&gt;]
</pre></div>
</div>
</div>
<div class="section" id="px-cell-magic">
<h3>%%px Cell Magic<a class="headerlink" href="#px-cell-magic" title="Permalink to this headline">Â¶</a></h3>
<p>%%px can be used as a Cell Magic, which accepts some arguments for controlling
the execution.</p>
<div class="section" id="targets-and-blocking">
<h4>Targets and Blocking<a class="headerlink" href="#targets-and-blocking" title="Permalink to this headline">Â¶</a></h4>
<p>%%px accepts <tt class="docutils literal"><span class="pre">--targets</span></tt> for controlling which engines on which to run,
and <tt class="docutils literal"><span class="pre">--[no]block</span></tt> for specifying the blocking behavior of this cell,
independent of the defaults for the View.</p>
<div class="highlight-ipython"><div class="highlight"><pre>In [6]: %%px --targets ::2
   ...: print &quot;I am even&quot;
   ...:
Parallel execution on engine(s): [0, 2]
[stdout:0] I am even
[stdout:2] I am even

In [7]: %%px --targets 1
   ...: print &quot;I am number 1&quot;
   ...:
Parallel execution on engine(s): 1
I am number 1

In [8]: %%px
   ...: print &quot;still &#39;all&#39; by default&quot;
   ...:
Parallel execution on engine(s): all
[stdout:0] still &#39;all&#39; by default
[stdout:1] still &#39;all&#39; by default
[stdout:2] still &#39;all&#39; by default
[stdout:3] still &#39;all&#39; by default

In [9]: %%px --noblock
   ...: import time
   ...: time.sleep(1)
   ...: time.time()
   ...:
Async parallel execution on engine(s): all
Out[9]: &lt;AsyncResult: execute&gt;

In [10]: %pxresult
Out[0:12]: 1339454561.069116
Out[1:10]: 1339454561.076752
Out[2:12]: 1339454561.072837
Out[3:10]: 1339454561.066665
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pxconfig"><em>%pxconfig</em></a> accepts these same arguments for changing the <em>default</em>
values of targets/blocking for the active View.</p>
</div>
</div>
<div class="section" id="output-display">
<h4>Output Display<a class="headerlink" href="#output-display" title="Permalink to this headline">Â¶</a></h4>
<p>%%px also accepts a <tt class="docutils literal"><span class="pre">--group-outputs</span></tt> argument,
which adjusts how the outputs of multiple engines are presented.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><tt class="xref py py-meth docutils literal"><span class="pre">AsyncResult.display_outputs()</span></tt> for the grouping options.</p>
</div>
<div class="highlight-ipython"><div class="highlight"><pre>In [50]: %%px --block --group-outputs=engine
   ....: import numpy as np
   ....: A = np.random.random((2,2))
   ....: ev = numpy.linalg.eigvals(A)
   ....: print ev
   ....: ev.max()
   ....:
Parallel execution on engine(s): all
[stdout:0] [ 0.60640442  0.95919621]
Out [0:73]: 0.9591962130899806
[stdout:1] [ 0.38501813  1.29430871]
Out [1:73]: 1.2943087091452372
[stdout:2] [-0.85925141  0.9387692 ]
Out [2:73]: 0.93876920456230284
[stdout:3] [ 0.37998269  1.24218246]
Out [3:73]: 1.2421824618493817
</pre></div>
</div>
</div>
</div>
<div class="section" id="pxresult">
<h3>%pxresult<a class="headerlink" href="#pxresult" title="Permalink to this headline">Â¶</a></h3>
<p>If you are using %px in non-blocking mode, you won&#8217;t get output.
You can use %pxresult to display the outputs of the latest command,
just as is done when %px is blocking:</p>
<div class="highlight-ipython"><div class="highlight"><pre>In [39]: dv.block = False

In [40]: %px print &#39;hi&#39;
Async parallel execution on engine(s): all

In [41]: %pxresult
[stdout:0] hi
[stdout:1] hi
[stdout:2] hi
[stdout:3] hi
</pre></div>
</div>
<p>%pxresult simply calls <tt class="xref py py-meth docutils literal"><span class="pre">AsyncResult.display_outputs()</span></tt> on the most recent request.
It accepts the same output-grouping arguments as %%px, so you can use it to view
a result in different ways.</p>
</div>
<div class="section" id="autopx">
<h3>%autopx<a class="headerlink" href="#autopx" title="Permalink to this headline">Â¶</a></h3>
<p>The %autopx magic switches to a mode where everything you type is executed
on the engines until you do %autopx again.</p>
<div class="highlight-ipython"><div class="highlight"><pre>In [30]: dv.block=True

In [31]: %autopx
%autopx enabled

In [32]: max_evals = []

In [33]: for i in range(100):
   ....:     a = numpy.random.rand(10,10)
   ....:     a = a+a.transpose()
   ....:     evals = numpy.linalg.eigvals(a)
   ....:     max_evals.append(evals[0].real)
   ....:

In [34]: print &quot;Average max eigenvalue is: %f&quot; % (sum(max_evals)/len(max_evals))
[stdout:0] Average max eigenvalue is: 10.193101
[stdout:1] Average max eigenvalue is: 10.064508
[stdout:2] Average max eigenvalue is: 10.055724
[stdout:3] Average max eigenvalue is: 10.086876

In [35]: %autopx
Auto Parallel Disabled
</pre></div>
</div>
</div>
<div class="section" id="pxconfig">
<span id="id1"></span><h3>%pxconfig<a class="headerlink" href="#pxconfig" title="Permalink to this headline">Â¶</a></h3>
<p>The default targets and blocking behavior for the magics are governed by the <tt class="xref py py-attr docutils literal"><span class="pre">block</span></tt>
and <tt class="xref py py-attr docutils literal"><span class="pre">targets</span></tt> attribute of the active View.  If you have a handle for the view,
you can set these attributes directly, but if you don&#8217;t, you can change them with
the %pxconfig magic:</p>
<div class="highlight-ipython"><div class="highlight"><pre>In [3]: %pxconfig --block

In [5]: %px print &#39;hi&#39;
Parallel execution on engine(s): all
[stdout:0] hi
[stdout:1] hi
[stdout:2] hi
[stdout:3] hi

In [6]: %pxconfig --targets ::2

In [7]: %px print &#39;hi&#39;
Parallel execution on engine(s): [0, 2]
[stdout:0] hi
[stdout:2] hi

In [8]: %pxconfig --noblock

In [9]: %px print &#39;are you there?&#39;
Async parallel execution on engine(s): [0, 2]
Out[9]: &lt;AsyncResult: execute&gt;

In [10]: %pxresult
[stdout:0] are you there?
[stdout:2] are you there?
</pre></div>
</div>
</div>
</div>
<div class="section" id="multiple-active-views">
<h2>Multiple Active Views<a class="headerlink" href="#multiple-active-views" title="Permalink to this headline">Â¶</a></h2>
<p>The parallel magics are associated with a particular <tt class="xref py py-class docutils literal"><span class="pre">DirectView</span></tt> object.
You can change the active view by calling the <tt class="xref py py-meth docutils literal"><span class="pre">activate()</span></tt> method
on any view.</p>
<div class="highlight-ipython"><div class="highlight"><pre>In [11]: even = rc[::2]

In [12]: even.activate()

In [13]: %px print &#39;hi&#39;
Async parallel execution on engine(s): [0, 2]
Out[13]: &lt;AsyncResult: execute&gt;

In [14]: even.block = True

In [15]: %px print &#39;hi&#39;
Parallel execution on engine(s): [0, 2]
[stdout:0] hi
[stdout:2] hi
</pre></div>
</div>
<p>When activating a View, you can also specify a <em>suffix</em>, so that a whole different
set of magics are associated with that view, without replacing the existing ones.</p>
<div class="highlight-ipython"><div class="highlight"><pre># restore the original DirecView to the base %px magics
In [16]: rc.activate()
Out[16]: &lt;DirectView all&gt;

In [17]: even.activate(&#39;_even&#39;)

In [18]: %px print &#39;hi all&#39;
Parallel execution on engine(s): all
[stdout:0] hi all
[stdout:1] hi all
[stdout:2] hi all
[stdout:3] hi all

In [19]: %px_even print &quot;We aren&#39;t odd!&quot;
Parallel execution on engine(s): [0, 2]
[stdout:0] We aren&#39;t odd!
[stdout:2] We aren&#39;t odd!
</pre></div>
</div>
<p>This suffix is applied to the end of all magics, e.g. %autopx_even, %pxresult_even, etc.</p>
<p>For convenience, the <tt class="xref py py-class docutils literal"><span class="pre">Client</span></tt> has a <tt class="xref py py-meth docutils literal"><span class="pre">activate()</span></tt> method as well,
which creates a DirectView with block=True, activates it, and returns the new View.</p>
<p>The initial magics registered when you create a client are the result of a call to
<tt class="xref py py-meth docutils literal"><span class="pre">rc.activate()</span></tt> with default args.</p>
</div>
<div class="section" id="engines-as-kernels">
<h2>Engines as Kernels<a class="headerlink" href="#engines-as-kernels" title="Permalink to this headline">Â¶</a></h2>
<p>Engines are really the same object as the Kernels used elsewhere in IPython,
with the minor exception that engines connect to a controller, while regular kernels
bind their sockets, listening for connections from a QtConsole or other frontends.</p>
<p>Sometimes for debugging or inspection purposes, you would like a QtConsole connected
to an engine for more direct interaction.  You can do this by first instructing
the Engine to <em>also</em> bind its kernel, to listen for connections:</p>
<div class="highlight-ipython"><div class="highlight"><pre>In [50]: %px from IPython.parallel import bind_kernel; bind_kernel()
</pre></div>
</div>
<p>Then, if your engines are local, you can start a qtconsole right on the engine(s):</p>
<div class="highlight-ipython"><div class="highlight"><pre>In [51]: %px %qtconsole
</pre></div>
</div>
<p>Careful with this one, because if your view is of 16 engines it will start 16 QtConsoles!</p>
<p>Or you can view just the connection info, and work out the right way to connect to the engines,
depending on where they live and where you are:</p>
<div class="highlight-ipython"><div class="highlight"><pre>In [51]: %px %connect_info
Parallel execution on engine(s): all
[stdout:0]
{
  &quot;stdin_port&quot;: 60387,
  &quot;ip&quot;: &quot;127.0.0.1&quot;,
  &quot;hb_port&quot;: 50835,
  &quot;key&quot;: &quot;eee2dd69-7dd3-4340-bf3e-7e2e22a62542&quot;,
  &quot;shell_port&quot;: 55328,
  &quot;iopub_port&quot;: 58264
}

Paste the above JSON into a file, and connect with:
    $&gt; ipython &lt;app&gt; --existing &lt;file&gt;
or, if you are local, you can connect with just:
    $&gt; ipython &lt;app&gt; --existing kernel-60125.json
or even just:
    $&gt; ipython &lt;app&gt; --existing
if this is the most recent IPython session you have started.
[stdout:1]
{
  &quot;stdin_port&quot;: 61869,
...
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">%qtconsole</span></tt> will call <tt class="xref py py-func docutils literal"><span class="pre">bind_kernel()</span></tt> on an engine if it hasn&#8217;t been done already,
so you can often skip that first step.</p>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="parallel_task.html" class="btn btn-neutral float-right" title="The IPython task interface">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="parallel_multiengine.html" class="btn btn-neutral" title="IPythonâ€™s Direct interface"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The IPython Development Team.
      Last updated on Apr 21, 2014.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: master
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="../index.html">master</a></dd>
        
          <dd><a href="https://ipython.readthedocs.org/en/latest/">latest</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://media.readthedocs.org/pdf/ipython/master/ipython.pdf">PDF</a></dd>
        
          <dd><a href="https://media.readthedocs.org/htmlzip/ipython/master/ipython.zip">HTML</a></dd>
        
          <dd><a href="https://media.readthedocs.org/epub/ipython/master/ipython.epub">Epub</a></dd>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="http://readthedocs.org/projects/ipython/?fromdocs=ipython">Project Home</a>
          </dd>
          <dd>
            <a href="http://readthedocs.org/builds/ipython/?fromdocs=ipython">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org/">Read the Docs</a>.

    </div>
  </div>



  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.0.0-dev',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../media.readthedocs.org/javascript/jquery/jquery-2.0.3.min.js"></script>
      <script type="text/javascript" src="../../../../media.readthedocs.org/javascript/jquery/jquery-migrate-1.2.1.min.js"></script>
      <script type="text/javascript" src="../../../../media.readthedocs.org/javascript/underscore.js"></script>
      <script type="text/javascript" src="../../../../media.readthedocs.org/javascript/doctools.js"></script>
      <script type="text/javascript" src="../../../../media.readthedocs.org/javascript/readthedocs-doc-embed.js"></script>

  

  
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>

<!-- Mirrored from ipython.readthedocs.org/en/master/parallel/magics.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 22 Apr 2014 07:16:37 GMT -->
</html>