<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>son – Tools for working with SON, an ordered mapping — PyMongo 3.4.0 documentation</title>
<link href="../../_static/pydoctheme.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
<script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/underscore.js" type="text/javascript"></script>
<script src="../../_static/doctools.js" type="text/javascript"></script>
<script src="../../_static/sidebar.js" type="text/javascript"></script>
<link href="../../index.html" rel="top" title="PyMongo 3.4.0 documentation"/>
<link href="index.html" rel="up" title="bson – BSON (Binary JSON) Encoding and Decoding"/>
<link href="timestamp.html" rel="next" title="timestamp – Tools for representing MongoDB internal Timestamps"/>
<link href="regex.html" rel="prev" title="regex – Tools for representing MongoDB regular expressions"/>
</head>
<body role="document">
<div aria-label="related navigation" class="related" role="navigation">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="timestamp.html" title="timestamp – Tools for representing MongoDB internal Timestamps">next</a> |</li>
<li class="right">
<a accesskey="P" href="regex.html" title="regex – Tools for representing MongoDB regular expressions">previous</a> |</li>
<li class="nav-item nav-item-0"><a href="../../index.html">PyMongo 3.4.0 documentation</a> »</li>
<li class="nav-item nav-item-1"><a href="../index.html">API Documentation</a> »</li>
<li class="nav-item nav-item-2"><a accesskey="U" href="index.html"><code class="docutils literal"><span class="pre">bson</span></code> – BSON (Binary JSON) Encoding and Decoding</a> »</li>
</ul>
</div>
<div class="document">
<div class="documentwrapper">
<div class="body" role="main">
<div class="section" id="module-bson.son">
<span id="son-tools-for-working-with-son-an-ordered-mapping"></span><h1><a name="//apple_ref/cpp/Module/bson.son"></a><code class="xref py py-mod docutils literal"><span class="pre">son</span></code> – Tools for working with SON, an ordered mapping<a class="headerlink" href="#module-bson.son" title="Permalink to this headline">¶</a></h1>
<p>Tools for creating and manipulating SON, the Serialized Ocument Notation.</p>
<p>Regular dictionaries can be used instead of SON objects, but not when the order
of keys is important. A SON object can be used just like a normal Python
dictionary.</p>
<dl class="class">
<dt id="bson.son.SON"><a name="//apple_ref/cpp/Class/bson.son.SON"></a>
<em class="property">class </em><code class="descclassname">bson.son.</code><code class="descname">SON</code><span class="sig-paren">(</span><em>data=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#bson.son.SON" title="Permalink to this definition">¶</a></dt>
<dd><p>SON data.</p>
<p>A subclass of dict that maintains ordering of keys and provides a
few extra niceties for dealing with SON. SON objects can be
converted to and from BSON.</p>
<p>The mapping from Python types to BSON types is as follows:</p>
<table border="1" class="docutils">
<colgroup>
<col width="55%"></col>
<col width="18%"></col>
<col width="27%"></col>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Python Type</th>
<th class="head">BSON Type</th>
<th class="head">Supported Direction</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>None</td>
<td>null</td>
<td>both</td>
</tr>
<tr class="row-odd"><td>bool</td>
<td>boolean</td>
<td>both</td>
</tr>
<tr class="row-even"><td>int <a class="footnote-reference" href="#int" id="id1">[1]</a></td>
<td>int32 / int64</td>
<td>py -&gt; bson</td>
</tr>
<tr class="row-odd"><td>long</td>
<td>int64</td>
<td>py -&gt; bson</td>
</tr>
<tr class="row-even"><td><cite>bson.int64.Int64</cite></td>
<td>int64</td>
<td>both</td>
</tr>
<tr class="row-odd"><td>float</td>
<td>number (real)</td>
<td>both</td>
</tr>
<tr class="row-even"><td>string</td>
<td>string</td>
<td>py -&gt; bson</td>
</tr>
<tr class="row-odd"><td>unicode</td>
<td>string</td>
<td>both</td>
</tr>
<tr class="row-even"><td>list</td>
<td>array</td>
<td>both</td>
</tr>
<tr class="row-odd"><td>dict / <cite>SON</cite></td>
<td>object</td>
<td>both</td>
</tr>
<tr class="row-even"><td>datetime.datetime <a class="footnote-reference" href="#dt" id="id2">[2]</a> <a class="footnote-reference" href="#dt2" id="id3">[3]</a></td>
<td>date</td>
<td>both</td>
</tr>
<tr class="row-odd"><td><cite>bson.regex.Regex</cite></td>
<td>regex</td>
<td>both</td>
</tr>
<tr class="row-even"><td>compiled re <a class="footnote-reference" href="#re" id="id4">[4]</a></td>
<td>regex</td>
<td>py -&gt; bson</td>
</tr>
<tr class="row-odd"><td><cite>bson.binary.Binary</cite></td>
<td>binary</td>
<td>both</td>
</tr>
<tr class="row-even"><td><cite>bson.objectid.ObjectId</cite></td>
<td>oid</td>
<td>both</td>
</tr>
<tr class="row-odd"><td><cite>bson.dbref.DBRef</cite></td>
<td>dbref</td>
<td>both</td>
</tr>
<tr class="row-even"><td>None</td>
<td>undefined</td>
<td>bson -&gt; py</td>
</tr>
<tr class="row-odd"><td>unicode</td>
<td>code</td>
<td>bson -&gt; py</td>
</tr>
<tr class="row-even"><td><cite>bson.code.Code</cite></td>
<td>code</td>
<td>py -&gt; bson</td>
</tr>
<tr class="row-odd"><td>unicode</td>
<td>symbol</td>
<td>bson -&gt; py</td>
</tr>
<tr class="row-even"><td>bytes (Python 3) <a class="footnote-reference" href="#bytes" id="id5">[5]</a></td>
<td>binary</td>
<td>both</td>
</tr>
</tbody>
</table>
<p>Note that to save binary data it must be wrapped as an instance of
<cite>bson.binary.Binary</cite>. Otherwise it will be saved as a BSON string
and retrieved as unicode.</p>
<table class="docutils footnote" frame="void" id="int" rules="none">
<colgroup><col class="label"></col><col></col></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>A Python int will be saved as a BSON int32 or BSON int64 depending
on its size. A BSON int32 will always decode to a Python int. A BSON
int64 will always decode to a <a class="reference internal" href="int64.html#bson.int64.Int64" title="bson.int64.Int64"><code class="xref py py-class docutils literal"><span class="pre">Int64</span></code></a>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="dt" rules="none">
<colgroup><col class="label"></col><col></col></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>datetime.datetime instances will be rounded to the nearest
millisecond when saved</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="dt2" rules="none">
<colgroup><col class="label"></col><col></col></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td>all datetime.datetime instances are treated as <em>naive</em>. clients
should always use UTC.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="re" rules="none">
<colgroup><col class="label"></col><col></col></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td><a class="reference internal" href="regex.html#bson.regex.Regex" title="bson.regex.Regex"><code class="xref py py-class docutils literal"><span class="pre">Regex</span></code></a> instances and regular expression
objects from <code class="docutils literal"><span class="pre">re.compile()</span></code> are both saved as BSON regular expressions.
BSON regular expressions are decoded as <a class="reference internal" href="regex.html#bson.regex.Regex" title="bson.regex.Regex"><code class="xref py py-class docutils literal"><span class="pre">Regex</span></code></a>
instances.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="bytes" rules="none">
<colgroup><col class="label"></col><col></col></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[5]</a></td><td>The bytes type from Python 3.x is encoded as BSON binary with
subtype 0. In Python 3.x it will be decoded back to bytes. In Python 2.x
it will be decoded to an instance of <a class="reference internal" href="binary.html#bson.binary.Binary" title="bson.binary.Binary"><code class="xref py py-class docutils literal"><span class="pre">Binary</span></code></a> with
subtype 0.</td></tr>
</tbody>
</table>
<dl class="method">
<dt id="bson.son.SON.to_dict"><a name="//apple_ref/cpp/Method/bson.son.SON.to_dict"></a>
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bson.son.SON.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a SON document to a normal Python dictionary instance.</p>
<p>This is trickier than just <em>dict(...)</em> because it needs to be
recursive.</p>
</dd></dl>
</dd></dl>
</div>
</div>
</div>
<div class="clearer"></div>
</div>
<div aria-label="related navigation" class="related" role="navigation">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="../../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="timestamp.html" title="timestamp – Tools for representing MongoDB internal Timestamps">next</a> |</li>
<li class="right">
<a href="regex.html" title="regex – Tools for representing MongoDB regular expressions">previous</a> |</li>
<li class="nav-item nav-item-0"><a href="../../index.html">PyMongo 3.4.0 documentation</a> »</li>
<li class="nav-item nav-item-1"><a href="../index.html">API Documentation</a> »</li>
<li class="nav-item nav-item-2"><a href="index.html"><code class="docutils literal"><span class="pre">bson</span></code> – BSON (Binary JSON) Encoding and Decoding</a> »</li>
</ul>
</div>
<div class="footer" role="contentinfo">
        © Copyright 2008 - 2015, MongoDB, Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.5.
    </div>
</body>
</html>