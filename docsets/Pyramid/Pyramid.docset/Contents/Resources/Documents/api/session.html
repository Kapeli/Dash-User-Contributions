<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><title>pyramid.session — The Pyramid Web Framework v1.5</title><link href="../_static/pylons.css" rel="stylesheet" type="text/css"/><link href="../_static/pygments.css" rel="stylesheet" type="text/css"/><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script><script src="../_static/jquery.js" type="text/javascript"></script><script src="../_static/underscore.js" type="text/javascript"></script><script src="../_static/doctools.js" type="text/javascript"></script><link href="../copyright.html" rel="copyright" title="Copyright"/><link href="../index.html" rel="top" title="The Pyramid Web Framework v1.5"/><link href="settings.html" rel="next" title="pyramid.settings"/><link href="security.html" rel="prev" title="pyramid.security"/><link charset="utf-8" href="http://static.pylonsproject.org/fonts/nobile/stylesheet.css" media="screen" rel="stylesheet" type="text/css"/><link charset="utf-8" href="http://static.pylonsproject.org/fonts/neuton/stylesheet.css" media="screen" rel="stylesheet" type="text/css"/><!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]--><link href="../_static/pyramid.ico" rel="shortcut icon"/></head><body>
<div class="header-small">
<div class="logo-small">
<a href="../index.html">
<img alt="Logo" class="logo" src="../_static/pyramid-small.png"/>
</a>
</div>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="settings.html" title="pyramid.settings">next</a> |</li>
<li class="right">
<a accesskey="P" href="security.html" title="pyramid.security">previous</a> |</li>
<li><a href="../index.html">The Pyramid Web Framework v1.5</a> »</li>
</ul>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body">
<div class="section" id="module-pyramid.session">
<span id="pyramid-session"></span><span id="session-module"></span><h1><a name="//apple_ref/cpp/Module/pyramid.session"></a><a class="reference internal" href="#module-pyramid.session" title="pyramid.session"><tt class="xref py py-mod docutils literal"><span class="pre">pyramid.session</span></tt></a><a class="headerlink" href="#module-pyramid.session" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="pyramid.session.signed_serialize"><a name="//apple_ref/cpp/func/pyramid.session.signed_serialize"></a>
<tt class="descname">signed_serialize</tt><big>(</big><em>data</em>, <em>secret</em><big>)</big><a class="reference internal" href="../_modules/pyramid/session.html#signed_serialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.session.signed_serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize any pickleable structure (<tt class="docutils literal"><span class="pre">data</span></tt>) and sign it
using the <tt class="docutils literal"><span class="pre">secret</span></tt> (must be a string).  Return the
serialization, which includes the signature as its first 40 bytes.
The <tt class="docutils literal"><span class="pre">signed_deserialize</span></tt> method will deserialize such a value.</p>
<p>This function is useful for creating signed cookies.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cookieval</span> <span class="o">=</span> <span class="n">signed_serialize</span><span class="p">({</span><span class="s">'a'</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span> <span class="s">'secret'</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">set_cookie</span><span class="p">(</span><span class="s">'signed_cookie'</span><span class="p">,</span> <span class="n">cookieval</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>
<dl class="function">
<dt id="pyramid.session.signed_deserialize"><a name="//apple_ref/cpp/func/pyramid.session.signed_deserialize"></a>
<tt class="descname">signed_deserialize</tt><big>(</big><em>serialized</em>, <em>secret</em>, <em>hmac=&lt;module 'hmac' from '/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/hmac.pyc'&gt;</em><big>)</big><a class="reference internal" href="../_modules/pyramid/session.html#signed_deserialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.session.signed_deserialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserialize the value returned from <tt class="docutils literal"><span class="pre">signed_serialize</span></tt>.  If
the value cannot be deserialized for any reason, a
<a class="reference external" href="http://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.4)"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> exception will be raised.</p>
<p>This function is useful for deserializing a signed cookie value
created by <tt class="docutils literal"><span class="pre">signed_serialize</span></tt>.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cookieval</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">cookies</span><span class="p">[</span><span class="s">'signed_cookie'</span><span class="p">]</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">signed_deserialize</span><span class="p">(</span><span class="n">cookieval</span><span class="p">,</span> <span class="s">'secret'</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>
<dl class="function">
<dt id="pyramid.session.check_csrf_token"><a name="//apple_ref/cpp/func/pyramid.session.check_csrf_token"></a>
<tt class="descname">check_csrf_token</tt><big>(</big><em>request</em>, <em>token='csrf_token'</em>, <em>header='X-CSRF-Token'</em>, <em>raises=True</em><big>)</big><a class="reference internal" href="../_modules/pyramid/session.html#check_csrf_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.session.check_csrf_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the CSRF token in the request's session against the value in
<tt class="docutils literal"><span class="pre">request.params.get(token)</span></tt> or <tt class="docutils literal"><span class="pre">request.headers.get(header)</span></tt>.
If a <tt class="docutils literal"><span class="pre">token</span></tt> keyword is not supplied to this function, the string
<tt class="docutils literal"><span class="pre">csrf_token</span></tt> will be used to look up the token in <tt class="docutils literal"><span class="pre">request.params</span></tt>.
If a <tt class="docutils literal"><span class="pre">header</span></tt> keyword is not supplied to this function, the string
<tt class="docutils literal"><span class="pre">X-CSRF-Token</span></tt> will be used to look up the token in <tt class="docutils literal"><span class="pre">request.headers</span></tt>.</p>
<p>If the value supplied by param or by header doesn't match the value
supplied by <tt class="docutils literal"><span class="pre">request.session.get_csrf_token()</span></tt>, and <tt class="docutils literal"><span class="pre">raises</span></tt> is
<tt class="docutils literal"><span class="pre">True</span></tt>, this function will raise an
<a class="reference internal" href="exceptions.html#pyramid.exceptions.BadCSRFToken" title="pyramid.exceptions.BadCSRFToken"><tt class="xref py py-exc docutils literal"><span class="pre">pyramid.exceptions.BadCSRFToken</span></tt></a> exception.
If the check does succeed and <tt class="docutils literal"><span class="pre">raises</span></tt> is <tt class="docutils literal"><span class="pre">False</span></tt>, this
function will return <tt class="docutils literal"><span class="pre">False</span></tt>.  If the CSRF check is successful, this
function will return <tt class="docutils literal"><span class="pre">True</span></tt> unconditionally.</p>
<p>Note that using this function requires that a <a class="reference internal" href="../glossary.html#term-session-factory"><em class="xref std std-term">session factory</em></a> is
configured.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.4a2.</span></p>
</div>
</dd></dl>
<dl class="function">
<dt id="pyramid.session.SignedCookieSessionFactory"><a name="//apple_ref/cpp/func/pyramid.session.SignedCookieSessionFactory"></a>
<tt class="descname">SignedCookieSessionFactory</tt><big>(</big><em>secret</em>, <em>cookie_name='session'</em>, <em>max_age=None</em>, <em>path='/'</em>, <em>domain=None</em>, <em>secure=False</em>, <em>httponly=False</em>, <em>set_on_exception=True</em>, <em>timeout=1200</em>, <em>reissue_time=0</em>, <em>hashalg='sha512'</em>, <em>salt='pyramid.session.'</em>, <em>serializer=None</em><big>)</big><a class="reference internal" href="../_modules/pyramid/session.html#SignedCookieSessionFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.session.SignedCookieSessionFactory" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 1.5.</span></p>
</div>
<p>Configure a <a class="reference internal" href="../glossary.html#term-session-factory"><em class="xref std std-term">session factory</em></a> which will provide signed
cookie-based sessions.  The return value of this
function is a <a class="reference internal" href="../glossary.html#term-session-factory"><em class="xref std std-term">session factory</em></a>, which may be provided as
the <tt class="docutils literal"><span class="pre">session_factory</span></tt> argument of a
<a class="reference internal" href="config.html#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> constructor, or used
as the <tt class="docutils literal"><span class="pre">session_factory</span></tt> argument of the
<a class="reference internal" href="config.html#pyramid.config.Configurator.set_session_factory" title="pyramid.config.Configurator.set_session_factory"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.set_session_factory()</span></tt></a>
method.</p>
<p>The session factory returned by this function will create sessions
which are limited to storing fewer than 4000 bytes of data (as the
payload must fit into a single cookie).</p>
<p>Parameters:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">secret</span></tt></dt>
<dd>A string which is used to sign the cookie. The secret should be at
least as long as the block size of the selected hash algorithm. For
<tt class="docutils literal"><span class="pre">sha512</span></tt> this would mean a 128 bit (64 character) secret.  It should
be unique within the set of secret values provided to Pyramid for
its various subsystems (see <a class="reference internal" href="../narr/security.html#admonishment-against-secret-sharing"><em>Admonishment Against Secret-Sharing</em></a>).</dd>
<dt><tt class="docutils literal"><span class="pre">hashalg</span></tt></dt>
<dd>The HMAC digest algorithm to use for signing. The algorithm must be
supported by the <a class="reference external" href="http://docs.python.org/3/library/hashlib.html#module-hashlib" title="(in Python v3.4)"><tt class="xref py py-mod docutils literal"><span class="pre">hashlib</span></tt></a> library. Default: <tt class="docutils literal"><span class="pre">'sha512'</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">salt</span></tt></dt>
<dd>A namespace to avoid collisions between different uses of a shared
secret. Reusing a secret for different parts of an application is
strongly discouraged (see <a class="reference internal" href="../narr/security.html#admonishment-against-secret-sharing"><em>Admonishment Against Secret-Sharing</em></a>).
Default: <tt class="docutils literal"><span class="pre">'pyramid.session.'</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">cookie_name</span></tt></dt>
<dd>The name of the cookie used for sessioning. Default: <tt class="docutils literal"><span class="pre">'session'</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">max_age</span></tt></dt>
<dd>The maximum age of the cookie used for sessioning (in seconds).
Default: <tt class="docutils literal"><span class="pre">None</span></tt> (browser scope).</dd>
<dt><tt class="docutils literal"><span class="pre">path</span></tt></dt>
<dd>The path used for the session cookie. Default: <tt class="docutils literal"><span class="pre">'/'</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">domain</span></tt></dt>
<dd>The domain used for the session cookie.  Default: <tt class="docutils literal"><span class="pre">None</span></tt> (no domain).</dd>
<dt><tt class="docutils literal"><span class="pre">secure</span></tt></dt>
<dd>The 'secure' flag of the session cookie. Default: <tt class="docutils literal"><span class="pre">False</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">httponly</span></tt></dt>
<dd>Hide the cookie from Javascript by setting the 'HttpOnly' flag of the
session cookie. Default: <tt class="docutils literal"><span class="pre">False</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">timeout</span></tt></dt>
<dd>A number of seconds of inactivity before a session times out. If
<tt class="docutils literal"><span class="pre">None</span></tt> then the cookie never expires. This lifetime only applies
to the <em>value</em> within the cookie. Meaning that if the cookie expires
due to a lower <tt class="docutils literal"><span class="pre">max_age</span></tt>, then this setting has no effect.
Default: <tt class="docutils literal"><span class="pre">1200</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">reissue_time</span></tt></dt>
<dd><p class="first">The number of seconds that must pass before the cookie is automatically
reissued as the result of accessing the session. The
duration is measured as the number of seconds since the last session
cookie was issued and 'now'.  If this value is <tt class="docutils literal"><span class="pre">0</span></tt>, a new cookie
will be reissued on every request accessing the session. If <tt class="docutils literal"><span class="pre">None</span></tt>
then the cookie's lifetime will never be extended.</p>
<p>A good rule of thumb: if you want auto-expired cookies based on
inactivity: set the <tt class="docutils literal"><span class="pre">timeout</span></tt> value to 1200 (20 mins) and set the
<tt class="docutils literal"><span class="pre">reissue_time</span></tt> value to perhaps a tenth of the <tt class="docutils literal"><span class="pre">timeout</span></tt> value
(120 or 2 mins).  It's nonsensical to set the <tt class="docutils literal"><span class="pre">timeout</span></tt> value lower
than the <tt class="docutils literal"><span class="pre">reissue_time</span></tt> value, as the ticket will never be reissued.
However, such a configuration is not explicitly prevented.</p>
<p class="last">Default: <tt class="docutils literal"><span class="pre">0</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">set_on_exception</span></tt></dt>
<dd>If <tt class="docutils literal"><span class="pre">True</span></tt>, set a session cookie even if an exception occurs
while rendering a view. Default: <tt class="docutils literal"><span class="pre">True</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">serializer</span></tt></dt>
<dd>An object with two methods: <tt class="docutils literal"><span class="pre">loads</span></tt> and <tt class="docutils literal"><span class="pre">dumps</span></tt>.  The <tt class="docutils literal"><span class="pre">loads</span></tt>
method should accept bytes and return a Python object.  The <tt class="docutils literal"><span class="pre">dumps</span></tt>
method should accept a Python object and return bytes.  A <tt class="docutils literal"><span class="pre">ValueError</span></tt>
should be raised for malformed inputs.  If a serializer is not passed,
the <tt class="xref py py-class docutils literal"><span class="pre">pyramid.session.PickleSerializer</span></tt> serializer will be used.</dd>
</dl>
</dd></dl>
<dl class="function">
<dt id="pyramid.session.UnencryptedCookieSessionFactoryConfig"><a name="//apple_ref/cpp/func/pyramid.session.UnencryptedCookieSessionFactoryConfig"></a>
<tt class="descname">UnencryptedCookieSessionFactoryConfig</tt><big>(</big><em>secret</em>, <em>timeout=1200</em>, <em>cookie_name='session'</em>, <em>cookie_max_age=None</em>, <em>cookie_path='/'</em>, <em>cookie_domain=None</em>, <em>cookie_secure=False</em>, <em>cookie_httponly=False</em>, <em>cookie_on_exception=True</em>, <em>signed_serialize=&lt;function signed_serialize at 0x10724b9b0&gt;</em>, <em>signed_deserialize=&lt;function signed_deserialize at 0x10724ba28&gt;</em><big>)</big><a class="reference internal" href="../_modules/pyramid/session.html#UnencryptedCookieSessionFactoryConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.session.UnencryptedCookieSessionFactoryConfig" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified">Deprecated since version 1.5: </span>Use <a class="reference internal" href="#pyramid.session.SignedCookieSessionFactory" title="pyramid.session.SignedCookieSessionFactory"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.session.SignedCookieSessionFactory()</span></tt></a> instead.
Caveat: Cookies generated using <tt class="docutils literal"><span class="pre">SignedCookieSessionFactory</span></tt> are not
compatible with cookies generated using
<tt class="docutils literal"><span class="pre">UnencryptedCookieSessionFactory</span></tt>, so existing user session data
will be destroyed if you switch to it.</p>
</div>
<p>Configure a <a class="reference internal" href="../glossary.html#term-session-factory"><em class="xref std std-term">session factory</em></a> which will provide unencrypted
(but signed) cookie-based sessions.  The return value of this
function is a <a class="reference internal" href="../glossary.html#term-session-factory"><em class="xref std std-term">session factory</em></a>, which may be provided as
the <tt class="docutils literal"><span class="pre">session_factory</span></tt> argument of a
<a class="reference internal" href="config.html#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> constructor, or used
as the <tt class="docutils literal"><span class="pre">session_factory</span></tt> argument of the
<a class="reference internal" href="config.html#pyramid.config.Configurator.set_session_factory" title="pyramid.config.Configurator.set_session_factory"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.set_session_factory()</span></tt></a>
method.</p>
<p>The session factory returned by this function will create sessions
which are limited to storing fewer than 4000 bytes of data (as the
payload must fit into a single cookie).</p>
<p>Parameters:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">secret</span></tt></dt>
<dd>A string which is used to sign the cookie.</dd>
<dt><tt class="docutils literal"><span class="pre">timeout</span></tt></dt>
<dd>A number of seconds of inactivity before a session times out.</dd>
<dt><tt class="docutils literal"><span class="pre">cookie_name</span></tt></dt>
<dd>The name of the cookie used for sessioning.</dd>
<dt><tt class="docutils literal"><span class="pre">cookie_max_age</span></tt></dt>
<dd>The maximum age of the cookie used for sessioning (in seconds).
Default: <tt class="docutils literal"><span class="pre">None</span></tt> (browser scope).</dd>
<dt><tt class="docutils literal"><span class="pre">cookie_path</span></tt></dt>
<dd>The path used for the session cookie.</dd>
<dt><tt class="docutils literal"><span class="pre">cookie_domain</span></tt></dt>
<dd>The domain used for the session cookie.  Default: <tt class="docutils literal"><span class="pre">None</span></tt> (no domain).</dd>
<dt><tt class="docutils literal"><span class="pre">cookie_secure</span></tt></dt>
<dd>The 'secure' flag of the session cookie.</dd>
<dt><tt class="docutils literal"><span class="pre">cookie_httponly</span></tt></dt>
<dd>The 'httpOnly' flag of the session cookie.</dd>
<dt><tt class="docutils literal"><span class="pre">cookie_on_exception</span></tt></dt>
<dd>If <tt class="docutils literal"><span class="pre">True</span></tt>, set a session cookie even if an exception occurs
while rendering a view.</dd>
<dt><tt class="docutils literal"><span class="pre">signed_serialize</span></tt></dt>
<dd>A callable which takes more or less arbitrary Python data structure and
a secret and returns a signed serialization in bytes.
Default: <tt class="docutils literal"><span class="pre">signed_serialize</span></tt> (using pickle).</dd>
<dt><tt class="docutils literal"><span class="pre">signed_deserialize</span></tt></dt>
<dd>A callable which takes a signed and serialized data structure in bytes
and a secret and returns the original data structure if the signature
is valid. Default: <tt class="docutils literal"><span class="pre">signed_deserialize</span></tt> (using pickle).</dd>
</dl>
</dd></dl>
<dl class="function">
<dt id="pyramid.session.BaseCookieSessionFactory"><a name="//apple_ref/cpp/func/pyramid.session.BaseCookieSessionFactory"></a>
<tt class="descname">BaseCookieSessionFactory</tt><big>(</big><em>serializer</em>, <em>cookie_name='session'</em>, <em>max_age=None</em>, <em>path='/'</em>, <em>domain=None</em>, <em>secure=False</em>, <em>httponly=False</em>, <em>timeout=1200</em>, <em>reissue_time=0</em>, <em>set_on_exception=True</em><big>)</big><a class="reference internal" href="../_modules/pyramid/session.html#BaseCookieSessionFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.session.BaseCookieSessionFactory" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 1.5.</span></p>
</div>
<p>Configure a <a class="reference internal" href="../glossary.html#term-session-factory"><em class="xref std std-term">session factory</em></a> which will provide cookie-based
sessions.  The return value of this function is a <a class="reference internal" href="../glossary.html#term-session-factory"><em class="xref std std-term">session factory</em></a>,
which may be provided as the <tt class="docutils literal"><span class="pre">session_factory</span></tt> argument of a
<a class="reference internal" href="config.html#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> constructor, or used as the
<tt class="docutils literal"><span class="pre">session_factory</span></tt> argument of the
<a class="reference internal" href="config.html#pyramid.config.Configurator.set_session_factory" title="pyramid.config.Configurator.set_session_factory"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.set_session_factory()</span></tt></a> method.</p>
<p>The session factory returned by this function will create sessions
which are limited to storing fewer than 4000 bytes of data (as the
payload must fit into a single cookie).</p>
<p>Parameters:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">serializer</span></tt></dt>
<dd>An object with two methods: <tt class="docutils literal"><span class="pre">loads</span></tt> and <tt class="docutils literal"><span class="pre">dumps</span></tt>.  The <tt class="docutils literal"><span class="pre">loads</span></tt>
method should accept bytes and return a Python object.  The <tt class="docutils literal"><span class="pre">dumps</span></tt>
method should accept a Python object and return bytes.  A <tt class="docutils literal"><span class="pre">ValueError</span></tt>
should be raised for malformed inputs.</dd>
<dt><tt class="docutils literal"><span class="pre">cookie_name</span></tt></dt>
<dd>The name of the cookie used for sessioning. Default: <tt class="docutils literal"><span class="pre">'session'</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">max_age</span></tt></dt>
<dd>The maximum age of the cookie used for sessioning (in seconds).
Default: <tt class="docutils literal"><span class="pre">None</span></tt> (browser scope).</dd>
<dt><tt class="docutils literal"><span class="pre">path</span></tt></dt>
<dd>The path used for the session cookie. Default: <tt class="docutils literal"><span class="pre">'/'</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">domain</span></tt></dt>
<dd>The domain used for the session cookie.  Default: <tt class="docutils literal"><span class="pre">None</span></tt> (no domain).</dd>
<dt><tt class="docutils literal"><span class="pre">secure</span></tt></dt>
<dd>The 'secure' flag of the session cookie. Default: <tt class="docutils literal"><span class="pre">False</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">httponly</span></tt></dt>
<dd>Hide the cookie from Javascript by setting the 'HttpOnly' flag of the
session cookie. Default: <tt class="docutils literal"><span class="pre">False</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">timeout</span></tt></dt>
<dd>A number of seconds of inactivity before a session times out. If
<tt class="docutils literal"><span class="pre">None</span></tt> then the cookie never expires. This lifetime only applies
to the <em>value</em> within the cookie. Meaning that if the cookie expires
due to a lower <tt class="docutils literal"><span class="pre">max_age</span></tt>, then this setting has no effect.
Default: <tt class="docutils literal"><span class="pre">1200</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">reissue_time</span></tt></dt>
<dd><p class="first">The number of seconds that must pass before the cookie is automatically
reissued as the result of a request which accesses the session. The
duration is measured as the number of seconds since the last session
cookie was issued and 'now'.  If this value is <tt class="docutils literal"><span class="pre">0</span></tt>, a new cookie
will be reissued on every request accessing the session. If <tt class="docutils literal"><span class="pre">None</span></tt>
then the cookie's lifetime will never be extended.</p>
<p>A good rule of thumb: if you want auto-expired cookies based on
inactivity: set the <tt class="docutils literal"><span class="pre">timeout</span></tt> value to 1200 (20 mins) and set the
<tt class="docutils literal"><span class="pre">reissue_time</span></tt> value to perhaps a tenth of the <tt class="docutils literal"><span class="pre">timeout</span></tt> value
(120 or 2 mins).  It's nonsensical to set the <tt class="docutils literal"><span class="pre">timeout</span></tt> value lower
than the <tt class="docutils literal"><span class="pre">reissue_time</span></tt> value, as the ticket will never be reissued.
However, such a configuration is not explicitly prevented.</p>
<p class="last">Default: <tt class="docutils literal"><span class="pre">0</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">set_on_exception</span></tt></dt>
<dd>If <tt class="docutils literal"><span class="pre">True</span></tt>, set a session cookie even if an exception occurs
while rendering a view. Default: <tt class="docutils literal"><span class="pre">True</span></tt>.</dd>
</dl>
</dd></dl>
</div>
</div>
</div>
</div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<h4>Previous topic</h4>
<p class="topless"><a href="security.html" title="previous chapter"><tt class="docutils literal"><span class="pre">pyramid.security</span></tt></a></p>
<h4>Next topic</h4>
<p class="topless"><a href="settings.html" title="next chapter"><tt class="docutils literal"><span class="pre">pyramid.settings</span></tt></a></p>
<div id="searchbox" style="display: none">
<h3>Quick search</h3>
<form action="../search.html" class="search" method="get">
<input name="q" type="text"/>
<input type="submit" value="Go"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
<p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="settings.html" title="pyramid.settings">next</a> |</li>
<li class="right">
<a href="security.html" title="pyramid.security">previous</a> |</li>
<li><a href="../index.html">The Pyramid Web Framework v1.5</a> »</li>
</ul>
</div>
<div class="footer">
        © <a href="../copyright.html">Copyright</a> 2008-2014, Agendaless Consulting.
      Last updated on Nov 09, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
</body></html>