<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><title>pyramid.config — The Pyramid Web Framework v1.5</title><link href="../_static/pylons.css" rel="stylesheet" type="text/css"/><link href="../_static/pygments.css" rel="stylesheet" type="text/css"/><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script><script src="../_static/jquery.js" type="text/javascript"></script><script src="../_static/underscore.js" type="text/javascript"></script><script src="../_static/doctools.js" type="text/javascript"></script><link href="../copyright.html" rel="copyright" title="Copyright"/><link href="../index.html" rel="top" title="The Pyramid Web Framework v1.5"/><link href="decorator.html" rel="next" title="pyramid.decorator"/><link href="compat.html" rel="prev" title="pyramid.compat"/><link charset="utf-8" href="http://static.pylonsproject.org/fonts/nobile/stylesheet.css" media="screen" rel="stylesheet" type="text/css"/><link charset="utf-8" href="http://static.pylonsproject.org/fonts/neuton/stylesheet.css" media="screen" rel="stylesheet" type="text/css"/><!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]--><link href="../_static/pyramid.ico" rel="shortcut icon"/></head><body>
<div class="header-small">
<div class="logo-small">
<a href="../index.html">
<img alt="Logo" class="logo" src="../_static/pyramid-small.png"/>
</a>
</div>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="decorator.html" title="pyramid.decorator">next</a> |</li>
<li class="right">
<a accesskey="P" href="compat.html" title="pyramid.compat">previous</a> |</li>
<li><a href="../index.html">The Pyramid Web Framework v1.5</a> »</li>
</ul>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body">
<div class="section" id="module-pyramid.config">
<span id="pyramid-config"></span><span id="configuration-module"></span><h1><a name="//apple_ref/cpp/Module/pyramid.config"></a><a class="reference internal" href="#module-pyramid.config" title="pyramid.config"><tt class="xref py py-mod docutils literal"><span class="pre">pyramid.config</span></tt></a><a class="headerlink" href="#module-pyramid.config" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pyramid.config.Configurator"><a name="//apple_ref/cpp/cl/pyramid.config.Configurator"></a>
<em class="property">class </em><tt class="descname">Configurator</tt><big>(</big><em>registry=None</em>, <em>package=None</em>, <em>settings=None</em>, <em>root_factory=None</em>, <em>authentication_policy=None</em>, <em>authorization_policy=None</em>, <em>renderers=None</em>, <em>debug_logger=None</em>, <em>locale_negotiator=None</em>, <em>request_factory=None</em>, <em>default_permission=None</em>, <em>session_factory=None</em>, <em>default_view_mapper=None</em>, <em>autocommit=False</em>, <em>exceptionresponse_view=&lt;function default_exceptionresponse_view at 0x106d51a28&gt;</em>, <em>route_prefix=None</em>, <em>introspection=True</em><big>)</big><a class="reference internal" href="../_modules/pyramid/config.html#Configurator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.config.Configurator" title="Permalink to this definition">¶</a></dt>
<dd><p>A Configurator is used to configure a <span>Pyramid</span>
<a class="reference internal" href="../glossary.html#term-application-registry"><em class="xref std std-term">application registry</em></a>.</p>
<p>If the <tt class="docutils literal"><span class="pre">registry</span></tt> argument is not <tt class="docutils literal"><span class="pre">None</span></tt>, it must
be an instance of the <a class="reference internal" href="registry.html#pyramid.registry.Registry" title="pyramid.registry.Registry"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.registry.Registry</span></tt></a> class
representing the registry to configure.  If <tt class="docutils literal"><span class="pre">registry</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt>, the
configurator will create a <a class="reference internal" href="registry.html#pyramid.registry.Registry" title="pyramid.registry.Registry"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.registry.Registry</span></tt></a> instance
itself; it will also perform some default configuration that would not
otherwise be done.  After its construction, the configurator may be used
to add further configuration to the registry.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If <tt class="docutils literal"><span class="pre">registry</span></tt> is assigned the above-mentioned class
instance, all other constructor arguments are ignored,
with the exception of <tt class="docutils literal"><span class="pre">package</span></tt>.</p>
</div>
<p>If the <tt class="docutils literal"><span class="pre">package</span></tt> argument is passed, it must be a reference to a Python
<a class="reference internal" href="../glossary.html#term-package"><em class="xref std std-term">package</em></a> (e.g. <tt class="docutils literal"><span class="pre">sys.modules['thepackage']</span></tt>) or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted
Python name</em></a> to the same.  This value is used as a basis to convert
relative paths passed to various configuration methods, such as methods
which accept a <tt class="docutils literal"><span class="pre">renderer</span></tt> argument, into absolute paths.  If <tt class="docutils literal"><span class="pre">None</span></tt>
is passed (the default), the package is assumed to be the Python package
in which the <em>caller</em> of the <tt class="docutils literal"><span class="pre">Configurator</span></tt> constructor lives.</p>
<p>If the <tt class="docutils literal"><span class="pre">settings</span></tt> argument is passed, it should be a Python dictionary
representing the <a class="reference internal" href="../glossary.html#term-deployment-settings"><em class="xref std std-term">deployment settings</em></a> for this application.  These
are later retrievable using the
<a class="reference internal" href="registry.html#pyramid.registry.Registry.settings" title="pyramid.registry.Registry.settings"><tt class="xref py py-attr docutils literal"><span class="pre">pyramid.registry.Registry.settings</span></tt></a> attribute (aka
<tt class="docutils literal"><span class="pre">request.registry.settings</span></tt>).</p>
<p>If the <tt class="docutils literal"><span class="pre">root_factory</span></tt> argument is passed, it should be an object
representing the default <a class="reference internal" href="../glossary.html#term-root-factory"><em class="xref std std-term">root factory</em></a> for your application or a
<a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> to the same.  If it is <tt class="docutils literal"><span class="pre">None</span></tt>, a default
root factory will be used.</p>
<p>If <tt class="docutils literal"><span class="pre">authentication_policy</span></tt> is passed, it should be an instance
of an <a class="reference internal" href="../glossary.html#term-authentication-policy"><em class="xref std std-term">authentication policy</em></a> or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python
name</em></a> to the same.</p>
<p>If <tt class="docutils literal"><span class="pre">authorization_policy</span></tt> is passed, it should be an instance of
an <a class="reference internal" href="../glossary.html#term-authorization-policy"><em class="xref std std-term">authorization policy</em></a> or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> to
the same.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A <tt class="docutils literal"><span class="pre">ConfigurationError</span></tt> will be raised when an
authorization policy is supplied without also supplying an
authentication policy (authorization requires authentication).</p>
</div>
<p>If <tt class="docutils literal"><span class="pre">renderers</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt> (the default), a default set of
<a class="reference internal" href="../glossary.html#term-renderer"><em class="xref std std-term">renderer</em></a> factories is used. Else, it should be a list of
tuples representing a set of renderer factories which should be
configured into this application, and each tuple representing a set of
positional values that should be passed to
<a class="reference internal" href="#pyramid.config.Configurator.add_renderer" title="pyramid.config.Configurator.add_renderer"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_renderer()</span></tt></a>.</p>
<p>If <tt class="docutils literal"><span class="pre">debug_logger</span></tt> is not passed, a default debug logger that logs to a
logger will be used (the logger name will be the package name of the
<em>caller</em> of this configurator).  If it is passed, it should be an
instance of the <a class="reference external" href="http://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.4)"><tt class="xref py py-class docutils literal"><span class="pre">logging.Logger</span></tt></a> (PEP 282) standard library class
or a Python logger name.  The debug logger is used by <span>Pyramid</span>
itself to log warnings and authorization debugging information.</p>
<p>If <tt class="docutils literal"><span class="pre">locale_negotiator</span></tt> is passed, it should be a <a class="reference internal" href="../glossary.html#term-locale-negotiator"><em class="xref std std-term">locale
negotiator</em></a> implementation or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> to
same.  See <a class="reference internal" href="../narr/i18n.html#custom-locale-negotiator"><em>Using a Custom Locale Negotiator</em></a>.</p>
<p>If <tt class="docutils literal"><span class="pre">request_factory</span></tt> is passed, it should be a <a class="reference internal" href="../glossary.html#term-request-factory"><em class="xref std std-term">request
factory</em></a> implementation or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> to the same.
See <a class="reference internal" href="../narr/hooks.html#changing-the-request-factory"><em>Changing the Request Factory</em></a>.  By default it is <tt class="docutils literal"><span class="pre">None</span></tt>,
which means use the default request factory.</p>
<p>If <tt class="docutils literal"><span class="pre">default_permission</span></tt> is passed, it should be a
<a class="reference internal" href="../glossary.html#term-permission"><em class="xref std std-term">permission</em></a> string to be used as the default permission for
all view configuration registrations performed against this
Configurator.  An example of a permission string:<tt class="docutils literal"><span class="pre">'view'</span></tt>.
Adding a default permission makes it unnecessary to protect each
view configuration with an explicit permission, unless your
application policy requires some exception for a particular view.
By default, <tt class="docutils literal"><span class="pre">default_permission</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt>, meaning that view
configurations which do not explicitly declare a permission will
always be executable by entirely anonymous users (any
authorization policy in effect is ignored).</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">See also <a class="reference internal" href="../narr/security.html#setting-a-default-permission"><em>Setting a Default Permission</em></a>.</p>
</div>
<p>If <tt class="docutils literal"><span class="pre">session_factory</span></tt> is passed, it should be an object which
implements the <a class="reference internal" href="../glossary.html#term-session-factory"><em class="xref std std-term">session factory</em></a> interface.  If a nondefault
value is passed, the <tt class="docutils literal"><span class="pre">session_factory</span></tt> will be used to create a
session object when <tt class="docutils literal"><span class="pre">request.session</span></tt> is accessed.  Note that
the same outcome can be achieved by calling
<a class="reference internal" href="#pyramid.config.Configurator.set_session_factory" title="pyramid.config.Configurator.set_session_factory"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.set_session_factory()</span></tt></a>.  By
default, this argument is <tt class="docutils literal"><span class="pre">None</span></tt>, indicating that no session
factory will be configured (and thus accessing <tt class="docutils literal"><span class="pre">request.session</span></tt>
will throw an error) unless <tt class="docutils literal"><span class="pre">set_session_factory</span></tt> is called later
during configuration.</p>
<p>If <tt class="docutils literal"><span class="pre">autocommit</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>, every method called on the configurator
will cause an immediate action, and no configuration conflict detection
will be used. If <tt class="docutils literal"><span class="pre">autocommit</span></tt> is <tt class="docutils literal"><span class="pre">False</span></tt>, most methods of the
configurator will defer their action until
<a class="reference internal" href="#pyramid.config.Configurator.commit" title="pyramid.config.Configurator.commit"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.commit()</span></tt></a> is called.  When
<a class="reference internal" href="#pyramid.config.Configurator.commit" title="pyramid.config.Configurator.commit"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.commit()</span></tt></a> is called, the actions implied
by the called methods will be checked for configuration conflicts unless
<tt class="docutils literal"><span class="pre">autocommit</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>.  If a conflict is detected, a
<tt class="docutils literal"><span class="pre">ConfigurationConflictError</span></tt> will be raised.  Calling
<a class="reference internal" href="#pyramid.config.Configurator.make_wsgi_app" title="pyramid.config.Configurator.make_wsgi_app"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.make_wsgi_app()</span></tt></a> always implies a final
commit.</p>
<p>If <tt class="docutils literal"><span class="pre">default_view_mapper</span></tt> is passed, it will be used as the default
<a class="reference internal" href="../glossary.html#term-view-mapper"><em class="xref std std-term">view mapper</em></a> factory for view configurations that don't otherwise
specify one (see <a class="reference internal" href="interfaces.html#pyramid.interfaces.IViewMapperFactory" title="pyramid.interfaces.IViewMapperFactory"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.interfaces.IViewMapperFactory</span></tt></a>).  If
<tt class="docutils literal"><span class="pre">default_view_mapper</span></tt> is not passed, a superdefault view mapper will be
used.</p>
<p>If <tt class="docutils literal"><span class="pre">exceptionresponse_view</span></tt> is passed, it must be a <a class="reference internal" href="../glossary.html#term-view-callable"><em class="xref std std-term">view
callable</em></a> or <tt class="docutils literal"><span class="pre">None</span></tt>.  If it is a view callable, it will be used as an
exception view callable when an <a class="reference internal" href="../glossary.html#term-exception-response"><em class="xref std std-term">exception response</em></a> is raised. If
<tt class="docutils literal"><span class="pre">exceptionresponse_view</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt>, no exception response view will
be registered, and all raised exception responses will be bubbled up to
Pyramid's caller.  By
default, the <tt class="docutils literal"><span class="pre">pyramid.httpexceptions.default_exceptionresponse_view</span></tt>
function is used as the <tt class="docutils literal"><span class="pre">exceptionresponse_view</span></tt>.</p>
<p>If <tt class="docutils literal"><span class="pre">route_prefix</span></tt> is passed, all routes added with
<a class="reference internal" href="#pyramid.config.Configurator.add_route" title="pyramid.config.Configurator.add_route"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_route()</span></tt></a> will have the specified path
prepended to their pattern.</p>
<p>If <tt class="docutils literal"><span class="pre">introspection</span></tt> is passed, it must be a boolean value.  If it's
<tt class="docutils literal"><span class="pre">True</span></tt>, introspection values during actions will be kept for use
for tools like the debug toolbar.  If it's <tt class="docutils literal"><span class="pre">False</span></tt>, introspection
values provided by registrations will be ignored.  By default, it is
<tt class="docutils literal"><span class="pre">True</span></tt>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1: </span>The <tt class="docutils literal"><span class="pre">exceptionresponse_view</span></tt> argument.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.2: </span>The <tt class="docutils literal"><span class="pre">route_prefix</span></tt> argument.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3: </span>The <tt class="docutils literal"><span class="pre">introspection</span></tt> argument.</p>
</div>
<p><span class="methodcategory">Controlling Configuration State</span></p>
<blockquote>
<div><dl class="method">
<dt id="pyramid.config.Configurator.commit"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.commit"></a>
<tt class="descname">commit</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pyramid/config.html#Configurator.commit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.config.Configurator.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit any pending configuration actions. If a configuration
conflict is detected in the pending configuration actions, this method
will raise a <tt class="xref py py-exc docutils literal"><span class="pre">ConfigurationConflictError</span></tt>; within the traceback
of this error will be information about the source of the conflict,
usually including file names and line numbers of the cause of the
configuration conflicts.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.begin"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.begin"></a>
<tt class="descname">begin</tt><big>(</big><em>request=None</em><big>)</big><a class="reference internal" href="../_modules/pyramid/config.html#Configurator.begin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.config.Configurator.begin" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate that application or test configuration has begun.
This pushes a dictionary containing the <a class="reference internal" href="../glossary.html#term-application-registry"><em class="xref std std-term">application
registry</em></a> implied by <tt class="docutils literal"><span class="pre">registry</span></tt> attribute of this
configurator and the <a class="reference internal" href="../glossary.html#term-request"><em class="xref std std-term">request</em></a> implied by the
<tt class="docutils literal"><span class="pre">request</span></tt> argument onto the <a class="reference internal" href="../glossary.html#term-thread-local"><em class="xref std std-term">thread local</em></a> stack
consulted by various <a class="reference internal" href="threadlocal.html#module-pyramid.threadlocal" title="pyramid.threadlocal"><tt class="xref py py-mod docutils literal"><span class="pre">pyramid.threadlocal</span></tt></a> API
functions.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.end"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.end"></a>
<tt class="descname">end</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pyramid/config.html#Configurator.end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.config.Configurator.end" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate that application or test configuration has ended.
This pops the last value pushed onto the <a class="reference internal" href="../glossary.html#term-thread-local"><em class="xref std std-term">thread local</em></a>
stack (usually by the <tt class="docutils literal"><span class="pre">begin</span></tt> method) and returns that
value.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.include"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.include"></a>
<tt class="descname">include</tt><big>(</big><em>callable</em>, <em>route_prefix=None</em><big>)</big><a class="reference internal" href="../_modules/pyramid/config.html#Configurator.include"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.config.Configurator.include" title="Permalink to this definition">¶</a></dt>
<dd><p>Include a configuration callable, to support imperative
application extensibility.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In versions of <span>Pyramid</span> prior to 1.2, this
function accepted <tt class="docutils literal"><span class="pre">*callables</span></tt>, but this has been changed
to support only a single callable.</p>
</div>
<p>A configuration callable should be a callable that accepts a single
argument named <tt class="docutils literal"><span class="pre">config</span></tt>, which will be an instance of a
<a class="reference internal" href="../glossary.html#term-configurator"><em class="xref std std-term">Configurator</em></a>.  However, be warned that it will not be the same
configurator instance on which you call this method.  The
code which runs as a result of calling the callable should invoke
methods on the configurator passed to it which add configuration
state.  The return value of a callable will be ignored.</p>
<p>Values allowed to be presented via the <tt class="docutils literal"><span class="pre">callable</span></tt> argument to
this method: any callable Python object or any <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python
name</em></a> which resolves to a callable Python object.  It may also be a
Python <a class="reference internal" href="../glossary.html#term-module"><em class="xref std std-term">module</em></a>, in which case, the module will be searched for
a callable named <tt class="docutils literal"><span class="pre">includeme</span></tt>, which will be treated as the
configuration callable.</p>
<p>For example, if the <tt class="docutils literal"><span class="pre">includeme</span></tt> function below lives in a module
named <tt class="docutils literal"><span class="pre">myapp.myconfig</span></tt>:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="c"># myapp.myconfig module</span>

<span class="k">def</span> <span class="nf">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">pyramid.response</span> <span class="kn">import</span> <span class="n">Response</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="s">'OK'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">includeme</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
    <span class="n">config</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="n">my_view</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>You might cause it to be included within your Pyramid application like
so:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyramid.config</span> <span class="kn">import</span> <span class="n">Configurator</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">global_config</span><span class="p">,</span> <span class="o">**</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">()</span>
    <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s">'myapp.myconfig.includeme'</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Because the function is named <tt class="docutils literal"><span class="pre">includeme</span></tt>, the function name can
also be omitted from the dotted name reference:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyramid.config</span> <span class="kn">import</span> <span class="n">Configurator</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">global_config</span><span class="p">,</span> <span class="o">**</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">()</span>
    <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s">'myapp.myconfig'</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Included configuration statements will be overridden by local
configuration statements if an included callable causes a
configuration conflict by registering something with the same
configuration parameters.</p>
<p>If the <tt class="docutils literal"><span class="pre">route_prefix</span></tt> is supplied, it must be a string.  Any calls
to <a class="reference internal" href="#pyramid.config.Configurator.add_route" title="pyramid.config.Configurator.add_route"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_route()</span></tt></a> within the included
callable will have their pattern prefixed with the value of
<tt class="docutils literal"><span class="pre">route_prefix</span></tt>. This can be used to help mount a set of routes at a
different location than the included callable's author intended, while
still maintaining the same route names.  For example:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyramid.config</span> <span class="kn">import</span> <span class="n">Configurator</span>

<span class="k">def</span> <span class="nf">included</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
    <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s">'show_users'</span><span class="p">,</span> <span class="s">'/show'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">global_config</span><span class="p">,</span> <span class="o">**</span><span class="n">settings</span><span class="p">):</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">()</span>
    <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="n">included</span><span class="p">,</span> <span class="n">route_prefix</span><span class="o">=</span><span class="s">'/users'</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>In the above configuration, the <tt class="docutils literal"><span class="pre">show_users</span></tt> route will have an
effective route pattern of <tt class="docutils literal"><span class="pre">/users/show</span></tt>, instead of <tt class="docutils literal"><span class="pre">/show</span></tt>
because the <tt class="docutils literal"><span class="pre">route_prefix</span></tt> argument will be prepended to the
pattern.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.2: </span>The <tt class="docutils literal"><span class="pre">route_prefix</span></tt> parameter.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.make_wsgi_app"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.make_wsgi_app"></a>
<tt class="descname">make_wsgi_app</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pyramid/config.html#Configurator.make_wsgi_app"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.config.Configurator.make_wsgi_app" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits any pending configuration statements, sends a
<a class="reference internal" href="events.html#pyramid.events.ApplicationCreated" title="pyramid.events.ApplicationCreated"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.events.ApplicationCreated</span></tt></a> event to all listeners,
adds this configuration's registry to
<a class="reference internal" href="#pyramid.config.global_registries" title="pyramid.config.global_registries"><tt class="xref py py-attr docutils literal"><span class="pre">pyramid.config.global_registries</span></tt></a>, and returns a
<span>Pyramid</span> WSGI application representing the committed
configuration state.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.scan"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.scan"></a>
<tt class="descname">scan</tt><big>(</big><em>package=None</em>, <em>categories=None</em>, <em>onerror=None</em>, <em>ignore=None</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/pyramid/config.html#Configurator.scan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.config.Configurator.scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan a Python package and any of its subpackages for objects
marked with <a class="reference internal" href="../glossary.html#term-configuration-decoration"><em class="xref std std-term">configuration decoration</em></a> such as
<a class="reference internal" href="view.html#pyramid.view.view_config" title="pyramid.view.view_config"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.view.view_config</span></tt></a>.  Any decorated object found will
influence the current configuration state.</p>
<p>The <tt class="docutils literal"><span class="pre">package</span></tt> argument should be a Python <a class="reference internal" href="../glossary.html#term-package"><em class="xref std std-term">package</em></a> or module
object (or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> which refers to such a
package or module).  If <tt class="docutils literal"><span class="pre">package</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt>, the package of the
<em>caller</em> is used.</p>
<p>The <tt class="docutils literal"><span class="pre">categories</span></tt> argument, if provided, should be the
<a class="reference internal" href="../glossary.html#term-venusian"><em class="xref std std-term">Venusian</em></a> 'scan categories' to use during scanning.  Providing
this argument is not often necessary; specifying scan categories is
an extremely advanced usage.  By default, <tt class="docutils literal"><span class="pre">categories</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt>
which will execute <em>all</em> Venusian decorator callbacks including
<span>Pyramid</span>-related decorators such as
<a class="reference internal" href="view.html#pyramid.view.view_config" title="pyramid.view.view_config"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.view.view_config</span></tt></a>.  See the <a class="reference internal" href="../glossary.html#term-venusian"><em class="xref std std-term">Venusian</em></a>
documentation for more information about limiting a scan by using an
explicit set of categories.</p>
<p>The <tt class="docutils literal"><span class="pre">onerror</span></tt> argument, if provided, should be a Venusian
<tt class="docutils literal"><span class="pre">onerror</span></tt> callback function.  The onerror function is passed to
<a class="reference external" href="http://docs.pylonsproject.org/projects/venusian/en/latest/api.html#venusian.Scanner.scan" title="(in venusian v1.0)"><tt class="xref py py-meth docutils literal"><span class="pre">venusian.Scanner.scan()</span></tt></a> to influence error behavior when an
exception is raised during the scanning process.  See the
<a class="reference internal" href="../glossary.html#term-venusian"><em class="xref std std-term">Venusian</em></a> documentation for more information about <tt class="docutils literal"><span class="pre">onerror</span></tt>
callbacks.</p>
<p>The <tt class="docutils literal"><span class="pre">ignore</span></tt> argument, if provided, should be a Venusian <tt class="docutils literal"><span class="pre">ignore</span></tt>
value.  Providing an <tt class="docutils literal"><span class="pre">ignore</span></tt> argument allows the scan to ignore
particular modules, packages, or global objects during a scan.
<tt class="docutils literal"><span class="pre">ignore</span></tt> can be a string or a callable, or a list containing
strings or callables.  The simplest usage of <tt class="docutils literal"><span class="pre">ignore</span></tt> is to provide
a module or package by providing a full path to its dotted name.  For
example: <tt class="docutils literal"><span class="pre">config.scan(ignore='my.module.subpackage')</span></tt> would ignore
the <tt class="docutils literal"><span class="pre">my.module.subpackage</span></tt> package during a scan, which would
prevent the subpackage and any of its submodules from being imported
and scanned.  See the <a class="reference internal" href="../glossary.html#term-venusian"><em class="xref std std-term">Venusian</em></a> documentation for more
information about the <tt class="docutils literal"><span class="pre">ignore</span></tt> argument.</p>
<p>To perform a <tt class="docutils literal"><span class="pre">scan</span></tt>, Pyramid creates a Venusian <tt class="docutils literal"><span class="pre">Scanner</span></tt> object.
The <tt class="docutils literal"><span class="pre">kw</span></tt> argument represents a set of keyword arguments to pass to
the Venusian <tt class="docutils literal"><span class="pre">Scanner</span></tt> object's constructor.  See the
<a class="reference internal" href="../glossary.html#term-venusian"><em class="xref std std-term">venusian</em></a> documentation (its <tt class="docutils literal"><span class="pre">Scanner</span></tt> class) for more
information about the constructor.  By default, the only keyword
arguments passed to the Scanner constructor are <tt class="docutils literal"><span class="pre">{'config':self}</span></tt>
where <tt class="docutils literal"><span class="pre">self</span></tt> is this configurator object.  This services the
requirement of all built-in Pyramid decorators, but extension systems
may require additional arguments.  Providing this argument is not
often necessary; it's an advanced usage.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1: </span>The <tt class="docutils literal"><span class="pre">**kw</span></tt> argument.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3: </span>The <tt class="docutils literal"><span class="pre">ignore</span></tt> argument.</p>
</div>
</dd></dl>
</div></blockquote>
<p><span class="methodcategory">Adding Routes and Views</span></p>
<blockquote>
<div><dl class="method">
<dt id="pyramid.config.Configurator.add_route"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_route"></a>
<tt class="descname">add_route</tt><big>(</big><em>name</em>, <em>pattern=None</em>, <em>permission=None</em>, <em>factory=None</em>, <em>for_=None</em>, <em>header=None</em>, <em>xhr=None</em>, <em>accept=None</em>, <em>path_info=None</em>, <em>request_method=None</em>, <em>request_param=None</em>, <em>traverse=None</em>, <em>custom_predicates=()</em>, <em>use_global_views=False</em>, <em>path=None</em>, <em>pregenerator=None</em>, <em>static=False</em>, <em>**predicates</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_route" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a <a class="reference internal" href="../glossary.html#term-route-configuration"><em class="xref std std-term">route configuration</em></a> to the current
configuration state, as well as possibly a <a class="reference internal" href="../glossary.html#term-view-configuration"><em class="xref std std-term">view
configuration</em></a> to be used to specify a <a class="reference internal" href="../glossary.html#term-view-callable"><em class="xref std std-term">view callable</em></a>
that will be invoked when this route matches.  The arguments
to this method are divided into <em>predicate</em>, <em>non-predicate</em>,
and <em>view-related</em> types.  <a class="reference internal" href="../glossary.html#term-route-predicate"><em class="xref std std-term">Route predicate</em></a> arguments
narrow the circumstances in which a route will be match a
request; non-predicate arguments are informational.</p>
<p>Non-Predicate Arguments</p>
<p>name</p>
<blockquote>
<div>The name of the route, e.g. <tt class="docutils literal"><span class="pre">myroute</span></tt>.  This attribute is
required.  It must be unique among all defined routes in a given
application.</div></blockquote>
<p>factory</p>
<blockquote>
<div>A Python object (often a function or a class) or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted
Python name</em></a> which refers to the same object that will generate a
<span>Pyramid</span> root resource object when this route matches. For
example, <tt class="docutils literal"><span class="pre">mypackage.resources.MyFactory</span></tt>.  If this argument is
not specified, a default root factory will be used.  See
<a class="reference internal" href="../narr/traversal.html#the-resource-tree"><em>The Resource Tree</em></a> for more information about root factories.</div></blockquote>
<p>traverse</p>
<blockquote>
<div><p>If you would like to cause the <a class="reference internal" href="../glossary.html#term-context"><em class="xref std std-term">context</em></a> to be
something other than the <a class="reference internal" href="../glossary.html#term-root"><em class="xref std std-term">root</em></a> object when this route
matches, you can spell a traversal pattern as the
<tt class="docutils literal"><span class="pre">traverse</span></tt> argument.  This traversal pattern will be used
as the traversal path: traversal will begin at the root
object implied by this route (either the global root, or the
object returned by the <tt class="docutils literal"><span class="pre">factory</span></tt> associated with this
route).</p>
<p>The syntax of the <tt class="docutils literal"><span class="pre">traverse</span></tt> argument is the same as it is
for <tt class="docutils literal"><span class="pre">pattern</span></tt>. For example, if the <tt class="docutils literal"><span class="pre">pattern</span></tt> provided to
<tt class="docutils literal"><span class="pre">add_route</span></tt> is <tt class="docutils literal"><span class="pre">articles/{article}/edit</span></tt>, and the
<tt class="docutils literal"><span class="pre">traverse</span></tt> argument provided to <tt class="docutils literal"><span class="pre">add_route</span></tt> is
<tt class="docutils literal"><span class="pre">/{article}</span></tt>, when a request comes in that causes the route
to match in such a way that the <tt class="docutils literal"><span class="pre">article</span></tt> match value is
<tt class="docutils literal"><span class="pre">'1'</span></tt> (when the request URI is <tt class="docutils literal"><span class="pre">/articles/1/edit</span></tt>), the
traversal path will be generated as <tt class="docutils literal"><span class="pre">/1</span></tt>.  This means that
the root object's <tt class="docutils literal"><span class="pre">__getitem__</span></tt> will be called with the
name <tt class="docutils literal"><span class="pre">'1'</span></tt> during the traversal phase.  If the <tt class="docutils literal"><span class="pre">'1'</span></tt> object
exists, it will become the <a class="reference internal" href="../glossary.html#term-context"><em class="xref std std-term">context</em></a> of the request.
<a class="reference internal" href="../narr/traversal.html#traversal-chapter"><em>Traversal</em></a> has more information about
traversal.</p>
<p>If the traversal path contains segment marker names which
are not present in the <tt class="docutils literal"><span class="pre">pattern</span></tt> argument, a runtime error
will occur.  The <tt class="docutils literal"><span class="pre">traverse</span></tt> pattern should not contain
segment markers that do not exist in the <tt class="docutils literal"><span class="pre">pattern</span></tt>
argument.</p>
<p>A similar combining of routing and traversal is available
when a route is matched which contains a <tt class="docutils literal"><span class="pre">*traverse</span></tt>
remainder marker in its pattern (see
<a class="reference internal" href="../narr/hybrid.html#using-traverse-in-a-route-pattern"><em>Using *traverse In a Route Pattern</em></a>).  The <tt class="docutils literal"><span class="pre">traverse</span></tt>
argument to add_route allows you to associate route patterns
with an arbitrary traversal path without using a
<tt class="docutils literal"><span class="pre">*traverse</span></tt> remainder marker; instead you can use other
match information.</p>
<p>Note that the <tt class="docutils literal"><span class="pre">traverse</span></tt> argument to <tt class="docutils literal"><span class="pre">add_route</span></tt> is
ignored when attached to a route that has a <tt class="docutils literal"><span class="pre">*traverse</span></tt>
remainder marker in its pattern.</p>
</div></blockquote>
<p>pregenerator</p>
<blockquote>
<div>This option should be a callable object that implements the
<a class="reference internal" href="interfaces.html#pyramid.interfaces.IRoutePregenerator" title="pyramid.interfaces.IRoutePregenerator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.interfaces.IRoutePregenerator</span></tt></a> interface.  A
<a class="reference internal" href="../glossary.html#term-pregenerator"><em class="xref std std-term">pregenerator</em></a> is a callable called by the
<a class="reference internal" href="request.html#pyramid.request.Request.route_url" title="pyramid.request.Request.route_url"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.route_url()</span></tt></a> function to augment or
replace the arguments it is passed when generating a URL for the
route.  This is a feature not often used directly by applications,
it is meant to be hooked by frameworks that use <span>Pyramid</span> as
a base.</div></blockquote>
<p>use_global_views</p>
<blockquote>
<div>When a request matches this route, and view lookup cannot
find a view which has a <tt class="docutils literal"><span class="pre">route_name</span></tt> predicate argument
that matches the route, try to fall back to using a view
that otherwise matches the context, request, and view name
(but which does not match the route_name predicate).</div></blockquote>
<p>static</p>
<blockquote>
<div><p>If <tt class="docutils literal"><span class="pre">static</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>, this route will never match an incoming
request; it will only be useful for URL generation.  By default,
<tt class="docutils literal"><span class="pre">static</span></tt> is <tt class="docutils literal"><span class="pre">False</span></tt>.  See <a class="reference internal" href="../narr/urldispatch.html#static-route-narr"><em>Static Routes</em></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1.</span></p>
</div>
</div></blockquote>
<p>Predicate Arguments</p>
<p>pattern</p>
<blockquote>
<div><p>The pattern of the route e.g. <tt class="docutils literal"><span class="pre">ideas/{idea}</span></tt>.  This
argument is required.  See <a class="reference internal" href="../narr/urldispatch.html#route-pattern-syntax"><em>Route Pattern Syntax</em></a>
for information about the syntax of route patterns.  If the
pattern doesn't match the current URL, route matching
continues.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For backwards compatibility purposes (as of <span>Pyramid</span> 1.0), a
<tt class="docutils literal"><span class="pre">path</span></tt> keyword argument passed to this function will be used to
represent the pattern value if the <tt class="docutils literal"><span class="pre">pattern</span></tt> argument is
<tt class="docutils literal"><span class="pre">None</span></tt>.  If both <tt class="docutils literal"><span class="pre">path</span></tt> and <tt class="docutils literal"><span class="pre">pattern</span></tt> are passed, <tt class="docutils literal"><span class="pre">pattern</span></tt>
wins.</p>
</div>
</div></blockquote>
<p>xhr</p>
<blockquote>
<div>This value should be either <tt class="docutils literal"><span class="pre">True</span></tt> or <tt class="docutils literal"><span class="pre">False</span></tt>.  If this
value is specified and is <tt class="docutils literal"><span class="pre">True</span></tt>, the <a class="reference internal" href="../glossary.html#term-request"><em class="xref std std-term">request</em></a> must
possess an <tt class="docutils literal"><span class="pre">HTTP_X_REQUESTED_WITH</span></tt> (aka
<tt class="docutils literal"><span class="pre">X-Requested-With</span></tt>) header for this route to match.  This
is useful for detecting AJAX requests issued from jQuery,
Prototype and other Javascript libraries.  If this predicate
returns <tt class="docutils literal"><span class="pre">False</span></tt>, route matching continues.</div></blockquote>
<p>request_method</p>
<blockquote>
<div><p>A string representing an HTTP method name, e.g. <tt class="docutils literal"><span class="pre">GET</span></tt>, <tt class="docutils literal"><span class="pre">POST</span></tt>,
<tt class="docutils literal"><span class="pre">HEAD</span></tt>, <tt class="docutils literal"><span class="pre">DELETE</span></tt>, <tt class="docutils literal"><span class="pre">PUT</span></tt> or a tuple of elements containing
HTTP method names.  If this argument is not specified, this route
will match if the request has <em>any</em> request method.  If this
predicate returns <tt class="docutils literal"><span class="pre">False</span></tt>, route matching continues.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.2: </span>The ability to pass a tuple of items as <tt class="docutils literal"><span class="pre">request_method</span></tt>.
Previous versions allowed only a string.</p>
</div>
</div></blockquote>
<p>path_info</p>
<blockquote>
<div>This value represents a regular expression pattern that will
be tested against the <tt class="docutils literal"><span class="pre">PATH_INFO</span></tt> WSGI environment
variable.  If the regex matches, this predicate will return
<tt class="docutils literal"><span class="pre">True</span></tt>.  If this predicate returns <tt class="docutils literal"><span class="pre">False</span></tt>, route
matching continues.</div></blockquote>
<p>request_param</p>
<blockquote>
<div>This value can be any string.  A view declaration with this
argument ensures that the associated route will only match
when the request has a key in the <tt class="docutils literal"><span class="pre">request.params</span></tt>
dictionary (an HTTP <tt class="docutils literal"><span class="pre">GET</span></tt> or <tt class="docutils literal"><span class="pre">POST</span></tt> variable) that has a
name which matches the supplied value.  If the value
supplied as the argument has a <tt class="docutils literal"><span class="pre">=</span></tt> sign in it,
e.g. <tt class="docutils literal"><span class="pre">request_param="foo=123"</span></tt>, then the key
(<tt class="docutils literal"><span class="pre">foo</span></tt>) must both exist in the <tt class="docutils literal"><span class="pre">request.params</span></tt> dictionary, and
the value must match the right hand side of the expression (<tt class="docutils literal"><span class="pre">123</span></tt>)
for the route to "match" the current request.  If this predicate
returns <tt class="docutils literal"><span class="pre">False</span></tt>, route matching continues.</div></blockquote>
<p>header</p>
<blockquote>
<div>This argument represents an HTTP header name or a header
name/value pair.  If the argument contains a <tt class="docutils literal"><span class="pre">:</span></tt> (colon),
it will be considered a name/value pair
(e.g. <tt class="docutils literal"><span class="pre">User-Agent:Mozilla/.*</span></tt> or <tt class="docutils literal"><span class="pre">Host:localhost</span></tt>).  If
the value contains a colon, the value portion should be a
regular expression.  If the value does not contain a colon,
the entire value will be considered to be the header name
(e.g. <tt class="docutils literal"><span class="pre">If-Modified-Since</span></tt>).  If the value evaluates to a
header name only without a value, the header specified by
the name must be present in the request for this predicate
to be true.  If the value evaluates to a header name/value
pair, the header specified by the name must be present in
the request <em>and</em> the regular expression specified as the
value must match the header value.  Whether or not the value
represents a header name or a header name/value pair, the
case of the header name is not significant.  If this
predicate returns <tt class="docutils literal"><span class="pre">False</span></tt>, route matching continues.</div></blockquote>
<p>accept</p>
<blockquote>
<div>This value represents a match query for one or more
mimetypes in the <tt class="docutils literal"><span class="pre">Accept</span></tt> HTTP request header.  If this
value is specified, it must be in one of the following
forms: a mimetype match token in the form <tt class="docutils literal"><span class="pre">text/plain</span></tt>, a
wildcard mimetype match token in the form <tt class="docutils literal"><span class="pre">text/*</span></tt> or a
match-all wildcard mimetype match token in the form <tt class="docutils literal"><span class="pre">*/*</span></tt>.
If any of the forms matches the <tt class="docutils literal"><span class="pre">Accept</span></tt> header of the
request, or if the <tt class="docutils literal"><span class="pre">Accept</span></tt> header isn't set at all in the
request, this predicate will be true. If this predicate
returns <tt class="docutils literal"><span class="pre">False</span></tt>, route matching continues.</div></blockquote>
<p>effective_principals</p>
<blockquote>
<div><p>If specified, this value should be a <a class="reference internal" href="../glossary.html#term-principal"><em class="xref std std-term">principal</em></a> identifier or
a sequence of principal identifiers.  If the
<a class="reference internal" href="request.html#pyramid.request.Request.effective_principals" title="pyramid.request.Request.effective_principals"><tt class="xref py py-attr docutils literal"><span class="pre">pyramid.request.Request.effective_principals</span></tt></a> property
indicates that every principal named in the argument list is present
in the current request, this predicate will return True; otherwise it
will return False.  For example:
<tt class="docutils literal"><span class="pre">effective_principals=pyramid.security.Authenticated</span></tt> or
<tt class="docutils literal"><span class="pre">effective_principals=('fred',</span> <span class="pre">'group:admins')</span></tt>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.4a4.</span></p>
</div>
</div></blockquote>
<p>custom_predicates</p>
<blockquote>
<div><div class="deprecated">
<p><span class="versionmodified">Deprecated since version 1.5: </span>This value should be a sequence of references to custom
predicate callables.  Use custom predicates when no set of
predefined predicates does what you need.  Custom predicates
can be combined with predefined predicates as necessary.
Each custom predicate callable should accept two arguments:
<tt class="docutils literal"><span class="pre">info</span></tt> and <tt class="docutils literal"><span class="pre">request</span></tt> and should return either <tt class="docutils literal"><span class="pre">True</span></tt>
or <tt class="docutils literal"><span class="pre">False</span></tt> after doing arbitrary evaluation of the info
and/or the request.  If all custom and non-custom predicate
callables return <tt class="docutils literal"><span class="pre">True</span></tt> the associated route will be
considered viable for a given request.  If any predicate
callable returns <tt class="docutils literal"><span class="pre">False</span></tt>, route matching continues.  Note
that the value <tt class="docutils literal"><span class="pre">info</span></tt> passed to a custom route predicate
is a dictionary containing matching information; see
<a class="reference internal" href="../narr/urldispatch.html#custom-route-predicates"><em>Custom Route Predicates</em></a> for more information about
<tt class="docutils literal"><span class="pre">info</span></tt>.</p>
</div>
</div></blockquote>
<p>predicates</p>
<blockquote>
<div><p>Pass a key/value pair here to use a third-party predicate
registered via
<a class="reference internal" href="#pyramid.config.Configurator.add_view_predicate" title="pyramid.config.Configurator.add_view_predicate"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_view_predicate()</span></tt></a>.  More than
one key/value pair can be used at the same time.  See
<a class="reference internal" href="../narr/hooks.html#view-and-route-predicates"><em>View and Route Predicates</em></a> for more information about
third-party predicates.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.4.</span></p>
</div>
</div></blockquote>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.add_static_view"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_static_view"></a>
<tt class="descname">add_static_view</tt><big>(</big><em>name</em>, <em>path</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_static_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a view used to render static assets such as images
and CSS files.</p>
<p>The <tt class="docutils literal"><span class="pre">name</span></tt> argument is a string representing an
application-relative local URL prefix.  It may alternately be a full
URL.</p>
<p>The <tt class="docutils literal"><span class="pre">path</span></tt> argument is the path on disk where the static files
reside.  This can be an absolute path, a package-relative path, or a
<a class="reference internal" href="../glossary.html#term-asset-specification"><em class="xref std std-term">asset specification</em></a>.</p>
<p>The <tt class="docutils literal"><span class="pre">cache_max_age</span></tt> keyword argument is input to set the
<tt class="docutils literal"><span class="pre">Expires</span></tt> and <tt class="docutils literal"><span class="pre">Cache-Control</span></tt> headers for static assets served.
Note that this argument has no effect when the <tt class="docutils literal"><span class="pre">name</span></tt> is a <em>url
prefix</em>.  By default, this argument is <tt class="docutils literal"><span class="pre">None</span></tt>, meaning that no
particular Expires or Cache-Control headers are set in the response.</p>
<p>The <tt class="docutils literal"><span class="pre">permission</span></tt> keyword argument is used to specify the
<a class="reference internal" href="../glossary.html#term-permission"><em class="xref std std-term">permission</em></a> required by a user to execute the static view.  By
default, it is the string
<a class="reference internal" href="security.html#pyramid.security.NO_PERMISSION_REQUIRED" title="pyramid.security.NO_PERMISSION_REQUIRED"><tt class="xref py py-data docutils literal"><span class="pre">pyramid.security.NO_PERMISSION_REQUIRED</span></tt></a>, a special sentinel
which indicates that, even if a <a class="reference internal" href="../glossary.html#term-default-permission"><em class="xref std std-term">default permission</em></a> exists for
the current application, the static view should be renderered to
completely anonymous users.  This default value is permissive
because, in most web apps, static assets seldom need protection from
viewing.  If <tt class="docutils literal"><span class="pre">permission</span></tt> is specified, the security checking will
be performed against the default root factory ACL.</p>
<p>Any other keyword arguments sent to <tt class="docutils literal"><span class="pre">add_static_view</span></tt> are passed on
to <a class="reference internal" href="#pyramid.config.Configurator.add_route" title="pyramid.config.Configurator.add_route"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_route()</span></tt></a> (e.g. <tt class="docutils literal"><span class="pre">factory</span></tt>,
perhaps to define a custom factory with a custom ACL for this static
view).</p>
<p><em>Usage</em></p>
<p>The <tt class="docutils literal"><span class="pre">add_static_view</span></tt> function is typically used in conjunction
with the <a class="reference internal" href="request.html#pyramid.request.Request.static_url" title="pyramid.request.Request.static_url"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.static_url()</span></tt></a> method.
<tt class="docutils literal"><span class="pre">add_static_view</span></tt> adds a view which renders a static asset when
some URL is visited; <a class="reference internal" href="request.html#pyramid.request.Request.static_url" title="pyramid.request.Request.static_url"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.static_url()</span></tt></a>
generates a URL to that asset.</p>
<p>The <tt class="docutils literal"><span class="pre">name</span></tt> argument to <tt class="docutils literal"><span class="pre">add_static_view</span></tt> is usually a simple URL
prefix (e.g. <tt class="docutils literal"><span class="pre">'images'</span></tt>).  When this is the case, the
<a class="reference internal" href="request.html#pyramid.request.Request.static_url" title="pyramid.request.Request.static_url"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.static_url()</span></tt></a> API will generate a URL
which points to a Pyramid view, which will serve up a set of assets
that live in the package itself. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">add_static_view</span><span class="p">(</span><span class="s">'images'</span><span class="p">,</span> <span class="s">'mypackage:images/'</span><span class="p">)</span>
</pre></div>
</div>
<p>Code that registers such a view can generate URLs to the view via
<a class="reference internal" href="request.html#pyramid.request.Request.static_url" title="pyramid.request.Request.static_url"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.static_url()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">request</span><span class="o">.</span><span class="n">static_url</span><span class="p">(</span><span class="s">'mypackage:images/logo.png'</span><span class="p">)</span>
</pre></div>
</div>
<p>When <tt class="docutils literal"><span class="pre">add_static_view</span></tt> is called with a <tt class="docutils literal"><span class="pre">name</span></tt> argument that
represents a URL prefix, as it is above, subsequent calls to
<a class="reference internal" href="request.html#pyramid.request.Request.static_url" title="pyramid.request.Request.static_url"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.static_url()</span></tt></a> with paths that start with
the <tt class="docutils literal"><span class="pre">path</span></tt> argument passed to <tt class="docutils literal"><span class="pre">add_static_view</span></tt> will generate a
URL something like <tt class="docutils literal"><span class="pre">http://&lt;Pyramid</span> <span class="pre">app</span> <span class="pre">URL&gt;/images/logo.png</span></tt>,
which will cause the <tt class="docutils literal"><span class="pre">logo.png</span></tt> file in the <tt class="docutils literal"><span class="pre">images</span></tt> subdirectory
of the <tt class="docutils literal"><span class="pre">mypackage</span></tt> package to be served.</p>
<p><tt class="docutils literal"><span class="pre">add_static_view</span></tt> can alternately be used with a <tt class="docutils literal"><span class="pre">name</span></tt> argument
which is a <em>URL</em>, causing static assets to be served from an external
webserver.  This happens when the <tt class="docutils literal"><span class="pre">name</span></tt> argument is a fully
qualified URL (e.g. starts with <tt class="docutils literal"><span class="pre">http://</span></tt> or similar).  In this
mode, the <tt class="docutils literal"><span class="pre">name</span></tt> is used as the prefix of the full URL when
generating a URL using <a class="reference internal" href="request.html#pyramid.request.Request.static_url" title="pyramid.request.Request.static_url"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.static_url()</span></tt></a>.
Furthermore, if a protocol-relative URL (e.g. <tt class="docutils literal"><span class="pre">//example.com/images</span></tt>)
is used as the <tt class="docutils literal"><span class="pre">name</span></tt> argument, the generated URL will use the
protocol of the request (http or https, respectively).</p>
<p>For example, if <tt class="docutils literal"><span class="pre">add_static_view</span></tt> is called like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">add_static_view</span><span class="p">(</span><span class="s">'http://example.com/images'</span><span class="p">,</span> <span class="s">'mypackage:images/'</span><span class="p">)</span>
</pre></div>
</div>
<p>Subsequently, the URLs generated by
<a class="reference internal" href="request.html#pyramid.request.Request.static_url" title="pyramid.request.Request.static_url"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.static_url()</span></tt></a> for that static view will
be prefixed with <tt class="docutils literal"><span class="pre">http://example.com/images</span></tt> (the external webserver
listening on <tt class="docutils literal"><span class="pre">example.com</span></tt> must be itself configured to respond
properly to such a request.):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">static_url</span><span class="p">(</span><span class="s">'mypackage:images/logo.png'</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../narr/assets.html#static-assets-section"><em>Serving Static Assets</em></a> for more information.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.add_view"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_view"></a>
<tt class="descname">add_view</tt><big>(</big><em>view=None</em>, <em>name=''</em>, <em>for_=None</em>, <em>permission=None</em>, <em>request_type=None</em>, <em>route_name=None</em>, <em>request_method=None</em>, <em>request_param=None</em>, <em>containment=None</em>, <em>attr=None</em>, <em>renderer=None</em>, <em>wrapper=None</em>, <em>xhr=None</em>, <em>accept=None</em>, <em>header=None</em>, <em>path_info=None</em>, <em>custom_predicates=()</em>, <em>context=None</em>, <em>decorator=None</em>, <em>mapper=None</em>, <em>http_cache=None</em>, <em>match_param=None</em>, <em>check_csrf=None</em>, <em>**predicates</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a <a class="reference internal" href="../glossary.html#term-view-configuration"><em class="xref std std-term">view configuration</em></a> to the current
configuration state.  Arguments to <tt class="docutils literal"><span class="pre">add_view</span></tt> are broken
down below into <em>predicate</em> arguments and <em>non-predicate</em>
arguments.  Predicate arguments narrow the circumstances in
which the view callable will be invoked when a request is
presented to <span>Pyramid</span>; non-predicate arguments are
informational.</p>
<p>Non-Predicate Arguments</p>
<p>view</p>
<blockquote>
<div>A <a class="reference internal" href="../glossary.html#term-view-callable"><em class="xref std std-term">view callable</em></a> or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a>
which refers to a view callable.  This argument is required
unless a <tt class="docutils literal"><span class="pre">renderer</span></tt> argument also exists.  If a
<tt class="docutils literal"><span class="pre">renderer</span></tt> argument is passed, and a <tt class="docutils literal"><span class="pre">view</span></tt> argument is
not provided, the view callable defaults to a callable that
returns an empty dictionary (see
<a class="reference internal" href="../narr/renderers.html#views-which-use-a-renderer"><em>Writing View Callables Which Use a Renderer</em></a>).</div></blockquote>
<p>permission</p>
<blockquote>
<div><p>A <a class="reference internal" href="../glossary.html#term-permission"><em class="xref std std-term">permission</em></a> that the user must possess in order to invoke
the <a class="reference internal" href="../glossary.html#term-view-callable"><em class="xref std std-term">view callable</em></a>.  See <a class="reference internal" href="../narr/viewconfig.html#view-security-section"><em>Configuring View Security</em></a> for
more information about view security and permissions.  This is
often a string like <tt class="docutils literal"><span class="pre">view</span></tt> or <tt class="docutils literal"><span class="pre">edit</span></tt>.</p>
<p>If <tt class="docutils literal"><span class="pre">permission</span></tt> is omitted, a <em>default</em> permission may be used
for this view registration if one was named as the
<a class="reference internal" href="#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> constructor's
<tt class="docutils literal"><span class="pre">default_permission</span></tt> argument, or if
<a class="reference internal" href="#pyramid.config.Configurator.set_default_permission" title="pyramid.config.Configurator.set_default_permission"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.set_default_permission()</span></tt></a> was used
prior to this view registration.  Pass the value
<a class="reference internal" href="security.html#pyramid.security.NO_PERMISSION_REQUIRED" title="pyramid.security.NO_PERMISSION_REQUIRED"><tt class="xref py py-data docutils literal"><span class="pre">pyramid.security.NO_PERMISSION_REQUIRED</span></tt></a> as the permission
argument to explicitly indicate that the view should always be
executable by entirely anonymous users, regardless of the default
permission, bypassing any <a class="reference internal" href="../glossary.html#term-authorization-policy"><em class="xref std std-term">authorization policy</em></a> that may be
in effect.</p>
</div></blockquote>
<p>attr</p>
<blockquote>
<div><p>This knob is most useful when the view definition is a class.</p>
<p>The view machinery defaults to using the <tt class="docutils literal"><span class="pre">__call__</span></tt> method
of the <a class="reference internal" href="../glossary.html#term-view-callable"><em class="xref std std-term">view callable</em></a> (or the function itself, if the
view callable is a function) to obtain a response.  The
<tt class="docutils literal"><span class="pre">attr</span></tt> value allows you to vary the method attribute used
to obtain the response.  For example, if your view was a
class, and the class has a method named <tt class="docutils literal"><span class="pre">index</span></tt> and you
wanted to use this method instead of the class' <tt class="docutils literal"><span class="pre">__call__</span></tt>
method to return the response, you'd say <tt class="docutils literal"><span class="pre">attr="index"</span></tt> in the
view configuration for the view.</p>
</div></blockquote>
<p>renderer</p>
<blockquote>
<div><p>This is either a single string term (e.g. <tt class="docutils literal"><span class="pre">json</span></tt>) or a
string implying a path or <a class="reference internal" href="../glossary.html#term-asset-specification"><em class="xref std std-term">asset specification</em></a>
(e.g. <tt class="docutils literal"><span class="pre">templates/views.pt</span></tt>) naming a <a class="reference internal" href="../glossary.html#term-renderer"><em class="xref std std-term">renderer</em></a>
implementation.  If the <tt class="docutils literal"><span class="pre">renderer</span></tt> value does not contain
a dot <tt class="docutils literal"><span class="pre">.</span></tt>, the specified string will be used to look up a
renderer implementation, and that renderer implementation
will be used to construct a response from the view return
value.  If the <tt class="docutils literal"><span class="pre">renderer</span></tt> value contains a dot (<tt class="docutils literal"><span class="pre">.</span></tt>),
the specified term will be treated as a path, and the
filename extension of the last element in the path will be
used to look up the renderer implementation, which will be
passed the full path.  The renderer implementation will be
used to construct a <a class="reference internal" href="../glossary.html#term-response"><em class="xref std std-term">response</em></a> from the view return
value.</p>
<p>Note that if the view itself returns a <a class="reference internal" href="../glossary.html#term-response"><em class="xref std std-term">response</em></a> (see
<a class="reference internal" href="../narr/views.html#the-response"><em>View Callable Responses</em></a>), the specified renderer implementation
is never called.</p>
<p>When the renderer is a path, although a path is usually just
a simple relative pathname (e.g. <tt class="docutils literal"><span class="pre">templates/foo.pt</span></tt>,
implying that a template named "foo.pt" is in the
"templates" directory relative to the directory of the
current <a class="reference internal" href="../glossary.html#term-package"><em class="xref std std-term">package</em></a> of the Configurator), a path can be
absolute, starting with a slash on UNIX or a drive letter
prefix on Windows.  The path can alternately be a
<a class="reference internal" href="../glossary.html#term-asset-specification"><em class="xref std std-term">asset specification</em></a> in the form
<tt class="docutils literal"><span class="pre">some.dotted.package_name:relative/path</span></tt>, making it
possible to address template assets which live in a
separate package.</p>
<p>The <tt class="docutils literal"><span class="pre">renderer</span></tt> attribute is optional.  If it is not
defined, the "null" renderer is assumed (no rendering is
performed and the value is passed back to the upstream
<span>Pyramid</span> machinery unmodified).</p>
</div></blockquote>
<p>http_cache</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified">New in version 1.1.</span></p>
</div>
<p>When you supply an <tt class="docutils literal"><span class="pre">http_cache</span></tt> value to a view configuration,
the <tt class="docutils literal"><span class="pre">Expires</span></tt> and <tt class="docutils literal"><span class="pre">Cache-Control</span></tt> headers of a response
generated by the associated view callable are modified.  The value
for <tt class="docutils literal"><span class="pre">http_cache</span></tt> may be one of the following:</p>
<ul class="simple">
<li>A nonzero integer.  If it's a nonzero integer, it's treated as a
number of seconds.  This number of seconds will be used to
compute the <tt class="docutils literal"><span class="pre">Expires</span></tt> header and the <tt class="docutils literal"><span class="pre">Cache-Control:</span>
<span class="pre">max-age</span></tt> parameter of responses to requests which call this view.
For example: <tt class="docutils literal"><span class="pre">http_cache=3600</span></tt> instructs the requesting browser
to 'cache this response for an hour, please'.</li>
<li>A <tt class="docutils literal"><span class="pre">datetime.timedelta</span></tt> instance.  If it's a
<tt class="docutils literal"><span class="pre">datetime.timedelta</span></tt> instance, it will be converted into a
number of seconds, and that number of seconds will be used to
compute the <tt class="docutils literal"><span class="pre">Expires</span></tt> header and the <tt class="docutils literal"><span class="pre">Cache-Control:</span>
<span class="pre">max-age</span></tt> parameter of responses to requests which call this view.
For example: <tt class="docutils literal"><span class="pre">http_cache=datetime.timedelta(days=1)</span></tt> instructs
the requesting browser to 'cache this response for a day, please'.</li>
<li>Zero (<tt class="docutils literal"><span class="pre">0</span></tt>).  If the value is zero, the <tt class="docutils literal"><span class="pre">Cache-Control</span></tt> and
<tt class="docutils literal"><span class="pre">Expires</span></tt> headers present in all responses from this view will
be composed such that client browser cache (and any intermediate
caches) are instructed to never cache the response.</li>
<li>A two-tuple.  If it's a two tuple (e.g. <tt class="docutils literal"><span class="pre">http_cache=(1,</span>
<span class="pre">{'public':True})</span></tt>), the first value in the tuple may be a
nonzero integer or a <tt class="docutils literal"><span class="pre">datetime.timedelta</span></tt> instance; in either
case this value will be used as the number of seconds to cache
the response.  The second value in the tuple must be a
dictionary.  The values present in the dictionary will be used as
input to the <tt class="docutils literal"><span class="pre">Cache-Control</span></tt> response header.  For example:
<tt class="docutils literal"><span class="pre">http_cache=(3600,</span> <span class="pre">{'public':True})</span></tt> means 'cache for an hour,
and add <tt class="docutils literal"><span class="pre">public</span></tt> to the Cache-Control header of the response'.
All keys and values supported by the
<tt class="docutils literal"><span class="pre">webob.cachecontrol.CacheControl</span></tt> interface may be added to the
dictionary.  Supplying <tt class="docutils literal"><span class="pre">{'public':True}</span></tt> is equivalent to
calling <tt class="docutils literal"><span class="pre">response.cache_control.public</span> <span class="pre">=</span> <span class="pre">True</span></tt>.</li>
</ul>
<p>Providing a non-tuple value as <tt class="docutils literal"><span class="pre">http_cache</span></tt> is equivalent to
calling <tt class="docutils literal"><span class="pre">response.cache_expires(value)</span></tt> within your view's body.</p>
<p>Providing a two-tuple value as <tt class="docutils literal"><span class="pre">http_cache</span></tt> is equivalent to
calling <tt class="docutils literal"><span class="pre">response.cache_expires(value[0],</span> <span class="pre">**value[1])</span></tt> within your
view's body.</p>
<p>If you wish to avoid influencing, the <tt class="docutils literal"><span class="pre">Expires</span></tt> header, and
instead wish to only influence <tt class="docutils literal"><span class="pre">Cache-Control</span></tt> headers, pass a
tuple as <tt class="docutils literal"><span class="pre">http_cache</span></tt> with the first element of <tt class="docutils literal"><span class="pre">None</span></tt>, e.g.:
<tt class="docutils literal"><span class="pre">(None,</span> <span class="pre">{'public':True})</span></tt>.</p>
<p>If you wish to prevent a view that uses <tt class="docutils literal"><span class="pre">http_cache</span></tt> in its
configuration from having its caching response headers changed by
this machinery, set <tt class="docutils literal"><span class="pre">response.cache_control.prevent_auto</span> <span class="pre">=</span> <span class="pre">True</span></tt>
before returning the response from the view.  This effectively
disables any HTTP caching done by <tt class="docutils literal"><span class="pre">http_cache</span></tt> for that response.</p>
</div></blockquote>
<p>wrapper</p>
<blockquote>
<div>The <a class="reference internal" href="../glossary.html#term-view-name"><em class="xref std std-term">view name</em></a> of a different <a class="reference internal" href="../glossary.html#term-view-configuration"><em class="xref std std-term">view
configuration</em></a> which will receive the response body of this
view as the <tt class="docutils literal"><span class="pre">request.wrapped_body</span></tt> attribute of its own
<a class="reference internal" href="../glossary.html#term-request"><em class="xref std std-term">request</em></a>, and the <a class="reference internal" href="../glossary.html#term-response"><em class="xref std std-term">response</em></a> returned by this
view as the <tt class="docutils literal"><span class="pre">request.wrapped_response</span></tt> attribute of its
own request.  Using a wrapper makes it possible to "chain"
views together to form a composite response.  The response
of the outermost wrapper view will be returned to the user.
The wrapper view will be found as any view is found: see
<a class="reference internal" href="../narr/viewconfig.html#view-lookup"><em>View Configuration</em></a>.  The "best" wrapper view will be found
based on the lookup ordering: "under the hood" this wrapper
view is looked up via
<tt class="docutils literal"><span class="pre">pyramid.view.render_view_to_response(context,</span> <span class="pre">request,</span>
<span class="pre">'wrapper_viewname')</span></tt>. The context and request of a wrapper
view is the same context and request of the inner view.  If
this attribute is unspecified, no view wrapping is done.</div></blockquote>
<p>decorator</p>
<blockquote>
<div><p>A <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> to function (or the function itself,
or an iterable of the aforementioned) which will be used to
decorate the registered <a class="reference internal" href="../glossary.html#term-view-callable"><em class="xref std std-term">view callable</em></a>.  The decorator
function(s) will be called with the view callable as a single
argument.  The view callable it is passed will accept
<tt class="docutils literal"><span class="pre">(context,</span> <span class="pre">request)</span></tt>.  The decorator(s) must return a
replacement view callable which also accepts <tt class="docutils literal"><span class="pre">(context,</span>
<span class="pre">request)</span></tt>.</p>
<p>If decorator is an iterable, the callables will be combined and
used in the order provided as a decorator.
For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@view_config</span><span class="p">(</span><span class="o">...</span><span class="p">,</span>
    <span class="n">decorator</span><span class="o">=</span><span class="p">(</span><span class="n">decorator2</span><span class="p">,</span>
               <span class="n">decorator1</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">myview</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="o">....</span>
</pre></div>
</div>
<p>Is similar to doing:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@view_config</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="nd">@decorator2</span>
<span class="nd">@decorator1</span>
<span class="k">def</span> <span class="nf">myview</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Except with the existing benefits of <tt class="docutils literal"><span class="pre">decorator=</span></tt> (having a common
decorator syntax for all view calling conventions and not having to
think about preserving function attributes such as <tt class="docutils literal"><span class="pre">__name__</span></tt> and
<tt class="docutils literal"><span class="pre">__module__</span></tt> within decorator logic).</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.4a4: </span>Passing an iterable.</p>
</div>
</div></blockquote>
<p>mapper</p>
<blockquote>
<div>A Python object or <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> which refers to a
<a class="reference internal" href="../glossary.html#term-view-mapper"><em class="xref std std-term">view mapper</em></a>, or <tt class="docutils literal"><span class="pre">None</span></tt>.  By default it is <tt class="docutils literal"><span class="pre">None</span></tt>, which
indicates that the view should use the default view mapper.  This
plug-point is useful for Pyramid extension developers, but it's not
very useful for 'civilians' who are just developing stock Pyramid
applications. Pay no attention to the man behind the curtain.</div></blockquote>
<p>Predicate Arguments</p>
<p>name</p>
<blockquote>
<div>The <a class="reference internal" href="../glossary.html#term-view-name"><em class="xref std std-term">view name</em></a>.  Read <a class="reference internal" href="../narr/traversal.html#traversal-chapter"><em>Traversal</em></a> to
understand the concept of a view name.</div></blockquote>
<p>context</p>
<blockquote>
<div>An object or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> referring to an
interface or class object that the <a class="reference internal" href="../glossary.html#term-context"><em class="xref std std-term">context</em></a> must be
an instance of, <em>or</em> the <a class="reference internal" href="../glossary.html#term-interface"><em class="xref std std-term">interface</em></a> that the
<a class="reference internal" href="../glossary.html#term-context"><em class="xref std std-term">context</em></a> must provide in order for this view to be
found and called.  This predicate is true when the
<a class="reference internal" href="../glossary.html#term-context"><em class="xref std std-term">context</em></a> is an instance of the represented class or
if the <a class="reference internal" href="../glossary.html#term-context"><em class="xref std std-term">context</em></a> provides the represented interface;
it is otherwise false.  This argument may also be provided
to <tt class="docutils literal"><span class="pre">add_view</span></tt> as <tt class="docutils literal"><span class="pre">for_</span></tt> (an older, still-supported
spelling).</div></blockquote>
<p>route_name</p>
<blockquote>
<div>This value must match the <tt class="docutils literal"><span class="pre">name</span></tt> of a <a class="reference internal" href="../glossary.html#term-route-configuration"><em class="xref std std-term">route
configuration</em></a> declaration (see <a class="reference internal" href="../narr/urldispatch.html#urldispatch-chapter"><em>URL Dispatch</em></a>)
that must match before this view will be called.</div></blockquote>
<p>request_type</p>
<blockquote>
<div>This value should be an <a class="reference internal" href="../glossary.html#term-interface"><em class="xref std std-term">interface</em></a> that the
<a class="reference internal" href="../glossary.html#term-request"><em class="xref std std-term">request</em></a> must provide in order for this view to be
found and called.  This value exists only for backwards
compatibility purposes.</div></blockquote>
<p>request_method</p>
<blockquote>
<div><p>This value can be either a string (such as <tt class="docutils literal"><span class="pre">"GET"</span></tt>, <tt class="docutils literal"><span class="pre">"POST"</span></tt>,
<tt class="docutils literal"><span class="pre">"PUT"</span></tt>, <tt class="docutils literal"><span class="pre">"DELETE"</span></tt>, <tt class="docutils literal"><span class="pre">"HEAD"</span></tt> or <tt class="docutils literal"><span class="pre">"OPTIONS"</span></tt>) representing
an HTTP <tt class="docutils literal"><span class="pre">REQUEST_METHOD</span></tt>, or a tuple containing one or more of
these strings.  A view declaration with this argument ensures that
the view will only be called when the <tt class="docutils literal"><span class="pre">method</span></tt> attribute of the
request (aka the <tt class="docutils literal"><span class="pre">REQUEST_METHOD</span></tt> of the WSGI environment) matches
a supplied value.  Note that use of <tt class="docutils literal"><span class="pre">GET</span></tt> also implies that the
view will respond to <tt class="docutils literal"><span class="pre">HEAD</span></tt> as of Pyramid 1.4.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.2: </span>The ability to pass a tuple of items as <tt class="docutils literal"><span class="pre">request_method</span></tt>.
Previous versions allowed only a string.</p>
</div>
</div></blockquote>
<p>request_param</p>
<blockquote>
<div>This value can be any string or any sequence of strings.  A view 
declaration with this argument ensures that the view will only be 
called when the <a class="reference internal" href="../glossary.html#term-request"><em class="xref std std-term">request</em></a> has a key in the <tt class="docutils literal"><span class="pre">request.params</span></tt>
dictionary (an HTTP <tt class="docutils literal"><span class="pre">GET</span></tt> or <tt class="docutils literal"><span class="pre">POST</span></tt> variable) that has a
name which matches the supplied value (if the value is a string)
or values (if the value is a tuple).  If any value
supplied has a <tt class="docutils literal"><span class="pre">=</span></tt> sign in it,
e.g. <tt class="docutils literal"><span class="pre">request_param="foo=123"</span></tt>, then the key (<tt class="docutils literal"><span class="pre">foo</span></tt>)
must both exist in the <tt class="docutils literal"><span class="pre">request.params</span></tt> dictionary, <em>and</em>
the value must match the right hand side of the expression
(<tt class="docutils literal"><span class="pre">123</span></tt>) for the view to "match" the current request.</div></blockquote>
<p>match_param</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified">New in version 1.2.</span></p>
</div>
<p>This value can be a string of the format "key=value" or a tuple
containing one or more of these strings.</p>
<p>A view declaration with this argument ensures that the view will
only be called when the <a class="reference internal" href="../glossary.html#term-request"><em class="xref std std-term">request</em></a> has key/value pairs in its
<a class="reference internal" href="../glossary.html#term-matchdict"><em class="xref std std-term">matchdict</em></a> that equal those supplied in the predicate.
e.g. <tt class="docutils literal"><span class="pre">match_param="action=edit"</span></tt> would require the <tt class="docutils literal"><span class="pre">action</span></tt>
parameter in the <a class="reference internal" href="../glossary.html#term-matchdict"><em class="xref std std-term">matchdict</em></a> match the right hand side of
the expression (<tt class="docutils literal"><span class="pre">edit</span></tt>) for the view to "match" the current
request.</p>
<p>If the <tt class="docutils literal"><span class="pre">match_param</span></tt> is a tuple, every key/value pair must match
for the predicate to pass.</p>
</div></blockquote>
<p>containment</p>
<blockquote>
<div>This value should be a Python class or <a class="reference internal" href="../glossary.html#term-interface"><em class="xref std std-term">interface</em></a> (or a
<a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a>) that an object in the
<a class="reference internal" href="../glossary.html#term-lineage"><em class="xref std std-term">lineage</em></a> of the context must provide in order for this view
to be found and called.  The nodes in your object graph must be
"location-aware" to use this feature.  See
<a class="reference internal" href="../narr/resources.html#location-aware"><em>Location-Aware Resources</em></a> for more information about
location-awareness.</div></blockquote>
<p>xhr</p>
<blockquote>
<div>This value should be either <tt class="docutils literal"><span class="pre">True</span></tt> or <tt class="docutils literal"><span class="pre">False</span></tt>.  If this
value is specified and is <tt class="docutils literal"><span class="pre">True</span></tt>, the <a class="reference internal" href="../glossary.html#term-request"><em class="xref std std-term">request</em></a>
must possess an <tt class="docutils literal"><span class="pre">HTTP_X_REQUESTED_WITH</span></tt> (aka
<tt class="docutils literal"><span class="pre">X-Requested-With</span></tt>) header that has the value
<tt class="docutils literal"><span class="pre">XMLHttpRequest</span></tt> for this view to be found and called.
This is useful for detecting AJAX requests issued from
jQuery, Prototype and other Javascript libraries.</div></blockquote>
<p>accept</p>
<blockquote>
<div>The value of this argument represents a match query for one
or more mimetypes in the <tt class="docutils literal"><span class="pre">Accept</span></tt> HTTP request header.  If
this value is specified, it must be in one of the following
forms: a mimetype match token in the form <tt class="docutils literal"><span class="pre">text/plain</span></tt>, a
wildcard mimetype match token in the form <tt class="docutils literal"><span class="pre">text/*</span></tt> or a
match-all wildcard mimetype match token in the form <tt class="docutils literal"><span class="pre">*/*</span></tt>.
If any of the forms matches the <tt class="docutils literal"><span class="pre">Accept</span></tt> header of the
request, this predicate will be true.</div></blockquote>
<p>header</p>
<blockquote>
<div>This value represents an HTTP header name or a header
name/value pair.  If the value contains a <tt class="docutils literal"><span class="pre">:</span></tt> (colon), it
will be considered a name/value pair
(e.g. <tt class="docutils literal"><span class="pre">User-Agent:Mozilla/.*</span></tt> or <tt class="docutils literal"><span class="pre">Host:localhost</span></tt>).  The
value portion should be a regular expression.  If the value
does not contain a colon, the entire value will be
considered to be the header name
(e.g. <tt class="docutils literal"><span class="pre">If-Modified-Since</span></tt>).  If the value evaluates to a
header name only without a value, the header specified by
the name must be present in the request for this predicate
to be true.  If the value evaluates to a header name/value
pair, the header specified by the name must be present in
the request <em>and</em> the regular expression specified as the
value must match the header value.  Whether or not the value
represents a header name or a header name/value pair, the
case of the header name is not significant.</div></blockquote>
<p>path_info</p>
<blockquote>
<div>This value represents a regular expression pattern that will
be tested against the <tt class="docutils literal"><span class="pre">PATH_INFO</span></tt> WSGI environment
variable.  If the regex matches, this predicate will be
<tt class="docutils literal"><span class="pre">True</span></tt>.</div></blockquote>
<p>check_csrf</p>
<blockquote>
<div><p>If specified, this value should be one of <tt class="docutils literal"><span class="pre">None</span></tt>, <tt class="docutils literal"><span class="pre">True</span></tt>,
<tt class="docutils literal"><span class="pre">False</span></tt>, or a string representing the 'check name'.  If the value
is <tt class="docutils literal"><span class="pre">True</span></tt> or a string, CSRF checking will be performed.  If the
value is <tt class="docutils literal"><span class="pre">False</span></tt> or <tt class="docutils literal"><span class="pre">None</span></tt>, CSRF checking will not be performed.</p>
<p>If the value provided is a string, that string will be used as the
'check name'.  If the value provided is <tt class="docutils literal"><span class="pre">True</span></tt>, <tt class="docutils literal"><span class="pre">csrf_token</span></tt> will
be used as the check name.</p>
<p>If CSRF checking is performed, the checked value will be the value
of <tt class="docutils literal"><span class="pre">request.params[check_name]</span></tt>.  This value will be compared
against the value of <tt class="docutils literal"><span class="pre">request.session.get_csrf_token()</span></tt>, and the
check will pass if these two values are the same.  If the check
passes, the associated view will be permitted to execute.  If the
check fails, the associated view will not be permitted to execute.</p>
<p>Note that using this feature requires a <a class="reference internal" href="../glossary.html#term-session-factory"><em class="xref std std-term">session factory</em></a> to
have been configured.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.4a2.</span></p>
</div>
</div></blockquote>
<p>physical_path</p>
<blockquote>
<div><p>If specified, this value should be a string or a tuple representing
the <a class="reference internal" href="../glossary.html#term-physical-path"><em class="xref std std-term">physical path</em></a> of the context found via traversal for this
predicate to match as true.  For example: <tt class="docutils literal"><span class="pre">physical_path='/'</span></tt> or
<tt class="docutils literal"><span class="pre">physical_path='/a/b/c'</span></tt> or <tt class="docutils literal"><span class="pre">physical_path=('',</span> <span class="pre">'a',</span> <span class="pre">'b',</span> <span class="pre">'c')</span></tt>.
This is not a path prefix match or a regex, it's a whole-path match.
It's useful when you want to always potentially show a view when some
object is traversed to, but you can't be sure about what kind of
object it will be, so you can't use the <tt class="docutils literal"><span class="pre">context</span></tt> predicate.  The
individual path elements inbetween slash characters or in tuple
elements should be the Unicode representation of the name of the
resource and should not be encoded in any way.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.4a3.</span></p>
</div>
</div></blockquote>
<p>effective_principals</p>
<blockquote>
<div><p>If specified, this value should be a <a class="reference internal" href="../glossary.html#term-principal"><em class="xref std std-term">principal</em></a> identifier or
a sequence of principal identifiers.  If the
<a class="reference internal" href="request.html#pyramid.request.Request.effective_principals" title="pyramid.request.Request.effective_principals"><tt class="xref py py-attr docutils literal"><span class="pre">pyramid.request.Request.effective_principals</span></tt></a> property
indicates that every principal named in the argument list is present
in the current request, this predicate will return True; otherwise it
will return False.  For example:
<tt class="docutils literal"><span class="pre">effective_principals=pyramid.security.Authenticated</span></tt> or
<tt class="docutils literal"><span class="pre">effective_principals=('fred',</span> <span class="pre">'group:admins')</span></tt>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.4a4.</span></p>
</div>
</div></blockquote>
<p>custom_predicates</p>
<blockquote>
<div><div class="deprecated">
<p><span class="versionmodified">Deprecated since version 1.5: </span>This value should be a sequence of references to custom
predicate callables.  Use custom predicates when no set of
predefined predicates do what you need.  Custom predicates
can be combined with predefined predicates as necessary. 
Each custom predicate callable should accept two arguments:
<tt class="docutils literal"><span class="pre">context</span></tt> and <tt class="docutils literal"><span class="pre">request</span></tt> and should return either
<tt class="docutils literal"><span class="pre">True</span></tt> or <tt class="docutils literal"><span class="pre">False</span></tt> after doing arbitrary evaluation of
the context and/or the request.  The <tt class="docutils literal"><span class="pre">predicates</span></tt> argument
to this method and the ability to register third-party view
predicates via
<a class="reference internal" href="#pyramid.config.Configurator.add_view_predicate" title="pyramid.config.Configurator.add_view_predicate"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_view_predicate()</span></tt></a>
obsoletes this argument, but it is kept around for backwards
compatibility.</p>
</div>
</div></blockquote>
<p>predicates</p>
<blockquote>
<div>Pass a key/value pair here to use a third-party predicate
registered via
<a class="reference internal" href="#pyramid.config.Configurator.add_view_predicate" title="pyramid.config.Configurator.add_view_predicate"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_view_predicate()</span></tt></a>.  More than
one key/value pair can be used at the same time.  See
<a class="reference internal" href="../narr/hooks.html#view-and-route-predicates"><em>View and Route Predicates</em></a> for more information about
third-party predicates.</div></blockquote>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.add_notfound_view"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_notfound_view"></a>
<tt class="descname">add_notfound_view</tt><big>(</big><em>view=None</em>, <em>attr=None</em>, <em>renderer=None</em>, <em>wrapper=None</em>, <em>route_name=None</em>, <em>request_type=None</em>, <em>request_method=None</em>, <em>request_param=None</em>, <em>containment=None</em>, <em>xhr=None</em>, <em>accept=None</em>, <em>header=None</em>, <em>path_info=None</em>, <em>custom_predicates=()</em>, <em>decorator=None</em>, <em>mapper=None</em>, <em>match_param=None</em>, <em>append_slash=False</em>, <em>**predicates</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_notfound_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a default Not Found View to the current configuration state.
The view will be called when Pyramid or application code raises an
<a class="reference internal" href="httpexceptions.html#pyramid.httpexceptions.HTTPNotFound" title="pyramid.httpexceptions.HTTPNotFound"><tt class="xref py py-exc docutils literal"><span class="pre">pyramid.httpexceptions.HTTPNotFound</span></tt></a> exception (e.g. when a
view cannot be found for the request).  The simplest example is:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">notfound</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="s">'Not Found'</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="s">'404 Not Found'</span><span class="p">)</span>

<span class="n">config</span><span class="o">.</span><span class="n">add_notfound_view</span><span class="p">(</span><span class="n">notfound</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>All arguments except <tt class="docutils literal"><span class="pre">append_slash</span></tt> have the same meaning as
<a class="reference internal" href="#pyramid.config.Configurator.add_view" title="pyramid.config.Configurator.add_view"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_view()</span></tt></a> and each predicate
argument restricts the set of circumstances under which this notfound
view will be invoked.  Unlike
<a class="reference internal" href="#pyramid.config.Configurator.add_view" title="pyramid.config.Configurator.add_view"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_view()</span></tt></a>, this method will raise
an exception if passed <tt class="docutils literal"><span class="pre">name</span></tt>, <tt class="docutils literal"><span class="pre">permission</span></tt>, <tt class="docutils literal"><span class="pre">context</span></tt>,
<tt class="docutils literal"><span class="pre">for_</span></tt>, or <tt class="docutils literal"><span class="pre">http_cache</span></tt> keyword arguments.  These argument values
make no sense in the context of a Not Found View.</p>
<p>If <tt class="docutils literal"><span class="pre">append_slash</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>, when this Not Found View is invoked,
and the current path info does not end in a slash, the notfound logic
will attempt to find a <a class="reference internal" href="../glossary.html#term-route"><em class="xref std std-term">route</em></a> that matches the request's path
info suffixed with a slash.  If such a route exists, Pyramid will
issue a redirect to the URL implied by the route; if it does not,
Pyramid will return the result of the view callable provided as
<tt class="docutils literal"><span class="pre">view</span></tt>, as normal.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3.</span></p>
</div>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.add_forbidden_view"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_forbidden_view"></a>
<tt class="descname">add_forbidden_view</tt><big>(</big><em>view=None</em>, <em>attr=None</em>, <em>renderer=None</em>, <em>wrapper=None</em>, <em>route_name=None</em>, <em>request_type=None</em>, <em>request_method=None</em>, <em>request_param=None</em>, <em>containment=None</em>, <em>xhr=None</em>, <em>accept=None</em>, <em>header=None</em>, <em>path_info=None</em>, <em>custom_predicates=()</em>, <em>decorator=None</em>, <em>mapper=None</em>, <em>match_param=None</em>, <em>**predicates</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_forbidden_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a forbidden view to the current configuration state.  The
view will be called when Pyramid or application code raises a
<a class="reference internal" href="httpexceptions.html#pyramid.httpexceptions.HTTPForbidden" title="pyramid.httpexceptions.HTTPForbidden"><tt class="xref py py-exc docutils literal"><span class="pre">pyramid.httpexceptions.HTTPForbidden</span></tt></a> exception and the set of
circumstances implied by the predicates provided are matched.  The
simplest example is:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">forbidden</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="s">'Forbidden'</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="s">'403 Forbidden'</span><span class="p">)</span>

<span class="n">config</span><span class="o">.</span><span class="n">add_forbidden_view</span><span class="p">(</span><span class="n">forbidden</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>All arguments have the same meaning as
<a class="reference internal" href="#pyramid.config.Configurator.add_view" title="pyramid.config.Configurator.add_view"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_view()</span></tt></a> and each predicate
argument restricts the set of circumstances under which this notfound
view will be invoked.  Unlike
<a class="reference internal" href="#pyramid.config.Configurator.add_view" title="pyramid.config.Configurator.add_view"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_view()</span></tt></a>, this method will raise
an exception if passed <tt class="docutils literal"><span class="pre">name</span></tt>, <tt class="docutils literal"><span class="pre">permission</span></tt>, <tt class="docutils literal"><span class="pre">context</span></tt>,
<tt class="docutils literal"><span class="pre">for_</span></tt>, or <tt class="docutils literal"><span class="pre">http_cache</span></tt> keyword arguments.  These argument values
make no sense in the context of a forbidden view.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3.</span></p>
</div>
</dd></dl>
</div></blockquote>
<p><span class="methodcategory">Adding an Event Subscriber</span></p>
<blockquote>
<div><dl class="method">
<dt id="pyramid.config.Configurator.add_subscriber"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_subscriber"></a>
<tt class="descname">add_subscriber</tt><big>(</big><em>subscriber</em>, <em>iface=None</em>, <em>**predicates</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_subscriber" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an event <a class="reference internal" href="../glossary.html#term-subscriber"><em class="xref std std-term">subscriber</em></a> for the event stream
implied by the supplied <tt class="docutils literal"><span class="pre">iface</span></tt> interface.</p>
<p>The <tt class="docutils literal"><span class="pre">subscriber</span></tt> argument represents a callable object (or a
<a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> which identifies a callable); it will be
called with a single object <tt class="docutils literal"><span class="pre">event</span></tt> whenever <span>Pyramid</span> emits
an <a class="reference internal" href="../glossary.html#term-event"><em class="xref std std-term">event</em></a> associated with the <tt class="docutils literal"><span class="pre">iface</span></tt>, which may be an
<a class="reference internal" href="../glossary.html#term-interface"><em class="xref std std-term">interface</em></a> or a class or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> to a
global object representing an interface or a class.</p>
<p>Using the default <tt class="docutils literal"><span class="pre">iface</span></tt> value, <tt class="docutils literal"><span class="pre">None</span></tt> will cause the subscriber
to be registered for all event types. See <a class="reference internal" href="../narr/events.html#events-chapter"><em>Using Events</em></a> for
more information about events and subscribers.</p>
<p>Any number of predicate keyword arguments may be passed in
<tt class="docutils literal"><span class="pre">**predicates</span></tt>.  Each predicate named will narrow the set of
circumstances in which the subscriber will be invoked.  Each named
predicate must have been registered via
<tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_subscriber_predicate()</span></tt> before it
can be used.  See <a class="reference internal" href="../narr/hooks.html#subscriber-predicates"><em>Subscriber Predicates</em></a> for more information.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.4: </span>The <tt class="docutils literal"><span class="pre">**predicates</span></tt> argument.</p>
</div>
</dd></dl>
</div></blockquote>
<p><span class="methodcategory">Using Security</span></p>
<blockquote>
<div><blockquote>
<div><dl class="method">
<dt id="pyramid.config.Configurator.set_authentication_policy"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.set_authentication_policy"></a>
<tt class="descname">set_authentication_policy</tt><big>(</big><em>policy</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.set_authentication_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Override the <span>Pyramid</span> <a class="reference internal" href="../glossary.html#term-authentication-policy"><em class="xref std std-term">authentication policy</em></a> in the
current configuration.  The <tt class="docutils literal"><span class="pre">policy</span></tt> argument must be an instance
of an authentication policy or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a>
that points at an instance of an authentication policy.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using the <tt class="docutils literal"><span class="pre">authentication_policy</span></tt> argument to the
<a class="reference internal" href="#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> constructor can be used to
achieve the same purpose.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.set_authorization_policy"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.set_authorization_policy"></a>
<tt class="descname">set_authorization_policy</tt><big>(</big><em>policy</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.set_authorization_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Override the <span>Pyramid</span> <a class="reference internal" href="../glossary.html#term-authorization-policy"><em class="xref std std-term">authorization policy</em></a> in the
current configuration.  The <tt class="docutils literal"><span class="pre">policy</span></tt> argument must be an instance
of an authorization policy or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> that points
at an instance of an authorization policy.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using the <tt class="docutils literal"><span class="pre">authorization_policy</span></tt> argument to the
<a class="reference internal" href="#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> constructor can be used to
achieve the same purpose.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.set_default_permission"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.set_default_permission"></a>
<tt class="descname">set_default_permission</tt><big>(</big><em>permission</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.set_default_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default permission to be used by all subsequent
<a class="reference internal" href="../glossary.html#term-view-configuration"><em class="xref std std-term">view configuration</em></a> registrations.  <tt class="docutils literal"><span class="pre">permission</span></tt>
should be a <a class="reference internal" href="../glossary.html#term-permission"><em class="xref std std-term">permission</em></a> string to be used as the
default permission.  An example of a permission
string:<tt class="docutils literal"><span class="pre">'view'</span></tt>.  Adding a default permission makes it
unnecessary to protect each view configuration with an
explicit permission, unless your application policy requires
some exception for a particular view.</p>
<p>If a default permission is <em>not</em> set, views represented by
view configuration registrations which do not explicitly
declare a permission will be executable by entirely anonymous
users (any authorization policy is ignored).</p>
<p>Later calls to this method override will conflict with earlier calls;
there can be only one default permission active at a time within an
application.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If a default permission is in effect, view configurations meant to
create a truly anonymously accessible view (even <a class="reference internal" href="../glossary.html#term-exception-view"><em class="xref std std-term">exception
view</em></a> views) <em>must</em> use the value of the permission importable as
<a class="reference internal" href="security.html#pyramid.security.NO_PERMISSION_REQUIRED" title="pyramid.security.NO_PERMISSION_REQUIRED"><tt class="xref py py-data docutils literal"><span class="pre">pyramid.security.NO_PERMISSION_REQUIRED</span></tt></a>.  When this string
is used as the <tt class="docutils literal"><span class="pre">permission</span></tt> for a view configuration, the default
permission is ignored, and the view is registered, making it
available to all callers regardless of their credentials.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">See also <a class="reference internal" href="../narr/security.html#setting-a-default-permission"><em>Setting a Default Permission</em></a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using the <tt class="docutils literal"><span class="pre">default_permission</span></tt> argument to the
<a class="reference internal" href="#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> constructor can be used to
achieve the same purpose.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.add_permission"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_permission"></a>
<tt class="descname">add_permission</tt><big>(</big><em>permission_name</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>A configurator directive which registers a free-standing
permission without associating it with a view callable.  This can be
used so that the permission shows up in the introspectable data under
the <tt class="docutils literal"><span class="pre">permissions</span></tt> category (permissions mentioned via <tt class="docutils literal"><span class="pre">add_view</span></tt>
already end up in there).  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_permission</span><span class="p">(</span><span class="s">'view'</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>
</div></blockquote>
<p><span class="methodcategory">Extending the Request Object</span></p>
<blockquote>
<div><dl class="method">
<dt id="pyramid.config.Configurator.add_request_method"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_request_method"></a>
<tt class="descname">add_request_method</tt><big>(</big><em>callable=None</em>, <em>name=None</em>, <em>property=False</em>, <em>reify=False</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_request_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a property or method to the request object.</p>
<p>When adding a method to the request, <tt class="docutils literal"><span class="pre">callable</span></tt> may be any
function that receives the request object as the first
parameter. If <tt class="docutils literal"><span class="pre">name</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt> then it will be computed
from the name of the <tt class="docutils literal"><span class="pre">callable</span></tt>.</p>
<p>When adding a property to the request, <tt class="docutils literal"><span class="pre">callable</span></tt> can either
be a callable that accepts the request as its single positional
parameter, or it can be a property descriptor. If <tt class="docutils literal"><span class="pre">name</span></tt> is
<tt class="docutils literal"><span class="pre">None</span></tt>, the name of the property will be computed from the
name of the <tt class="docutils literal"><span class="pre">callable</span></tt>.</p>
<p>If the <tt class="docutils literal"><span class="pre">callable</span></tt> is a property descriptor a <tt class="docutils literal"><span class="pre">ValueError</span></tt>
will be raised if <tt class="docutils literal"><span class="pre">name</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt> or <tt class="docutils literal"><span class="pre">reify</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>.</p>
<p>See <a class="reference internal" href="request.html#pyramid.request.Request.set_property" title="pyramid.request.Request.set_property"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.set_property()</span></tt></a> for more
details on <tt class="docutils literal"><span class="pre">property</span></tt> vs <tt class="docutils literal"><span class="pre">reify</span></tt>. When <tt class="docutils literal"><span class="pre">reify</span></tt> is
<tt class="docutils literal"><span class="pre">True</span></tt>, the value of <tt class="docutils literal"><span class="pre">property</span></tt> is assumed to also be
<tt class="docutils literal"><span class="pre">True</span></tt>.</p>
<p>In all cases, <tt class="docutils literal"><span class="pre">callable</span></tt> may also be a
<a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> which refers to either a callable or
a property descriptor.</p>
<p>If <tt class="docutils literal"><span class="pre">callable</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt> then the method is only used to
assist in conflict detection between different addons requesting
the same attribute on the request object.</p>
<p>This is the recommended method for extending the request object
and should be used in favor of providing a custom request
factory via
<a class="reference internal" href="#pyramid.config.Configurator.set_request_factory" title="pyramid.config.Configurator.set_request_factory"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.set_request_factory()</span></tt></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.4.</span></p>
</div>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.set_request_property"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.set_request_property"></a>
<tt class="descname">set_request_property</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.set_request_property" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</div></blockquote>
<p><span class="methodcategory">Using I18N</span></p>
<blockquote>
<div><dl class="method">
<dt id="pyramid.config.Configurator.add_translation_dirs"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_translation_dirs"></a>
<tt class="descname">add_translation_dirs</tt><big>(</big><em>*specs</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_translation_dirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one or more <a class="reference internal" href="../glossary.html#term-translation-directory"><em class="xref std std-term">translation directory</em></a> paths to the
current configuration state.  The <tt class="docutils literal"><span class="pre">specs</span></tt> argument is a
sequence that may contain absolute directory paths
(e.g. <tt class="docutils literal"><span class="pre">/usr/share/locale</span></tt>) or <a class="reference internal" href="../glossary.html#term-asset-specification"><em class="xref std std-term">asset specification</em></a>
names naming a directory path (e.g. <tt class="docutils literal"><span class="pre">some.package:locale</span></tt>)
or a combination of the two.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">config</span><span class="o">.</span><span class="n">add_translation_dirs</span><span class="p">(</span><span class="s">'/usr/share/locale'</span><span class="p">,</span>
                            <span class="s">'some.package:locale'</span><span class="p">)</span>
</pre></div>
</div>
<p>Later calls to <tt class="docutils literal"><span class="pre">add_translation_dir</span></tt> insert directories into the
beginning of the list of translation directories created by earlier
calls.  This means that the same translation found in a directory
added later in the configuration process will be found before one
added earlier in the configuration process.  However, if multiple
specs are provided in a single call to <tt class="docutils literal"><span class="pre">add_translation_dirs</span></tt>, the
directories will be inserted into the beginning of the directory list
in the order they're provided in the <tt class="docutils literal"><span class="pre">*specs</span></tt> list argument (items
earlier in the list trump ones later in the list).</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.set_locale_negotiator"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.set_locale_negotiator"></a>
<tt class="descname">set_locale_negotiator</tt><big>(</big><em>negotiator</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.set_locale_negotiator" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the <a class="reference internal" href="../glossary.html#term-locale-negotiator"><em class="xref std std-term">locale negotiator</em></a> for this application.  The
<a class="reference internal" href="../glossary.html#term-locale-negotiator"><em class="xref std std-term">locale negotiator</em></a> is a callable which accepts a
<a class="reference internal" href="../glossary.html#term-request"><em class="xref std std-term">request</em></a> object and which returns a <a class="reference internal" href="../glossary.html#term-locale-name"><em class="xref std std-term">locale
name</em></a>.  The <tt class="docutils literal"><span class="pre">negotiator</span></tt> argument should be the locale
negotiator implementation or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a>
which refers to such an implementation.</p>
<p>Later calls to this method override earlier calls; there can
be only one locale negotiator active at a time within an
application.  See <a class="reference internal" href="../narr/i18n.html#activating-translation"><em>Activating Translation</em></a> for more
information.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using the <tt class="docutils literal"><span class="pre">locale_negotiator</span></tt> argument to the
<a class="reference internal" href="#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> constructor can be used to
achieve the same purpose.</p>
</div>
</dd></dl>
</div></blockquote>
<p><span class="methodcategory">Overriding Assets</span></p>
<blockquote>
<div><dl class="method">
<dt id="pyramid.config.Configurator.override_asset"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.override_asset"></a>
<tt class="descname">override_asset</tt><big>(</big><em>to_override</em>, <em>override_with</em>, <em>_override=None</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.override_asset" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a <span>Pyramid</span> asset override to the current
configuration state.</p>
<p><tt class="docutils literal"><span class="pre">to_override</span></tt> is a <a class="reference internal" href="../glossary.html#term-asset-specification"><em class="xref std std-term">asset specification</em></a> to the
asset being overridden.</p>
<p><tt class="docutils literal"><span class="pre">override_with</span></tt> is a <a class="reference internal" href="../glossary.html#term-asset-specification"><em class="xref std std-term">asset specification</em></a> to the
asset that is performing the override.</p>
<p>See <a class="reference internal" href="../narr/assets.html#assets-chapter"><em>Static Assets</em></a> for more
information about asset overrides.</p>
</dd></dl>
</div></blockquote>
<p><span class="methodcategory">Getting and Adding Settings</span></p>
<blockquote>
<div><dl class="method">
<dt id="pyramid.config.Configurator.add_settings"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_settings"></a>
<tt class="descname">add_settings</tt><big>(</big><em>settings=None</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Augment the <a class="reference internal" href="../glossary.html#term-deployment-settings"><em class="xref std std-term">deployment settings</em></a> with one or more
key/value pairs.</p>
<p>You may pass a dictionary:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">config</span><span class="o">.</span><span class="n">add_settings</span><span class="p">({</span><span class="s">'external_uri'</span><span class="p">:</span><span class="s">'http://example.com'</span><span class="p">})</span>
</pre></div>
</div>
<p>Or a set of key/value pairs:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">config</span><span class="o">.</span><span class="n">add_settings</span><span class="p">(</span><span class="n">external_uri</span><span class="o">=</span><span class="s">'http://example.com'</span><span class="p">)</span>
</pre></div>
</div>
<p>This function is useful when you need to test code that accesses the
<a class="reference internal" href="registry.html#pyramid.registry.Registry.settings" title="pyramid.registry.Registry.settings"><tt class="xref py py-attr docutils literal"><span class="pre">pyramid.registry.Registry.settings</span></tt></a> API (or the
<a class="reference internal" href="#pyramid.config.Configurator.get_settings" title="pyramid.config.Configurator.get_settings"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.get_settings()</span></tt></a> API) and
which uses values from that API.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.get_settings"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.get_settings"></a>
<tt class="descname">get_settings</tt><big>(</big><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.get_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="../glossary.html#term-deployment-settings"><em class="xref std std-term">deployment settings</em></a> object for the current
application.  A deployment settings object is a dictionary-like
object that contains key/value pairs based on the dictionary passed
as the <tt class="docutils literal"><span class="pre">settings</span></tt> argument to the
<a class="reference internal" href="#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> constructor.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the <a class="reference internal" href="registry.html#pyramid.registry.Registry.settings" title="pyramid.registry.Registry.settings"><tt class="xref py py-attr docutils literal"><span class="pre">pyramid.registry.Registry.settings</span></tt></a> API
performs the same duty.</p>
</div>
</dd></dl>
</div></blockquote>
<p><span class="methodcategory">Hooking Pyramid Behavior</span></p>
<blockquote>
<div><dl class="method">
<dt id="pyramid.config.Configurator.add_renderer"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_renderer"></a>
<tt class="descname">add_renderer</tt><big>(</big><em>name</em>, <em>factory</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_renderer" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a <span>Pyramid</span> <a class="reference internal" href="../glossary.html#term-renderer"><em class="xref std std-term">renderer</em></a> factory to the
current configuration state.</p>
<p>The <tt class="docutils literal"><span class="pre">name</span></tt> argument is the renderer name.  Use <tt class="docutils literal"><span class="pre">None</span></tt> to
represent the default renderer (a renderer which will be used for all
views unless they name another renderer specifically).</p>
<p>The <tt class="docutils literal"><span class="pre">factory</span></tt> argument is Python reference to an
implementation of a <a class="reference internal" href="../glossary.html#term-renderer"><em class="xref std std-term">renderer</em></a> factory or a
<a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> to same.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.add_resource_url_adapter"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_resource_url_adapter"></a>
<tt class="descname">add_resource_url_adapter</tt><big>(</big><em>adapter</em>, <em>resource_iface=None</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_resource_url_adapter" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 1.3.</span></p>
</div>
<p>When you add a traverser as described in
<a class="reference internal" href="../narr/hooks.html#changing-the-traverser"><em>Changing the Traverser</em></a>, it's convenient to continue to use the
<a class="reference internal" href="request.html#pyramid.request.Request.resource_url" title="pyramid.request.Request.resource_url"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.resource_url()</span></tt></a> API.  However, since the
way traversal is done may have been modified, the URLs that
<tt class="docutils literal"><span class="pre">resource_url</span></tt> generates by default may be incorrect when resources
are returned by a custom traverser.</p>
<p>If you've added a traverser, you can change how
<a class="reference internal" href="request.html#pyramid.request.Request.resource_url" title="pyramid.request.Request.resource_url"><tt class="xref py py-meth docutils literal"><span class="pre">resource_url()</span></tt></a> generates a URL for a
specific type of resource by calling this method.</p>
<p>The <tt class="docutils literal"><span class="pre">adapter</span></tt> argument represents a class that implements the
<a class="reference internal" href="interfaces.html#pyramid.interfaces.IResourceURL" title="pyramid.interfaces.IResourceURL"><tt class="xref py py-class docutils literal"><span class="pre">IResourceURL</span></tt></a> interface.  The class
constructor should accept two arguments in its constructor (the
resource and the request) and the resulting instance should provide
the attributes detailed in that interface (<tt class="docutils literal"><span class="pre">virtual_path</span></tt> and
<tt class="docutils literal"><span class="pre">physical_path</span></tt>, in particular).</p>
<p>The <tt class="docutils literal"><span class="pre">resource_iface</span></tt> argument represents a class or interface that
the resource should possess for this url adapter to be used when
<a class="reference internal" href="request.html#pyramid.request.Request.resource_url" title="pyramid.request.Request.resource_url"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.resource_url()</span></tt></a> looks up a resource url
adapter.  If <tt class="docutils literal"><span class="pre">resource_iface</span></tt> is not passed, or it is passed as
<tt class="docutils literal"><span class="pre">None</span></tt>, the url adapter will be used for every type of resource.</p>
<p>See <a class="reference internal" href="../narr/hooks.html#changing-resource-url"><em>Changing How pyramid.request.Request.resource_url() Generates a URL</em></a> for more information.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.add_response_adapter"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_response_adapter"></a>
<tt class="descname">add_response_adapter</tt><big>(</big><em>adapter</em>, <em>type_or_iface</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_response_adapter" title="Permalink to this definition">¶</a></dt>
<dd><p>When an object of type (or interface) <tt class="docutils literal"><span class="pre">type_or_iface</span></tt> is
returned from a view callable, Pyramid will use the adapter
<tt class="docutils literal"><span class="pre">adapter</span></tt> to convert it into an object which implements the
<a class="reference internal" href="interfaces.html#pyramid.interfaces.IResponse" title="pyramid.interfaces.IResponse"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.interfaces.IResponse</span></tt></a> interface.  If <tt class="docutils literal"><span class="pre">adapter</span></tt> is
None, an object returned of type (or interface) <tt class="docutils literal"><span class="pre">type_or_iface</span></tt>
will itself be used as a response object.</p>
<p><tt class="docutils literal"><span class="pre">adapter</span></tt> and <tt class="docutils literal"><span class="pre">type_or_interface</span></tt> may be Python objects or
strings representing dotted names to importable Python global
objects.</p>
<p>See <a class="reference internal" href="../narr/hooks.html#using-iresponse"><em>Changing How Pyramid Treats View Responses</em></a> for more information.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.add_traverser"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_traverser"></a>
<tt class="descname">add_traverser</tt><big>(</big><em>adapter</em>, <em>iface=None</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_traverser" title="Permalink to this definition">¶</a></dt>
<dd><p>The superdefault <a class="reference internal" href="../glossary.html#term-traversal"><em class="xref std std-term">traversal</em></a> algorithm that <span>Pyramid</span> uses
is explained in <a class="reference internal" href="../narr/traversal.html#traversal-algorithm"><em>The Traversal Algorithm</em></a>.  Though it is rarely
necessary, this default algorithm can be swapped out selectively for
a different traversal pattern via configuration.  The section
entitled <a class="reference internal" href="../narr/hooks.html#changing-the-traverser"><em>Changing the Traverser</em></a> details how to create a
traverser class.</p>
<p>For example, to override the superdefault traverser used by Pyramid,
you might do something like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">myapp.traversal</span> <span class="kn">import</span> <span class="n">MyCustomTraverser</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_traverser</span><span class="p">(</span><span class="n">MyCustomTraverser</span><span class="p">)</span>
</pre></div>
</div>
<p>This would cause the Pyramid superdefault traverser to never be used;
instead all traversal would be done using your <tt class="docutils literal"><span class="pre">MyCustomTraverser</span></tt>
class, no matter which object was returned by the <a class="reference internal" href="../glossary.html#term-root-factory"><em class="xref std std-term">root
factory</em></a> of this application.  Note that we passed no arguments to
the <tt class="docutils literal"><span class="pre">iface</span></tt> keyword parameter.  The default value of <tt class="docutils literal"><span class="pre">iface</span></tt>,
<tt class="docutils literal"><span class="pre">None</span></tt> represents that the registered traverser should be used when
no other more specific traverser is available for the object returned
by the root factory.</p>
<p>However, more than one traversal algorithm can be active at the same
time.  The traverser used can depend on the result of the <a class="reference internal" href="../glossary.html#term-root-factory"><em class="xref std std-term">root
factory</em></a>.  For instance, if your root factory returns more than one
type of object conditionally, you could claim that an alternate
traverser adapter should be used against one particular class or
interface returned by that root factory.  When the root factory
returned an object that implemented that class or interface, a custom
traverser would be used.  Otherwise, the default traverser would be
used.  The <tt class="docutils literal"><span class="pre">iface</span></tt> argument represents the class of the object that
the root factory might return or an <a class="reference internal" href="../glossary.html#term-interface"><em class="xref std std-term">interface</em></a> that the object
might implement.</p>
<p>To use a particular traverser only when the root factory returns a
particular class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">config</span><span class="o">.</span><span class="n">add_traverser</span><span class="p">(</span><span class="n">MyCustomTraverser</span><span class="p">,</span> <span class="n">MyRootClass</span><span class="p">)</span>
</pre></div>
</div>
<p>When more than one traverser is active, the "most specific" traverser
will be used (the one that matches the class or interface of the
value returned by the root factory most closely).</p>
<p>Note that either <tt class="docutils literal"><span class="pre">adapter</span></tt> or <tt class="docutils literal"><span class="pre">iface</span></tt> can be a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted
Python name</em></a> or a Python object.</p>
<p>See <a class="reference internal" href="../narr/hooks.html#changing-the-traverser"><em>Changing the Traverser</em></a> for more information.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.add_tween"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_tween"></a>
<tt class="descname">add_tween</tt><big>(</big><em>tween_factory</em>, <em>under=None</em>, <em>over=None</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_tween" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 1.2.</span></p>
</div>
<p>Add a 'tween factory'.  A <a class="reference internal" href="../glossary.html#term-tween"><em class="xref std std-term">tween</em></a> (a contraction of 'between')
is a bit of code that sits between the Pyramid router's main request
handling function and the upstream WSGI component that uses
<span>Pyramid</span> as its 'app'.  Tweens are a feature that may be used
by Pyramid framework extensions, to provide, for example,
Pyramid-specific view timing support, bookkeeping code that examines
exceptions before they are returned to the upstream WSGI application,
or a variety of other features.  Tweens behave a bit like
<a class="reference internal" href="../glossary.html#term-wsgi"><em class="xref std std-term">WSGI</em></a> 'middleware' but they have the benefit of running in a
context in which they have access to the Pyramid <a class="reference internal" href="../glossary.html#term-application-registry"><em class="xref std std-term">application
registry</em></a> as well as the Pyramid rendering machinery.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can view the tween ordering configured into a given
Pyramid application by using the <tt class="docutils literal"><span class="pre">ptweens</span></tt>
command.  See <a class="reference internal" href="../narr/commandline.html#displaying-tweens"><em>Displaying "Tweens"</em></a>.</p>
</div>
<p>The <tt class="docutils literal"><span class="pre">tween_factory</span></tt> argument must be a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a>
to a global object representing the tween factory.</p>
<p>The <tt class="docutils literal"><span class="pre">under</span></tt> and <tt class="docutils literal"><span class="pre">over</span></tt> arguments allow the caller of
<tt class="docutils literal"><span class="pre">add_tween</span></tt> to provide a hint about where in the tween chain this
tween factory should be placed when an implicit tween chain is used.
These hints are only used when an explicit tween chain is not used
(when the <tt class="docutils literal"><span class="pre">pyramid.tweens</span></tt> configuration value is not set).
Allowable values for <tt class="docutils literal"><span class="pre">under</span></tt> or <tt class="docutils literal"><span class="pre">over</span></tt> (or both) are:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">None</span></tt> (the default).</li>
<li>A <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> to a tween factory: a string
representing the dotted name of a tween factory added in a call to
<tt class="docutils literal"><span class="pre">add_tween</span></tt> in the same configuration session.</li>
<li>One of the constants <a class="reference internal" href="tweens.html#pyramid.tweens.MAIN" title="pyramid.tweens.MAIN"><tt class="xref py py-attr docutils literal"><span class="pre">pyramid.tweens.MAIN</span></tt></a>,
<a class="reference internal" href="tweens.html#pyramid.tweens.INGRESS" title="pyramid.tweens.INGRESS"><tt class="xref py py-attr docutils literal"><span class="pre">pyramid.tweens.INGRESS</span></tt></a>, or <a class="reference internal" href="tweens.html#pyramid.tweens.EXCVIEW" title="pyramid.tweens.EXCVIEW"><tt class="xref py py-attr docutils literal"><span class="pre">pyramid.tweens.EXCVIEW</span></tt></a>.</li>
<li>An iterable of any combination of the above. This allows the user
to specify fallbacks if the desired tween is not included, as well
as compatibility with multiple other tweens.</li>
</ul>
<p><tt class="docutils literal"><span class="pre">under</span></tt> means 'closer to the main Pyramid application than',
<tt class="docutils literal"><span class="pre">over</span></tt> means 'closer to the request ingress than'.</p>
<p>For example, calling <tt class="docutils literal"><span class="pre">add_tween('myapp.tfactory',</span>
<span class="pre">over=pyramid.tweens.MAIN)</span></tt> will attempt to place the tween factory
represented by the dotted name <tt class="docutils literal"><span class="pre">myapp.tfactory</span></tt> directly 'above'
(in <tt class="docutils literal"><span class="pre">ptweens</span></tt> order) the main Pyramid request handler.
Likewise, calling <tt class="docutils literal"><span class="pre">add_tween('myapp.tfactory',</span>
<span class="pre">over=pyramid.tweens.MAIN,</span> <span class="pre">under='mypkg.someothertween')</span></tt> will
attempt to place this tween factory 'above' the main handler but
'below' (a fictional) 'mypkg.someothertween' tween factory.</p>
<p>If all options for <tt class="docutils literal"><span class="pre">under</span></tt> (or <tt class="docutils literal"><span class="pre">over</span></tt>) cannot be found in the
current configuration, it is an error. If some options are specified
purely for compatibilty with other tweens, just add a fallback of
MAIN or INGRESS. For example, <tt class="docutils literal"><span class="pre">under=('mypkg.someothertween',</span>
<span class="pre">'mypkg.someothertween2',</span> <span class="pre">INGRESS)</span></tt>.  This constraint will require
the tween to be located under both the 'mypkg.someothertween' tween,
the 'mypkg.someothertween2' tween, and INGRESS. If any of these is
not in the current configuration, this constraint will only organize
itself based on the tweens that are present.</p>
<p>Specifying neither <tt class="docutils literal"><span class="pre">over</span></tt> nor <tt class="docutils literal"><span class="pre">under</span></tt> is equivalent to specifying
<tt class="docutils literal"><span class="pre">under=INGRESS</span></tt>.</p>
<p>Implicit tween ordering is obviously only best-effort.  Pyramid will
attempt to present an implicit order of tweens as best it can, but
the only surefire way to get any particular ordering is to use an
explicit tween order.  A user may always override the implicit tween
ordering by using an explicit <tt class="docutils literal"><span class="pre">pyramid.tweens</span></tt> configuration value
setting.</p>
<p><tt class="docutils literal"><span class="pre">under</span></tt>, and <tt class="docutils literal"><span class="pre">over</span></tt> arguments are ignored when an explicit tween
chain is specified using the <tt class="docutils literal"><span class="pre">pyramid.tweens</span></tt> configuration value.</p>
<p>For more information, see <a class="reference internal" href="../narr/hooks.html#registering-tweens"><em>Registering Tweens</em></a>.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.add_route_predicate"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_route_predicate"></a>
<tt class="descname">add_route_predicate</tt><big>(</big><em>name</em>, <em>factory</em>, <em>weighs_more_than=None</em>, <em>weighs_less_than=None</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_route_predicate" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a route predicate factory.  The view predicate can later be
named as a keyword argument to
<a class="reference internal" href="#pyramid.config.Configurator.add_route" title="pyramid.config.Configurator.add_route"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_route()</span></tt></a>.</p>
<p><tt class="docutils literal"><span class="pre">name</span></tt> should be the name of the predicate.  It must be a valid
Python identifier (it will be used as a keyword argument to
<tt class="docutils literal"><span class="pre">add_view</span></tt>).</p>
<p><tt class="docutils literal"><span class="pre">factory</span></tt> should be a <a class="reference internal" href="../glossary.html#term-predicate-factory"><em class="xref std std-term">predicate factory</em></a> or <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted
Python name</em></a> which refers to a predicate factory.</p>
<p>See <a class="reference internal" href="../narr/hooks.html#view-and-route-predicates"><em>View and Route Predicates</em></a> for more information.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.4.</span></p>
</div>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.add_view_predicate"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_view_predicate"></a>
<tt class="descname">add_view_predicate</tt><big>(</big><em>name</em>, <em>factory</em>, <em>weighs_more_than=None</em>, <em>weighs_less_than=None</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.add_view_predicate" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 1.4.</span></p>
</div>
<p>Adds a view predicate factory.  The associated view predicate can
later be named as a keyword argument to
<a class="reference internal" href="#pyramid.config.Configurator.add_view" title="pyramid.config.Configurator.add_view"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_view()</span></tt></a> in the
<tt class="docutils literal"><span class="pre">predicates</span></tt> anonyous keyword argument dictionary.</p>
<p><tt class="docutils literal"><span class="pre">name</span></tt> should be the name of the predicate.  It must be a valid
Python identifier (it will be used as a keyword argument to
<tt class="docutils literal"><span class="pre">add_view</span></tt> by others).</p>
<p><tt class="docutils literal"><span class="pre">factory</span></tt> should be a <a class="reference internal" href="../glossary.html#term-predicate-factory"><em class="xref std std-term">predicate factory</em></a> or <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted
Python name</em></a> which refers to a predicate factory.</p>
<p>See <a class="reference internal" href="../narr/hooks.html#view-and-route-predicates"><em>View and Route Predicates</em></a> for more information.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.set_request_factory"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.set_request_factory"></a>
<tt class="descname">set_request_factory</tt><big>(</big><em>factory</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.set_request_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>The object passed as <tt class="docutils literal"><span class="pre">factory</span></tt> should be an object (or a
<a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> which refers to an object) which
will be used by the <span>Pyramid</span> router to create all
request objects.  This factory object must have the same
methods and attributes as the
<a class="reference internal" href="request.html#pyramid.request.Request" title="pyramid.request.Request"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.request.Request</span></tt></a> class (particularly
<tt class="docutils literal"><span class="pre">__call__</span></tt>, and <tt class="docutils literal"><span class="pre">blank</span></tt>).</p>
<p>See <a class="reference internal" href="#pyramid.config.Configurator.add_request_method" title="pyramid.config.Configurator.add_request_method"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_request_method()</span></tt></a>
for a less intrusive way to extend the request objects with
custom methods and properties.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using the <tt class="docutils literal"><span class="pre">request_factory</span></tt> argument to the
<a class="reference internal" href="#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> constructor
can be used to achieve the same purpose.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.set_root_factory"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.set_root_factory"></a>
<tt class="descname">set_root_factory</tt><big>(</big><em>factory</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.set_root_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a <a class="reference internal" href="../glossary.html#term-root-factory"><em class="xref std std-term">root factory</em></a> to the current configuration
state.  If the <tt class="docutils literal"><span class="pre">factory</span></tt> argument is <tt class="docutils literal"><span class="pre">None</span></tt> a default root
factory will be registered.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using the <tt class="docutils literal"><span class="pre">root_factory</span></tt> argument to the
<a class="reference internal" href="#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> constructor can be used to
achieve the same purpose.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.set_session_factory"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.set_session_factory"></a>
<tt class="descname">set_session_factory</tt><big>(</big><em>factory</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.set_session_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the application with a <a class="reference internal" href="../glossary.html#term-session-factory"><em class="xref std std-term">session factory</em></a>.  If this
method is called, the <tt class="docutils literal"><span class="pre">factory</span></tt> argument must be a session
factory callable or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> to that factory.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using the <tt class="docutils literal"><span class="pre">session_factory</span></tt> argument to the
<a class="reference internal" href="#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> constructor can be used to
achieve the same purpose.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.set_view_mapper"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.set_view_mapper"></a>
<tt class="descname">set_view_mapper</tt><big>(</big><em>mapper</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.set_view_mapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting a <a class="reference internal" href="../glossary.html#term-view-mapper"><em class="xref std std-term">view mapper</em></a> makes it possible to make use of
<a class="reference internal" href="../glossary.html#term-view-callable"><em class="xref std std-term">view callable</em></a> objects which implement different call
signatures than the ones supported by <span>Pyramid</span> as described in
its narrative documentation.</p>
<p>The <tt class="docutils literal"><span class="pre">mapper</span></tt> should argument be an object implementing
<a class="reference internal" href="interfaces.html#pyramid.interfaces.IViewMapperFactory" title="pyramid.interfaces.IViewMapperFactory"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.interfaces.IViewMapperFactory</span></tt></a> or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted
Python name</em></a> to such an object.  The provided <tt class="docutils literal"><span class="pre">mapper</span></tt> will become
the default view mapper to be used by all subsequent <a class="reference internal" href="../glossary.html#term-view-configuration"><em class="xref std std-term">view
configuration</em></a> registrations.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">See also <a class="reference internal" href="../narr/hooks.html#using-a-view-mapper"><em>Using a View Mapper</em></a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using the <tt class="docutils literal"><span class="pre">default_view_mapper</span></tt> argument to the
<a class="reference internal" href="#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> constructor
can be used to achieve the same purpose.</p>
</div>
</dd></dl>
</div></blockquote>
<p><span class="methodcategory">Extension Author APIs</span></p>
<blockquote>
<div><dl class="method">
<dt id="pyramid.config.Configurator.action"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.action"></a>
<tt class="descname">action</tt><big>(</big><em>discriminator</em>, <em>callable=None</em>, <em>args=()</em>, <em>kw=None</em>, <em>order=0</em>, <em>introspectables=()</em>, <em>**extra</em><big>)</big><a class="reference internal" href="../_modules/pyramid/config.html#Configurator.action"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.config.Configurator.action" title="Permalink to this definition">¶</a></dt>
<dd><p>Register an action which will be executed when
<a class="reference internal" href="#pyramid.config.Configurator.commit" title="pyramid.config.Configurator.commit"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.commit()</span></tt></a> is called (or executed
immediately if <tt class="docutils literal"><span class="pre">autocommit</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>).</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method is typically only used by <span>Pyramid</span>
framework extension authors, not by <span>Pyramid</span> application
developers.</p>
</div>
<p>The <tt class="docutils literal"><span class="pre">discriminator</span></tt> uniquely identifies the action.  It must be
given, but it can be <tt class="docutils literal"><span class="pre">None</span></tt>, to indicate that the action never
conflicts.  It must be a hashable value.</p>
<p>The <tt class="docutils literal"><span class="pre">callable</span></tt> is a callable object which performs the task
associated with the action when the action is executed.  It is
optional.</p>
<p><tt class="docutils literal"><span class="pre">args</span></tt> and <tt class="docutils literal"><span class="pre">kw</span></tt> are tuple and dict objects respectively, which
are passed to <tt class="docutils literal"><span class="pre">callable</span></tt> when this action is executed.  Both are
optional.</p>
<p><tt class="docutils literal"><span class="pre">order</span></tt> is a grouping mechanism; an action with a lower order will
be executed before an action with a higher order (has no effect when
autocommit is <tt class="docutils literal"><span class="pre">True</span></tt>).</p>
<p><tt class="docutils literal"><span class="pre">introspectables</span></tt> is a sequence of <a class="reference internal" href="../glossary.html#term-introspectable"><em class="xref std std-term">introspectable</em></a> objects
(or the empty sequence if no introspectable objects are associated
with this action).  If this configurator's <tt class="docutils literal"><span class="pre">introspection</span></tt>
attribute is <tt class="docutils literal"><span class="pre">False</span></tt>, these introspectables will be ignored.</p>
<p><tt class="docutils literal"><span class="pre">extra</span></tt> provides a facility for inserting extra keys and values
into an action dictionary.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.add_directive"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.add_directive"></a>
<tt class="descname">add_directive</tt><big>(</big><em>name</em>, <em>directive</em>, <em>action_wrap=True</em><big>)</big><a class="reference internal" href="../_modules/pyramid/config.html#Configurator.add_directive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.config.Configurator.add_directive" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a directive method to the configurator.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method is typically only used by <span>Pyramid</span>
framework extension authors, not by <span>Pyramid</span> application
developers.</p>
</div>
<p>Framework extenders can add directive methods to a configurator by
instructing their users to call <tt class="docutils literal"><span class="pre">config.add_directive('somename',</span>
<span class="pre">'some.callable')</span></tt>.  This will make <tt class="docutils literal"><span class="pre">some.callable</span></tt> accessible as
<tt class="docutils literal"><span class="pre">config.somename</span></tt>.  <tt class="docutils literal"><span class="pre">some.callable</span></tt> should be a function which
accepts <tt class="docutils literal"><span class="pre">config</span></tt> as a first argument, and arbitrary positional and
keyword arguments following.  It should use config.action as
necessary to perform actions.  Directive methods can then be invoked
like 'built-in' directives such as <tt class="docutils literal"><span class="pre">add_view</span></tt>, <tt class="docutils literal"><span class="pre">add_route</span></tt>, etc.</p>
<p>The <tt class="docutils literal"><span class="pre">action_wrap</span></tt> argument should be <tt class="docutils literal"><span class="pre">True</span></tt> for directives which
perform <tt class="docutils literal"><span class="pre">config.action</span></tt> with potentially conflicting
discriminators.  <tt class="docutils literal"><span class="pre">action_wrap</span></tt> will cause the directive to be
wrapped in a decorator which provides more accurate conflict
cause information.</p>
<p><tt class="docutils literal"><span class="pre">add_directive</span></tt> does not participate in conflict detection, and
later calls to <tt class="docutils literal"><span class="pre">add_directive</span></tt> will override earlier calls.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.with_package"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.with_package"></a>
<tt class="descname">with_package</tt><big>(</big><em>package</em><big>)</big><a class="reference internal" href="../_modules/pyramid/config.html#Configurator.with_package"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.config.Configurator.with_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Configurator instance with the same registry
as this configurator. <tt class="docutils literal"><span class="pre">package</span></tt> may be an actual Python package
object or a <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> representing a package.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.derive_view"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.derive_view"></a>
<tt class="descname">derive_view</tt><big>(</big><em>view</em>, <em>attr=None</em>, <em>renderer=None</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.derive_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <a class="reference internal" href="../glossary.html#term-view-callable"><em class="xref std std-term">view callable</em></a> using the function, instance,
or class (or <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> referring to the same)
provided as <tt class="docutils literal"><span class="pre">view</span></tt> object.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method is typically only used by <span>Pyramid</span> framework
extension authors, not by <span>Pyramid</span> application developers.</p>
</div>
<p>This is API is useful to framework extenders who create
pluggable systems which need to register 'proxy' view
callables for functions, instances, or classes which meet the
requirements of being a <span>Pyramid</span> view callable.  For
example, a <tt class="docutils literal"><span class="pre">some_other_framework</span></tt> function in another
framework may want to allow a user to supply a view callable,
but he may want to wrap the view callable in his own before
registering the wrapper as a <span>Pyramid</span> view callable.
Because a <span>Pyramid</span> view callable can be any of a
number of valid objects, the framework extender will not know
how to call the user-supplied object.  Running it through
<tt class="docutils literal"><span class="pre">derive_view</span></tt> normalizes it to a callable which accepts two
arguments: <tt class="docutils literal"><span class="pre">context</span></tt> and <tt class="docutils literal"><span class="pre">request</span></tt>.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">some_other_framework</span><span class="p">(</span><span class="n">user_supplied_view</span><span class="p">):</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">(</span><span class="n">reg</span><span class="p">)</span>
    <span class="n">proxy_view</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">derive_view</span><span class="p">(</span><span class="n">user_supplied_view</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">my_wrapper</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="n">do_something_that_mutates</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">proxy_view</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span>
    <span class="n">config</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="n">my_wrapper</span><span class="p">)</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">view</span></tt> object provided should be one of the following:</p>
<ul class="simple">
<li>A function or another non-class callable object that accepts
a <a class="reference internal" href="../glossary.html#term-request"><em class="xref std std-term">request</em></a> as a single positional argument and which
returns a <a class="reference internal" href="../glossary.html#term-response"><em class="xref std std-term">response</em></a> object.</li>
<li>A function or other non-class callable object that accepts
two positional arguments, <tt class="docutils literal"><span class="pre">context,</span> <span class="pre">request</span></tt> and which
returns a <a class="reference internal" href="../glossary.html#term-response"><em class="xref std std-term">response</em></a> object.</li>
<li>A class which accepts a single positional argument in its
constructor named <tt class="docutils literal"><span class="pre">request</span></tt>, and which has a <tt class="docutils literal"><span class="pre">__call__</span></tt>
method that accepts no arguments that returns a
<a class="reference internal" href="../glossary.html#term-response"><em class="xref std std-term">response</em></a> object.</li>
<li>A class which accepts two positional arguments named
<tt class="docutils literal"><span class="pre">context,</span> <span class="pre">request</span></tt>, and which has a <tt class="docutils literal"><span class="pre">__call__</span></tt> method
that accepts no arguments that returns a <a class="reference internal" href="../glossary.html#term-response"><em class="xref std std-term">response</em></a>
object.</li>
<li>A <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> which refers to any of the
kinds of objects above.</li>
</ul>
<p>This API returns a callable which accepts the arguments
<tt class="docutils literal"><span class="pre">context,</span> <span class="pre">request</span></tt> and which returns the result of calling
the provided <tt class="docutils literal"><span class="pre">view</span></tt> object.</p>
<p>The <tt class="docutils literal"><span class="pre">attr</span></tt> keyword argument is most useful when the view
object is a class.  It names the method that should be used as
the callable.  If <tt class="docutils literal"><span class="pre">attr</span></tt> is not provided, the attribute
effectively defaults to <tt class="docutils literal"><span class="pre">__call__</span></tt>.  See
<a class="reference internal" href="../narr/views.html#class-as-view"><em>Defining a View Callable as a Class</em></a> for more information.</p>
<p>The <tt class="docutils literal"><span class="pre">renderer</span></tt> keyword argument should be a renderer
name. If supplied, it will cause the returned callable to use
a <a class="reference internal" href="../glossary.html#term-renderer"><em class="xref std std-term">renderer</em></a> to convert the user-supplied view result to
a <a class="reference internal" href="../glossary.html#term-response"><em class="xref std std-term">response</em></a> object.  If a <tt class="docutils literal"><span class="pre">renderer</span></tt> argument is not
supplied, the user-supplied view must itself return a
<a class="reference internal" href="../glossary.html#term-response"><em class="xref std std-term">response</em></a> object.</p>
</dd></dl>
</div></blockquote>
<p><span class="methodcategory">Utility Methods</span></p>
<blockquote>
<div><dl class="method">
<dt id="pyramid.config.Configurator.absolute_asset_spec"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.absolute_asset_spec"></a>
<tt class="descname">absolute_asset_spec</tt><big>(</big><em>relative_spec</em><big>)</big><a class="reference internal" href="../_modules/pyramid/config.html#Configurator.absolute_asset_spec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.config.Configurator.absolute_asset_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolve the potentially relative <a class="reference internal" href="../glossary.html#term-asset-specification"><em class="xref std std-term">asset
specification</em></a> string passed as <tt class="docutils literal"><span class="pre">relative_spec</span></tt> into an
absolute asset specification string and return the string.
Use the <tt class="docutils literal"><span class="pre">package</span></tt> of this configurator as the package to
which the asset specification will be considered relative
when generating an absolute asset specification.  If the
provided <tt class="docutils literal"><span class="pre">relative_spec</span></tt> argument is already absolute, or if
the <tt class="docutils literal"><span class="pre">relative_spec</span></tt> is not a string, it is simply returned.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.maybe_dotted"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.maybe_dotted"></a>
<tt class="descname">maybe_dotted</tt><big>(</big><em>dotted</em><big>)</big><a class="reference internal" href="../_modules/pyramid/config.html#Configurator.maybe_dotted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.config.Configurator.maybe_dotted" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolve the <a class="reference internal" href="../glossary.html#term-dotted-python-name"><em class="xref std std-term">dotted Python name</em></a> <tt class="docutils literal"><span class="pre">dotted</span></tt> to a
global Python object.  If <tt class="docutils literal"><span class="pre">dotted</span></tt> is not a string, return
it without attempting to do any name resolution.  If
<tt class="docutils literal"><span class="pre">dotted</span></tt> is a relative dotted name (e.g. <tt class="docutils literal"><span class="pre">.foo.bar</span></tt>,
consider it relative to the <tt class="docutils literal"><span class="pre">package</span></tt> argument supplied to
this Configurator's constructor.</p>
</dd></dl>
</div></blockquote>
<p><span class="methodcategory">ZCA-Related APIs</span></p>
<blockquote>
<div><dl class="method">
<dt id="pyramid.config.Configurator.hook_zca"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.hook_zca"></a>
<tt class="descname">hook_zca</tt><big>(</big><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.hook_zca" title="Permalink to this definition">¶</a></dt>
<dd><p>Call <tt class="xref py py-func docutils literal"><span class="pre">zope.component.getSiteManager.sethook()</span></tt> with the
argument <a class="reference internal" href="threadlocal.html#pyramid.threadlocal.get_current_registry" title="pyramid.threadlocal.get_current_registry"><tt class="xref py py-data docutils literal"><span class="pre">pyramid.threadlocal.get_current_registry</span></tt></a>, causing
the <a class="reference internal" href="../glossary.html#term-zope-component-architecture"><em class="xref std std-term">Zope Component Architecture</em></a> 'global' APIs such as
<a class="reference external" href="http://docs.zope.org/zope.component/api/sitemanager.html#zope.component.getSiteManager" title="(in zope.configuration v4.0)"><tt class="xref py py-func docutils literal"><span class="pre">zope.component.getSiteManager()</span></tt></a>,
<a class="reference external" href="http://docs.zope.org/zope.component/api/adapter.html#zope.component.getAdapter" title="(in zope.configuration v4.0)"><tt class="xref py py-func docutils literal"><span class="pre">zope.component.getAdapter()</span></tt></a> and others to use the
<span>Pyramid</span> <a class="reference internal" href="../glossary.html#term-application-registry"><em class="xref std std-term">application registry</em></a> rather than the Zope
'global' registry.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.unhook_zca"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.unhook_zca"></a>
<tt class="descname">unhook_zca</tt><big>(</big><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.unhook_zca" title="Permalink to this definition">¶</a></dt>
<dd><p>Call <tt class="xref py py-func docutils literal"><span class="pre">zope.component.getSiteManager.reset()</span></tt> to undo the
action of <a class="reference internal" href="#pyramid.config.Configurator.hook_zca" title="pyramid.config.Configurator.hook_zca"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.hook_zca()</span></tt></a>.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.setup_registry"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.setup_registry"></a>
<tt class="descname">setup_registry</tt><big>(</big><em>settings=None</em>, <em>root_factory=None</em>, <em>authentication_policy=None</em>, <em>authorization_policy=None</em>, <em>renderers=None</em>, <em>debug_logger=None</em>, <em>locale_negotiator=None</em>, <em>request_factory=None</em>, <em>default_permission=None</em>, <em>session_factory=None</em>, <em>default_view_mapper=None</em>, <em>exceptionresponse_view=&lt;function default_exceptionresponse_view at 0x106d51a28&gt;</em><big>)</big><a class="reference internal" href="../_modules/pyramid/config.html#Configurator.setup_registry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.config.Configurator.setup_registry" title="Permalink to this definition">¶</a></dt>
<dd><p>When you pass a non-<tt class="docutils literal"><span class="pre">None</span></tt> <tt class="docutils literal"><span class="pre">registry</span></tt> argument to the
<a class="reference internal" href="../glossary.html#term-configurator"><em class="xref std std-term">Configurator</em></a> constructor, no initial setup is performed
against the registry.  This is because the registry you pass in may
have already been initialized for use under <span>Pyramid</span> via a
different configurator.  However, in some circumstances (such as when
you want to use a global registry instead of a registry created as a
result of the Configurator constructor), or when you want to reset
the initial setup of a registry, you <em>do</em> want to explicitly
initialize the registry associated with a Configurator for use under
<span>Pyramid</span>.  Use <tt class="docutils literal"><span class="pre">setup_registry</span></tt> to do this initialization.</p>
<p><tt class="docutils literal"><span class="pre">setup_registry</span></tt> configures settings, a root factory, security
policies, renderers, a debug logger, a locale negotiator, and various
other settings using the configurator's current registry, as per the
descriptions in the Configurator constructor.</p>
</dd></dl>
</div></blockquote>
<p><span class="methodcategory">Testing Helper APIs</span></p>
<blockquote>
<div><dl class="method">
<dt id="pyramid.config.Configurator.testing_add_renderer"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.testing_add_renderer"></a>
<tt class="descname">testing_add_renderer</tt><big>(</big><em>path</em>, <em>renderer=None</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.testing_add_renderer" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit/integration testing helper: register a renderer at
<tt class="docutils literal"><span class="pre">path</span></tt> (usually a relative filename ala <tt class="docutils literal"><span class="pre">templates/foo.pt</span></tt>
or an asset specification) and return the renderer object.
If the <tt class="docutils literal"><span class="pre">renderer</span></tt> argument is None, a 'dummy' renderer will
be used.  This function is useful when testing code that calls
the <a class="reference internal" href="renderers.html#pyramid.renderers.render" title="pyramid.renderers.render"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.renderers.render()</span></tt></a> function or
<a class="reference internal" href="renderers.html#pyramid.renderers.render_to_response" title="pyramid.renderers.render_to_response"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.renderers.render_to_response()</span></tt></a> function or
any other <tt class="docutils literal"><span class="pre">render_*</span></tt> or <tt class="docutils literal"><span class="pre">get_*</span></tt> API of the
<a class="reference internal" href="renderers.html#module-pyramid.renderers" title="pyramid.renderers"><tt class="xref py py-mod docutils literal"><span class="pre">pyramid.renderers</span></tt></a> module.</p>
<p>Note that calling this method for with a <tt class="docutils literal"><span class="pre">path</span></tt> argument
representing a renderer factory type (e.g. for <tt class="docutils literal"><span class="pre">foo.pt</span></tt>
usually implies the <tt class="docutils literal"><span class="pre">chameleon_zpt</span></tt> renderer factory)
clobbers any existing renderer factory registered for that
type.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method is also available under the alias
<tt class="docutils literal"><span class="pre">testing_add_template</span></tt> (an older name for it).</p>
</div>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.testing_add_subscriber"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.testing_add_subscriber"></a>
<tt class="descname">testing_add_subscriber</tt><big>(</big><em>event_iface=None</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.testing_add_subscriber" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit/integration testing helper: Registers a
<a class="reference internal" href="../glossary.html#term-subscriber"><em class="xref std std-term">subscriber</em></a> which listens for events of the type
<tt class="docutils literal"><span class="pre">event_iface</span></tt>.  This method returns a list object which is
appended to by the subscriber whenever an event is captured.</p>
<p>When an event is dispatched that matches the value implied by
the <tt class="docutils literal"><span class="pre">event_iface</span></tt> argument, that event will be appended to
the list.  You can then compare the values in the list to
expected event notifications.  This method is useful when
testing code that wants to call
<a class="reference internal" href="registry.html#pyramid.registry.Registry.notify" title="pyramid.registry.Registry.notify"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.registry.Registry.notify()</span></tt></a>,
or <tt class="xref py py-func docutils literal"><span class="pre">zope.component.event.dispatch()</span></tt>.</p>
<p>The default value of <tt class="docutils literal"><span class="pre">event_iface</span></tt> (<tt class="docutils literal"><span class="pre">None</span></tt>) implies a
subscriber registered for <em>any</em> kind of event.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.testing_resources"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.testing_resources"></a>
<tt class="descname">testing_resources</tt><big>(</big><em>resources</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.testing_resources" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit/integration testing helper: registers a dictionary of
<a class="reference internal" href="../glossary.html#term-resource"><em class="xref std std-term">resource</em></a> objects that can be resolved via the
<a class="reference internal" href="traversal.html#pyramid.traversal.find_resource" title="pyramid.traversal.find_resource"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.traversal.find_resource()</span></tt></a> API.</p>
<p>The <a class="reference internal" href="traversal.html#pyramid.traversal.find_resource" title="pyramid.traversal.find_resource"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.traversal.find_resource()</span></tt></a> API is called with
a path as one of its arguments.  If the dictionary you
register when calling this method contains that path as a
string key (e.g. <tt class="docutils literal"><span class="pre">/foo/bar</span></tt> or <tt class="docutils literal"><span class="pre">foo/bar</span></tt>), the
corresponding value will be returned to <tt class="docutils literal"><span class="pre">find_resource</span></tt> (and
thus to your code) when
<a class="reference internal" href="traversal.html#pyramid.traversal.find_resource" title="pyramid.traversal.find_resource"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.traversal.find_resource()</span></tt></a> is called with an
equivalent path string or tuple.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.config.Configurator.testing_securitypolicy"><a name="//apple_ref/cpp/clm/pyramid.config.Configurator.testing_securitypolicy"></a>
<tt class="descname">testing_securitypolicy</tt><big>(</big><em>userid=None</em>, <em>groupids=()</em>, <em>permissive=True</em>, <em>remember_result=None</em>, <em>forget_result=None</em><big>)</big><a class="headerlink" href="#pyramid.config.Configurator.testing_securitypolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit/integration testing helper: Registers a pair of faux
<span>Pyramid</span> security policies: a <a class="reference internal" href="../glossary.html#term-authentication-policy"><em class="xref std std-term">authentication
policy</em></a> and a <a class="reference internal" href="../glossary.html#term-authorization-policy"><em class="xref std std-term">authorization policy</em></a>.</p>
<p>The behavior of the registered <a class="reference internal" href="../glossary.html#term-authorization-policy"><em class="xref std std-term">authorization policy</em></a>
depends on the <tt class="docutils literal"><span class="pre">permissive</span></tt> argument.  If <tt class="docutils literal"><span class="pre">permissive</span></tt> is
true, a permissive <a class="reference internal" href="../glossary.html#term-authorization-policy"><em class="xref std std-term">authorization policy</em></a> is registered;
this policy allows all access.  If <tt class="docutils literal"><span class="pre">permissive</span></tt> is false, a
nonpermissive <a class="reference internal" href="../glossary.html#term-authorization-policy"><em class="xref std std-term">authorization policy</em></a> is registered; this
policy denies all access.</p>
<p><tt class="docutils literal"><span class="pre">remember_result</span></tt>, if provided, should be the result returned by
the <tt class="docutils literal"><span class="pre">remember</span></tt> method of the faux authentication policy.  If it is
not provided (or it is provided, and is <tt class="docutils literal"><span class="pre">None</span></tt>), the default value
<tt class="docutils literal"><span class="pre">[]</span></tt> (the empty list) will be returned by <tt class="docutils literal"><span class="pre">remember</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">forget_result</span></tt>, if provided, should be the result returned by
the <tt class="docutils literal"><span class="pre">forget</span></tt> method of the faux authentication policy.  If it is
not provided (or it is provided, and is <tt class="docutils literal"><span class="pre">None</span></tt>), the default value
<tt class="docutils literal"><span class="pre">[]</span></tt> (the empty list) will be returned by <tt class="docutils literal"><span class="pre">forget</span></tt>.</p>
<p>The behavior of the registered <a class="reference internal" href="../glossary.html#term-authentication-policy"><em class="xref std std-term">authentication policy</em></a>
depends on the values provided for the <tt class="docutils literal"><span class="pre">userid</span></tt> and
<tt class="docutils literal"><span class="pre">groupids</span></tt> argument.  The authentication policy will return
the userid identifier implied by the <tt class="docutils literal"><span class="pre">userid</span></tt> argument and
the group ids implied by the <tt class="docutils literal"><span class="pre">groupids</span></tt> argument when the
<a class="reference internal" href="request.html#pyramid.request.Request.authenticated_userid" title="pyramid.request.Request.authenticated_userid"><tt class="xref py py-attr docutils literal"><span class="pre">pyramid.request.Request.authenticated_userid</span></tt></a> or
<a class="reference internal" href="request.html#pyramid.request.Request.effective_principals" title="pyramid.request.Request.effective_principals"><tt class="xref py py-attr docutils literal"><span class="pre">pyramid.request.Request.effective_principals</span></tt></a> APIs are
used.</p>
<p>This function is most useful when testing code that uses
the APIs named <a class="reference internal" href="request.html#pyramid.request.Request.has_permission" title="pyramid.request.Request.has_permission"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.has_permission()</span></tt></a>,
<a class="reference internal" href="request.html#pyramid.request.Request.authenticated_userid" title="pyramid.request.Request.authenticated_userid"><tt class="xref py py-attr docutils literal"><span class="pre">pyramid.request.Request.authenticated_userid</span></tt></a>,
<a class="reference internal" href="request.html#pyramid.request.Request.effective_principals" title="pyramid.request.Request.effective_principals"><tt class="xref py py-attr docutils literal"><span class="pre">pyramid.request.Request.effective_principals</span></tt></a>, and
<a class="reference internal" href="security.html#pyramid.security.principals_allowed_by_permission" title="pyramid.security.principals_allowed_by_permission"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.security.principals_allowed_by_permission()</span></tt></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.4: </span>The <tt class="docutils literal"><span class="pre">remember_result</span></tt> argument.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.4: </span>The <tt class="docutils literal"><span class="pre">forget_result</span></tt> argument.</p>
</div>
</dd></dl>
</div></blockquote>
<p><span class="methodcategory">Attributes</span></p>
<blockquote>
<div><dl class="attribute">
<dt id="pyramid.config.Configurator.introspectable"><a name="//apple_ref/cpp/Attribute/pyramid.config.Configurator.introspectable"></a>
<tt class="descname">introspectable</tt><a class="headerlink" href="#pyramid.config.Configurator.introspectable" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut attribute which points to the
<a class="reference internal" href="registry.html#pyramid.registry.Introspectable" title="pyramid.registry.Introspectable"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.registry.Introspectable</span></tt></a> class (used during
directives to provide introspection to actions).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3.</span></p>
</div>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.config.Configurator.introspector"><a name="//apple_ref/cpp/Attribute/pyramid.config.Configurator.introspector"></a>
<tt class="descname">introspector</tt><a class="headerlink" href="#pyramid.config.Configurator.introspector" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="../glossary.html#term-introspector"><em class="xref std std-term">introspector</em></a> related to this configuration.  It is an
instance implementing the <a class="reference internal" href="interfaces.html#pyramid.interfaces.IIntrospector" title="pyramid.interfaces.IIntrospector"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.interfaces.IIntrospector</span></tt></a>
interface.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3.</span></p>
</div>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.config.Configurator.registry"><a name="//apple_ref/cpp/Attribute/pyramid.config.Configurator.registry"></a>
<tt class="descname">registry</tt><a class="headerlink" href="#pyramid.config.Configurator.registry" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="../glossary.html#term-application-registry"><em class="xref std std-term">application registry</em></a> which holds the configuration
associated with this configurator.</p>
</dd></dl>
</div></blockquote>
</div></blockquote>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.config.global_registries"><a name="//apple_ref/cpp/clconst/pyramid.config.global_registries"></a>
<tt class="descname">global_registries</tt><a class="headerlink" href="#pyramid.config.global_registries" title="Permalink to this definition">¶</a></dt>
<dd><p>The set of registries that have been created for <span>Pyramid</span>
applications, one for each call to
<a class="reference internal" href="#pyramid.config.Configurator.make_wsgi_app" title="pyramid.config.Configurator.make_wsgi_app"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.make_wsgi_app()</span></tt></a> in the current
process. The object itself supports iteration and has a <tt class="docutils literal"><span class="pre">last</span></tt> property
containing the last registry loaded.</p>
<p>The registries contained in this object are stored as weakrefs, thus they
will only exist for the lifetime of the actual applications for which they
are being used.</p>
</dd></dl>
<dl class="class">
<dt id="pyramid.config.not_"><a name="//apple_ref/cpp/cl/pyramid.config.not_"></a>
<em class="property">class </em><tt class="descname">not_</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#pyramid.config.not_" title="Permalink to this definition">¶</a></dt>
<dd><p>You can invert the meaning of any predicate value by wrapping it in a call
to <a class="reference internal" href="#pyramid.config.not_" title="pyramid.config.not_"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.not_</span></tt></a>.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyramid.config</span> <span class="kn">import</span> <span class="n">not_</span>

<span class="n">config</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span>
    <span class="s">'mypackage.views.my_view'</span><span class="p">,</span>
    <span class="n">route_name</span><span class="o">=</span><span class="s">'ok'</span><span class="p">,</span> 
    <span class="n">request_method</span><span class="o">=</span><span class="n">not_</span><span class="p">(</span><span class="s">'POST'</span><span class="p">)</span>
    <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>The above example will ensure that the view is called if the request method
is <em>not</em> <tt class="docutils literal"><span class="pre">POST</span></tt>, at least if no other view is more specific.</p>
<p>This technique of wrapping a predicate value in <tt class="docutils literal"><span class="pre">not_</span></tt> can be used
anywhere predicate values are accepted:</p>
<ul class="simple">
<li><a class="reference internal" href="#pyramid.config.Configurator.add_view" title="pyramid.config.Configurator.add_view"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_view()</span></tt></a></li>
<li><a class="reference internal" href="#pyramid.config.Configurator.add_route" title="pyramid.config.Configurator.add_route"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_route()</span></tt></a></li>
<li><a class="reference internal" href="#pyramid.config.Configurator.add_subscriber" title="pyramid.config.Configurator.add_subscriber"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_subscriber()</span></tt></a></li>
<li><a class="reference internal" href="view.html#pyramid.view.view_config" title="pyramid.view.view_config"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.view.view_config()</span></tt></a></li>
<li><a class="reference internal" href="events.html#pyramid.events.subscriber" title="pyramid.events.subscriber"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.events.subscriber()</span></tt></a></li>
</ul>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.5.</span></p>
</div>
</dd></dl>
</div>
</div>
</div>
</div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<h4>Previous topic</h4>
<p class="topless"><a href="compat.html" title="previous chapter"><tt class="docutils literal"><span class="pre">pyramid.compat</span></tt></a></p>
<h4>Next topic</h4>
<p class="topless"><a href="decorator.html" title="next chapter"><tt class="docutils literal"><span class="pre">pyramid.decorator</span></tt></a></p>
<div id="searchbox" style="display: none">
<h3>Quick search</h3>
<form action="../search.html" class="search" method="get">
<input name="q" type="text"/>
<input type="submit" value="Go"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
<p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="decorator.html" title="pyramid.decorator">next</a> |</li>
<li class="right">
<a href="compat.html" title="pyramid.compat">previous</a> |</li>
<li><a href="../index.html">The Pyramid Web Framework v1.5</a> »</li>
</ul>
</div>
<div class="footer">
        © <a href="../copyright.html">Copyright</a> 2008-2014, Agendaless Consulting.
      Last updated on Nov 09, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
</body></html>