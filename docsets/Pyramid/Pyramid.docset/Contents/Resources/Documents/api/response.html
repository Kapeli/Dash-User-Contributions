<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><title>pyramid.response — The Pyramid Web Framework v1.5</title><link href="../_static/pylons.css" rel="stylesheet" type="text/css"/><link href="../_static/pygments.css" rel="stylesheet" type="text/css"/><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script><script src="../_static/jquery.js" type="text/javascript"></script><script src="../_static/underscore.js" type="text/javascript"></script><script src="../_static/doctools.js" type="text/javascript"></script><link href="../copyright.html" rel="copyright" title="Copyright"/><link href="../index.html" rel="top" title="The Pyramid Web Framework v1.5"/><link href="scaffolds.html" rel="next" title="pyramid.scaffolds"/><link href="request.html" rel="prev" title="pyramid.request"/><link charset="utf-8" href="http://static.pylonsproject.org/fonts/nobile/stylesheet.css" media="screen" rel="stylesheet" type="text/css"/><link charset="utf-8" href="http://static.pylonsproject.org/fonts/neuton/stylesheet.css" media="screen" rel="stylesheet" type="text/css"/><!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]--><link href="../_static/pyramid.ico" rel="shortcut icon"/></head><body>
<div class="header-small">
<div class="logo-small">
<a href="../index.html">
<img alt="Logo" class="logo" src="../_static/pyramid-small.png"/>
</a>
</div>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="scaffolds.html" title="pyramid.scaffolds">next</a> |</li>
<li class="right">
<a accesskey="P" href="request.html" title="pyramid.request">previous</a> |</li>
<li><a href="../index.html">The Pyramid Web Framework v1.5</a> »</li>
</ul>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body">
<div class="section" id="module-pyramid.response">
<span id="pyramid-response"></span><span id="response-module"></span><h1><a name="//apple_ref/cpp/Module/pyramid.response"></a><a class="reference internal" href="#module-pyramid.response" title="pyramid.response"><tt class="xref py py-mod docutils literal"><span class="pre">pyramid.response</span></tt></a><a class="headerlink" href="#module-pyramid.response" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pyramid.response.Response"><a name="//apple_ref/cpp/cl/pyramid.response.Response"></a>
<em class="property">class </em><tt class="descname">Response</tt><big>(</big><em>body=None</em>, <em>status=None</em>, <em>headerlist=None</em>, <em>app_iter=None</em>, <em>content_type=None</em>, <em>conditional_response=None</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/pyramid/response.html#Response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.response.Response" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="pyramid.response.Response.accept_ranges"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.accept_ranges"></a>
<tt class="descname">accept_ranges</tt><a class="headerlink" href="#pyramid.response.Response.accept_ranges" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Accept-Ranges</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.5">HTTP spec section 14.5</a>).</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.age"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.age"></a>
<tt class="descname">age</tt><a class="headerlink" href="#pyramid.response.Response.age" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Age</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.6">HTTP spec section 14.6</a>).  Converts it using int.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.allow"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.allow"></a>
<tt class="descname">allow</tt><a class="headerlink" href="#pyramid.response.Response.allow" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Allow</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.7">HTTP spec section 14.7</a>).  Converts it using list.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.app_iter"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.app_iter"></a>
<tt class="descname">app_iter</tt><a class="headerlink" href="#pyramid.response.Response.app_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the app_iter of the response.</p>
<p>If body was set, this will create an app_iter from that body
(a single-item list)</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.response.Response.app_iter_range"><a name="//apple_ref/cpp/clm/pyramid.response.Response.app_iter_range"></a>
<tt class="descname">app_iter_range</tt><big>(</big><em>start</em>, <em>stop</em><big>)</big><a class="headerlink" href="#pyramid.response.Response.app_iter_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new app_iter built from the response app_iter, that
serves up only the given <tt class="docutils literal"><span class="pre">start:stop</span></tt> range.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.body"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.body"></a>
<tt class="descname">body</tt><a class="headerlink" href="#pyramid.response.Response.body" title="Permalink to this definition">¶</a></dt>
<dd><p>The body of the response, as a <tt class="docutils literal"><span class="pre">str</span></tt>.  This will read in the
entire app_iter if necessary.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.body_file"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.body_file"></a>
<tt class="descname">body_file</tt><a class="headerlink" href="#pyramid.response.Response.body_file" title="Permalink to this definition">¶</a></dt>
<dd><p>A file-like object that can be used to write to the
body.  If you passed in a list app_iter, that app_iter will be
modified by writes.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.cache_control"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.cache_control"></a>
<tt class="descname">cache_control</tt><a class="headerlink" href="#pyramid.response.Response.cache_control" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set/modify the Cache-Control header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9">HTTP spec section 14.9</a>)</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.charset"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.charset"></a>
<tt class="descname">charset</tt><a class="headerlink" href="#pyramid.response.Response.charset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set the charset (in the Content-Type)</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.response.Response.conditional_response_app"><a name="//apple_ref/cpp/clm/pyramid.response.Response.conditional_response_app"></a>
<tt class="descname">conditional_response_app</tt><big>(</big><em>environ</em>, <em>start_response</em><big>)</big><a class="headerlink" href="#pyramid.response.Response.conditional_response_app" title="Permalink to this definition">¶</a></dt>
<dd><p>Like the normal __call__ interface, but checks conditional headers:</p>
<ul class="simple">
<li>If-Modified-Since   (304 Not Modified; only on GET, HEAD)</li>
<li>If-None-Match       (304 Not Modified; only on GET, HEAD)</li>
<li>Range               (406 Partial Content; only on GET, HEAD)</li>
</ul>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.content_disposition"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.content_disposition"></a>
<tt class="descname">content_disposition</tt><a class="headerlink" href="#pyramid.response.Response.content_disposition" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Content-Disposition</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec19.html#sec19.5.1">HTTP spec section 19.5.1</a>).</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.content_encoding"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.content_encoding"></a>
<tt class="descname">content_encoding</tt><a class="headerlink" href="#pyramid.response.Response.content_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Content-Encoding</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.11">HTTP spec section 14.11</a>).</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.content_language"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.content_language"></a>
<tt class="descname">content_language</tt><a class="headerlink" href="#pyramid.response.Response.content_language" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Content-Language</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.12">HTTP spec section 14.12</a>).  Converts it using list.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.content_length"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.content_length"></a>
<tt class="descname">content_length</tt><a class="headerlink" href="#pyramid.response.Response.content_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Content-Length</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.17">HTTP spec section 14.17</a>).  Converts it using int.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.content_location"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.content_location"></a>
<tt class="descname">content_location</tt><a class="headerlink" href="#pyramid.response.Response.content_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Content-Location</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.14">HTTP spec section 14.14</a>).</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.content_md5"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.content_md5"></a>
<tt class="descname">content_md5</tt><a class="headerlink" href="#pyramid.response.Response.content_md5" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Content-MD5</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.14">HTTP spec section 14.14</a>).</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.content_range"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.content_range"></a>
<tt class="descname">content_range</tt><a class="headerlink" href="#pyramid.response.Response.content_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Content-Range</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.16">HTTP spec section 14.16</a>).  Converts it using ContentRange object.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.content_type"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.content_type"></a>
<tt class="descname">content_type</tt><a class="headerlink" href="#pyramid.response.Response.content_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set the Content-Type header (or None), <em>without</em> the
charset or any parameters.</p>
<p>If you include parameters (or <tt class="docutils literal"><span class="pre">;</span></tt> at all) when setting the
content_type, any existing parameters will be deleted;
otherwise they will be preserved.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.content_type_params"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.content_type_params"></a>
<tt class="descname">content_type_params</tt><a class="headerlink" href="#pyramid.response.Response.content_type_params" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary of all the parameters in the content type.</p>
<p>(This is not a view, set to change, modifications of the dict would not
be applied otherwise)</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.response.Response.copy"><a name="//apple_ref/cpp/clm/pyramid.response.Response.copy"></a>
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="headerlink" href="#pyramid.response.Response.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a copy of the response</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.date"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.date"></a>
<tt class="descname">date</tt><a class="headerlink" href="#pyramid.response.Response.date" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Date</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.18">HTTP spec section 14.18</a>).  Converts it using HTTP date.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.response.Response.delete_cookie"><a name="//apple_ref/cpp/clm/pyramid.response.Response.delete_cookie"></a>
<tt class="descname">delete_cookie</tt><big>(</big><em>key</em>, <em>path='/'</em>, <em>domain=None</em><big>)</big><a class="headerlink" href="#pyramid.response.Response.delete_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a cookie from the client.  Note that path and domain must match
how the cookie was originally set.</p>
<p>This sets the cookie to the empty string, and max_age=0 so
that it should expire immediately.</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.response.Response.encode_content"><a name="//apple_ref/cpp/clm/pyramid.response.Response.encode_content"></a>
<tt class="descname">encode_content</tt><big>(</big><em>encoding='gzip'</em>, <em>lazy=False</em><big>)</big><a class="headerlink" href="#pyramid.response.Response.encode_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the content with the given encoding (only gzip and
identity are supported).</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.etag"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.etag"></a>
<tt class="descname">etag</tt><a class="headerlink" href="#pyramid.response.Response.etag" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">ETag</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.19">HTTP spec section 14.19</a>).  Converts it using Entity tag.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.expires"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.expires"></a>
<tt class="descname">expires</tt><a class="headerlink" href="#pyramid.response.Response.expires" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Expires</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.21">HTTP spec section 14.21</a>).  Converts it using HTTP date.</p>
</dd></dl>
<dl class="classmethod">
<dt id="pyramid.response.Response.from_file">
<em class="property">classmethod </em><tt class="descname">from_file</tt><big>(</big><em>fp</em><big>)</big><a class="headerlink" href="#pyramid.response.Response.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a response from a file-like object (it must implement
<tt class="docutils literal"><span class="pre">.read(size)</span></tt> and <tt class="docutils literal"><span class="pre">.readline()</span></tt>).</p>
<p>It will read up to the end of the response, not the end of the
file.</p>
<p>This reads the response as represented by <tt class="docutils literal"><span class="pre">str(resp)</span></tt>; it
may not read every valid HTTP response properly.  Responses
must have a <tt class="docutils literal"><span class="pre">Content-Length</span></tt></p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.headerlist"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.headerlist"></a>
<tt class="descname">headerlist</tt><a class="headerlink" href="#pyramid.response.Response.headerlist" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of response headers</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.headers"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.headers"></a>
<tt class="descname">headers</tt><a class="headerlink" href="#pyramid.response.Response.headers" title="Permalink to this definition">¶</a></dt>
<dd><p>The headers in a dictionary-like object</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.json"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.json"></a>
<tt class="descname">json</tt><a class="headerlink" href="#pyramid.response.Response.json" title="Permalink to this definition">¶</a></dt>
<dd><p>Access the body of the response as JSON</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.json_body"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.json_body"></a>
<tt class="descname">json_body</tt><a class="headerlink" href="#pyramid.response.Response.json_body" title="Permalink to this definition">¶</a></dt>
<dd><p>Access the body of the response as JSON</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.last_modified"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.last_modified"></a>
<tt class="descname">last_modified</tt><a class="headerlink" href="#pyramid.response.Response.last_modified" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Last-Modified</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.29">HTTP spec section 14.29</a>).  Converts it using HTTP date.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.location"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.location"></a>
<tt class="descname">location</tt><a class="headerlink" href="#pyramid.response.Response.location" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Location</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.30">HTTP spec section 14.30</a>).</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.response.Response.md5_etag"><a name="//apple_ref/cpp/clm/pyramid.response.Response.md5_etag"></a>
<tt class="descname">md5_etag</tt><big>(</big><em>body=None</em>, <em>set_content_md5=False</em><big>)</big><a class="headerlink" href="#pyramid.response.Response.md5_etag" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an etag for the response object using an MD5 hash of
the body (the body parameter, or <tt class="docutils literal"><span class="pre">self.body</span></tt> if not given)</p>
<p>Sets <tt class="docutils literal"><span class="pre">self.etag</span></tt>
If <tt class="docutils literal"><span class="pre">set_content_md5</span></tt> is True sets <tt class="docutils literal"><span class="pre">self.content_md5</span></tt> as well</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.response.Response.merge_cookies"><a name="//apple_ref/cpp/clm/pyramid.response.Response.merge_cookies"></a>
<tt class="descname">merge_cookies</tt><big>(</big><em>resp</em><big>)</big><a class="headerlink" href="#pyramid.response.Response.merge_cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge the cookies that were set on this response with the
given <cite>resp</cite> object (which can be any WSGI application).</p>
<p>If the <cite>resp</cite> is a <tt class="xref py py-class docutils literal"><span class="pre">webob.Response</span></tt> object, then the
other object will be modified in-place.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.pragma"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.pragma"></a>
<tt class="descname">pragma</tt><a class="headerlink" href="#pyramid.response.Response.pragma" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Pragma</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.32">HTTP spec section 14.32</a>).</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.retry_after"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.retry_after"></a>
<tt class="descname">retry_after</tt><a class="headerlink" href="#pyramid.response.Response.retry_after" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Retry-After</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.37">HTTP spec section 14.37</a>).  Converts it using HTTP date or delta seconds.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.server"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.server"></a>
<tt class="descname">server</tt><a class="headerlink" href="#pyramid.response.Response.server" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Server</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.38">HTTP spec section 14.38</a>).</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.response.Response.set_cookie"><a name="//apple_ref/cpp/clm/pyramid.response.Response.set_cookie"></a>
<tt class="descname">set_cookie</tt><big>(</big><em>key</em>, <em>value=''</em>, <em>max_age=None</em>, <em>path='/'</em>, <em>domain=None</em>, <em>secure=False</em>, <em>httponly=False</em>, <em>comment=None</em>, <em>expires=None</em>, <em>overwrite=False</em><big>)</big><a class="headerlink" href="#pyramid.response.Response.set_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Set (add) a cookie for the response.</p>
<p>Arguments are:</p>
<p><tt class="docutils literal"><span class="pre">key</span></tt></p>
<blockquote>
<div>The cookie name.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">value</span></tt></p>
<blockquote>
<div>The cookie value, which should be a string or <tt class="docutils literal"><span class="pre">None</span></tt>.  If
<tt class="docutils literal"><span class="pre">value</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt>, it's equivalent to calling the
<a class="reference external" href="http://docs.webob.org/en/latest/modules/webob.html#webob.response.Response.unset_cookie" title="(in WebOb v1.4.1dev)"><tt class="xref py py-meth docutils literal"><span class="pre">webob.response.Response.unset_cookie()</span></tt></a> method for this
cookie key (it effectively deletes the cookie on the client).</div></blockquote>
<p><tt class="docutils literal"><span class="pre">max_age</span></tt></p>
<blockquote>
<div>An integer representing a number of seconds or <tt class="docutils literal"><span class="pre">None</span></tt>.  If this
value is an integer, it is used as the <tt class="docutils literal"><span class="pre">Max-Age</span></tt> of the
generated cookie.  If <tt class="docutils literal"><span class="pre">expires</span></tt> is not passed and this value is
an integer, the <tt class="docutils literal"><span class="pre">max_age</span></tt> value will also influence the
<tt class="docutils literal"><span class="pre">Expires</span></tt> value of the cookie (<tt class="docutils literal"><span class="pre">Expires</span></tt> will be set to now +
max_age).  If this value is <tt class="docutils literal"><span class="pre">None</span></tt>, the cookie will not have a
<tt class="docutils literal"><span class="pre">Max-Age</span></tt> value (unless <tt class="docutils literal"><span class="pre">expires</span></tt> is also sent).</div></blockquote>
<p><tt class="docutils literal"><span class="pre">path</span></tt></p>
<blockquote>
<div>A string representing the cookie <tt class="docutils literal"><span class="pre">Path</span></tt> value.  It defaults to
<tt class="docutils literal"><span class="pre">/</span></tt>.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">domain</span></tt></p>
<blockquote>
<div>A string representing the cookie <tt class="docutils literal"><span class="pre">Domain</span></tt>, or <tt class="docutils literal"><span class="pre">None</span></tt>.  If
domain is <tt class="docutils literal"><span class="pre">None</span></tt>, no <tt class="docutils literal"><span class="pre">Domain</span></tt> value will be sent in the
cookie.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">secure</span></tt></p>
<blockquote>
<div>A boolean.  If it's <tt class="docutils literal"><span class="pre">True</span></tt>, the <tt class="docutils literal"><span class="pre">secure</span></tt> flag will be sent in
the cookie, if it's <tt class="docutils literal"><span class="pre">False</span></tt>, the <tt class="docutils literal"><span class="pre">secure</span></tt> flag will not be
sent in the cookie.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">httponly</span></tt></p>
<blockquote>
<div>A boolean.  If it's <tt class="docutils literal"><span class="pre">True</span></tt>, the <tt class="docutils literal"><span class="pre">HttpOnly</span></tt> flag will be sent
in the cookie, if it's <tt class="docutils literal"><span class="pre">False</span></tt>, the <tt class="docutils literal"><span class="pre">HttpOnly</span></tt> flag will not
be sent in the cookie.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">comment</span></tt></p>
<blockquote>
<div>A string representing the cookie <tt class="docutils literal"><span class="pre">Comment</span></tt> value, or <tt class="docutils literal"><span class="pre">None</span></tt>.
If <tt class="docutils literal"><span class="pre">comment</span></tt> is <tt class="docutils literal"><span class="pre">None</span></tt>, no <tt class="docutils literal"><span class="pre">Comment</span></tt> value will be sent in
the cookie.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">expires</span></tt></p>
<blockquote>
<div>A <tt class="docutils literal"><span class="pre">datetime.timedelta</span></tt> object representing an amount of time or
the value <tt class="docutils literal"><span class="pre">None</span></tt>.  A non-<tt class="docutils literal"><span class="pre">None</span></tt> value is used to generate the
<tt class="docutils literal"><span class="pre">Expires</span></tt> value of the generated cookie.  If <tt class="docutils literal"><span class="pre">max_age</span></tt> is not
passed, but this value is not <tt class="docutils literal"><span class="pre">None</span></tt>, it will influence the
<tt class="docutils literal"><span class="pre">Max-Age</span></tt> header (<tt class="docutils literal"><span class="pre">Max-Age</span></tt> will be 'expires_value -
datetime.utcnow()').  If this value is <tt class="docutils literal"><span class="pre">None</span></tt>, the <tt class="docutils literal"><span class="pre">Expires</span></tt>
cookie value will be unset (unless <tt class="docutils literal"><span class="pre">max_age</span></tt> is also passed).</div></blockquote>
<p><tt class="docutils literal"><span class="pre">overwrite</span></tt></p>
<blockquote>
<div>If this key is <tt class="docutils literal"><span class="pre">True</span></tt>, before setting the cookie, unset any
existing cookie.</div></blockquote>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.status"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.status"></a>
<tt class="descname">status</tt><a class="headerlink" href="#pyramid.response.Response.status" title="Permalink to this definition">¶</a></dt>
<dd><p>The status string</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.status_code"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.status_code"></a>
<tt class="descname">status_code</tt><a class="headerlink" href="#pyramid.response.Response.status_code" title="Permalink to this definition">¶</a></dt>
<dd><p>The status as an integer</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.status_int"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.status_int"></a>
<tt class="descname">status_int</tt><a class="headerlink" href="#pyramid.response.Response.status_int" title="Permalink to this definition">¶</a></dt>
<dd><p>The status as an integer</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.text"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.text"></a>
<tt class="descname">text</tt><a class="headerlink" href="#pyramid.response.Response.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set the text value of the body (using the charset of the
Content-Type)</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.ubody"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.ubody"></a>
<tt class="descname">ubody</tt><a class="headerlink" href="#pyramid.response.Response.ubody" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated alias for .text</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.unicode_body"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.unicode_body"></a>
<tt class="descname">unicode_body</tt><a class="headerlink" href="#pyramid.response.Response.unicode_body" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated alias for .text</p>
</dd></dl>
<dl class="method">
<dt id="pyramid.response.Response.unset_cookie"><a name="//apple_ref/cpp/clm/pyramid.response.Response.unset_cookie"></a>
<tt class="descname">unset_cookie</tt><big>(</big><em>key</em>, <em>strict=True</em><big>)</big><a class="headerlink" href="#pyramid.response.Response.unset_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Unset a cookie with the given name (remove it from the
response).</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.vary"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.vary"></a>
<tt class="descname">vary</tt><a class="headerlink" href="#pyramid.response.Response.vary" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">Vary</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.44">HTTP spec section 14.44</a>).  Converts it using list.</p>
</dd></dl>
<dl class="attribute">
<dt id="pyramid.response.Response.www_authenticate"><a name="//apple_ref/cpp/Attribute/pyramid.response.Response.www_authenticate"></a>
<tt class="descname">www_authenticate</tt><a class="headerlink" href="#pyramid.response.Response.www_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets and sets the <tt class="docutils literal"><span class="pre">WWW-Authenticate</span></tt> header (<a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.47">HTTP spec section 14.47</a>).  Converts it using <tt class="docutils literal"><span class="pre">parse_auth</span></tt> and <tt class="docutils literal"><span class="pre">serialize_auth</span></tt>.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pyramid.response.FileResponse"><a name="//apple_ref/cpp/cl/pyramid.response.FileResponse"></a>
<em class="property">class </em><tt class="descname">FileResponse</tt><big>(</big><em>path</em>, <em>request=None</em>, <em>cache_max_age=None</em>, <em>content_type=None</em>, <em>content_encoding=None</em><big>)</big><a class="reference internal" href="../_modules/pyramid/response.html#FileResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.response.FileResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>A Response object that can be used to serve a static file from disk
simply.</p>
<p><tt class="docutils literal"><span class="pre">path</span></tt> is a file path on disk.</p>
<p><tt class="docutils literal"><span class="pre">request</span></tt> must be a Pyramid <a class="reference internal" href="../glossary.html#term-request"><em class="xref std std-term">request</em></a> object.  Note
that a request <em>must</em> be passed if the response is meant to attempt to
use the <tt class="docutils literal"><span class="pre">wsgi.file_wrapper</span></tt> feature of the web server that you're using
to serve your Pyramid application.</p>
<p><tt class="docutils literal"><span class="pre">cache_max_age</span></tt> is the number of seconds that should be used
to HTTP cache this response.</p>
<p><tt class="docutils literal"><span class="pre">content_type</span></tt> is the content_type of the response.</p>
<p><tt class="docutils literal"><span class="pre">content_encoding</span></tt> is the content_encoding of the response.
It's generally safe to leave this set to <tt class="docutils literal"><span class="pre">None</span></tt> if you're serving a
binary file.  This argument will be ignored if you also leave
<tt class="docutils literal"><span class="pre">content-type</span></tt> as <tt class="docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>
<dl class="class">
<dt id="pyramid.response.FileIter"><a name="//apple_ref/cpp/cl/pyramid.response.FileIter"></a>
<em class="property">class </em><tt class="descname">FileIter</tt><big>(</big><em>file</em>, <em>block_size=262144</em><big>)</big><a class="reference internal" href="../_modules/pyramid/response.html#FileIter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.response.FileIter" title="Permalink to this definition">¶</a></dt>
<dd><p>A fixed-block-size iterator for use as a WSGI app_iter.</p>
<p><tt class="docutils literal"><span class="pre">file</span></tt> is a Python file pointer (or at least an object with a <tt class="docutils literal"><span class="pre">read</span></tt>
method that takes a size hint).</p>
<p><tt class="docutils literal"><span class="pre">block_size</span></tt> is an optional block size for iteration.</p>
</dd></dl>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pyramid.response.response_adapter"><a name="//apple_ref/cpp/func/pyramid.response.response_adapter"></a>
<tt class="descname">response_adapter</tt><big>(</big><em>*types_or_ifaces</em><big>)</big><a class="reference internal" href="../_modules/pyramid/response.html#response_adapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.response.response_adapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator activated via a <a class="reference internal" href="../glossary.html#term-scan"><em class="xref std std-term">scan</em></a> which treats the function
being decorated as a <a class="reference internal" href="../glossary.html#term-response-adapter"><em class="xref std std-term">response adapter</em></a> for the set of types or
interfaces passed as <tt class="docutils literal"><span class="pre">*types_or_ifaces</span></tt> to the decorator constructor.</p>
<p>For example, if you scan the following response adapter:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyramid.response</span> <span class="kn">import</span> <span class="n">Response</span>
<span class="kn">from</span> <span class="nn">pyramid.response</span> <span class="kn">import</span> <span class="n">response_adapter</span>

<span class="nd">@response_adapter</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">myadapter</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p>You can then return an integer from your view callables, and it will be
converted into a response with the integer as the status code.</p>
<p>More than one type or interface can be passed as a constructor argument.
The decorated response adapter will be called for each type or interface.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">json</span>

<span class="kn">from</span> <span class="nn">pyramid.response</span> <span class="kn">import</span> <span class="n">Response</span>
<span class="kn">from</span> <span class="nn">pyramid.response</span> <span class="kn">import</span> <span class="n">response_adapter</span>

<span class="nd">@response_adapter</span><span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">myadapter</span><span class="p">(</span><span class="n">ob</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ob</span><span class="p">))</span>
</pre></div>
</div>
<p>This method will have no effect until a <a class="reference internal" href="../glossary.html#term-scan"><em class="xref std std-term">scan</em></a> is performed
agains the package or module which contains it, ala:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyramid.config</span> <span class="kn">import</span> <span class="n">Configurator</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="s">'somepackage_containing_adapters'</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>
</div>
</div>
</div>
</div>
</div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">pyramid.response</span></tt></a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>
<h4>Previous topic</h4>
<p class="topless"><a href="request.html" title="previous chapter"><tt class="docutils literal"><span class="pre">pyramid.request</span></tt></a></p>
<h4>Next topic</h4>
<p class="topless"><a href="scaffolds.html" title="next chapter"><tt class="docutils literal"><span class="pre">pyramid.scaffolds</span></tt></a></p>
<div id="searchbox" style="display: none">
<h3>Quick search</h3>
<form action="../search.html" class="search" method="get">
<input name="q" type="text"/>
<input type="submit" value="Go"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
<p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="scaffolds.html" title="pyramid.scaffolds">next</a> |</li>
<li class="right">
<a href="request.html" title="pyramid.request">previous</a> |</li>
<li><a href="../index.html">The Pyramid Web Framework v1.5</a> »</li>
</ul>
</div>
<div class="footer">
        © <a href="../copyright.html">Copyright</a> 2008-2014, Agendaless Consulting.
      Last updated on Nov 09, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
</body></html>