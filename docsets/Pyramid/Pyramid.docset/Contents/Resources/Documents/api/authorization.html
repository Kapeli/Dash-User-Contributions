<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><title>pyramid.authorization — The Pyramid Web Framework v1.5</title><link href="../_static/pylons.css" rel="stylesheet" type="text/css"/><link href="../_static/pygments.css" rel="stylesheet" type="text/css"/><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script><script src="../_static/jquery.js" type="text/javascript"></script><script src="../_static/underscore.js" type="text/javascript"></script><script src="../_static/doctools.js" type="text/javascript"></script><link href="../copyright.html" rel="copyright" title="Copyright"/><link href="../index.html" rel="top" title="The Pyramid Web Framework v1.5"/><link href="compat.html" rel="next" title="pyramid.compat"/><link href="authentication.html" rel="prev" title="pyramid.authentication"/><link charset="utf-8" href="http://static.pylonsproject.org/fonts/nobile/stylesheet.css" media="screen" rel="stylesheet" type="text/css"/><link charset="utf-8" href="http://static.pylonsproject.org/fonts/neuton/stylesheet.css" media="screen" rel="stylesheet" type="text/css"/><!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]--><link href="../_static/pyramid.ico" rel="shortcut icon"/></head><body>
<div class="header-small">
<div class="logo-small">
<a href="../index.html">
<img alt="Logo" class="logo" src="../_static/pyramid-small.png"/>
</a>
</div>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="compat.html" title="pyramid.compat">next</a> |</li>
<li class="right">
<a accesskey="P" href="authentication.html" title="pyramid.authentication">previous</a> |</li>
<li><a href="../index.html">The Pyramid Web Framework v1.5</a> »</li>
</ul>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body">
<div class="section" id="module-pyramid.authorization">
<span id="pyramid-authorization"></span><span id="authorization-module"></span><h1><a name="//apple_ref/cpp/Module/pyramid.authorization"></a><a class="reference internal" href="#module-pyramid.authorization" title="pyramid.authorization"><tt class="xref py py-mod docutils literal"><span class="pre">pyramid.authorization</span></tt></a><a class="headerlink" href="#module-pyramid.authorization" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pyramid.authorization.ACLAuthorizationPolicy"><a name="//apple_ref/cpp/cl/pyramid.authorization.ACLAuthorizationPolicy"></a>
<em class="property">class </em><tt class="descname">ACLAuthorizationPolicy</tt><a class="reference internal" href="../_modules/pyramid/authorization.html#ACLAuthorizationPolicy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyramid.authorization.ACLAuthorizationPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>An <a class="reference internal" href="../glossary.html#term-authorization-policy"><em class="xref std std-term">authorization policy</em></a> which consults an <a class="reference internal" href="../glossary.html#term-acl"><em class="xref std std-term">ACL</em></a>
object attached to a <a class="reference internal" href="../glossary.html#term-context"><em class="xref std std-term">context</em></a> to determine authorization
information about a <a class="reference internal" href="../glossary.html#term-principal"><em class="xref std std-term">principal</em></a> or multiple principals.
If the context is part of a <a class="reference internal" href="../glossary.html#term-lineage"><em class="xref std std-term">lineage</em></a>, the context's parents
are consulted for ACL information too.  The following is true
about this security policy.</p>
<ul>
<li><p class="first">When checking whether the 'current' user is permitted (via the
<tt class="docutils literal"><span class="pre">permits</span></tt> method), the security policy consults the
<tt class="docutils literal"><span class="pre">context</span></tt> for an ACL first.  If no ACL exists on the context,
or one does exist but the ACL does not explicitly allow or deny
access for any of the effective principals, consult the
context's parent ACL, and so on, until the lineage is exhausted
or we determine that the policy permits or denies.</p>
<p>During this processing, if any <a class="reference internal" href="security.html#pyramid.security.Deny" title="pyramid.security.Deny"><tt class="xref py py-data docutils literal"><span class="pre">pyramid.security.Deny</span></tt></a>
ACE is found matching any principal in <tt class="docutils literal"><span class="pre">principals</span></tt>, stop
processing by returning an
<a class="reference internal" href="security.html#pyramid.security.ACLDenied" title="pyramid.security.ACLDenied"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.security.ACLDenied</span></tt></a> instance (equals
<tt class="docutils literal"><span class="pre">False</span></tt>) immediately.  If any
<a class="reference internal" href="security.html#pyramid.security.Allow" title="pyramid.security.Allow"><tt class="xref py py-data docutils literal"><span class="pre">pyramid.security.Allow</span></tt></a> ACE is found matching any
principal, stop processing by returning an
<a class="reference internal" href="security.html#pyramid.security.ACLAllowed" title="pyramid.security.ACLAllowed"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.security.ACLAllowed</span></tt></a> instance (equals
<tt class="docutils literal"><span class="pre">True</span></tt>) immediately.  If we exhaust the context's
<a class="reference internal" href="../glossary.html#term-lineage"><em class="xref std std-term">lineage</em></a>, and no ACE has explicitly permitted or denied
access, return an instance of
<a class="reference internal" href="security.html#pyramid.security.ACLDenied" title="pyramid.security.ACLDenied"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.security.ACLDenied</span></tt></a> (equals <tt class="docutils literal"><span class="pre">False</span></tt>).</p>
</li>
<li><p class="first">When computing principals allowed by a permission via the
<a class="reference internal" href="security.html#pyramid.security.principals_allowed_by_permission" title="pyramid.security.principals_allowed_by_permission"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.security.principals_allowed_by_permission()</span></tt></a>
method, we compute the set of principals that are explicitly
granted the <tt class="docutils literal"><span class="pre">permission</span></tt> in the provided <tt class="docutils literal"><span class="pre">context</span></tt>.  We do
this by walking 'up' the object graph <em>from the root</em> to the
context.  During this walking process, if we find an explicit
<a class="reference internal" href="security.html#pyramid.security.Allow" title="pyramid.security.Allow"><tt class="xref py py-data docutils literal"><span class="pre">pyramid.security.Allow</span></tt></a> ACE for a principal that
matches the <tt class="docutils literal"><span class="pre">permission</span></tt>, the principal is included in the
allow list.  However, if later in the walking process that
principal is mentioned in any <a class="reference internal" href="security.html#pyramid.security.Deny" title="pyramid.security.Deny"><tt class="xref py py-data docutils literal"><span class="pre">pyramid.security.Deny</span></tt></a>
ACE for the permission, the principal is removed from the allow
list.  If a <a class="reference internal" href="security.html#pyramid.security.Deny" title="pyramid.security.Deny"><tt class="xref py py-data docutils literal"><span class="pre">pyramid.security.Deny</span></tt></a> to the principal
<a class="reference internal" href="security.html#pyramid.security.Everyone" title="pyramid.security.Everyone"><tt class="xref py py-data docutils literal"><span class="pre">pyramid.security.Everyone</span></tt></a> is encountered during the
walking process that matches the <tt class="docutils literal"><span class="pre">permission</span></tt>, the allow list
is cleared for all principals encountered in previous ACLs.  The
walking process ends after we've processed the any ACL directly
attached to <tt class="docutils literal"><span class="pre">context</span></tt>; a set of principals is returned.</p>
</li>
</ul>
<p>Objects of this class implement the
<a class="reference internal" href="interfaces.html#pyramid.interfaces.IAuthorizationPolicy" title="pyramid.interfaces.IAuthorizationPolicy"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.interfaces.IAuthorizationPolicy</span></tt></a> interface.</p>
</dd></dl>
</div>
</div>
</div>
</div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<h4>Previous topic</h4>
<p class="topless"><a href="authentication.html" title="previous chapter"><tt class="docutils literal"><span class="pre">pyramid.authentication</span></tt></a></p>
<h4>Next topic</h4>
<p class="topless"><a href="compat.html" title="next chapter"><tt class="docutils literal"><span class="pre">pyramid.compat</span></tt></a></p>
<div id="searchbox" style="display: none">
<h3>Quick search</h3>
<form action="../search.html" class="search" method="get">
<input name="q" type="text"/>
<input type="submit" value="Go"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
<p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="compat.html" title="pyramid.compat">next</a> |</li>
<li class="right">
<a href="authentication.html" title="pyramid.authentication">previous</a> |</li>
<li><a href="../index.html">The Pyramid Web Framework v1.5</a> »</li>
</ul>
</div>
<div class="footer">
        © <a href="../copyright.html">Copyright</a> 2008-2014, Agendaless Consulting.
      Last updated on Nov 09, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
</body></html>