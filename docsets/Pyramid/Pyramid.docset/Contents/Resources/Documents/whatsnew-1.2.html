<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>What&#39;s New In Pyramid 1.2 &mdash; The Pyramid Web Framework v1.5</title>
    
    <link rel="stylesheet" href="_static/pylons.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="top" title="The Pyramid Web Framework v1.5" href="index.html" />
    <link rel="next" title="What&#39;s New In Pyramid 1.1" href="whatsnew-1.1.html" />
    <link rel="prev" title="What&#39;s New In Pyramid 1.3" href="whatsnew-1.3.html" />
<link rel="stylesheet" href="http://static.pylonsproject.org/fonts/nobile/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="http://static.pylonsproject.org/fonts/neuton/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->
<link rel="shortcut icon" href="_static/pyramid.ico"/>

  </head>
  <body>







<div class="header-small">
	
	<div class="logo-small">
		<a href="index.html">
      		<img class="logo" src="_static/pyramid-small.png" alt="Logo"/>
		</a>
  	</div>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.1.html" title="What&#39;s New In Pyramid 1.1"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.3.html" title="What&#39;s New In Pyramid 1.3"
             accesskey="P">previous</a> |</li>
    	<li><a href="index.html">The Pyramid Web Framework v1.5</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="what-s-new-in-pyramid-1-2">
<h1>What's New In Pyramid 1.2<a class="headerlink" href="#what-s-new-in-pyramid-1-2" title="Permalink to this headline">¶</a></h1>
<p>This article explains the new features in <span>Pyramid</span> version 1.2 as
compared to its predecessor, <span>Pyramid</span> 1.1.  It also documents backwards
incompatibilities between the two versions and deprecations added to Pyramid
1.2, as well as software dependency changes and notable documentation
additions.</p>
<div class="section" id="major-feature-additions">
<h2>Major Feature Additions<a class="headerlink" href="#major-feature-additions" title="Permalink to this headline">¶</a></h2>
<p>The major feature additions in Pyramid 1.2 follow.</p>
<div class="section" id="debug-toolbar">
<h3>Debug Toolbar<a class="headerlink" href="#debug-toolbar" title="Permalink to this headline">¶</a></h3>
<p>The scaffolding packages that come with Pyramid now include a debug toolbar
component which can be used to interactively debug an application.  See
<a class="reference internal" href="narr/project.html#debug-toolbar"><em>The Debug Toolbar</em></a> for more information.</p>
</div>
<div class="section" id="route-prefix-argument-to-include">
<h3><tt class="docutils literal"><span class="pre">route_prefix</span></tt> Argument to include<a class="headerlink" href="#route-prefix-argument-to-include" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="api/config.html#pyramid.config.Configurator.include" title="pyramid.config.Configurator.include"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.include()</span></tt></a> method now accepts a
<tt class="docutils literal"><span class="pre">route_prefix</span></tt> argument.  This argument allows you to compose URL dispatch
applications together from disparate packages.  See <a class="reference internal" href="narr/urldispatch.html#route-prefix"><em>Using a Route Prefix to Compose Applications</em></a> for
more information.</p>
</div>
<div class="section" id="tweens">
<h3>Tweens<a class="headerlink" href="#tweens" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference internal" href="glossary.html#term-tween"><em class="xref std std-term">tween</em></a> is used to wrap the Pyramid router's primary request handling
function.  This is a feature that can be used by Pyramid framework extensions,
to provide, for example, view timing support and can provide a convenient
place to hang bookkeeping code.  Tweens are a little like <a class="reference internal" href="glossary.html#term-wsgi"><em class="xref std std-term">WSGI</em></a>
<a class="reference internal" href="glossary.html#term-middleware"><em class="xref std std-term">middleware</em></a>, but have access to Pyramid functionality such as renderers
and a full-featured request object.</p>
<p>To support this feature, a new configurator directive exists named
<a class="reference internal" href="api/config.html#pyramid.config.Configurator.add_tween" title="pyramid.config.Configurator.add_tween"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_tween()</span></tt></a>.  This directive adds a
&quot;tween&quot;.</p>
<p>Tweens are further described in <a class="reference internal" href="narr/hooks.html#registering-tweens"><em>Registering Tweens</em></a>.</p>
<p>A new paster command now exists: <tt class="docutils literal"><span class="pre">paster</span> <span class="pre">ptweens</span></tt>.  This command prints the
current tween configuration for an application.  See the section entitled
<a class="reference internal" href="narr/commandline.html#displaying-tweens"><em>Displaying &quot;Tweens&quot;</em></a> for more info.</p>
</div>
<div class="section" id="scaffolding-changes">
<h3>Scaffolding Changes<a class="headerlink" href="#scaffolding-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>All scaffolds now use the <tt class="docutils literal"><span class="pre">pyramid_tm</span></tt> package rather than the
<tt class="docutils literal"><span class="pre">repoze.tm2</span></tt> <a class="reference internal" href="glossary.html#term-middleware"><em class="xref std std-term">middleware</em></a> to manage transaction management.</li>
<li>The ZODB scaffold now uses the <tt class="docutils literal"><span class="pre">pyramid_zodbconn</span></tt> package rather than the
<tt class="docutils literal"><span class="pre">repoze.zodbconn</span></tt> package to provide ZODB integration.</li>
<li>All scaffolds now use the <tt class="docutils literal"><span class="pre">pyramid_debugtoolbar</span></tt> package rather than the
<tt class="docutils literal"><span class="pre">WebError</span></tt> package to provide interactive debugging features.</li>
<li>Projects created via a scaffold no longer depend on the <tt class="docutils literal"><span class="pre">WebError</span></tt> package
at all; configuration in the <tt class="docutils literal"><span class="pre">production.ini</span></tt> file which used to require
its <tt class="docutils literal"><span class="pre">error_catcher</span></tt> <a class="reference internal" href="glossary.html#term-middleware"><em class="xref std std-term">middleware</em></a> has been removed.  Configuring
error catching / email sending is now the domain of the <tt class="docutils literal"><span class="pre">pyramid_exclog</span></tt>
package (see <a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid_exclog/dev/">http://docs.pylonsproject.org/projects/pyramid_exclog/dev/</a>).</li>
<li>All scaffolds now send the <tt class="docutils literal"><span class="pre">cache_max_age</span></tt> parameter to the
<tt class="docutils literal"><span class="pre">add_static_view</span></tt> method.</li>
</ul>
</div>
</div>
<div class="section" id="minor-feature-additions">
<h2>Minor Feature Additions<a class="headerlink" href="#minor-feature-additions" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">[pshell]</span></tt> section in an ini configuration file now treats a
<tt class="docutils literal"><span class="pre">setup</span></tt> key as a dotted name that points to a callable that is passed the
bootstrap environment.  It can mutate the environment as necessary during a
<tt class="docutils literal"><span class="pre">paster</span> <span class="pre">pshell</span></tt> session.  This feature is described in
<a class="reference internal" href="narr/commandline.html#writing-a-script"><em>Writing a Script</em></a>.</li>
<li>A new configuration setting named <tt class="docutils literal"><span class="pre">pyramid.includes</span></tt> is now available.
It is described in <a class="reference internal" href="narr/environment.html#including-packages"><em>Including Packages</em></a>.</li>
<li>Added a <a class="reference internal" href="api/security.html#pyramid.security.NO_PERMISSION_REQUIRED" title="pyramid.security.NO_PERMISSION_REQUIRED"><tt class="xref py py-data docutils literal"><span class="pre">pyramid.security.NO_PERMISSION_REQUIRED</span></tt></a> constant for use in
<tt class="docutils literal"><span class="pre">permission=</span></tt> statements to view configuration.  This constant has a
value of the string <tt class="docutils literal"><span class="pre">__no_permission_required__</span></tt>.  This string value was
previously referred to in documentation; now the documentation uses the
constant.</li>
<li>Added a decorator-based way to configure a response adapter:
<a class="reference internal" href="api/response.html#pyramid.response.response_adapter" title="pyramid.response.response_adapter"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.response.response_adapter</span></tt></a>.  This decorator has the same
use as <a class="reference internal" href="api/config.html#pyramid.config.Configurator.add_response_adapter" title="pyramid.config.Configurator.add_response_adapter"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_response_adapter()</span></tt></a> but it's
declarative.</li>
<li>The <a class="reference internal" href="api/events.html#pyramid.events.BeforeRender" title="pyramid.events.BeforeRender"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.events.BeforeRender</span></tt></a> event now has an attribute named
<tt class="docutils literal"><span class="pre">rendering_val</span></tt>.  This can be used to introspect the value returned by a
view in a BeforeRender subscriber.</li>
<li>The Pyramid debug logger now uses the standard logging configuration
(usually set up by Paste as part of startup).  This means that output from
e.g. <tt class="docutils literal"><span class="pre">debug_notfound</span></tt>, <tt class="docutils literal"><span class="pre">debug_authorization</span></tt>, etc. will go to the
normal logging channels.  The logger name of the debug logger will be the
package name of the <em>caller</em> of the Configurator's constructor.</li>
<li>A new attribute is available on request objects: <tt class="docutils literal"><span class="pre">exc_info</span></tt>.  Its value
will be <tt class="docutils literal"><span class="pre">None</span></tt> until an exception is caught by the Pyramid router, after
which it will be the result of <tt class="docutils literal"><span class="pre">sys.exc_info()</span></tt>.</li>
<li><a class="reference internal" href="api/testing.html#pyramid.testing.DummyRequest" title="pyramid.testing.DummyRequest"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.testing.DummyRequest</span></tt></a> now implements the
<tt class="docutils literal"><span class="pre">add_finished_callback</span></tt> and <tt class="docutils literal"><span class="pre">add_response_callback</span></tt> methods implemented
by <a class="reference internal" href="api/request.html#pyramid.request.Request" title="pyramid.request.Request"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.request.Request</span></tt></a>.</li>
<li>New methods of the <a class="reference internal" href="api/config.html#pyramid.config.Configurator" title="pyramid.config.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.config.Configurator</span></tt></a> class:
<a class="reference internal" href="api/config.html#pyramid.config.Configurator.set_authentication_policy" title="pyramid.config.Configurator.set_authentication_policy"><tt class="xref py py-meth docutils literal"><span class="pre">set_authentication_policy()</span></tt></a> and
<a class="reference internal" href="api/config.html#pyramid.config.Configurator.set_authorization_policy" title="pyramid.config.Configurator.set_authorization_policy"><tt class="xref py py-meth docutils literal"><span class="pre">set_authorization_policy()</span></tt></a>.  These are
meant to be consumed mostly by add-on authors who wish to offer packages
which register security policies.</li>
<li>New Configurator method:
<a class="reference internal" href="api/config.html#pyramid.config.Configurator.set_root_factory" title="pyramid.config.Configurator.set_root_factory"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.set_root_factory()</span></tt></a>, which can set the
root factory after the Configurator has been constructed.</li>
<li>Pyramid no longer eagerly commits some default configuration statements at
<a class="reference internal" href="glossary.html#term-configurator"><em class="xref std std-term">Configurator</em></a> construction time, which permits values passed in as
constructor arguments (e.g. <tt class="docutils literal"><span class="pre">authentication_policy</span></tt> and
<tt class="docutils literal"><span class="pre">authorization_policy</span></tt>) to override the same settings obtained via the
<a class="reference internal" href="api/config.html#pyramid.config.Configurator.include" title="pyramid.config.Configurator.include"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.include()</span></tt></a> method.</li>
<li>Better Mako rendering exceptions; the template line which caused the error
is now shown when a Mako rendering raises an exception.</li>
<li>New request methods: <a class="reference internal" href="api/request.html#pyramid.request.Request.current_route_url" title="pyramid.request.Request.current_route_url"><tt class="xref py py-meth docutils literal"><span class="pre">current_route_url()</span></tt></a>,
<a class="reference internal" href="api/request.html#pyramid.request.Request.current_route_path" title="pyramid.request.Request.current_route_path"><tt class="xref py py-meth docutils literal"><span class="pre">current_route_path()</span></tt></a>, and
<a class="reference internal" href="api/request.html#pyramid.request.Request.static_path" title="pyramid.request.Request.static_path"><tt class="xref py py-meth docutils literal"><span class="pre">static_path()</span></tt></a>.</li>
<li>New functions in the <a class="reference internal" href="api/url.html#module-pyramid.url" title="pyramid.url"><tt class="xref py py-mod docutils literal"><span class="pre">pyramid.url</span></tt></a> module:
<a class="reference internal" href="api/url.html#pyramid.url.current_route_path" title="pyramid.url.current_route_path"><tt class="xref py py-func docutils literal"><span class="pre">current_route_path()</span></tt></a> and
<a class="reference internal" href="api/url.html#pyramid.url.static_path" title="pyramid.url.static_path"><tt class="xref py py-func docutils literal"><span class="pre">static_path()</span></tt></a>.</li>
<li>The <a class="reference internal" href="api/request.html#pyramid.request.Request.static_url" title="pyramid.request.Request.static_url"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.static_url()</span></tt></a> API (and its brethren
<a class="reference internal" href="api/request.html#pyramid.request.Request.static_path" title="pyramid.request.Request.static_path"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.request.Request.static_path()</span></tt></a>,
<a class="reference internal" href="api/url.html#pyramid.url.static_url" title="pyramid.url.static_url"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.url.static_url()</span></tt></a>, and <a class="reference internal" href="api/url.html#pyramid.url.static_path" title="pyramid.url.static_path"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.url.static_path()</span></tt></a>) now
accept an absolute filename as a &quot;path&quot; argument.  This will generate a URL
to an asset as long as the filename is in a directory which was previously
registered as a static view.  Previously, trying to generate a URL to an
asset using an absolute file path would raise a ValueError.</li>
<li>The <a class="reference internal" href="api/authentication.html#pyramid.authentication.RemoteUserAuthenticationPolicy" title="pyramid.authentication.RemoteUserAuthenticationPolicy"><tt class="xref py py-class docutils literal"><span class="pre">RemoteUserAuthenticationPolicy</span></tt></a>,
<a class="reference internal" href="api/authentication.html#pyramid.authentication.AuthTktAuthenticationPolicy" title="pyramid.authentication.AuthTktAuthenticationPolicy"><tt class="xref py py-class docutils literal"><span class="pre">AuthTktAuthenticationPolicy</span></tt></a>, and
<a class="reference internal" href="api/authentication.html#pyramid.authentication.SessionAuthenticationPolicy" title="pyramid.authentication.SessionAuthenticationPolicy"><tt class="xref py py-class docutils literal"><span class="pre">SessionAuthenticationPolicy</span></tt></a> constructors
now accept an additional keyword argument named <tt class="docutils literal"><span class="pre">debug</span></tt>.  By default,
this keyword argument is <tt class="docutils literal"><span class="pre">False</span></tt>.  When it is <tt class="docutils literal"><span class="pre">True</span></tt>, debug information
will be sent to the Pyramid debug logger (usually on stderr) when the
<tt class="docutils literal"><span class="pre">authenticated_userid</span></tt> or <tt class="docutils literal"><span class="pre">effective_principals</span></tt> method is called on
any of these policies.  The output produced can be useful when trying to
diagnose authentication-related problems.</li>
<li>New view predicate: <tt class="docutils literal"><span class="pre">match_param</span></tt>.  Example: a view added via
<tt class="docutils literal"><span class="pre">config.add_view(aview,</span> <span class="pre">match_param='action=edit')</span></tt> will be called only
when the <tt class="docutils literal"><span class="pre">request.matchdict</span></tt> has a value inside it named <tt class="docutils literal"><span class="pre">action</span></tt> with
a value of <tt class="docutils literal"><span class="pre">edit</span></tt>.</li>
<li>Support an <tt class="docutils literal"><span class="pre">onerror</span></tt> keyword argument to
<a class="reference internal" href="api/config.html#pyramid.config.Configurator.scan" title="pyramid.config.Configurator.scan"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.scan()</span></tt></a>.  This argument is passed to
<a class="reference external" href="http://docs.pylonsproject.org/projects/venusian/en/latest/api.html#venusian.Scanner.scan" title="(in venusian v1.0)"><tt class="xref py py-meth docutils literal"><span class="pre">venusian.Scanner.scan()</span></tt></a> to influence error behavior when an exception
is raised during scanning.</li>
<li>The <tt class="docutils literal"><span class="pre">request_method</span></tt> predicate argument to
<a class="reference internal" href="api/config.html#pyramid.config.Configurator.add_view" title="pyramid.config.Configurator.add_view"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_view()</span></tt></a> and
<a class="reference internal" href="api/config.html#pyramid.config.Configurator.add_route" title="pyramid.config.Configurator.add_route"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_route()</span></tt></a> is now permitted to be a
tuple of HTTP method names.  Previously it was restricted to being a string
representing a single HTTP method name.</li>
<li>Undeprecated <tt class="docutils literal"><span class="pre">pyramid.traversal.find_model</span></tt>,
<tt class="docutils literal"><span class="pre">pyramid.traversal.model_path</span></tt>, <tt class="docutils literal"><span class="pre">pyramid.traversal.model_path_tuple</span></tt>,
and <tt class="docutils literal"><span class="pre">pyramid.url.model_url</span></tt>, which were all deprecated in Pyramid 1.0.
There's just not much cost to keeping them around forever as aliases to
their renamed <tt class="docutils literal"><span class="pre">resource_*</span></tt> prefixed functions.</li>
<li>Undeprecated <tt class="docutils literal"><span class="pre">pyramid.view.bfg_view</span></tt>, which was deprecated in Pyramid
1.0.  This is a low-cost alias to <tt class="docutils literal"><span class="pre">pyramid.view.view_config</span></tt> which we'll
just keep around forever.</li>
<li>Route pattern replacement marker names can now begin with an underscore.
See <a class="reference external" href="https://github.com/Pylons/pyramid/issues/276">https://github.com/Pylons/pyramid/issues/276</a>.</li>
</ul>
</div>
<div class="section" id="deprecations">
<h2>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>All Pyramid-related <a class="reference internal" href="glossary.html#term-deployment-settings"><em class="xref std std-term">deployment settings</em></a> (e.g. <tt class="docutils literal"><span class="pre">debug_all</span></tt>,
<tt class="docutils literal"><span class="pre">debug_notfound</span></tt>) are now meant to be prefixed with the prefix
<tt class="docutils literal"><span class="pre">pyramid.</span></tt>.  For example: <tt class="docutils literal"><span class="pre">debug_all</span></tt> -&gt; <tt class="docutils literal"><span class="pre">pyramid.debug_all</span></tt>.  The
old non-prefixed settings will continue to work indefinitely but supplying
them may print a deprecation warning.  All scaffolds and tutorials have
been changed to use prefixed settings.</li>
<li>The <a class="reference internal" href="glossary.html#term-deployment-settings"><em class="xref std std-term">deployment settings</em></a> dictionary now raises a deprecation warning
when you attempt to access its values via <tt class="docutils literal"><span class="pre">__getattr__</span></tt> instead of via
<tt class="docutils literal"><span class="pre">__getitem__</span></tt>.</li>
</ul>
</div>
<div class="section" id="backwards-incompatibilities">
<h2>Backwards Incompatibilities<a class="headerlink" href="#backwards-incompatibilities" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">If a string is passed as the <tt class="docutils literal"><span class="pre">debug_logger</span></tt> parameter to a
<a class="reference internal" href="glossary.html#term-configurator"><em class="xref std std-term">Configurator</em></a>, that string is considered to be the name of a global
Python logger rather than a dotted name to an instance of a logger.</p>
</li>
<li><p class="first">The <a class="reference internal" href="api/config.html#pyramid.config.Configurator.include" title="pyramid.config.Configurator.include"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.include()</span></tt></a> method now accepts only a
single <tt class="docutils literal"><span class="pre">callable</span></tt> argument.  A <em>sequence</em> of callables used to be
permitted.  If you are passing more than one <tt class="docutils literal"><span class="pre">callable</span></tt> to
<a class="reference internal" href="api/config.html#pyramid.config.Configurator.include" title="pyramid.config.Configurator.include"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.include()</span></tt></a>, it will break.  You now must
now instead make a separate call to the method for each callable.</p>
</li>
<li><p class="first">It may be necessary to more strictly order configuration route and view
statements when using an &quot;autocommitting&quot; <a class="reference internal" href="glossary.html#term-configurator"><em class="xref std std-term">Configurator</em></a>.  In the
past, it was possible to add a view which named a route name before adding
a route with that name when you used an autocommitting configurator.  For
example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="s">&#39;my.pkg.someview&#39;</span><span class="p">,</span> <span class="n">route_name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;/foo&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The above will raise an exception when the view attempts to add itself.
Now you must add the route before adding the view:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;/foo&#39;</span><span class="p">)</span>
<span class="n">config</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="s">&#39;my.pkg.someview&#39;</span><span class="p">,</span> <span class="n">route_name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This won't effect &quot;normal&quot; users, only people who have legacy BFG codebases
that used an autommitting configurator and possibly tests that use the
configurator API (the configurator returned by
<a class="reference internal" href="api/testing.html#pyramid.testing.setUp" title="pyramid.testing.setUp"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.testing.setUp()</span></tt></a> is an autocommitting configurator).  The
right way to get around this is to use a default non-autocommitting
configurator, which does not have these directive ordering requirements:</p>
<div class="highlight-python"><div class="highlight"><pre>  <span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">()</span>
  <span class="n">config</span><span class="o">.</span><span class="n">add_view</span><span class="p">(</span><span class="s">&#39;my.pkg.someview&#39;</span><span class="p">,</span> <span class="n">route_name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
  <span class="n">config</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;/foo&#39;</span><span class="p">)</span>

<span class="n">The</span> <span class="n">above</span> <span class="n">will</span> <span class="n">work</span> <span class="n">fine</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><p class="first">The <a class="reference internal" href="api/config.html#pyramid.config.Configurator.add_route" title="pyramid.config.Configurator.add_route"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.add_route()</span></tt></a> directive no longer
returns a route object.  This change was required to make route vs. view
configuration processing work properly.</p>
</li>
</ul>
</div>
<div class="section" id="behavior-differences">
<h2>Behavior Differences<a class="headerlink" href="#behavior-differences" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>An ETag header is no longer set when serving a static file.  A
Last-Modified header is set instead.</li>
<li>Static file serving no longer supports the <tt class="docutils literal"><span class="pre">wsgi.file_wrapper</span></tt> extension.</li>
<li>Instead of returning a <tt class="docutils literal"><span class="pre">403</span> <span class="pre">Forbidden</span></tt> error when a static file is served
that cannot be accessed by the Pyramid process' user due to file
permissions, an IOError (or similar) will be raised.</li>
</ul>
</div>
<div class="section" id="documentation-enhancements">
<h2>Documentation Enhancements<a class="headerlink" href="#documentation-enhancements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Narrative and API documentation which used the <tt class="docutils literal"><span class="pre">route_url</span></tt>,
<tt class="docutils literal"><span class="pre">route_path</span></tt>, <tt class="docutils literal"><span class="pre">resource_url</span></tt>, <tt class="docutils literal"><span class="pre">static_url</span></tt>, and <tt class="docutils literal"><span class="pre">current_route_url</span></tt>
functions in the <a class="reference internal" href="api/url.html#module-pyramid.url" title="pyramid.url"><tt class="xref py py-mod docutils literal"><span class="pre">pyramid.url</span></tt></a> package have now been changed to use
eponymous methods of the request instead.</li>
<li>Added a section entitled <a class="reference internal" href="narr/urldispatch.html#route-prefix"><em>Using a Route Prefix to Compose Applications</em></a> to the &quot;URL Dispatch&quot;
narrative documentation chapter.</li>
<li>Added a new module to the API docs: <a class="reference internal" href="api/tweens.html#module-pyramid.tweens" title="pyramid.tweens"><tt class="xref py py-mod docutils literal"><span class="pre">pyramid.tweens</span></tt></a>.</li>
<li>Added a <a class="reference internal" href="narr/hooks.html#registering-tweens"><em>Registering Tweens</em></a> section to the &quot;Hooks&quot; narrative chapter.</li>
<li>Added a <a class="reference internal" href="narr/commandline.html#displaying-tweens"><em>Displaying &quot;Tweens&quot;</em></a> section to the &quot;Command-Line Pyramid&quot;
narrative chapter.</li>
<li>Added documentation for <a class="reference internal" href="narr/environment.html#explicit-tween-config"><em>Explicit Tween Configuration</em></a> and
<a class="reference internal" href="narr/environment.html#including-packages"><em>Including Packages</em></a> to the &quot;Environment Variables and <tt class="docutils literal"><span class="pre">.ini</span></tt> Files
Settings&quot; chapter.</li>
<li>Added a <a class="reference internal" href="narr/logging.html#logging-chapter"><em>Logging</em></a> chapter to the narrative docs.</li>
<li>All tutorials now use - The <tt class="docutils literal"><span class="pre">route_url</span></tt>, <tt class="docutils literal"><span class="pre">route_path</span></tt>,
<tt class="docutils literal"><span class="pre">resource_url</span></tt>, <tt class="docutils literal"><span class="pre">static_url</span></tt>, and <tt class="docutils literal"><span class="pre">current_route_url</span></tt> methods of the
<a class="reference internal" href="api/request.html#pyramid.request.Request" title="pyramid.request.Request"><tt class="xref py py-class docutils literal"><span class="pre">pyramid.request.Request</span></tt></a> rather than the function variants imported
from <tt class="docutils literal"><span class="pre">pyramid.url</span></tt>.</li>
<li>The ZODB wiki tutorial now uses the <tt class="docutils literal"><span class="pre">pyramid_zodbconn</span></tt> package rather
than the <tt class="docutils literal"><span class="pre">repoze.zodbconn</span></tt> package to provide ZODB integration.</li>
<li>Added <a class="reference internal" href="narr/introduction.html#what-makes-pyramid-unique"><em>What Makes Pyramid Unique</em></a> to the Introduction narrative
chapter.</li>
</ul>
</div>
<div class="section" id="dependency-changes">
<h2>Dependency Changes<a class="headerlink" href="#dependency-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Pyramid now relies on PasteScript &gt;= 1.7.4.  This version contains a
feature important for allowing flexible logging configuration.</li>
<li>Pyramid now requires Venusian 1.0a1 or better to support the <tt class="docutils literal"><span class="pre">onerror</span></tt>
keyword argument to <a class="reference internal" href="api/config.html#pyramid.config.Configurator.scan" title="pyramid.config.Configurator.scan"><tt class="xref py py-meth docutils literal"><span class="pre">pyramid.config.Configurator.scan()</span></tt></a>.</li>
<li>The <tt class="docutils literal"><span class="pre">zope.configuration</span></tt> package is no longer a dependency.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">What's New In Pyramid 1.2</a><ul>
<li><a class="reference internal" href="#major-feature-additions">Major Feature Additions</a><ul>
<li><a class="reference internal" href="#debug-toolbar">Debug Toolbar</a></li>
<li><a class="reference internal" href="#route-prefix-argument-to-include"><tt class="docutils literal"><span class="pre">route_prefix</span></tt> Argument to include</a></li>
<li><a class="reference internal" href="#tweens">Tweens</a></li>
<li><a class="reference internal" href="#scaffolding-changes">Scaffolding Changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#minor-feature-additions">Minor Feature Additions</a></li>
<li><a class="reference internal" href="#deprecations">Deprecations</a></li>
<li><a class="reference internal" href="#backwards-incompatibilities">Backwards Incompatibilities</a></li>
<li><a class="reference internal" href="#behavior-differences">Behavior Differences</a></li>
<li><a class="reference internal" href="#documentation-enhancements">Documentation Enhancements</a></li>
<li><a class="reference internal" href="#dependency-changes">Dependency Changes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="whatsnew-1.3.html"
                        title="previous chapter">What's New In Pyramid 1.3</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="whatsnew-1.1.html"
                        title="next chapter">What's New In Pyramid 1.1</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.1.html" title="What&#39;s New In Pyramid 1.1"
             >next</a> |</li>
        <li class="right" >
          <a href="whatsnew-1.3.html" title="What&#39;s New In Pyramid 1.3"
             >previous</a> |</li>
    	<li><a href="index.html">The Pyramid Web Framework v1.5</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; <a href="copyright.html">Copyright</a> 2008-2014, Agendaless Consulting.
      Last updated on Nov 09, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>