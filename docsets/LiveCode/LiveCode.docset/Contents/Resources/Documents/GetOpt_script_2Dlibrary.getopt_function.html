<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>GetOpt</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><table><tr><td colspan="2"><h1>GetOpt</h1></td></tr><tr><td><b>Type</b></td><td>function</td></tr><tr><td><b>Dictionary</b></td><td>script-library.getopt</td></tr><tr><td><b>Syntax</b></td><td><pre><span class="normal">GetOpt(&lt;grammar&gt; [, &lt;argumentArray&gt;])</span></pre></td></tr><tr><td><b>Associations</b></td><td>com.livecode.script-library.getopt</td></tr><tr><td><b>Summary</b></td><td><p>Parse options from command line argumentsAssociated:GetOptLibrary</p></td></tr><tr><td><b>Parameters</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>grammar</td><td></td><td><p>A string describing the valid options for the program</p></td></tr><tr><td>argumentArray</td><td></td><td><p>A numerically keyed array containing arguments to be parsed</p></td></tr></table></td></tr><tr><td><b>Example</b></td><td><pre><b><span class="command">local</span></b><span class="normal"> tInfo</span><b><span class="command">put</span></b><span class="normal"> GetOpt(</span><span class="normal">"h,help"</span><span class="normal">) </span><span class="function">into</span><span class="normal"> tInfo</span><b><span class="normal">if</span></b><span class="normal"> </span><span class="function">the</span><span class="normal"> </span><span class="property">number</span><span class="normal"> </span><span class="function">of</span><span class="normal"> </span><span class="function">elements</span><span class="normal"> </span><span class="function">in</span><span class="normal"> tInfo[</span><span class="normal">"errors"</span><span class="normal">] &gt; </span><span class="normal">0</span><span class="normal"> <b>then</b></span><span class="normal">   </span><b><span class="command">write</span></b><span class="normal"> </span><span class="normal">"ERROR:"</span><span class="normal"> && tInfo[</span><span class="normal">"errors"</span><span class="normal">][</span><span class="normal">1</span><span class="normal">] </span><span class="function">to</span><span class="normal"> </span><span class="function">stderr</span><b><span class="normal">else</span></b><span class="normal"> <b>if</b> </span><span class="normal">"help"</span><span class="normal"> </span><span class="function">is</span><span class="normal"> </span><span class="function">among</span><span class="normal"> </span><span class="function">the</span><span class="normal"> </span><span class="function">keys</span><span class="normal"> </span><span class="function">of</span><span class="normal"> tInfo[</span><span class="normal">"options"</span><span class="normal">] <b>then</b></span><span class="normal">   </span><b><span class="command">write</span></b><span class="normal"> </span><span class="normal">"Usage: my-program [--help]"</span><span class="normal"> </span><span class="function">to</span><span class="normal"> </span><span class="function">stderr</span><b><span class="normal">end</span></b><span class="normal"> <b>if</b></span></pre></td></tr><tr><td><b>Values</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>return</td><td></td><td><p>An array containing options, arguments and error info</p></td></tr></table></td></tr><tr><td><b>Description</b></td><td><p>Parse UNIX-like command line arguments, extracting options and theirarguments.</p><p>The <a href="GetOpt_LCS_function.html">GetOpt</a> function parses the command-line arguments.  The optionalparameter <b>argumentArray</b> is a numerically-keyed array containing thearguments to be parsed; if it is omitted, it is set to<code>the commandArguments</code>.</p><p>The <b>grammar</b> describes the possible options that <a href="GetOpt_LCS_function.html">GetOpt</a> shouldunderstand.  It is a string containing a series of optionspecifications, separated by spaces.  Each option specification isa series of option names which should be treated as synonyms of eachother, separated by commas.  Single-character synonyms are treatedas short (<code>-h</code>) options, and multi-character synonyms are treated aslong (<code>--help</code>) options.  Option names can&#39;t start with a <code>-</code> orcontain <code>=</code>.  The last synonym in each option specification istreated as the &quot;proper&quot; name of the option.</p><p>For example, <code>h,help</code> indicates that both <code>-h</code> and <code>--help</code> optionsare supported, and they are both properly known as the &quot;help&quot; option.</p><p>Each option specification can end with a <code>=</code>.  This indicates thatthe option expects an argument.  For example, with the grammar<code>-o,--output=</code>, the option can be specified like <code>-o file</code>, <code>-ofile</code>,<code>--output file</code>, or <code>--output=file</code>.</p><p>If a non-option argument is found in <b>argumentArray</b>, <a href="GetOpt_LCS_function.html">GetOpt</a> stopsparsing options and all subsequent arguments are returned as they are.<code>-</code> is always treated as a non-option argument.  The special <code>--</code>option ends option parsing, but is otherwise ignored.  This makes itpossible to pass filenames on the command line thatare named the same as options.  For example, <code>-- --help</code>will treat <code>--help</code> as a normal argument, not an option.</p><p>Short options can be run together.  For example, if <b>grammar</b> is<code>h,help v,verbose</code>, then <code>-hv</code> is treated as if both <code>--help</code> and<code>--verbose</code> were passed as options to the command.</p><p>If an option is specified more than once, only the last occurrenceis reflected in the return  value of <a href="GetOpt_LCS_function.html">GetOpt</a></p><p>The return value of <a href="GetOpt_LCS_function.html">GetOpt</a> is an array with three keys:</p><ul><li>&quot;options&quot;: an array where the keys are option names and the values are the arguments to those options.</li><li>&quot;arguments&quot;: a numerically-indexed array where the values are thenon-option arguments</li><li>&quot;errors&quot;: a numerically-indexed array where the values are errormessages from <a href="GetOpt_LCS_function.html">GetOpt</a>&#39;s processing of the <b>argumentArray</b></li></ul><p>Argument processing errors occur if:</p><ul><li>an option is found that wasn&#39;t in the <b>grammar</b></li><li>an option has an argument, but the <b>grammar</b> says it shouldn&#39;t</li><li>an option doesn&#39;t have an argument, but the <b>grammar</b> says it should</li></ul></td></tr></table></body></html>