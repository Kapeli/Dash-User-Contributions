<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>dropboxSearch</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><table><tr><td colspan="2"><h1>dropboxSearch</h1></td></tr><tr><td><b>Type</b></td><td>command</td></tr><tr><td><b>Dictionary</b></td><td>script-library.dropbox</td></tr><tr><td><b>Library</b></td><td>dropbox</td></tr><tr><td><b>Syntax</b></td><td><pre><span class="normal">dropboxSearch &lt;pAccessToken&gt;, &lt;pPath&gt;, &lt;pQuery&gt;, &lt;pStart&gt;, &lt;pMaxResults&gt;, &lt;pMode&gt;, [&lt;pCallback&gt;]</span></pre></td></tr><tr><td><b>Associations</b></td><td>com.livecode.script-library.dropbox</td></tr><tr><td><b>Summary</b></td><td><p>Searches for files and folders.</p></td></tr><tr><td><b>Parameters</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>pAccessToken</td><td></td><td><p>An OAuth2 Access token to access the user&#39;s account</p></td></tr><tr><td>pPath</td><td></td><td><p>Path in the user&#39;s Dropbox to be searched.</p></td></tr><tr><td>pQuery</td><td></td><td><p>The string to search for. The search string is split on spaces into multiple tokens.For file name searching, the last token is used for prefix matching (i.e. &quot;bat c&quot; matches &quot;bat cave&quot; but not &quot;batman car&quot;).</p></td></tr><tr><td>pStart</td><td></td><td><p>The starting index within the search results (used for paging). The defaultfor this field is 0.</p></td></tr><tr><td>pMaxResults</td><td></td><td><p>The maximum number of search results to return. The default for this field is 100.</p></td></tr><tr><td>pMode</td><td></td><td><p>The search mode. Note that searching file content is only available for Dropbox Business accounts.</p><ul><li>&quot;filename&quot;</li><li>&quot;filename_and_content&quot;</li><li>&quot;deleted_filename&quot;</li></ul></td></tr><tr><td>pCallback</td><td></td><td><p>The handler to call when the request is complete. If empty the commandwill block until complete. Requires tsNet with LiveCode Indy License.</p></td></tr></table></td></tr><tr><td><b>Values</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>It</td><td></td><td><p>For asynchronous requests it will contain a request ID. This may be used withtsNet&#39;s tsNetGetStatus function. If the request is synchronous and successful the itvariable will be a UTF-8 encoded JSON string in the form:</p><pre><code>{&quot;matches&quot;: [{&quot;match_type&quot;: {&quot;.tag&quot;: &quot;content&quot;},&quot;metadata&quot;: {&quot;.tag&quot;: &quot;file&quot;,&quot;name&quot;: &quot;Prime_Numbers.txt&quot;,&quot;id&quot;: &quot;id:a4ayc_80_OEAAAAAAAAAXw&quot;,&quot;client_modified&quot;: &quot;2015-05-12T15:50:38Z&quot;,&quot;server_modified&quot;: &quot;2015-05-12T15:50:38Z&quot;,&quot;rev&quot;: &quot;a1c10ce0dd78&quot;,&quot;size&quot;: 7212,&quot;path_lower&quot;: &quot;/homework/math/prime_numbers.txt&quot;,&quot;path_display&quot;: &quot;/Homework/math/Prime_Numbers.txt&quot;,&quot;sharing_info&quot;: {&quot;read_only&quot;: true,&quot;parent_shared_folder_id&quot;: &quot;84528192421&quot;,&quot;modified_by&quot;: &quot;dbid:AAH4f99T0taONIb-OurWxbNQ6ywGRopQngc&quot;},&quot;property_groups&quot;: [{&quot;template_id&quot;: &quot;ptid:1a5n2i6d3OYEAAAAAAAAAYa&quot;,&quot;fields&quot;: [{&quot;name&quot;: &quot;Security Policy&quot;,&quot;value&quot;: &quot;Confidential&quot;}]}],&quot;has_explicit_shared_members&quot;: false}}],&quot;more&quot;: false,&quot;start&quot;: 1}</code></pre><p>If an error occurred the JSON string will be in the following form:</p><pre><code>{&quot;error_summary&quot;: string,&quot;error&quot;: {&quot;.tag&quot;: string}}</code></pre></td></tr><tr><td>The result</td><td></td><td><p>An error if the HTTP request failed</p></td></tr></table></td></tr><tr><td><b>Description</b></td><td><p> <em>Note:</em> Recent changes may not immediately be reflected in search results dueto a short delay in indexing.</p><p>If the callback parameter is not empty the request will be asynchronus andwhen complete the callback will be sent to the object that accessed the API.The callback will be sent with three parameters:</p><ul><li>The request ID which will be the value of the it variable after calling the command</li><li>The HTTP response code</li><li>The data returned which will be the same data as documented for the it variable in a synchronous request.</li></ul></td></tr></table></body></html>