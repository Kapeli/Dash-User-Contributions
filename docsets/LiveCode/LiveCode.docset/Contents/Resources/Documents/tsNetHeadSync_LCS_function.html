<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>tsNetHeadSync</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><table><tr><td colspan="2"><h1>tsNetHeadSync</h1></td></tr><tr><td><b>Type</b></td><td>function</td></tr><tr><td><b>Dictionary</b></td><td>LCS</td></tr><tr><td><b>Syntax</b></td><td><pre><span class="normal">tsNetHeadSync(&lt;pURL&gt;, &lt;pHeaders&gt;, &lt;pResult&gt;, &lt;pBytes&gt;, [&lt;pSettings&gt;])</span></pre></td></tr><tr><td><b>Associations</b></td><td>tsnet</td></tr><tr><td><b>Summary</b></td><td><p>Send a synchronous request to a server specifying that no bodybe transferred.</p></td></tr><tr><td><b>Edition</b></td><td>Indy</td></tr><tr><td><b>Introduced</b></td><td>8.1</td></tr><tr><td><b>OS</b></td><td>mac, windows, linux, ios, android</td></tr><tr><td><b>Platforms</b></td><td>desktop, server, mobile</td></tr><tr><td><b>Parameters</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>pURL</td><td></td><td><p>The URL formatted as &#39;scheme://host:port/path&#39; and URL-encoded asoutlined in <a href="http://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a>. Thefollowing schemes are supported: &#39;tftp&#39;, &#39;ftp&#39;, &#39;ftps&#39;, &#39;http&#39;, &#39;https&#39;and &#39;sftp&#39;. For SFTP connections, the path is not relative to theuser&#39;s home directory, but must be the full system path.</p></td></tr><tr><td>pHeaders</td><td></td><td><p>For HTTP(s) connections, the headers to be sent to theserver. For all other protocols, leave this blank. The contents of thisvariable will be replaced when the function returns with the headersthat were sent to the server if the &quot;save_sent_headers&quot; array settingis specified below.</p></td></tr><tr><td>pResult</td><td></td><td><p>This variable will contain the status code sent by the serverto the last command that was issued during the transfer. For SFTPconnections, this will always be 0. On error, the return value will bea string containing the error starting with &quot;tsneterr:&quot;.</p></td></tr><tr><td>pBytes</td><td></td><td><p>This variable will contain the number of bytes that weredownloaded during the connection.</p></td></tr><tr><td>pSettings</td><td></td><td><p>An array of additional settings that control how thetransfer is initiated.</p></td></tr></table></td></tr><tr><td><b>Example</b></td><td><pre><b><span class="command">local</span></b><span class="normal"> tSentHeaders, tResult, tBytes, tHeaders</span><b><span class="command">put</span></b><span class="normal"> tsNetHeadSync(</span><span class="normal">"http://www.livecode.com"</span><span class="normal">, tSentHeaders, tResult, \</span><span class="normal">   tBytes) </span><span class="function">into</span><span class="normal"> tHeaders</span></pre></td></tr><tr><td><b>Values</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>return</td><td></td><td><p>The tsNetHeadSync function returns the headers retrieved fromthe server on success.</p></td></tr></table></td></tr><tr><td><b>Related</b></td><td><b>Function</b>: <a href="tsNetRetrError_LCS_function.html">tsNetRetrError</a>, <a href="tsNetRetrSentHeaders_LCS_function.html">tsNetRetrSentHeaders</a><br><b>Library</b>: <a href="tsNet_LCS_library.html">tsNet</a><br></td></tr><tr><td><b>Description</b></td><td><p>The settings array can consist of the following elements (not allof the settings make sense for every possible transfer type):</p><p>&quot;use_ssl&quot;: Set to true to connect using Transport Layer Security (TLS)for SMTPS and FTPS (explicit) connections.</p><p>&quot;no_transfer&quot;: Set to true to connect to the server but not perform anytransfer.</p><p>&quot;no_reuse&quot;: Set to true to specify that the connection to theserver should be disconnected and not left open for any futureconnections.</p><p>&quot;fail_on_http_error&quot;: Set to true to specify that HTTP status codesgreater than 400 should be considered an error.</p><p>&quot;force_basic_auth&quot;: Set to true to force HTTP basic authenticationrather than allow tsNet to detect what authentication methods are supported by the server.</p><p>&quot;save_sent_headers&quot;: Set to true to specify that external should storea copy of all the headers that it sends to the server. This must be setto true to use the <a href="tsNetRetrSentHeaders_LCS_function.html">tsNetRetrSentHeaders</a> function.</p><p>&quot;username&quot;: Set to a string containing the username to be used in anyauthentication requests from the server.</p><p>&quot;password&quot;: Set to a string containing the password to be used in anyauthentication requests from the server.</p><p>&quot;ssh_private_key&quot;: (Business Edition only) Set to the private keyfile (including full system path) to be used in SFTP transfers.</p><p>&quot;ssh_passphrase&quot;: (Business Edition only) Set to the passphrase forany included private key.</p><p>&quot;ssh_host_public_key&quot;: Set to the 128 bit MD5 checksum of the remotehost&#39;s public key. The connection will be rejected unless they match.</p><p>&quot;proxy_headers&quot;: Set to a list of headers (one per line) that shouldbe sent to any proxy server that is being used.</p><p>&quot;pre_commands&quot;: (Business Edition only) Set to a list of raw FTP/SFTPcommands (one per line) that should be executed on the server prior toany transfer.</p><p>&quot;post_commands&quot;: (Business Edition only) Set to a list of raw FTP/SFTPcommands (one per line) that should be executed on the server directlyafter any transfer.</p></td></tr><tr><td><b>Tags</b></td><td>externals</td></tr></table></body></html>