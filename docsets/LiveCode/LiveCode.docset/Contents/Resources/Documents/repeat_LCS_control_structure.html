<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>repeat</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><table><tr><td colspan="2"><h1>repeat</h1></td></tr><tr><td><b>Type</b></td><td>control structure</td></tr><tr><td><b>Dictionary</b></td><td>LCS</td></tr><tr><td><b>Library</b></td><td>LiveCode Script</td></tr><tr><td><b>Syntax</b></td><td><pre><b><span class="normal">repeat</span></b><span class="normal"> [</span><font color="#FF0000">{</span><span class="function">forever</span><span class="normal"> | </span><span class="function">while</span><span class="normal"> &lt;condition&gt; | </span><span class="function">until</span><span class="normal"> &lt;condition&gt;</span><font color="#FF0000">}</span><span class="normal">]</span><span class="normal">    &lt;statementList&gt;</span><b><span class="normal">end</span></b><span class="normal"> <b>repeat</b></span></pre><pre><b><span class="normal">repeat</span></b><span class="normal"> [</span><span class="function">for</span><span class="normal">] &lt;</span><span class="property">number</span><span class="normal">&gt; [</span><span class="function">times</span><span class="normal">]</span><span class="normal">    &lt;statementList&gt;</span><b><span class="normal">end</span></b><span class="normal"> <b>repeat</b></span></pre><pre><b><span class="normal">repeat</span></b><span class="normal"> </span><span class="function">with</span><span class="normal"> &lt;counterVariable&gt; = &lt;</span><span class="property">startValue</span><span class="normal">&gt; </span><font color="#FF0000">{</span><span class="function">to</span><span class="normal"> | </span><span class="function">down</span><span class="normal"> </span><span class="function">to</span><font color="#FF0000">}</span><span class="normal"> &lt;</span><span class="property">endValue</span><span class="normal">&gt; [</span><span class="function">step</span><span class="normal"> &lt;increment&gt;]</span><span class="normal">    &lt;statementList&gt;</span><b><span class="normal">end</span></b><span class="normal"> <b>repeat</b></span></pre><pre><b><span class="normal">repeat</span></b><span class="normal"> </span><span class="function">for</span><span class="normal"> </span><span class="function">each</span><span class="normal"> &lt;chunkType&gt; &lt;labelVariable&gt; </span><span class="function">in</span><span class="normal"> &lt;container&gt;</span><span class="normal">    &lt;statementList&gt;</span><b><span class="normal">end</span></b><span class="normal"> <b>repeat</b></span></pre><pre><b><span class="normal">repeat</span></b><span class="normal"> </span><span class="function">for</span><span class="normal"> </span><span class="function">each</span><span class="normal"> </span><font color="#FF0000">{</span><span class="function">element</span><span class="normal"> | </span><span class="function">key</span><font color="#FF0000">}</span><span class="normal"> &lt;labelVariable&gt; </span><span class="function">in</span><span class="normal"> &lt;</span><span class="function">array</span><span class="normal">&gt;</span><span class="normal">    &lt;statementList&gt;</span><b><span class="normal">end</span></b><span class="normal"> <b>repeat</b></span></pre></td></tr><tr><td><b>Summary</b></td><td><p><a href="execute_LCS_glossary.html">Executes</a> a set of <a href="statement_LCS_glossary.html">statements</a> repeatedly.</p></td></tr><tr><td><b>Edition</b></td><td>Community</td></tr><tr><td><b>Introduced</b></td><td>1.0</td></tr><tr><td><b>Changes</b></td><td><p>The ability to specify an increment for the repeat with form was addedin version 2.0. In previous versions, this form of the repeat controlstructure is always incremented or decremented the counter by 1 eachtime through the loop.</p><p>The ability to iterate through the keys of an array using repeat foreach key was added in version 2.7.2. </p><p>Starting in version 7.0 it is possible to modify the containervariable inside a for each loop without affecting theiterations of the loop.</p></td></tr><tr><td><b>OS</b></td><td>mac, windows, linux, ios, android</td></tr><tr><td><b>Platforms</b></td><td>desktop, server, mobile</td></tr><tr><td><b>Parameters</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>statementList</td><td></td><td><p>One or more LiveCode statements, and can also include <code>if</code>, <code>switch</code>,<code>try</code>, or <code>repeat</code> <a href="control_structure_LCS_glossary.html">control structures</a>.</p></td></tr><tr><td>condition</td><td></td><td><p>Any <a href="expression_LCS_glossary.html">expression</a> that <a href="evaluate_LCS_glossary.html">evaluates</a> to true or false.</p></td></tr><tr><td>number</td><td></td><td><p>A numbers or an <a href="expression_LCS_glossary.html">expressions</a> that evaluates to a number.</p></td></tr><tr><td>startValue</td><td></td><td><p>A numbers or an <a href="expression_LCS_glossary.html">expressions</a> that evaluates to a number.</p></td></tr><tr><td>endValue</td><td></td><td><p>A numbers or an <a href="expression_LCS_glossary.html">expressions</a> that evaluates to a number.</p></td></tr><tr><td>increment</td><td></td><td><p>A numbers or an <a href="expression_LCS_glossary.html">expressions</a> that evaluates to a number.</p></td></tr><tr><td>counterVariable</td><td></td><td><p>A legal <a href="variable_LCS_glossary.html">variable</a> name.</p></td></tr><tr><td>labelVariable</td><td></td><td><p>A legal <a href="variable_LCS_glossary.html">variable</a> name.</p></td></tr><tr><td>chunkType</td><td></td><td><p>One of these text chunk types: byte, codeunit, codepoint, character (orchar), token, trueword, word (or segment), item, sentence, paragraph orline. </p></td></tr><tr><td>container</td><td></td><td><p>Any existing <a href="container_LCS_glossary.html">container</a>; e.g. a <a href="variable_LCS_glossary.html">variable</a> or a <a href="field_LCS_glossary.html">field</a>.</p></td></tr><tr><td>array</td><td></td><td><p>Any existing container, usually a variable, that contains an <a href="array_LCS_glossary.html">array</a> ofvalues.</p></td></tr></table></td></tr><tr><td><b>Example</b></td><td><pre><b><span class="comment">-- counter variables in repeat with loops may use 0</span></b><b><span class="command">local</span></b><span class="normal"> tVarNum, tText</span><b><span class="normal">repeat</span></b><span class="normal"> </span><span class="function">with</span><span class="normal"> tVarNum = </span><span class="normal">0</span><span class="normal"> </span><span class="function">to</span><span class="normal"> </span><span class="normal">5</span><span class="normal">  </span><b><span class="command">put</span></b><span class="normal"> tVarNum & </span><span class="function">comma</span><span class="normal"> </span><span class="function">after</span><span class="normal"> tText</span><b><span class="normal">end</span></b><span class="normal"> <b>repeat</b></span><b><span class="command">put</span></b><span class="normal"> tText</span><b><span class="comment">-- tText = 0,1,2,3,4,5,</span></b></pre><pre><b><span class="comment">-- Repeat with loops can also make use of negative numbers</span></b><b><span class="command">local</span></b><span class="normal"> tVarNum, tText</span><b><span class="normal">repeat</span></b><span class="normal"> </span><span class="function">with</span><span class="normal"> tVarNum = </span><span class="normal">3</span><span class="normal"> </span><span class="function">down</span><span class="normal"> </span><span class="function">to</span><span class="normal"> -5</span><span class="normal">  </span><b><span class="command">put</span></b><span class="normal"> tVarNum & </span><span class="function">comma</span><span class="normal"> </span><span class="function">after</span><span class="normal"> tText</span><b><span class="normal">end</span></b><span class="normal"> <b>repeat</b></span><b><span class="command">put</span></b><span class="normal"> tText</span><b><span class="comment">-- tText = 3,2,1,0,-1,-2,-3,-4,-5,</span></b></pre><pre><b><span class="comment">-- Put a given number of X's at the end of a field</span></b><b><span class="command">local</span></b><span class="normal"> tCount</span><b><span class="command">put</span></b><span class="normal"> </span><span class="normal">5</span><span class="normal"> </span><span class="function">into</span><span class="normal"> tCount</span><b><span class="normal">repeat</span></b><span class="normal"> tCount </span><span class="function">times</span><span class="normal">  </span><b><span class="command">put</span></b><span class="normal"> </span><span class="normal">"X"</span><span class="normal"> </span><span class="function">after</span><span class="normal"> </span><span class="function">field</span><span class="normal"> </span><span class="normal">"counting"</span><b><span class="normal">end</span></b><span class="normal"> <b>repeat</b></span></pre></td></tr><tr><td><b>Related</b></td><td><b>Keyword</b>: <a href="card_LCS_keyword.html">card</a>, <a href="each_LCS_keyword.html">each</a>, <a href="element_LCS_keyword.html">element</a>, <a href="end_repeat_LCS_keyword.html">end repeat</a>, <a href="for_LCS_keyword.html">for</a>, <a href="forever_LCS_keyword.html">forever</a>, <a href="line_LCS_keyword.html">line</a>, <a href="until_LCS_keyword.html">until</a>, <a href="while_LCS_keyword.html">while</a><br><b>Glossary</b>: <a href="iteration_LCS_glossary.html">iteration</a>, <a href="array_LCS_glossary.html">array</a>, <a href="chunk_LCS_glossary.html">chunk</a>, <a href="conditional_LCS_glossary.html">conditional</a>, <a href="container_LCS_glossary.html">container</a>, <a href="control_structure_LCS_glossary.html">control structure</a>, <a href="delimit_LCS_glossary.html">delimit</a>, <a href="element_LCS_glossary.html">element</a>, <a href="execute_LCS_glossary.html">execute</a>, <a href="field_LCS_glossary.html">field</a>, <a href="function_LCS_glossary.html">function</a>, <a href="integer_LCS_glossary.html">integer</a>, <a href="keyword_LCS_glossary.html">keyword</a>, <a href="statement_LCS_glossary.html">statement</a>, <a href="value_LCS_glossary.html">value</a>, <a href="variable_LCS_glossary.html">variable</a><br><b>Command</b>: <a href="wait_LCS_command.html">wait</a><br><b>Object</b>: <a href="stack_LCS_object.html">stack</a><br><b>Function</b>: <a href="round_LCS_function.html">round</a><br><b>Control structure</b>: <a href="next_repeat_LCS_control_structure.html">next repeat</a><br></td></tr><tr><td><b>Description</b></td><td><p>Use the <a href="repeat_LCS_control_structure.html">repeat</a> <a href="control_structure_LCS_glossary.html">control structure</a> to perform the same series ofactions for each member of a set: for example, for each <a href="card_LCS_glossary.html">card</a> in a<a href="stack_LCS_glossary.html">stack</a>, or each <a href="line_LCS_glossary.html">line</a> in a <a href="variable_LCS_glossary.html">variable</a>.</p><h4>Loop Form:</h4><p>The loop form is one of the following forms:</p><ul><li><code>forever</code></li><li><code>until</code>*<code>condition</code>*</li><li><code>while</code>*<code>condition</code>*</li><li><code>[for]</code>*<code>number</code>*<code>[times]</code></li><li><code>with</code>*<code>counterVariable</code>*<code>=</code>*<code>startValue</code>*<code>{to | down to}</code>*<code>endValue</code>*<code>[step</code>*<code>increment</code>*<code>]</code></li><li><code>for each</code>*<code>chunkType</code>* <em><code>labelVariable</code>*<code>in</code>*<code>container</code></em></li><li><code>for each element</code>*<code>labelVariable</code>*<code>in</code>*<code>array</code>*</li><li><code>for each key</code>*<code>labelVariable</code>*<code>in</code>*<code>array</code>*</li></ul><p>The <a href="repeat_LCS_control_structure.html">repeat</a> <a href="control_structure_LCS_glossary.html">control structure</a> always begins with the <code>repeat</code> <a href="keyword_LCS_glossary.html">keyword</a>.The last line of a <a href="repeat_LCS_control_structure.html">repeat</a> <a href="control_structure_LCS_glossary.html">control structure</a> is always the <code>end repeat</code> <a href="keyword_LCS_glossary.html">keyword</a>.</p><p>How many times the <b>statementList</b> is <a href="execute_LCS_glossary.html">executed</a> depends on theloop form you use. Here are details of the possible forms:</p><h5><a href="forever_LCS_keyword.html">Forever</a></h5><p>The <code>forever</code> form continues repeating the statements in the<b>statementList</b> until an <code>exit</code>, <code>exit repeat</code>, <code>pass</code>, or <code>return</code>statement is executed. Usually, one of these <a href="control_structure_LCS_glossary.html">controlstructures</a> is included in an <code>if</code> <a href="control_structure_LCS_glossary.html">control structure</a> within the<b>statementList</b>.</p><p>Use the <code>forever</code> form if you want to test a <a href="conditional_LCS_glossary.html">condition</a> atthe bottom of the loop, after the <b>statementList</b> is executed. In thefollowing example, the <code>go</code> command is executed at least once, since<code>the mouseClick</code> is not checked until after the <code>go</code> command:</p><pre><code>repeat forever    go next card    if the mouseClick then exit repeat -- user clickedend repeat</code></pre><p>If no <b>loopForm</b> is specified, the <code>forever</code> form is used.</p><h5><a href="until_LCS_keyword.html">Until</a> and <a href="while_LCS_keyword.html">while</a></h5><p>The <code>until</code> <a href="conditional_LCS_glossary.html">condition</a> and <code>while</code> <a href="conditional_LCS_glossary.html">condition</a>forms repeat the <b>statementList</b> as long as the <a href="conditional_LCS_glossary.html">condition</a>is false or as long as it is true, respectively. LiveCode re-evaluatesthe <a href="conditional_LCS_glossary.html">condition</a> before each <a href="iteration_LCS_glossary.html">iteration</a>.</p><p>Use the <code>until</code>*<code>condition</code>* or <code>while</code>*<code>condition</code>* form if you wantto test a <a href="conditional_LCS_glossary.html">condition</a> at the top of the loop, before thestatements are executed. This example scrolls through the cards untilthe user clicks the mouse:</p><pre><code>repeat until the mouseClick    go next card    wait for 100 millisecondsend repeat</code></pre><p>This example repeats as long as the total number of characters in afield is less than the given amount:</p><pre><code>local tCountput empty into field &quot;myField&quot;put 20 into tCountrepeat while the number of characters in field &quot;myField&quot;  tCount    put &quot;X&quot; after field &quot;myField&quot;end repeat</code></pre><h5>[For] <em>number</em> [times]</h5><p>The <code>for</code>*<code>number</code>*<code>times</code> form repeats the statementList for thespecified number of times.The <em>number</em> is evaluated when the loop is first entered, and is notre-evaluated as a result of any actions performed in thestatementList. For example, if the <em>number</em> is the number of cards,and the statementList contains a <code>create card</code> command, the loop isexecuted as many times as there were cards when the loop began, eventhough the current number of cards is changing with each <a href="iteration_LCS_glossary.html">iteration</a>through the loop.</p><p>If the <em>number</em> is not an <a href="integer_LCS_glossary.html">integer</a>, it is rounded to the nearest<a href="integer_LCS_glossary.html">integer</a>, using the same rules as the <a href="round_LCS_function.html">round</a> <a href="function_LCS_glossary.html">function</a>.Use the for number times form if you want to execute the <b>statementList</b>a fixed number of times. The following simple example beeps three times:</p><pre><code>repeat for 3 times    beepend repeat</code></pre><p>Note that <code>for</code> and <code>times</code> are optional. For example the following isalso valid:</p><pre><code>repeat 3    beepend repeat</code></pre><h5>With <em>counterVariable</em></h5><p>The <code>with</code>*<code>counter</code>*<code>=</code>*<code>startValue</code>*<code>to</code>*<code>endValue</code>* form and the<code>with</code>*<code>counter</code>*<code>=</code>*<code>startValue</code>*<code>down to</code>*<code>endValue</code>* form setthe counter to the <em>startValue</em> at the beginning of the loop, andincrease (or decrease, if you&#39;re using the <code>down to</code> form) the<em>countVariable</em> by 1 each time through the loop. When the <em>counter</em> isgreater than or equal to the <em>endValue</em>, (less than or equal to, ifyou&#39;re using the <code>down to</code> form), the loop performs its final<a href="iteration_LCS_glossary.html">iteration</a> and then ends.</p><p>If you specify an <em>increment</em>, the <em>increment</em> is added to the <em>counter</em>each time through the loop, rather than the <em>counter</em> being increased by 1. (The <em>increment</em> is not treated as an absolute value: if you&#39;re using the <code>down to</code> form, the <em>increment</em> must be negative.)</p><p>As with the <code>for</code>*<code>number</code>*<code>times</code> form described above, the<em>startValue</em> and <em>endValue</em> are evaluated when the loop is firstentered, and are not re-evaluated as a result of any actions performedin the <b>statementList</b>.</p><p>Use one of these forms if you want to perform an action on each memberof a set, and you need to refer to the member by number within the<b>statementList</b>. The following example loops through all the controls onthe current card. The <em>counterVariable</em> <em>x</em> is 1 during the first<a href="iteration_LCS_glossary.html">iteration</a>, 2 during the second, and so on:</p><pre><code>repeat with x = 1 to the number of controls    show control xend repeat</code></pre><p>The following example loops backwards through a set of lines. The<em>counterVariable</em> <em>myLine</em> is 20 during the first <a href="iteration_LCS_glossary.html">iteration</a>, 18during the second, and so on:</p><pre><code>repeat with myLine = 20 down to 1 step -2    put myLineend repeat</code></pre><Blockquote><p><b>Note:</b>  It is possible to change the <em>counterVariable</em> in a statement in the loop. However, doing this is not recommended, because it makes the loop logic difficult to follow:</p></Blockquote><pre><code>repeat with x = 1 to 20 -- this loop actually repeats ten times    answer x    add 1 to x -- not recommendedend repeat</code></pre><h5>For each</h5><p>The <code>for each</code>*<code>chunkType labelVariable</code>*<code>in</code>*<code>container</code>* form setsthe <em>labelVariable</em> to the first <a href="chunk_LCS_glossary.html">chunk</a> of the specified <em>chunkType</em> inthe container at the beginning of the loop, then sets it to the next<a href="chunk_LCS_glossary.html">chunk</a> for each <a href="iteration_LCS_glossary.html">iteration</a>. For example, if the <em>chunkType</em> is <code>word</code>,the <em>labelVariable</em> is set to the next word in the container for each<a href="iteration_LCS_glossary.html">iteration</a> of the loop.</p><p>Use the <code>for each</code> form if you want to perform an action on each <a href="chunk_LCS_glossary.html">chunk</a>in a container. This form is much faster than the <code>with</code>*<code>countVariable</code>*<code>=</code>*<code>startValue</code>*<code>to</code>*<code>endValue</code>* form whenlooping through the <a href="chunk_LCS_glossary.html">chunks</a> of a <a href="container_LCS_glossary.html">container</a>. The followingexample changes a return-<a href="delimit_LCS_glossary.html">delimited</a> list to acomma-<a href="delimit_LCS_glossary.html">delimited</a> list:</p><pre><code>repeat for each line thisLine in myList    put thisLine &amp; comma after newListend repeatdelete the last char of newList</code></pre><p>The <code>for each element</code>*<code>labelVariable</code>*<code>in</code>*<code>array</code>* form sets the<em>labelVariable</em> to the first <a href="element_LCS_glossary.html">element</a> in the <a href="array_LCS_glossary.html">array</a> at thebeginning of the loop, then sets it to the next <a href="element_LCS_glossary.html">element</a> foreach <a href="iteration_LCS_glossary.html">iteration</a>.</p><p>Use the <code>for each</code>*<code>element</code>* form if you want to perform an action oneach <a href="element_LCS_glossary.html">element</a> in an <a href="array_LCS_glossary.html">array</a>. The following example gets onlythe multi-word entries in an <a href="array_LCS_glossary.html">array</a> of phrases:</p><pre><code>repeat for each element thisIndexTerm in arrayOfTerms    if the number of words in thisIndexTerm  1 then        put thisIndexTerm &amp; return after multiWordTerms    end ifend repeat</code></pre><Blockquote><p><b>Note:</b> In any of the <code>for each</code> loops, you may change the<em>labelVariable</em> in a statement inside the loop. However, this is notrecommended because it will make the logic difficult to follow. You maymodify the <em><a href="container_LCS_glossary.html">container</a></em> variable inside a loop, but the modificationswill not affect what is being iterate|iterated over.</p></Blockquote><Blockquote><p><b>Note:</b>  The repeat control structure is implemented internally as acommand and appears in the commandNames.</p></Blockquote></td></tr></table></body></html>