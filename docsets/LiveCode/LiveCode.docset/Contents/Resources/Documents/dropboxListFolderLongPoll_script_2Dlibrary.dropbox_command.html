<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>dropboxListFolderLongPoll</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><table><tr><td colspan="2"><h1>dropboxListFolderLongPoll</h1></td></tr><tr><td><b>Type</b></td><td>command</td></tr><tr><td><b>Dictionary</b></td><td>script-library.dropbox</td></tr><tr><td><b>Syntax</b></td><td><pre><span class="normal">dropboxListFolderLongPoll &lt;pCursor&gt;, &lt;pTimeout&gt;, [&lt;pCallback&gt;]</span></pre></td></tr><tr><td><b>Associations</b></td><td>com.livecode.script-library.dropbox</td></tr><tr><td><b>Summary</b></td><td><p>A longpoll endpoint to wait for changes on an account.</p></td></tr><tr><td><b>Parameters</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>pCursor</td><td></td><td><p>A cursor as returned by dropboxListFolder or dropboxListFolderContinue. Cursors retrievedby setting ListFolderArg.include_media_info to true are not supported.</p></td></tr><tr><td>pTimeOut</td><td></td><td><p>A timeout in seconds. The request will block for at most this length of time, plus up to90 seconds of random jitter added to avoid the thundering herd problem. Care should be taken whenusing this parameter, as some network infrastructure does not support long timeouts. The default forthis field is 30.</p></td></tr><tr><td>pCallback</td><td></td><td><p>The handler to call when the request is complete. If empty the commandwill block until complete. Requires tsNet with LiveCode Indy License.</p></td></tr></table></td></tr><tr><td><b>Values</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>It</td><td></td><td><p>For asynchronous requests it will contain a request ID. This may be used withtsNet&#39;s tsNetGetStatus function. If the request is synchronous and successful the itvariable will be a UTF-8 encoded JSON string in the form:</p><pre><code>{&quot;changes&quot;: true}</code></pre><p>If an error occurred the JSON string will be in the following form:</p><pre><code>{&quot;error_summary&quot;: string,&quot;error&quot;: {&quot;.tag&quot;: string}}</code></pre></td></tr><tr><td>The result</td><td></td><td><p>An error if the HTTP request failed</p></td></tr></table></td></tr><tr><td><b>Description</b></td><td><p>In conjunction with dropboxListFolderContinue, this call gives you a low-latency way to monitor an accountfor file changes. The connection will block until there are changes available or a timeout occurs.</p><p>If the callback parameter is not empty the request will be asynchronus andwhen complete the callback will be sent to the object that accessed the API.The callback will be sent with three parameters:</p><ul><li>The request ID which will be the value of the it variable after calling the command</li><li>The HTTP response code</li><li>The data returned which will be the same data as documented for the it variable in a synchronous request.</li></ul></td></tr></table></body></html>