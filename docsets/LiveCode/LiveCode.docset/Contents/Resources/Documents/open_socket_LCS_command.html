<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>open socket</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><table><tr><td colspan="2"><h1>open socket</h1></td></tr><tr><td><b>Type</b></td><td>command</td></tr><tr><td><b>Dictionary</b></td><td>LCS</td></tr><tr><td><b>Syntax</b></td><td><pre><b><span class="command">open</span></b><span class="normal"> [</span><span class="function">datagram</span><span class="normal">] </span><span class="function">socket</span><span class="normal"> [</span><span class="function">from</span><span class="normal"> [&lt;localHostName&gt;][:&lt;localPort&gt;]] [</span><span class="function">to</span><span class="normal">] &lt;socketID&gt; [</span><span class="function">with</span><span class="normal"> </span><span class="function">message</span><span class="normal"> &lt;callbackMessage&gt;]</span></pre><pre><b><span class="command">open</span></b><span class="normal"> </span><b><span class="command">secure</span></b><span class="normal"> </span><span class="function">socket</span><span class="normal"> [</span><span class="function">from</span><span class="normal"> [&lt;localHostName&gt;][:&lt;localPort&gt;]] [</span><span class="function">to</span><span class="normal">] &lt;socketID&gt; [</span><span class="function">with</span><span class="normal"> </span><span class="function">message</span><span class="normal"> &lt;callbackMessage&gt;] [</span><span class="function">without</span><span class="normal"> </span><span class="function">verification</span><span class="normal">] [</span><span class="function">using</span><span class="normal"> </span><span class="function">certificate</span><span class="normal"> &lt;</span><span class="function">certificate</span><span class="normal">&gt; </span><span class="function">and</span><span class="normal"> </span><span class="function">key</span><span class="normal"> &lt;</span><span class="function">key</span><span class="normal">&gt;]</span></pre><pre><b><span class="command">open</span></b><span class="normal"> </span><b><span class="command">secure</span></b><span class="normal"> </span><span class="function">socket</span><span class="normal"> [</span><span class="function">from</span><span class="normal"> [&lt;localHostName&gt;][:&lt;localPort&gt;]] [</span><span class="function">to</span><span class="normal">] &lt;socketID&gt; [</span><span class="function">with</span><span class="normal"> </span><span class="function">message</span><span class="normal"> &lt;callbackMessage&gt;] [</span><span class="function">with</span><span class="normal"> </span><span class="function">verification</span><span class="normal"> [</span><span class="function">for</span><span class="normal"> </span><span class="function">host</span><span class="normal"> &lt;verificationHostName&gt;]] [</span><span class="function">using</span><span class="normal"> </span><span class="function">certificate</span><span class="normal"> &lt;</span><span class="function">certificate</span><span class="normal">&gt; </span><span class="function">and</span><span class="normal"> </span><span class="function">key</span><span class="normal"> &lt;</span><span class="function">key</span><span class="normal">&gt;]</span></pre></td></tr><tr><td><b>Associations</b></td><td>ssl & encryption</td></tr><tr><td><b>Summary</b></td><td><p>Establishes a <a href="TCP_LCS_glossary.html">TCP</a> communications <a href="socket_LCS_glossary.html">socket</a> between your system andanother system.</p></td></tr><tr><td><b>Edition</b></td><td>Community</td></tr><tr><td><b>Introduced</b></td><td>1.0</td></tr><tr><td><b>Changes</b></td><td><p>(6.7) Added the &quot;with verification for host&quot; variant.</p><p>(9.0) Added the ability to specify the local host and port.</p></td></tr><tr><td><b>OS</b></td><td>mac, windows, linux, ios, android</td></tr><tr><td><b>Platforms</b></td><td>desktop, server, mobile</td></tr><tr><td><b>Parameters</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>localHostName</td><td></td><td><p>The name or IP address of the local host to use when opening the socket.If no local host name is specified, then the <a href="defaultNetworkInterface_LCS_property.html">defaultNetworkInterface</a>property will be used. If the <a href="defaultNetworkInterface_LCS_property.html">defaultNetworkInterface</a> has not beenset, then the system&#39;s default local host will be used.</p></td></tr><tr><td>localPort</td><td></td><td><p>The local port to use when opening the socket. If no local port isspecified, then the OS will select a free local port.</p></td></tr><tr><td>socketID</td><td></td><td><p>The identifier (set when you opened the socket) of the socket you wantto close. The socket identifier starts with the IP address of the hostthe socket is connected to, and may optionally include a port number(separated from the IP address by a colon). If there is more than onesocket connected to that host and port, you can specify which socket byappending the connection name or number that was assigned when thesocket was opened, separated from the port number by a vertical bar (|).</p></td></tr><tr><td>callbackMessage</td><td></td><td><p>The name of a message to be sent when the connection is made.</p></td></tr><tr><td>certificate</td><td></td><td></td></tr><tr><td>key</td><td></td><td></td></tr><tr><td>verificationHostName</td><td></td><td><p>The IP address or domain name of the host you want to verify the socketagainst. </p></td></tr></table></td></tr><tr><td><b>Example</b></td><td><pre><b><span class="command">open</span></b><span class="normal"> </span><span class="function">socket</span><span class="normal"> </span><span class="function">to</span><span class="normal"> </span><span class="normal">"127.0.0.0:8080"</span></pre><pre><b><span class="command">open</span></b><span class="normal"> </span><span class="function">socket</span><span class="normal"> </span><span class="function">to</span><span class="normal"> </span><span class="normal">"ftp.example.org:21|sendFiles"</span></pre><pre><b><span class="command">open</span></b><span class="normal"> </span><b><span class="command">secure</span></b><span class="normal"> </span><span class="function">socket</span><span class="normal"> </span><span class="function">to</span><span class="normal"> </span><span class="normal">"livecode.com:443"</span><span class="normal"> </span><span class="function">with</span><span class="normal"> </span><span class="function">message</span><span class="normal"> </span><span class="normal">"wasConnected"</span><span class="normal"> </span><span class="function">without</span><span class="normal"> </span><span class="function">verification</span></pre><pre><b><span class="command">open</span></b><span class="normal"> </span><b><span class="command">secure</span></b><span class="normal"> </span><span class="function">socket</span><span class="normal"> </span><span class="function">to</span><span class="normal"> </span><span class="normal">"livecode.com:443"</span><span class="normal"> </span><span class="function">with</span><span class="normal"> </span><span class="function">message</span><span class="normal"> </span><span class="normal">"wasConnected"</span><span class="normal"> </span><span class="function">with</span><span class="normal"> </span><span class="function">verification</span><span class="normal"> </span><span class="function">for</span><span class="normal"> </span><span class="function">host</span><span class="normal"> </span><span class="normal">"livecode.com"</span></pre><pre><b><span class="command">open</span></b><span class="normal"> </span><span class="function">datagram</span><span class="normal"> </span><span class="function">socket</span><span class="normal"> </span><span class="function">from</span><span class="normal"> </span><span class="normal">":8080"</span><span class="normal"> </span><span class="function">to</span><span class="normal"> </span><span class="normal">"10.2.1.1:8080"</span></pre><pre><b><span class="normal">on</span></b><span class="normal"> mouseUp</span><span class="normal">   </span><b><span class="command">open</span></b><span class="normal"> </span><span class="function">socket</span><span class="normal"> </span><span class="normal">"www.google.com:80"</span><span class="normal">   </span><b><span class="command">write</span></b><span class="normal"> </span><span class="normal">"test"</span><span class="normal"> \</span><span class="normal">         </span><span class="function">to</span><span class="normal"> </span><span class="function">socket</span><span class="normal"> </span><span class="normal">"www.google.com:80"</span><span class="normal"> </span><span class="function">with</span><span class="normal"> </span><span class="function">message</span><span class="normal"> </span><span class="normal">"socketFinishedWriting"</span><b><span class="normal">end</span></b><span class="normal"> mouseUp</span><p></p><b><span class="normal">on</span></b><span class="normal"> socketFinishedWriting pSocketID</span><span class="normal">   </span><b><span class="command">put</span></b><span class="normal"> </span><span class="normal">"Data written to socket"</span><span class="normal"> && pSocketID</span><span class="normal">   </span><b><span class="command">close</span></b><span class="normal"> </span><span class="function">socket</span><span class="normal"> </span><span class="normal">"www.google.com:80"</span><b><span class="normal">end</span></b><span class="normal"> socketFinishedWriting</span></pre></td></tr><tr><td><b>Values</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>The result</td><td></td><td><p>If the socket fails to open due to an error, a socketError message issent to the object that attempted to open the socket. (If the error isdue to a problem finding the specified host, the error message isreturned in the result, and no socketError message is sent.).</p></td></tr></table></td></tr><tr><td><b>Related</b></td><td><b>Property</b>: <a href="defaultNetworkInterface_LCS_property.html">defaultNetworkInterface</a><br><b>Message</b>: <a href="socketTimeout_LCS_message.html">socketTimeout</a><br><b>Command</b>: <a href="accept_LCS_command.html">accept</a>, <a href="post_LCS_command.html">post</a>, <a href="wait_LCS_command.html">wait</a><br><b>Glossary</b>: <a href="TCP_LCS_glossary.html">TCP</a>, <a href="command_LCS_glossary.html">command</a>, <a href="socket_LCS_glossary.html">socket</a>, <a href="Standalone_Application_Settings_LCS_glossary.html">Standalone Application Settings</a>, <a href="command_LCS_glossary.html">command</a>, <a href="LiveCode_custom_library_LCS_glossary.html">LiveCode custom library</a><br><b>Library</b>: <a href="SSL__26_Encryption_library_LCS_library.html">SSL & Encryption library</a><br></td></tr><tr><td><b>Security</b></td><td>network</td></tr><tr><td><b>Description</b></td><td><p>Use the <a href="open_socket_LCS_command.html">open socket</a> <a href="command_LCS_glossary.html">command</a> to open a connection to another systemon the Internet (or another IP network) to get and send data.</p><p>When a connection is made, the open socket command creates a new socketthat can be used to communicate with the other system. The handlercontinues executing while the connection is being established. If youuse the write to socket command while the connection is opening, thedata is buffered and is sent to the host as soon as the connection ismade. </p><p>Use the open datagram socket form if you want to send a connectionlessUDP datagram instead of opening a socket.</p><p>If you specify a callbackMessage, the message is sent to the objectwhose script contains the open socket command, as soon as the connectionis made. The first parameter pf this message is the host and port numberof the socket. Use a callbackMessage to trigger actions (such as readingfrom the socket) that must wait until the connection has beenestablished. (To pause the handler that contains the open socket commanduntil the callbackMessage is received, use the wait for messages form ofthe wait command.)</p><p>UDP/datagram sockets are not supported by SSL.  When connecting to aremote peer, the client verifies the servers certificate during thehandshake process and verifies it against a list of certificates. Youcan specify a list of root CA to verify against using thesslcertificates property (see sslurlloader sample). The sslcertficatesproperty takes a return delimited list of files or folders. In additionyou can place system wide certfificates in System/Library/OpenSSL/certs.</p><p>The most common CAs such as verisign can be found in the file root.pem.If a verificationhostname is specified, the socket will be verifiedagainst that verificationhostname rather than the host. An example ofthis is when you want to create a secure connection with a host whiletunnelling through a proxy. Specifying the final host allows LiveCode toverify the socket against that host, rather than the proxy server. If&#39;without verification&#39; is specified then server credentials are notauthenticated, and any connection is accepted.</p><p>*Note:*  When the accept command creates a socket, it assigns a numberas the connection name. If you are using both the open socket commandand the accept command to connect to the same port on the same host,make sure to use a non-numeric connection name that won&#39;t conflictwith the numbers assigned by the accept command. This ensures that youcan always refer to two different sockets by distinct socketidentifiers. </p><p>*Important:*  Sockets are always opened in binary mode. This means thatLiveCode does not automatically convert between the other system&#39;send-of-line convention and the line feed character (ASCII 10) thatLiveCode uses internally to mark the end of a line. If you are readingor writing data one line at a time, be sure you know whether the othersystem uses line feed, return (ASCII 13), or both to mark the end ofeach line; if necessary, you will need to convert end-of-line markersyourself, after receiving or before sending the data. (The usualend-of-line marker on Mac OS and OS X systems is a return character;on Unix, a line feed; on Windows, a CRLF.)</p><p>For technical information about the numbers used to designate standardports, see the list of port numbers at&lt;http://www.iana.org/assignments/port-numbers&gt;, in particular thesection titled &quot;Well Known Port Numbers&quot;.</p><p>*Important:*  The <a href="open_socket_LCS_command.html">open socket</a> <a href="command_LCS_glossary.html">command</a> is part of the <a href="SSL__26_Encryption_library_LCS_library.html">SSL &amp; Encryption library</a>. To ensure that the <a href="command_LCS_glossary.html">command</a> works in a <a href="standalone_application_LCS_glossary.html">standalone application</a>, you must include this <a href="LiveCode_custom_library_LCS_glossary.html">custom library</a> when you create your <a href="standalone_application_LCS_glossary.html">standalone</a>. In the Inclusions pane of the <a href="Standalone_Application_Settings_LCS_glossary.html">Standalone Application Settings</a> window, make sure the&quot;SSL &amp; Encryption&quot; library checkbox is checked.</p><p>*Important:* On Android, when using remote sockets, internet permissions must beenabled. Do this by selecting the &quot;Internet&quot; checkbox of the&quot;Application Permissions&quot; section of the Android screen.</p><p>(4.5) The open socket command no longer blocks on DNS resolution.Instead, if resolution is required the command will return immediatelyand the DNS lookup will happen in the background. If resolution fails,then a socketError message is sent in the same was as if connectionfails. </p><p>For applications using hostNameToAddress directly, its syntax has beenaugmented:hostnameToAddress(hostname, [ callback ])</p><p>If the callback parameter is specified then the call will returnimmediately and upon completion of the lookup, the callback will beinvoked with the resolved address as a parameter.</p></td></tr></table></body></html>