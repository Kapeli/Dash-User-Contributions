<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>AWSS3GetBucket</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><table><tr><td colspan="2"><h1>AWSS3GetBucket</h1></td></tr><tr><td><b>Type</b></td><td>command</td></tr><tr><td><b>Dictionary</b></td><td>script-library.aws</td></tr><tr><td><b>Syntax</b></td><td><pre><span class="normal">AWSS3GetBucket &lt;pBucket&gt;,&lt;pParameters&gt;,&lt;pCallback&gt;</span></pre></td></tr><tr><td><b>Associations</b></td><td>com.livecode.script-library.aws</td></tr><tr><td><b>Summary</b></td><td><p>Get a bucket description.</p></td></tr><tr><td><b>Parameters</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>pBucket</td><td></td><td><p>The name of a bucket</p></td></tr><tr><td>pParameters</td><td></td><td><p>An array containing parameters to include in the request:</p><ul><li>&quot;delimiter&quot; (optional string):A delimiter is a character you use to group keys.If you specify a prefix, all keys that contain the same string between theprefix and the first occurrence of the delimiter after the prefix are groupedunder a single result element called CommonPrefixes. If you don&#39;t specify theprefix parameter, the substring starts at the beginning of the key. The keysthat are grouped under the CommonPrefixes result element are not returnedelsewhere in the response.</li><li>&quot;encoding-type&quot; (optional string): Requests Amazon S3 to encode the response andspecifies the encoding method to use. An object key can contain any Unicodecharacter. However, XML 1.0 parsers cannot parse some characters, such ascharacters with an ASCII value from 0 to 10. For characters that are notsupported in XML 1.0, you can add this parameter to request that Amazon S3encode the keys in the response.</li><li>&quot;max-keys&quot; (optional integer): Sets the maximum number of keys returned inthe response body. If you want to retrieve fewer than the default 1,000 keys,you can add this to your request. The response might contain fewer keys, butit will never contain more. If there are additional keys that satisfy the searchcriteria, but these keys were not returned because max-keys was exceeded, theresponse contains <b>IsTruncated</b>true<b>/IsTruncated</b>. To return the additional keys,see NextContinuationToken.</li><li>&quot;prefix&quot; (optional string): Limits the response to keys that begin with thespecified prefix. You can use prefixes to separate a bucket into different groupingsof keys. (You can think of using prefix to make groups in the same way you&#39;d use afolder in a file system.)</li><li>&quot;continuation-token&quot; (optional string): When the Amazon S3 response to this APIcall is truncated (that is, IsTruncated response element value is true), the responsealso includes the NextContinuationToken element, the value of which you can use inthe next request as the continuation-token to list the next set of objects. Thecontinuation token is an opaque value that Amazon S3 understands. Amazon S3 listsobjects in UTF-8 character encoding in lexicographical order.</li><li>&quot;fetch-owner&quot; (optional boolean):  By default, the API does not return the Ownerinformation in the response. If you want the owner information in the response,you can specify this parameter with the value set to true.</li><li>&quot;start-after&quot; (optional string): If you want the API to return key names aftera specific object key in your key space, you can add this parameter. Amazon S3lists objects in UTF-8 character encoding in lexicographical order. This parameter isvalid only in your first request. In case the response is truncated, you can specifythis parameter along with the continuation-token parameter, and then Amazon S3 willignore this parameter.</li></ul></td></tr><tr><td>pCallback</td><td></td><td><p>A command name to be sent on completion with the server reponse.</p></td></tr></table></td></tr><tr><td><b>Example</b></td><td><pre><b><span class="command">local</span></b><span class="normal"> tParameters</span><b><span class="command">put</span></b><span class="normal"> </span><span class="normal">"/"</span><span class="normal"> </span><span class="function">into</span><span class="normal"> tParameters[</span><span class="normal">"delimiter"</span><span class="normal">]</span><b><span class="command">put</span></b><span class="normal"> </span><span class="normal">"images/"</span><span class="normal"> </span><span class="function">into</span><span class="normal"> tParameters[</span><span class="normal">"prefix"</span><span class="normal">]</span><span class="normal">AWSS3GetBucket </span><span class="normal">"mybucket"</span><span class="normal">, tParameters, </span><span class="normal">"getImagesFromBucketCallback"</span><b><span class="command">put</span></b><span class="normal"> it </span><span class="function">into</span><span class="normal"> tRequestID</span><p></p><b><span class="normal">on</span></b><span class="normal"> getImagesFromBucketCallback pRequestID, pResult, pError</span><span class="normal">   <b>if</b> pError </span><span class="function">is</span><span class="normal"> </span><span class="function">empty</span><span class="normal"> <b>then</b></span><span class="normal">      </span><b><span class="command">local</span></b><span class="normal"> tObjectKeys</span><span class="normal">      <b>repeat</b> </span><span class="function">with</span><span class="normal"> tIndex = </span><span class="normal">1</span><span class="normal"> </span><span class="function">to</span><span class="normal"> </span><span class="function">the</span><span class="normal"> </span><span class="property">number</span><span class="normal"> </span><span class="function">of</span><span class="normal"> </span><span class="function">elements</span><span class="normal"> </span><span class="function">of</span><span class="normal"> pResult[</span><span class="normal">"Contents"</span><span class="normal">]</span><span class="normal">         </span><b><span class="command">put</span></b><span class="normal"> pResult[</span><span class="normal">"Contents"</span><span class="normal">][tIndex][</span><span class="normal">"Key"</span><span class="normal">] & </span><b><span class="command">return</span></b><span class="normal"> </span><span class="function">after</span><span class="normal"> tObjectKeys</span><span class="normal">      <b>end</b> <b>repeat</b></span><span class="normal">   <b>end</b> <b>if</b></span><b><span class="normal">end</span></b><span class="normal"> getImagesFromBucketCallback</span></pre></td></tr><tr><td><b>Values</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>It</td><td></td><td><p>A request ID able to be used with <a href="tsNetGetStatus_LCS_function.html">tsNetGetStatus</a> while the requestis active.</p></td></tr><tr><td>The result</td><td></td><td><p>An error message if the request failed.</p></td></tr></table></td></tr><tr><td><b>Related</b></td><td><b>Function</b>: <a href="tsNetGetStatus_script_2Dlibrary.aws_function.html">tsNetGetStatus</a>, <a href="tsNetRetrHeaders_script_2Dlibrary.aws_function.html">tsNetRetrHeaders</a><br><b>Library</b>: <a href="tsNet_script_2Dlibrary.aws_library.html">tsNet</a><br></td></tr><tr><td><b>Description</b></td><td><p>The caller of this command will be sent the callback message oncompletion with two parameters:</p><ul><li>the request ID</li><li>the response from the server parsed into an array.</li><li>an error message if one occurred</li></ul><p>The array contains details about the bucket including objects itcontains.</p><p>*Note:* The message is sent before the tsNet connection is closed so it is possible to accessthe recieved headers using the <a href="tsNetRetrHeaders_LCS_function.html">tsNetRetrHeaders</a> <a href="function_LCS_glossary.html">function</a></p><p>For futher details about this API see the <a href="http://docs.aws.amazon.com/AmazonS3/latest/API/v2-RESTBucketGET.html">AWS S3 REST API Documentation</a></p></td></tr><tr><td><b>Tags</b></td><td>networking,networking</td></tr></table></body></html>