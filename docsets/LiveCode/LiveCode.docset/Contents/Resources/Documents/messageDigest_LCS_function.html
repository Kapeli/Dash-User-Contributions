<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>messageDigest</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><table><tr><td colspan="2"><h1>messageDigest</h1></td></tr><tr><td><b>Type</b></td><td>function</td></tr><tr><td><b>Dictionary</b></td><td>LCS</td></tr><tr><td><b>Library</b></td><td>LiveCode Script</td></tr><tr><td><b>Syntax</b></td><td><pre><span class="function">messageDigest</span><span class="normal">(&lt;</span><span class="function">message</span><span class="normal">&gt;, &lt;digestType&gt;)</span></pre></td></tr><tr><td><b>Summary</b></td><td><p>Computes a cryptographic message digest.</p></td></tr><tr><td><b>Edition</b></td><td>Community</td></tr><tr><td><b>Introduced</b></td><td>9.0</td></tr><tr><td><b>OS</b></td><td>mac, windows, linux, ios, android</td></tr><tr><td><b>Platforms</b></td><td>desktop, server, mobile</td></tr><tr><td><b>Parameters</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>message</td><td></td><td><p>A <a href="binary_data_LCS_glossary.html">binary data</a> string.</p></td></tr><tr><td>digestType</td><td></td><td><p>The cryptographic hash function to use.</p><b>"SHA3-224": </b><br><b>"SHA3-256": </b><br><b>"SHA3-384": </b><br><b>"SHA3-512": </b><br><b>"SHA-224": </b><br><b>"SHA-256": </b><br><b>"SHA-384": </b><br><b>"SHA-512": </b><br><b>"SHA-1": </b>Use only for backwards compatibility<br><b>"MD5": </b>Use only for backwards compatibility<br></td></tr></table></td></tr><tr><td><b>Example</b></td><td><pre><b><span class="comment">-- Compute a message digest and store the result in "it"</span></b><b><span class="command">get</span></b><span class="normal"> </span><span class="function">messageDigest</span><span class="normal">(</span><span class="normal">"LiveCode"</span><span class="normal">, </span><span class="normal">"SHA3-256"</span><span class="normal">)</span></pre><pre><b><span class="comment">-- Compute a simplified hash-based message authentication code (HMAC)</span></b><b><span class="comment">-- for a message using SHA3-256.  Consider using the full RFC 2104</span></b><b><span class="comment">-- HMAC algorithm.</span></b><b><span class="command">put</span></b><span class="normal"> </span><span class="function">randomBytes</span><span class="normal">(</span><span class="normal">32</span><span class="normal">) </span><span class="function">into</span><span class="normal"> tKey </span><b><span class="comment">-- Save this key for later!</span></b><b><span class="command">put</span></b><span class="normal"> </span><span class="function">textEncode</span><span class="normal">(</span><span class="normal">"Try my LiveCode app"</span><span class="normal">, </span><span class="normal">"UTF-8"</span><span class="normal">) </span><span class="function">into</span><span class="normal"> tMessage</span><b><span class="command">get</span></b><span class="normal"> </span><span class="function">messageDigest</span><span class="normal">(tKey & </span><span class="function">messageDigest</span><span class="normal">(tKey & tMessage, \</span><span class="normal">            </span><span class="normal">"SHA3-256"</span><span class="normal">), </span><span class="normal">"SHA3-256"</span><span class="normal">)</span></pre><pre><b><span class="comment">-- You can use a message digest to detect changes in data.</span></b><b><span class="comment">-- For example, you could store the checksum alongside or as</span></b><b><span class="comment">-- part of a file on disk.</span></b><b><span class="command">put</span></b><span class="normal"> </span><span class="function">textEncode</span><span class="normal">(</span><span class="normal">"My very large data"</span><span class="normal">, </span><span class="normal">"UTF-8"</span><span class="normal">) </span><span class="function">into</span><span class="normal"> tOriginal</span><b><span class="command">put</span></b><span class="normal"> </span><span class="function">messageDigest</span><span class="normal">(tOriginal, </span><span class="normal">"SHA3-256"</span><span class="normal">) </span><span class="function">into</span><span class="normal"> tChecksum</span><b><span class="comment">-- ... some time later ...</span></b><b><span class="command">put</span></b><span class="normal"> </span><span class="function">textEncode</span><span class="normal">(</span><span class="normal">"My very laRge data"</span><span class="normal">, </span><span class="normal">"UTF-8"</span><span class="normal">) </span><span class="function">into</span><span class="normal"> tLoaded</span><b><span class="normal">if</span></b><span class="normal"> </span><span class="function">messageDigest</span><span class="normal">(tLoaded, </span><span class="normal">"SHA3-256"</span><span class="normal">) </span><span class="function">is</span><span class="normal"> </span><span class="function">not</span><span class="normal"> tChecksum <b>then</b></span><span class="normal">   </span><b><span class="command">put</span></b><span class="normal"> </span><span class="normal">"The data changed and may be corrupted!"</span><b><span class="normal">end</span></b><span class="normal"> <b>if</b></span></pre></td></tr><tr><td><b>Values</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>return</td><td></td><td><p>Returns the message digest of the <a href="message_LCS_glossary.html">message</a> as <a href="binary_data_LCS_glossary.html">binary data</a>.</p></td></tr></table></td></tr><tr><td><b>Related</b></td><td><b>Function</b>: <a href="md5digest_LCS_function.html">md5digest</a>, <a href="sha1digest_LCS_function.html">sha1digest</a>, <a href="textEncode_LCS_function.html">textEncode</a><br><b>Glossary</b>: <a href="binary_data_LCS_glossary.html">binary data</a>, <a href="checksum_LCS_glossary.html">checksum</a>, <a href="function_LCS_glossary.html">function</a>, <a href="platform_LCS_glossary.html">platform</a><br></td></tr><tr><td><b>Description</b></td><td><p>Compute a message digest of <a href="message_LCS_glossary.html">message</a> using the cryptographic hashfunction <b>digestType</b>.</p><p>A cryptographic hash function is a mathematical algorithm that mapsdata of an arbitrary length to a fixed-length <a href="binary_data_LCS_glossary.html">binary data</a> string.It has the special property that it is designed to be a one-wayfunction; if you are given the output of the cryptographic hashfunction (the &quot;message digest&quot;), it should be impossible to guess theinput to the function (the &quot;message&quot;).</p><p>Even a very small change to the <a href="message_LCS_glossary.html">message</a> will make a very largechange to the <a href="messageDigest_LCS_function.html">messageDigest</a>.  This makes it useful for whether datahas changed.</p><p>The <a href="messageDigest_LCS_function.html">messageDigest</a> <a href="function_LCS_glossary.html">function</a> can be used:</p><ul><li>as a <a href="checksum_LCS_glossary.html">checksum</a> to ensure that the <a href="message_LCS_glossary.html">message</a> has not been corruptedor modified in storage or transmission</li><li>as a &quot;fingerprint&quot; that summarizes the <a href="message_LCS_glossary.html">message</a></li><li>as part of an authentication system</li><li>to detect duplicate data</li></ul><p>The <a href="messageDigest_LCS_function.html">messageDigest</a> function supports the following standardisedcryptographic hash functions.  Numbers like &quot;256&quot;, &quot;384&quot; etc. indicatethe number of <a href="bit_LCS_glossary.html">bits</a> of binary data that the <a href="messageDigest_LCS_function.html">messageDigest</a>function returns; for example, if you specify the &quot;SHA3-256&quot;<b>digestType</b>, then <a href="messageDigest_LCS_function.html">messageDigest</a> will return 32 bytes of data.</p><table><thead><tr><th>Name</th><th><b>digestType</b></th><th>Notes</th></tr></thead><tbody><tr><td>MD5</td><td>&quot;MD5&quot;</td><td>MD5 is cryptographically broken and unsuitable for further use.  Do not use for security-critical purposes, unless required for backward compatibility with existing systems.</td></tr><tr><td>SHA-1</td><td>&quot;SHA-1&quot;</td><td>SHA-1 has been severely weakened and there are practical approaches for generating collisions.  Do not use for security-critical purposes, enless required for backward compatibility with existing systems.</td></tr><tr><td>SHA-2</td><td>&quot;SHA-224&quot;, &quot;SHA-256&quot;, &quot;SHA-384&quot;, &quot;SHA-512&quot;</td><td>SHA-2 has been found to have some minor weaknesses.</td></tr><tr><td>SHA-3</td><td>&quot;SHA3-224&quot;, &quot;SHA3-256&quot;, &quot;SHA3-384&quot;, &quot;SHA3-512&quot;</td><td>SHA-3 has no known weaknesses</td></tr></tbody></table><p>When generating a <a href="messageDigest_LCS_function.html">messageDigest</a> for a string, it is a good idea toencode it to binary data using the <a href="textEncode_LCS_function.html">textEncode</a> function.  Otherwise,the <a href="messageDigest_LCS_function.html">messageDigest</a> could be different, depending on the <a href="platform_LCS_glossary.html">platform</a> onwhich your application is running.</p><p>In some cases you may wish to use a irreversible, keyed one-waytransform of data, for example in a password storage scheme.  You canuse the <a href="messageDigest_LCS_function.html">messageDigest</a> function to implement a keyed-hash messageauthentication code, as described in <a href="https://tools.ietf.org/html/rfc2104">RFC2014</a>.</p></td></tr><tr><td><b>Tags</b></td><td>math</td></tr></table></body></html>