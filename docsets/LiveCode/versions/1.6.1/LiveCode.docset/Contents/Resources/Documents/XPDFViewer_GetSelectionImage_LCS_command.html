<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>XPDFViewer_GetSelectionImage</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><table><tr><td colspan="2"><h1>XPDFViewer_GetSelectionImage</h1></td></tr><tr><td><b>Type</b></td><td>command</td></tr><tr><td><b>Dictionary</b></td><td>LCS</td></tr><tr><td><b>Library</b></td><td>LiveCode Script</td></tr><tr><td><b>Syntax</b></td><td><pre>XPDFViewer_GetSelectionImage &lt;viewerName&gt;, &lt;variableName&gt;</pre></td></tr><tr><td><b>Associations</b></td><td>xpdf</td></tr><tr><td><b>Summary</b></td><td><p>This command sets the value of a named variable to the imageData of the current image selection.</p></td></tr><tr><td><b>Introduced</b></td><td>1.0.0</td></tr><tr><td><b>OS</b></td><td>mac, windows</td></tr><tr><td><b>Platforms</b></td><td>desktop</td></tr><tr><td><b>Parameters</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>viewerName</td><td></td><td><p>The name of the viewer.</p></td></tr></table></td></tr><tr><td><b>Example</b></td><td><pre>local tImageDataXPDFViewer_GetSelectionImage "Document1", "tImageData"put the result into tSizeset the width of image "selection" to item 1 of tSizeset the height of image "selection" to item 2 of tSizeset the imageData of image "selection" to tImageData</pre></td></tr><tr><td><b>Values</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>return</td><td></td><td><p>The image width, height in pixels.</p></td></tr></table></td></tr><tr><td><b>Description</b></td><td><p>The selection is rendered at the current viewer scale. LiveCode imageData doesnot contain any width or height information so you must set the width and heightof the image correctly <em>before</em> setting the imageData. The command returns thesize (width, height) of the image. As the image is drawn at the current scale ofthe PDF view the width/height returned will not match the width/heightcalculated from <code>XPDFViewer_GetImageSelectionRect</code> on Mac retina and high DPIwindows systems.</p><p>The following errors may be thrown by the command:</p><ul><b><li>XPDF_ERROR:</b> incorrect number of parameters</li><b><li>XPDF_ERROR:</b> PDF viewer not found</li></ul></td></tr><tr><td><b>Tags</b></td><td>externals</td></tr></table></body></html>