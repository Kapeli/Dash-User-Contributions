<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>revQueryDatabase</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><table><tr><td colspan="2"><h1>revQueryDatabase</h1></td></tr><tr><td><b>Type</b></td><td>function</td></tr><tr><td><b>Dictionary</b></td><td>LCS</td></tr><tr><td><b>Library</b></td><td>LiveCode Script</td></tr><tr><td><b>Syntax</b></td><td><pre>revQueryDatabase(&lt;databaseID&gt;, &lt;SQLQuery&gt; [,{&lt;variablesList&gt; | &lt;arrayName&gt;}])</pre></td></tr><tr><td><b>Synonyms</b></td><td>revdb_query,revquerydatabaseblob</td></tr><tr><td><b>Associations</b></td><td>database library</td></tr><tr><td><b>Summary</b></td><td><p>Selects <a href="record_LCS_glossary.html">records</a> in a <a href="database_LCS_glossary.html">database</a> according to a <a href="SQL_query_LCS_glossary.html">SQL query</a>.</p></td></tr><tr><td><b>Introduced</b></td><td>1.1</td></tr><tr><td><b>Changes</b></td><td><p>The revQueryDatabase synonym was added in version 2.0.</p></td></tr><tr><td><b>OS</b></td><td>mac, windows, linux, ios, android</td></tr><tr><td><b>Platforms</b></td><td>desktop, server, mobile</td></tr><tr><td><b>Parameters</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>databaseID</td><td></td><td><p>The number returned by the revOpenDatabase function when the databasewas opened.</p></td></tr><tr><td>SQLQuery</td><td></td><td><p>A string in Structured Query Language that contains a SELECT statement.(Do not include a semicolon at the end of the SQLQuery.)</p></td></tr><tr><td>variablesList</td><td></td><td><p>The variablesList consists of one or more variable names (or expressionsthat evaluate to variable names), separated by commas. As of version2.9, each variable name can also be the name of an array element, forexample &quot;tInputData[myKey]&quot;.</p></td></tr><tr><td>arrayName</td><td></td><td><p>The name of a single array variable whose keys are sequentialnumbers.*Note:* The variable names or arrayName must be enclosed inquotes; otherwise, the variable&#39;s value rather than its name is passedto the revQueryDatabase function.</p></td></tr></table></td></tr><tr><td><b>Example</b></td><td><pre>revQueryDatabase(2, "SELECT * FROM EmpStats")</pre><pre>revQueryDatabase(currentDB, field "Query")</pre><pre>revQueryDatabase(the database of me, myQuery, "myVar1", "myVar2", \"myVar3")</pre><pre>revQueryDatabase(tConnectionId, tQuery, "tInputData[id]", \"tInputData[name]")</pre></td></tr><tr><td><b>Values</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>return</td><td></td><td><p>The <a href="revQueryDatabase_LCS_function.html">revQueryDatabase</a> <a href="function_LCS_glossary.html">function</a> returns a record set ID whichdesignates the record set (database cursor)(glossary) selected by the<b>SQLQuery</b>. The record set ID is an <a href="integer_LCS_glossary.html">integer</a>.</p></td></tr></table></td></tr><tr><td><b>Related</b></td><td><b>Keyword</b>: <a href="integer_LCS_keyword.html">integer</a>, <a href="element_LCS_keyword.html">element</a><br><b>Control Structure</b>: <a href="function_LCS_control_structure.html">function</a><br><b>Command</b>: <a href="revCloseCursor_LCS_command.html">revCloseCursor</a>, <a href="revExecuteSQL_LCS_command.html">revExecuteSQL</a><br><b>Function</b>: <a href="revDataFromQuery_LCS_function.html">revDataFromQuery</a>, <a href="revQueryIsAtStart_LCS_function.html">revQueryIsAtStart</a><br><b>Library</b>: <a href="Database_library_LCS_library.html">Database library</a><br><b>Glossary</b>: <a href="command_LCS_glossary.html">command</a>, <a href="LiveCode_custom_library_LCS_glossary.html">LiveCode custom library</a>, <a href="variable_LCS_glossary.html">variable</a>, <a href="element_LCS_glossary.html">element</a>, <a href="standalone_application_LCS_glossary.html">standalone application</a>, <a href="binary_file_LCS_glossary.html">binary file</a>, <a href="array_LCS_glossary.html">array</a>, <a href="prepend_LCS_glossary.html">prepend</a>, <a href="SQL_query_LCS_glossary.html">SQL query</a>, <a href="record_set__28database_cursor_29_LCS_glossary.html">record set (database cursor)</a>, <a href="return_value_LCS_glossary.html">return value</a>, <a href="record_LCS_glossary.html">record</a>, <a href="Standalone_Application_Settings_LCS_glossary.html">Standalone Application Settings</a>, <a href="database_LCS_glossary.html">database</a><br></td></tr><tr><td><b>Security</b></td><td>disk, network</td></tr><tr><td><b>Description</b></td><td><p>Use the <a href="revQueryDatabase_LCS_function.html">revQueryDatabase</a> <a href="function_LCS_glossary.html">function</a> to select <a href="record_LCS_glossary.html">records</a> in a<a href="database_LCS_glossary.html">database</a> to work on.</p><p>The <b>SQLQuery</b> may contain one or more placeholders, which aresequential numbers <a href="prepend_LCS_glossary.html">prepended</a> by a colon. The<a href="revQueryDatabase_LCS_function.html">revQueryDatabase</a> <a href="function_LCS_glossary.html">function</a> substitutes the corresponding variablename in the <b>variablesList</b> for each of these placeholders. For example,if you have two <a href="variable_LCS_glossary.html">variables</a> called &quot;valueX&quot; and &quot;valueY&quot;, youcan use a <b>SQLQuery</b> that includes placeholders as follows:</p><pre><code>get revQueryDatabase(myID, &quot;SELECT * FROM empStats WHERE id=:1&quot; &amp;&amp; \&quot;OR stat_id=:1 OR population=:2&quot;, &quot;valueX&quot;, &quot;valueY&quot;)</code></pre><p>The content of the variable valueX is substituted for the &quot;:1&quot; in the<b>SQLQuery</b> (in both places where &quot;:1&quot; appears), and the content ofvalueY is substituted for &quot;:2&quot;.</p><p>If you specify an <b>arrayName</b> rather than a list of ordinary<a href="variable_LCS_glossary.html">variables</a>, the <a href="revQueryDatabase_LCS_function.html">revQueryDatabase</a> function substitutes thecorresponding <a href="element_LCS_keyword.html">element</a> of the <a href="array_LCS_glossary.html">array</a> for each of theplaceholders in the <a href="SQL_query_LCS_glossary.html">query</a>:</p><pre><code>get revQueryDatabase(myID, &quot;SELECT :1,:2 FROM empStats WHERE&quot; &amp;&amp; \&quot;id=:1&quot;, &quot;myArray&quot;) </code></pre><p>The content of the element myArray[1] is substituted for the &quot;:1&quot; in the<b>SQLQuery</b> (in both places where &quot;:1&quot; appears), and the content ofmyArray[2] is substituted for &quot;:2&quot;.</p><p>To pass binary data in a variable in the <b>variablesList</b>, <a href="prepend_LCS_glossary.html">prepend</a> <code>&quot;*b&quot;</code>to the variable name. The <a href="revQueryDatabase_LCS_function.html">revQueryDatabase</a> <a href="function_LCS_glossary.html">function</a> strips thebinary marker <code>&quot;*b&quot;</code> and passes it to the database as binary data, ratherthan text data. To pass <a href="binary_file_LCS_glossary.html">binary data</a> in an <a href="array_LCS_glossary.html">array</a><a href="element_LCS_keyword.html">element</a>, prepend <code>&quot;*b&quot;</code> to the <a href="element_LCS_glossary.html">element&#39;s</a>value.  See <a href="revDataFromQuery_LCS_function.html">revDataFromQuery</a> for binary data examples.</p><Blockquote><p><b>Tip:</b>  To execute a <a href="SQL_query_LCS_glossary.html">SQL query</a> that does not return a <a href="record_set_LCS_database_cursor.html">record set</a> (such as INSERT or DELETE), use the<a href="revExecuteSQL_LCS_command.html">revExecuteSQL</a> <a href="command_LCS_glossary.html">command</a> instead. Since <a href="revExecuteSQL_LCS_command.html">revExecuteSQL</a> does notallocate storage for returned data, it is more efficient than<a href="revQueryDatabase_LCS_function.html">revQueryDatabase</a> for <a href="SQL_query_LCS_glossary.html">SQL queries</a> where no data isreturned. </p></Blockquote><p>If the query is not successful, the <a href="revQueryDatabase_LCS_function.html">revQueryDatabase</a> <a href="function_LCS_glossary.html">function</a>returns an error message. The error message is never an <a href="integer_LCS_glossary.html">integer</a>, soyou can check whether the query was successful by checking whether the<a href="return_value_LCS_glossary.html">return value</a> is an <a href="integer_LCS_glossary.html">integer</a> or not.</p><Blockquote><p><b>Important:</b>  The <a href="revQueryDatabase_LCS_function.html">revQueryDatabase</a> <a href="function_LCS_glossary.html">function</a> is part of the <a href="Database_library_LCS_library.html">Database library</a>. To ensure that the <a href="function_LCS_glossary.html">function</a> works in a <a href="standalone_application_LCS_glossary.html">standalone application</a>, you must include this <a href="LiveCode_custom_library_LCS_glossary.html">custom library</a> when you create your <a href="standalone_application_LCS_glossary.html">standalone</a>. In the Inclusions pane of the <a href="Standalone_Application_Settings_LCS_glossary.html">Standalone Application Settings</a> window, make sure both the &quot;Database&quot; library checkbox and those of the database drivers you are using are checked.</p></Blockquote></td></tr><tr><td><b>Tags</b></td><td>database</td></tr></table></body></html>