<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>Map</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><h1>Map Widget</h1><p>The map widget displays an interactive map control. It uses the Google Maps API on Android, and the MapKit Framework on iOS and 64bit Mac.</p><p>Mac / iOS</p><p><img src="1images/map.png" alt="Map widget on Mac"/></p><p>Android</p><p><img src="1images/map-android.png" alt="Map widget on Android"/></p><h3><a name="//apple_ref/cpp/Guide/Creating a Map" class="dashAnchor"></a>Creating a Map</h3><p>A map widget can be created by dragging it out from the Tools Palette, where it appears with the following icon:</p><p><svg viewBox="0 0 1000 500" style="display:block;margin:auto" width="auto" height="50">  <path d="M256,0C167.641,0,96,71.625,96,160c0,24.75,5.625,48.219,15.672,69.125C112.234,230.313,256,512,256,512l142.594-279.375   C409.719,210.844,416,186.156,416,160C416,71.625,344.375,0,256,0z M256,256c-53.016,0-96-43-96-96s42.984-96,96-96   c53,0,96,43,96,96S309,256,256,256z" /></svg></p><p>Alternatively it can be created in script using:</p><pre><code>create widget as &quot;com.livecode.widget.native.map&quot;</code></pre><h3><a name="//apple_ref/cpp/Guide/Using the Map Widget" class="dashAnchor"></a>Using the Map Widget</h3><h3><a name="//apple_ref/cpp/Guide/Properties" class="dashAnchor"></a>Properties</h3><p>In addition to the basic map view which can be navigated using the standard gestures, the map widget can display markers and polyline overlays.</p><p>Both of these properties are arrays, with a key for each marker or polyline, and with subkeys specifying the individual properties of thatmarker or polyline.</p><p>For example, here is some code setting a marker and a polyline on a map:</p><pre><code>local tMarkersput &quot;55.9533,-3.1883&quot; into tMarkers[&quot;edinburgh&quot;][&quot;coordinates&quot;]put &quot;Edinburgh&quot; into tMarkers[&quot;edinburgh&quot;][&quot;title&quot;]set the markers of widget 1 to tMarkerslocal tPolylinesput &quot;55,-3,55,-5&quot; into tPolylines[&quot;line&quot;][&quot;coordinates&quot;]put &quot;10&quot; into tPolylines[&quot;line&quot;][&quot;width&quot;]put &quot;228,128,0,100&quot; into tPolylines[&quot;line&quot;][&quot;color&quot;]set the polylines of widget 1 to tPolylines</code></pre><p>This produces the following:</p><p><img src="1images/properties.png" alt="Map widget with marker and polyline"/></p><p>The array key used to specify a marker is its <em>tag</em>, which is used toidentify the marker when sending the <code>markerSelected</code> message when it isselected.</p><p>The <code>region</code> property consists of the <code>centerCoordinates</code> property followed by the <code>span</code> property - i.e. it is a comma delimited list specifying the coordinates of the center of the map (latitude and longitude, in degrees north and east respectively) and the vertical and horizontal delta in degrees from the to the sides of the map view.</p><h3><a name="//apple_ref/cpp/Guide/Messages" class="dashAnchor"></a>Messages</h3><p>The map widget sends the following messages:* <code>markerSelected pMarkerTag</code> - Sent when a map marker is selected. <code>pMarkerTag</code> is the selected marker&#39;s tag (i.e. the array key corresponding to the marker)* <code>regionChanged</code> - Sent when the map region changes due to user gestures.</p><h3><a name="//apple_ref/cpp/Guide/Deploying on Android" class="dashAnchor"></a>Deploying on Android</h3><p>In order to use the map widget on Android, you must create a Google Maps V2 API key for your app, and set it in the standalone settings for the map widget via the cog icon in the Inclusions pane of the standalone settings stack.</p><p><img src="1images/standalone-settings.png" alt="Standalone settings inclusions"/></p><p>When the cog icon is clicked, the following window will pop up:</p><p><img src="1images/api-key.png" alt="API Key field"/></p><p>Simply enter your API key and you are ready to deploy to Android.</p></body></html>