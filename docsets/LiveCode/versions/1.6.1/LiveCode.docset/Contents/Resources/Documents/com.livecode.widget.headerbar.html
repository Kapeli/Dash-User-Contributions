<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>Header Bar</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><h1>Header Bar Widget</h1><p>The header bar widget can be used to allow the user to navigate around your app and take actions, providing a visual structure to your app.The widget emulates the iOS navigation bar and the Android app bar. If you are working on Mac a header bar widget will be themed like an iOS navigation bar, if you are working on Windows or Linux it will be themed like an Android app bar.</p><p>Windows / Linux / Android</p><p><img src="29images/header.png" alt="Windows header"/></p><p>Mac / iOS</p><p><img src="29images/mac-header.png" alt="Mac header"/></p><p>For example in the iOS Clock app the header bar allows the user to choose to edit or add an alarm by navigating to another screen within the Alarm section of the app.</p><p><img src="29images/clock.png" alt="Clock app header"/></p><p>As well as navigating around the app the header bar can also be used to provide access to options such as search, save and delete.</p><h3><a name="//apple_ref/cpp/Guide/Creating a Header Bar" class="dashAnchor"></a>Creating a Header Bar</h3><p>A header bar widget can be created by dragging it out from the ToolsPalette, where it appears with the following icon:</p><p><svg viewBox="0 0 80 30" style="display:block;margin:auto" width="auto" height="50">  <path d="M0,0v29.5h80.2V0H0z M13.2,20.6l-1.8,1.8l-7.5-7.5l0.1-0.1l-0.1-0.1l7.5-7.5l1.8,1.8l-5.8,5.8L13.2,20.6z M31.2,10.9h-3.8v10.3h-2.6V10.9H21V8.7h10.2V10.9z M34.7,21.2h-2.5v-9.3h2.5V21.2z M34.7,10.8h-2.5V8.6h2.5V10.8z M41.3,13.7h-1.5v4.9c0,0.4,0,0.6,0.1,0.7c0.1,0.1,0.4,0.1,0.9,0.1c0.1,0,0.2,0,0.2,0s0.2,0,0.2,0v1.8l-1.1,0c-1.1,0-1.9-0.2-2.3-0.6c-0.3-0.3-0.4-0.7-0.4-1.3v-5.7h-1.3V12h1.3V9.4h2.4V12h1.5V13.7z M45.4,21.2h-2.4V8.7h2.4V21.2z M56.2,17.3h-6.8c0,0.9,0.4,1.6,1,2c0.4,0.2,0.8,0.3,1.3,0.3c0.6,0,1-0.1,1.3-0.4c0.2-0.2,0.4-0.4,0.5-0.6h2.5c-0.1,0.6-0.4,1.1-0.9,1.7c-0.8,0.9-2,1.4-3.5,1.4c-1.2,0-2.3-0.4-3.3-1.1c-0.9-0.8-1.4-2-1.4-3.7c0-1.6,0.4-2.8,1.3-3.7c0.9-0.9,2-1.3,3.3-1.3c0.8,0,1.5,0.1,2.2,0.4c0.6,0.3,1.2,0.7,1.6,1.4c0.4,0.6,0.6,1.2,0.7,1.9c0,0,0,0.1,0,0.1h-2.5c-0.1-0.6-0.3-1-0.6-1.4c-0.4-0.3-0.9-0.5-1.4-0.5c-0.6,0-1.1,0.2-1.4,0.5c-0.3,0.4-0.6,0.8-0.6,1.4h3.1h1.1h2.5C56.2,16.1,56.2,16.6,56.2,17.3z M76.1,16.2h-4.6v4.6h-3v-4.6h-4.6v-3h4.6V8.7h3v4.6h4.6V16.2z" /></svg></p><p>Alternatively it can be created in script using:</p><pre><code>create widget as &quot;com.livecode.widget.headerbar&quot;</code></pre><h3><a name="//apple_ref/cpp/Guide/Using the Header Bar" class="dashAnchor"></a>Using the Header Bar</h3><p>The header bar gets a <code>mouseUp</code> message when it is clicked on, you handle this message to take the appropriate action for the chosen action.</p><p>The default <code>mouseUp</code> handler of the header bar is</p><pre><code>on mouseUp   local tActionName   put the mouseAction of me into tActionName   if tActionName is not empty then      -- Execute script triggered by the given action   end ifend mouseUp</code></pre><p>Firstly we get the value of the <code>mouseAction</code> property, which gives us the name of the header action that was just clicked, allowing us to do something different depending of what action was clicked. For example</p><pre><code>on mouseUp   local tActionName   put the mouseAction of me into tActionName   if tActionName is &quot;back&quot; then      go to card &quot;messageList&quot;   else if tAction is &quot;add&quot; then      go to card &quot;newMessage&quot;   end ifend mouseUp</code></pre><blockquote><p><strong>Note:</strong> it is import to remember that the <code>mouseAction</code> property gives you the action name, not the label. Both can be set in the Property Inspector.</p></blockquote><p><img src="29images/pi-1.png" alt="Property Inspector 1"/></p><p>The label is the text that is displayed for an action, when the Action display style is set to “text”. The name is the name of the action, as returned by the <code>mouseAction</code> property.</p><h3><a name="//apple_ref/cpp/Guide/Customising the Header Bar" class="dashAnchor"></a>Customising the Header Bar</h3><p>The actions displayed in the header bar, and the appearance of the header bar itself, can be controlled using the Property Inspector.</p><p>The header bar can: </p><ul><li>Show a title</li><li>Have the first action on the left</li><li>Have an opaque background</li><li>Have a bottom border</li><li>Use icons or text for displaying actions</li></ul><p>The Property Inspector also allows you to set up all the actions that are shown on the header bar, setting the label, icon and highlight icon for each action and allowing you to reorder, add and delete actions.</p><p><img src="29images/pi-2.png" alt="Property Inspector 2"/></p><p>When one of the icons is clicked, a scrollable icon picker is popped up to allow you to choose a new icon. The current selection is highlighted as shown.</p><p><img src="29images/icon-picker.png" alt="Icon picker"/></p><p>The icon and highlighted icon can be different, to allow further visual feedback about what is currently selected.</p><p>The colors of the navigation bar are controlled by the <code>foregroundColor</code>, <code>backgroundColor</code>, <code>borderColor</code>, and <code>hiliteColor</code> properties as usual for LiveCode controls. Changing these properties allows you to customise the header bar to fit in with the design of your app.</p><p>## Examples</p><p>Messages Header</p><p><img src="29images/android-messages.png" alt="Messages app header Android"/><img src="29images/ios-messages.png" alt="Messages app header iOS"/></p><p>Notes Header</p><p><img src="29images/android-notes.png" alt="Notes app header Android"/><img src="29images/ios-notes.png" alt="Notes app header iOS"/></p><h3><a name="//apple_ref/cpp/Guide/Scripting" class="dashAnchor"></a>Scripting</h3><p>Beyond handling the <code>mouseUp</code> message and using the <code>mouseAction</code> property to act on the selected action the other thing you might want to do with your header is to update it depending on the state of the app. For example if you choose to edit an item in a list the header options might change to “cancel” and “save”, or similar. You can change the header actions in script by setting the <code>itemLabels</code>, <code>itemNames</code>, <code>itemIcons</code> or <code>hilitedItemIcons</code> properties of the header bar widget. The values of these properties are comma-delimited lists and can be updated using chunk expressions.</p><p>This example shows how to switch a header bar action between “edit” and “done”</p><p><img src="29images/header-change-1.png" alt="Header bar edit"/><img src="29images/header-change-2.png" alt="Header bar done"/></p><pre><code>on mouseUp    local tActionName, tActionNames, tActionLabels    put the mouseAction of me into tActionName     put the itemNames of me into tActionNames     put the itemLabels of me into tActionLabels     if tActionName is &quot;edit&quot; then         put &quot;done&quot; into item 2 of tActionNames         put &quot;Done&quot; into item 2 of tActionLabels         set the itemNames of me to tActionNames         set the itemLabels of me to tActionLabels     else if tActionName is &quot;done&quot; then         put &quot;edit&quot; into item 2 of tActionNames         put &quot;Edit&quot; into item 2 of tActionLabels         set the itemNames of me to tActionNames         set the itemLabels of me to tActionLabels     end if end mouseUp</code></pre><h3><a name="//apple_ref/cpp/Guide/Switching Theme" class="dashAnchor"></a>Switching Theme</h3><p>Setting the <code>theme</code> of the header bar to &quot;Android&quot; or &quot;iOS&quot; will temporarily display it using the metrics of the chosen platform. Thisproperty is transient - it is not saved with the stack as it uses the appropriate mobile theme for the platform is is running on.</p></body></html>