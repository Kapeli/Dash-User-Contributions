<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>Tree View</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><h1>Tree View</h1><p>The tree view widget provides a way to represent a LiveCode array visually in various ways. In its simplest form, it allows selection ofkey/value pairs, and folding and unfolding of nested arrays.</p><p><img src="26images/treeview.png" alt="Tree View widget"/></p><h3><a name="//apple_ref/cpp/Guide/Creating a Tree View" class="dashAnchor"></a>Creating a Tree View</h3><p>A tree view widget can be created by dragging it out from the ToolsPalette, where it appears with the following icon:</p><p><svg viewBox="0 170 220 110" style="display:block;margin:auto" width="auto" height="50">  <path d="M152.4,249.7c-6.4,0-11.8,4.3-13.5,10.1h-10v-26.7h10c1.7,5.8,7.1,10.1,13.5,10.1c7.8,0,14.1-6.3,14.1-14.1s-6.3-14.1-14.1-14.1c-6.4,0-11.8,4.3-13.5,10.1h-10v-16.1c8.4-1.8,14.8-9.3,14.8-18.3c0-10.4-8.4-18.8-18.8-18.8s-18.8,8.4-18.8,18.8c0,9,6.3,16.5,14.7,18.3v58.8h18c1.7,5.8,7.1,10.1,13.5,10.1c7.8,0,14.1-6.3,14.1-14.1S160.2,249.7,152.4,249.7z M128.7,202h-7.5v-7.5h-7.5V187h7.5v-7.5h7.5v7.5h7.5v7.5h-7.5V202z" /></svg></p><p>Alternatively it can be created in script using:</p><pre><code>create widget as &quot;com.livecode.widget.treeview&quot;</code></pre><h3><a name="//apple_ref/cpp/Guide/Using the Tree View" class="dashAnchor"></a>Using the Tree View</h3><p>The content of the tree view is controlled by using the <code>arrayData</code> property. The following handlers can be used to set and get data on a specific <code>pathDelimiter</code>-delimited path rather than the whole array:</p><pre><code>command setArrayDataOnPath pValue, pPath, @xArray   local tKey   set the itemdelimiter to the pathDelimiter of widget 1 of me   put item 1 of pPath into tKey   if the number of items in pPath is 1 then      put pValue into xArray[tKey]   else      delete item 1 of pPath      setArrayDataOnPath pValue, pPath, xArray[tKey]   end ifend setArrayDataOnPathcommand fetchArrayDataOnPath pPath, pArray, @rData   local tKey   set the itemdelimiter to the pathDelimiter of widget 1 of me   put item 1 of pPath into tKey   if the number of items in pPath is 1 then      if tKey is not among the keys of pArray then         return &quot;no such key&quot;      else         put pArray[tKey] into rData         return empty      end if   else      delete item 1 of pPath      fetchArrayDataOnPath pPath, pArray[tKey], rData   end ifend fetchArrayDataOnPath</code></pre><h3><a name="//apple_ref/cpp/Guide/Display Properties" class="dashAnchor"></a>Display Properties</h3><p>The tree view widget has a number of display options:</p><ul><li><code>alternateRowBackgrounds</code> - Whether the alternate rows of the widget have different backgrounds or not.</li><li><code>hilitedElement</code> - The selected row, given by a <code>pathDelimiter</code>-delimited path.</li><li><code>readOnly</code> - Whether the options to modify elements of the underlying array are present or not. See the <a href="#edit-mode">Edit Mode</a> section for more information on what is not visible in read-only mode.</li><li><code>separatorRatio</code> - Manipulates the size of the view columns.</li><li><code>showBorder</code> - Whether the widget has a border or not.</li><li><code>showSeparator</code> - Whether the separator bar between keys and values is showing or not.</li><li><code>sortOrder</code> - Manipulates the order in which elements of the tree view are displayed, with respect to the current <code>sortType</code>.</li><li><code>sortType</code> - Manipulates the type of ordering in which elements of the tree view are displayed.</li><li><code>arrayStyle</code> - Whether the tree view should display its contents in array style or as a standard tree view.</li></ul><h3><a name="//apple_ref/cpp/Guide/Edit Mode" class="dashAnchor"></a>Edit Mode</h3><p>When in edit mode, there are a number of additional user-interactions available. The following two show at the end of a given line when the mouse hovers over it:</p><ul><li>Delete keys</li></ul><p><img src="26images/edit-delete.png" alt="Delete array key"/></p><p>When the delete icon is clicked, the user is asked for confirmation todelete the key in question.</p><p><img src="26images/edit-delete-confirm.png" alt="Delete array key confirm"/></p><ul><li>Add new sub-keys</li></ul><p>Clicking the plus icon adds a new numerically named key underneath the nested array that was clicked. When the row contains a text value, thatvalue is discarded and a new nested array created at the chosen key.</p><p><img src="26images/edit-add-new-subelement.png" alt="Add new subkey"/></p><p>The final one is always visible as the top row:</p><ul><li>Add new top-level keys</li></ul><p>Clicking the &#39;Add new element&#39; row that is displayed in edit mode addsa new default top-level key to the array. It has a numeric key.</p><p><img src="26images/edit-add-new.png" alt="Add new key"/></p><blockquote><p><strong>Note:</strong> As LCB does not yet allow text input, there is no way to allow a user to edit the keys and values inline. In order to provide such functionality, you would have to create fields and track the current <code>hilitedElement</code>.</p></blockquote><h3><a name="//apple_ref/cpp/Guide/Messages" class="dashAnchor"></a>Messages</h3><p>The widget sends a number of messages in response to actions. When the underlying data changes, a <code>dataChanged</code> message is sent. This is handy when the widget is not <code>readOnly</code> and therefore the content can be changed by user interaction. </p><p>The <code>hiliteChanged</code> message is sent when the user clicks on a row to select or deselect it.</p><p>When a row is double-clicked, an <code>actionDoubleClick</code> message is sent. The <code>actionInspect</code> message is sent when the inspect icon is clicked - this icon is displayed when the tree view value is too long to be displayed, or contains multiple lines.</p><p><img src="26images/action-inspect.png" alt="Inspect"/></p></body></html>