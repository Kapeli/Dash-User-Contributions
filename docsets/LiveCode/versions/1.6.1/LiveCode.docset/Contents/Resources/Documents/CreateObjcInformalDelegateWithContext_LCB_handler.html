<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><title>CreateObjcInformalDelegateWithContext</title><link rel="stylesheet" type="text/css" href="userguide.css" /></head><body><table><tr><td colspan="2"><h1>CreateObjcInformalDelegateWithContext</h1></td></tr><tr><td><b>Type</b></td><td>handler</td></tr><tr><td><b>Dictionary</b></td><td>LCB</td></tr><tr><td><b>Library</b></td><td>LiveCode Builder</td></tr><tr><td><b>Syntax</b></td><td><pre>CreateObjcInformalDelegateWithContext(&lt;pProtocol&gt;,&lt;pHandlerMapping&gt;,&lt;pContext&gt;)</pre></td></tr><tr><td><b>Associations</b></td><td>com.livecode.objc</td></tr><tr><td><b>Summary</b></td><td><p>Create an Objective-C object with LCB implementations of methods of an informal protocol.</p></td></tr><tr><td><b>Parameters</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>pProtocol</td><td></td><td><p>A list of foreign handlers which bind to protocol methods</p></td></tr><tr><td>pHandlerMapping</td><td></td><td><p>A mapping from the protocol&#39;s selector names to LCB handlers</p></td></tr></table></td></tr><tr><td><b>Example</b></td><td><pre>foreign handler Objc_NSPortMessageGetMsgId(in pMessage as ObjcId) returns UInt32 \    binds to "objc:NSPort.-msgid"<p></p>handler HandlePortMessageCallback(in pPortIndex as Integer, in pMessage as ObjcId) returns nothing    post "portMessage" with [mPortList[pPortIndex]["name"], \                             Objc_NSPortMessageGetMsgId(pMessage)]end handler<p></p>foreign handler Objc_NSPortDelegateHandlePortMessage(in pTarget as ObjcId, in pPortMessage as ObjcId) returns nothing \    binds to "objc:.-handlePortMessage:"<p></p>public handler GetNSPortDelegate(in pPortIndex as Integer)    return CreateObjcInformalDelegateWithContext([Objc_NSPortDelegateHandlePortMessage], \                                                 { "handlePortMessage:": \                                                   HandlePortMessageCalback }, \                                                 pPortIndex)end handler</pre></td></tr><tr><td><b>Values</b></td><td><table class="inner"><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>return</td><td></td><td><p>An Objective-C object which calls the appropriate LCB handleron receiving any of the specified selectors. </p></td></tr></table></td></tr><tr><td><b>Related</b></td><td><b>Handler</b>: <a href="CreateObjcDelegate_LCB_handler.html">CreateObjcDelegate</a>, <a href="CreateObjcDelegateWithContext_LCB_handler.html">CreateObjcDelegateWithContext</a>, <a href="CreateObjcInformalDelegate_LCB_handler.html">CreateObjcInformalDelegate</a><br></td></tr><tr><td><b>Description</b></td><td><p>Use the <a href="CreateObjcInformalDelegateWithContext_LCS_handler.html">CreateObjcInformalDelegateWithContext</a> handler to create instances of Objective-C delegate classes with LCB implementations of protocol methods, when the Protocol object cannot be found at runtime. This occurs for example when all of the protocol methods are optional. </p><p>Instead of a protocol name (as with <a href="CreateObjcDelegateWithContext_LCS_handler.html">CreateObjcDelegateWithContext</a>), the <b>pProtocol</b> argument of <a href="CreateObjcInformalDelegateWithContext_LCS_handler.html">CreateObjcInformalDelegateWithContext</a> must be a proper list of foreign handlers for each of the methods of the protocol for which LCB callbacks are provided in the <b>pHandlerMapping</b> array.</p><p>Once created an informal delegate can be set in the usual way on an instance of the appropriate class (by binding to <code>-setDelegate:</code>), typically so that callbacks triggered by user interaction with a widget can be handled in LCB.</p><p>If no context is required to be passed as a parameter to the callback,use <a href="CreateObjcInformalDelegate_LCS_handler.html">CreateObjcInformalDelegate</a>.</p><p>If the protocol can be resolved at runtime, it is generally easier to use the <a href="CreateObjcDelegateWithContext_LCS_handler.html">CreateObjcDelegateWithContext</a> handler.</p></td></tr></table></body></html>