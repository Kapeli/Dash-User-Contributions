<!DOCTYPE HTML PUBLIC "-//W3O//DTD W3 HTML 2.0//EN">
<!Converted with LaTeX2HTML 95.1 (Fri Jan 20 1995) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds >

<!-- Mirrored from www.opengl.org/resources/libraries/glut/spec3/node90.html by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 06 Nov 2013 03:18:15 GMT -->
<HEAD>
<TITLE>12 Usage Advice</TITLE>
</HEAD>
<BODY>
<meta name="description" value="12 Usage Advice">
<meta name="keywords" value="spec3">
<meta name="resource-type" value="document">
<meta name="distribution" value="global">
<P>
 <BR> <HR><A NAME=tex2html1533 HREF="node91.html"><IMG ALIGN=BOTTOM ALT="next" SRC="icons/next_motif.gif"></A>   <A NAME=tex2html1531 HREF="spec3.html"><IMG ALIGN=BOTTOM ALT="up" SRC="icons/up_motif.gif"></A>   <A NAME=tex2html1525 HREF="node89.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="icons/previous_motif.gif"></A>   <A NAME=tex2html1535 HREF="node1.html"><IMG ALIGN=BOTTOM ALT="contents" SRC="icons/contents_motif.gif"></A>   <A NAME=tex2html1536 HREF="node113.html"><IMG ALIGN=BOTTOM ALT="index" SRC="icons/index_motif.gif"></A>   <BR>
<B> Next:</B> <A NAME=tex2html1534 HREF="node91.html">13 FORTRAN Binding</A>
<B>Up:</B> <A NAME=tex2html1532 HREF="spec3.html">GLUT APIversion 3</A>
<B> Previous:</B> <A NAME=tex2html1526 HREF="node89.html">11.9 glutSolidTeapotglutWireTeapot</A>
<BR> <HR> <P>
<H1><A NAME=SECTION000130000000000000000>12 Usage Advice</A></H1>
<P>
There are a number of points to keep in mind when writing GLUT
programs.  Some of these are strong recommendations, others simply
hints and tips.
<P>
<UL><LI>
Do not change state that will affect the way a window
will be drawn in a window's display callback.
Your display callbacks should be idempotent.
<P>
<LI>
If you need to redisplay a window, instead of rendering in
whatever callback you happen to be in, call <A NAME=1676>&#160;</A> <tt> glutPostRedisplay</tt>
(or <A NAME=1678>&#160;</A> <tt> glutPostRedisplay</tt> for overlays).
As a general rule, the only code that renders directly to the screen
should be in called from display callbacks; other types of callbacks
should not be rendering to the screen.
<P>
<LI>
If you use an idle callback to control your animation, use the
visibility callbacks to determine when the window is fully obscured
or iconified to determine when not to waste processor time rendering.
<P>
<LI>
Neither GLUT nor the window system automatically reshape sub-windows.
If subwindows should be reshaped to reflect a reshaping of the
top-level window, the GLUT program is responsible for doing this.
<P>
<LI>
Avoid using color index mode if possible.  The RGBA
color model is more functional, and it is less likely to cause colormap
swapping effects.
<P>
<LI>
Do not call any GLUT routine that affects the <em> current window</em> or
<em> current menu</em> if there is no <em> current window</em> or <em> current
menu</em> defined.  This can be the case at initialization time (before any
windows or menus have been created) or if your destroy the <em>
current window</em> or <em> current menu</em>.  GLUT implementations are not
obliged to generate a warning because doing so would slow down the
operation of every such routine to first make sure there was a <em>
current window</em> or <em> current menu</em>.
<P>
<LI>
For most callbacks, the <em> current window</em> and/or <em> current menu</em> is
set appropriately at the time of the callback.  Timer and idle callbacks
are exceptions.  If your application uses multiple windows or menus,
make sure you explicitly you set the <em> current
window</em> or <em> menu</em> appropriately using <A NAME=1692>&#160;</A> <tt> glutSetWindow</tt> or
<A NAME=1694>&#160;</A> <tt> glutSetMenu</tt> in the idle and timer callbacks.
<P>
<LI>
If you register a single function as a callback routine for multiple
windows, you can call <A NAME=1696>&#160;</A> <tt> glutGetWindow</tt> within the callback to
determine what window generated the callback.  Likewise, <A NAME=1698>&#160;</A> <tt> glutGetMenu</tt> can be called to determine what menu.
<P>
<LI>
By default, timer and idle callbacks may be called while a
pop-up menu is active.  On slow machines, slow rendering in an idle
callback may compromise menu performance.  Also, it may be desirable
for motion to stop immediately when a menu is triggered.  In this
case, use the menu entry/exit callback set with <A NAME=1700>&#160;</A> <tt> glutMenuStateFunc</tt>
to track the usage of pop-up menus.
<P>
<LI>
Do not select for more input callbacks than you actually
need.  For example, if you do not need motion or passive motion
callbacks, disable them by passing <tt> NULL</tt> to their callback
register functions.  Disabling input callbacks allows the GLUT
implementation to limit the window system input events that must
be processed.
<P>
<LI>
Not every OpenGL implementation supports the same range of
frame buffer capabilities, though minimum requirements for
frame buffer capabilities do exist.  If <A NAME=1703>&#160;</A> <tt> glutCreateWindow</tt>
or <A NAME=1705>&#160;</A> <tt> glutCreateSubWindow</tt> are called with an <em> initial
display mode</em> not supported by the OpenGL implementation,
a fatal error will be generated with an explanatory message.
To avoid this, <tt> <A NAME=1708>&#160;</A> glutGet(GLUT_DISPLAY_MODE_POSSIBLE)</tt>
should be called to determine if the <em> initial
display mode</em> is supported by the OpenGL implementation.
<P>
<LI>
The Backspace, Delete, and Escape keys generate ASCII characters, so detect
these key presses with the <A NAME=1710>&#160;</A> <tt> glutKeyboardFunc</tt> callback, not
with the <A NAME=1712>&#160;</A> <tt> glutSpecialFunc</tt> callback.
<P>
<LI>
Keep in mind that when a window is damaged, you should assume <em> all</em>
of the ancillary buffers are damaged and redraw them all.
<P>
<LI>
Keep in mind that after a <A NAME=1715>&#160;</A> <tt> glutSwapBuffers</tt>, you should assume
the state of the back buffer becomes undefined.
<P>
<LI>
If not using <tt> glutSwapBuffers</tt> for double buffered animation,
remember to use <A NAME=1718>&#160;</A> <tt> glFlush</tt> to make sure rendering requests
are dispatched to the frame buffer.  While many OpenGL implementations
will automatically flush pending commands, this is specifically not
mandated.
<P>
<LI>
Remember that it is illegal to create or destroy menus or change, add, or
remove menu items while a menu (and any cascaded sub-menus) are in use
(that is, ``popped up'').  Use the menu status callback to know when to
avoid menu manipulation.
<P>
<LI>
It is more efficient to use <tt> glutHideOverlay</tt> and <tt> glutShowOverlay</tt>
to control the display state of a window's overlay instead of removing
and re-establishing an overlay every time an overlay is needed.
<P>
<LI>
Few workstations have support for multiple simultaneously installed
overlay colormaps.  For this reason, if an overlay is cleared or
otherwise not be used, it is best to hide it using <tt>
glutHideOverlay</tt> to avoid other windows with active overlays from being
displayed with the wrong colormap.  If your application uses multiple
overlays, use <tt> glutCopyColormap</tt> to promote colormap sharing.
<P>
<LI>
If you are encountering GLUT warnings or fatal errors in your programs,
try setting a debugger break-point in <A NAME=1724>&#160;</A> <tt> __glutWarning</tt> or
<A NAME=1726>&#160;</A> <tt> __glutFatalError</tt> (though these names are potentially
implementation dependent) to determine where within your program the
error occurred.
<P>
<LI>
GLUT has no special routine for exiting the program.  GLUT programs
should use ANSI C's <tt> exit</tt> routine.  If a program needs
to perform special operations before quitting the program, use
the ANSI C <A NAME=1729>&#160;</A> <tt> onexit</tt> routine to register exit callbacks.  GLUT
will exit the program unilaterally when fatal errors occur or
when the window system requests the program to terminate.  For
this reason, avoid calling any GLUT routines within an exit
callback.
<P>
<LI>
Definitely, definitely, use the <tt> -gldebug</tt> option to look
for OpenGL errors when OpenGL rendering does not appear to
be operating properly.  OpenGL errors are only reported if
you explicitly look for them!
<P>
</UL><BR> <HR><A NAME=tex2html1533 HREF="node91.html"><IMG ALIGN=BOTTOM ALT="next" SRC="icons/next_motif.gif"></A>   <A NAME=tex2html1531 HREF="spec3.html"><IMG ALIGN=BOTTOM ALT="up" SRC="icons/up_motif.gif"></A>   <A NAME=tex2html1525 HREF="node89.html"><IMG ALIGN=BOTTOM ALT="previous" SRC="icons/previous_motif.gif"></A>   <A NAME=tex2html1535 HREF="node1.html"><IMG ALIGN=BOTTOM ALT="contents" SRC="icons/contents_motif.gif"></A>   <A NAME=tex2html1536 HREF="node113.html"><IMG ALIGN=BOTTOM ALT="index" SRC="icons/index_motif.gif"></A>   <BR>
<B> Next:</B> <A NAME=tex2html1534 HREF="node91.html">13 FORTRAN Binding</A>
<B>Up:</B> <A NAME=tex2html1532 HREF="spec3.html">GLUT APIversion 3</A>
<B> Previous:</B> <A NAME=tex2html1526 HREF="node89.html">11.9 glutSolidTeapotglutWireTeapot</A>
<BR> <HR> <P>
<BR> <HR>
<P><ADDRESS>
<I>Mark Kilgard <BR>
Fri Feb 23 08:05:02 PST 1996</I>
</ADDRESS>
</BODY>
