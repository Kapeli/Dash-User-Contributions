

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>9.4. Design Document Methods &mdash; Apache CouchDB 1.4 Manual</title>
<!-- RTD <head> -->
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" src="//media.readthedocs.org/javascript/underscore.js"></script>
<script type="text/javascript" src="//media.readthedocs.org/javascript/doctools.js"></script>

<script type="text/javascript">
  // This is included here for Javascript that doesn't have access to the templates.
  var doc_version = "1.4.x";
  var doc_slug = "couchdb";
  var page_name = "api/design";
</script>

<script type="text/javascript" src="//media.readthedocs.org/javascript/rtd.js"></script>
<!-- end RTD <head> -->

    
    <link rel="stylesheet" href="../_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Apache CouchDB 1.4 Manual" href="../index.html" />
    <link rel="up" title="9. API Reference" href="reference.html" />
    <link rel="next" title="9.5. Miscellaneous Methods" href="misc.html" />
    <link rel="prev" title="9.3. Local (non-replicating) Document Methods" href="local.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="misc.html" title="9.5. Miscellaneous Methods"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="local.html" title="9.3. Local (non-replicating) Document Methods"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Apache CouchDB 1.4 Manual</a> &raquo;</li>
          <li><a href="reference.html" accesskey="U">9. API Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="design-document-methods">
<span id="api-design"></span><h1>9.4. Design Document Methods<a class="headerlink" href="#design-document-methods" title="Permalink to this headline">¶</a></h1>
<p>In CouchDB, design documents provide the main interface for building a
CouchDB application. The design document defines the views used to
extract information from CouchDB through one or more views. Design
documents are created within your CouchDB instance in the same way as
you create database documents, but the content and definition of the
documents is different. Design Documents are named using an ID defined
with the design document URL path, and this URL can then be used to
access the database contents.</p>
<p>Views and lists operate together to provide automated (and formatted)
output from your database.</p>
<p>A list of the available methods and URL paths are provided below:</p>
<p>Design Document API Calls</p>
<div class="section" id="get-db-design-design-doc">
<h2>9.4.1. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc</span></tt><a class="headerlink" href="#get-db-design-design-doc" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><strong>Method</strong>: <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc</span></tt></p>
</li>
<li><p class="first"><strong>Request</strong>:  None</p>
</li>
<li><p class="first"><strong>Response</strong>:  JSON of the existing design document</p>
</li>
<li><p class="first"><strong>Admin Privileges Required</strong>: no</p>
</li>
<li><p class="first"><strong>Query Arguments</strong>:</p>
<ul>
<li><p class="first"><strong>Argument</strong>: rev</p>
<ul class="simple">
<li><strong>Description</strong>:  Specify the revision to return</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
<li><p class="first"><strong>Argument</strong>: revs</p>
<ul>
<li><p class="first"><strong>Description</strong>:  Return a list of the revisions for the document</p>
</li>
<li><p class="first"><strong>Optional</strong>: yes</p>
</li>
<li><p class="first"><strong>Type</strong>: boolean</p>
</li>
<li><p class="first"><strong>Supported Values</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><strong>true</strong>: Includes the revisions</li>
</ul>
</div></blockquote>
</li>
</ul>
</li>
<li><p class="first"><strong>Argument</strong>: revs_info</p>
<ul class="simple">
<li><strong>Description</strong>:  Return a list of detailed revision information for the
document</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: boolean</li>
<li><strong>Supported Values</strong>:<ul>
<li><strong>true</strong>: Includes the revisions</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Returns the specified design document, <tt class="docutils literal"><span class="pre">design-doc</span></tt> from the specified
<tt class="docutils literal"><span class="pre">db</span></tt>. For example, to retrieve the design document <tt class="docutils literal"><span class="pre">recipes</span></tt> you
would send the following request:</p>
<div class="highlight-http"><pre>GET http://couchdb:5984/recipes/_design/recipes
Content-Type: application/json</pre>
</div>
<p>The returned string will be the JSON of the design document:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;_design/recipes&quot;</span><span class="p">,</span>
   <span class="s2">&quot;_rev&quot;</span> <span class="o">:</span> <span class="s2">&quot;5-39f56a392b86bbee57e2138921346406&quot;</span>
   <span class="s2">&quot;language&quot;</span> <span class="o">:</span> <span class="s2">&quot;javascript&quot;</span><span class="p">,</span>
   <span class="s2">&quot;views&quot;</span> <span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;by_recipe&quot;</span> <span class="o">:</span> <span class="p">{</span>
         <span class="s2">&quot;map&quot;</span> <span class="o">:</span> <span class="s2">&quot;function(doc) { if (doc.title != null) emit(doc.title, doc) }&quot;</span>
      <span class="p">},</span>
   <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A list of the revisions can be obtained by using the <tt class="docutils literal"><span class="pre">revs</span></tt> query
argument, or an extended list of revisions using the <tt class="docutils literal"><span class="pre">revs_info</span></tt> query
argument. This operates in the same way as for other documents. Fur
further examples, see <a class="reference internal" href="documents.html#api-get-doc"><em>GET /db/doc</em></a>.</p>
</div>
<div class="section" id="put-db-design-design-doc">
<h2>9.4.2. <tt class="docutils literal"><span class="pre">PUT</span> <span class="pre">/db/_design/design-doc</span></tt><a class="headerlink" href="#put-db-design-design-doc" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">PUT</span> <span class="pre">/db/_design/design-doc</span></tt></li>
<li><strong>Request</strong>:  JSON of the design document</li>
<li><strong>Response</strong>:  JSON status</li>
<li><strong>Admin Privileges Required</strong>: no</li>
</ul>
<p>Upload the specified design document, <tt class="docutils literal"><span class="pre">design-doc</span></tt>, to the specified
database. The design document should follow the definition of a design
document, as summarised in the following table.</p>
<ul class="simple">
<li><strong>_id</strong>:  Design Document ID</li>
<li><strong>_rev</strong>:  Design Document Revision</li>
<li><strong>views</strong>:  View<ul>
<li><strong>viewname</strong>:  View Definition<ul>
<li><strong>map</strong>:  Map Function for View</li>
<li><strong>reduce (optional)</strong>:  Reduce Function for View</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>For more information on writing views, see <a class="reference internal" href="#views"><em>GET /db/_design/design-doc/_view/view-name</em></a>.</p>
</div>
<div class="section" id="delete-db-design-design-doc">
<h2>9.4.3. <tt class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/db/_design/design-doc</span></tt><a class="headerlink" href="#delete-db-design-design-doc" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/db/_design/design-doc</span></tt></li>
<li><strong>Request</strong>:  None</li>
<li><strong>Response</strong>:  JSON of deleted design document</li>
<li><strong>Admin Privileges Required</strong>: no</li>
<li><strong>Query Arguments</strong>:<ul>
<li><strong>Argument</strong>: rev<ul>
<li><strong>Description</strong>:  Current revision of the document for validation</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
</ul>
</li>
<li><strong>HTTP Headers</strong><ul>
<li><strong>Header</strong>: <tt class="docutils literal"><span class="pre">If-Match</span></tt><ul>
<li><strong>Description</strong>: Current revision of the document for validation</li>
<li><strong>Optional</strong>: yes</li>
</ul>
</li>
</ul>
</li>
<li><strong>Return Codes</strong>:<ul>
<li><strong>409</strong>:
Supplied revision is incorrect or missing</li>
</ul>
</li>
</ul>
<p>Delete an existing design document. Deleting a design document also
deletes all of the associated view indexes, and recovers the
corresponding space on disk for the indexes in question.</p>
<p>To delete, you must specify the current revision of the design document
using the <tt class="docutils literal"><span class="pre">rev</span></tt> query argument.</p>
<p>For example:</p>
<div class="highlight-http"><pre>DELETE http://couchdb:5984/recipes/_design/recipes?rev=2-ac58d589b37d01c00f45a4418c5a15a8
Content-Type: application/json</pre>
</div>
<p>The response contains the delete document ID and revision:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;recipe/_design/recipes&quot;</span>
   <span class="s2">&quot;ok&quot;</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
   <span class="s2">&quot;rev&quot;</span> <span class="o">:</span> <span class="s2">&quot;3-7a05370bff53186cb5d403f861aca154&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="copy-db-design-design-doc">
<h2>9.4.4. <tt class="docutils literal"><span class="pre">COPY</span> <span class="pre">/db/_design/design-doc</span></tt><a class="headerlink" href="#copy-db-design-design-doc" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">COPY</span> <span class="pre">/db/_design/design-doc</span></tt></li>
<li><strong>Request</strong>: None</li>
<li><strong>Response</strong>: JSON of the new document and revision</li>
<li><strong>Admin Privileges Required</strong>: no</li>
<li><strong>Query Arguments</strong>:<ul>
<li><strong>Argument</strong>: rev<ul>
<li><strong>Description</strong>:  Revision to copy from</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
</ul>
</li>
<li><strong>HTTP Headers</strong><ul>
<li><strong>Header</strong>: <tt class="docutils literal"><span class="pre">Destination</span></tt><ul>
<li><strong>Description</strong>: Destination document (and optional revision)</li>
<li><strong>Optional</strong>: no</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">COPY</span></tt> command (non-standard HTTP) copies an existing design
document to a new or existing document.</p>
<p>The source design document is specified on the request line, with the
<tt class="docutils literal"><span class="pre">Destination</span></tt> HTTP Header of the request specifying the target
document.</p>
<div class="section" id="copying-a-design-document">
<h3>9.4.4.1. Copying a Design Document<a class="headerlink" href="#copying-a-design-document" title="Permalink to this headline">¶</a></h3>
<p>To copy the latest version of a design document to a new document you
specify the base document and target document:</p>
<div class="highlight-http"><pre>COPY http://couchdb:5984/recipes/_design/recipes
Content-Type: application/json
Destination: /recipes/_design/recipelist</pre>
</div>
<p>The above request copies the design document <tt class="docutils literal"><span class="pre">recipes</span></tt> to the new
design document <tt class="docutils literal"><span class="pre">recipelist</span></tt>. The response is the ID and revision of
the new document.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;recipes/_design/recipelist&quot;</span>
   <span class="s2">&quot;rev&quot;</span> <span class="o">:</span> <span class="s2">&quot;1-9c65296036141e575d32ba9c034dd3ee&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Copying a design document does automatically reconstruct the view
indexes. These will be recreated, as with other views, the first
time the new view is accessed.</p>
</div>
</div>
<div class="section" id="copying-from-a-specific-revision">
<h3>9.4.4.2. Copying from a Specific Revision<a class="headerlink" href="#copying-from-a-specific-revision" title="Permalink to this headline">¶</a></h3>
<p>To copy <em>from</em> a specific version, use the <tt class="docutils literal"><span class="pre">rev</span></tt> argument to the query
string:</p>
<div class="highlight-http"><pre>COPY http://couchdb:5984/recipes/_design/recipes?rev=1-e23b9e942c19e9fb10ff1fde2e50e0f5
Content-Type: application/json
Destination: recipes/_design/recipelist</pre>
</div>
<p>The new design document will be created using the specified revision of
the source document.</p>
</div>
<div class="section" id="copying-to-an-existing-design-document">
<h3>9.4.4.3. Copying to an Existing Design Document<a class="headerlink" href="#copying-to-an-existing-design-document" title="Permalink to this headline">¶</a></h3>
<p>To copy to an existing document, you must specify the current revision
string for the target document, using the <tt class="docutils literal"><span class="pre">rev</span></tt> parameter to the
<tt class="docutils literal"><span class="pre">Destination</span></tt> HTTP Header string. For example:</p>
<div class="highlight-http"><pre>COPY http://couchdb:5984/recipes/_design/recipes
Content-Type: application/json
Destination: recipes/_design/recipelist?rev=1-9c65296036141e575d32ba9c034dd3ee</pre>
</div>
<p>The return value will be the new revision of the copied document:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;recipes/_design/recipes&quot;</span>
   <span class="s2">&quot;rev&quot;</span> <span class="o">:</span> <span class="s2">&quot;2-55b6a1b251902a2c249b667dab1c6692&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="get-db-design-design-doc-attachment">
<h2>9.4.5. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/attachment</span></tt><a class="headerlink" href="#get-db-design-design-doc-attachment" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/attachment</span></tt></li>
<li><strong>Request</strong>: None</li>
<li><strong>Response</strong>: Returns the attachment data</li>
<li><strong>Admin Privileges Required</strong>: no</li>
</ul>
<p>Returns the file attachment <tt class="docutils literal"><span class="pre">attachment</span></tt> associated with the design
document <tt class="docutils literal"><span class="pre">/_design_/design-doc</span></tt>. The raw data of the associated
attachment is returned (just as if you were accessing a static file. The
returned HTTP <tt class="docutils literal"><span class="pre">Content-type</span></tt> will be the same as the content type set
when the document attachment was submitted into the database.</p>
</div>
<div class="section" id="put-db-design-design-doc-attachment">
<h2>9.4.6. <tt class="docutils literal"><span class="pre">PUT</span> <span class="pre">/db/_design/design-doc/attachment</span></tt><a class="headerlink" href="#put-db-design-design-doc-attachment" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">PUT</span> <span class="pre">/db/_design/design-doc/attachment</span></tt></li>
<li><strong>Request</strong>: Raw document data</li>
<li><strong>Response</strong>: JSON document status</li>
<li><strong>Admin Privileges Required</strong>: no</li>
<li><strong>Query Arguments</strong>:<ul>
<li><strong>Argument</strong>: rev<ul>
<li><strong>Description</strong>:  Current document revision</li>
<li><strong>Optional</strong>: no</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
</ul>
</li>
<li><strong>HTTP Headers</strong><ul>
<li><strong>Header</strong>: <tt class="docutils literal"><span class="pre">Content-Length</span></tt><ul>
<li><strong>Description</strong>: Length (bytes) of the attachment being uploaded</li>
<li><strong>Optional</strong>: no</li>
</ul>
</li>
<li><strong>Header</strong>: <tt class="docutils literal"><span class="pre">Content-Type</span></tt><ul>
<li><strong>Description</strong>: MIME type for the uploaded attachment</li>
<li><strong>Optional</strong>: no</li>
</ul>
</li>
<li><strong>Header</strong>: <tt class="docutils literal"><span class="pre">If-Match</span></tt><ul>
<li><strong>Description</strong>: Current revision of the document for validation</li>
<li><strong>Optional</strong>: yes</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Upload the supplied content as an attachment to the specified design
document (<tt class="docutils literal"><span class="pre">/_design/design-doc</span></tt>). The <tt class="docutils literal"><span class="pre">attachment</span></tt> name provided
must be a URL encoded string. You must also supply either the <tt class="docutils literal"><span class="pre">rev</span></tt>
query argument or the <tt class="docutils literal"><span class="pre">If-Match</span></tt> HTTP header for validation, and the
HTTP headers (to set the attacment content type). The content type is
used when the attachment is requested as the corresponding content-type
in the returned document header.</p>
<p>For example, you could upload a simple text document using the following
request:</p>
<div class="highlight-http"><pre>PUT http://couchdb:5984/recipes/_design/recipes/view.css?rev=7-f7114d4d81124b223283f3e89eee043e
Content-Length: 39
Content-Type: text/plain

div.recipetitle {
font-weight: bold;
}</pre>
</div>
<p>Or by using the <tt class="docutils literal"><span class="pre">If-Match</span></tt> HTTP header:</p>
<div class="highlight-http"><pre>PUT http://couchdb:5984/recipes/FishStew/basic
If-Match: 7-f7114d4d81124b223283f3e89eee043e
Content-Length: 39
Content-Type: text/plain

div.recipetitle {
font-weight: bold;
}</pre>
</div>
<p>The returned JSON contains the new document information:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;_design/recipes&quot;</span>
   <span class="s2">&quot;ok&quot;</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
   <span class="s2">&quot;rev&quot;</span> <span class="o">:</span> <span class="s2">&quot;8-cb2b7d94eeac76782a02396ba70dfbf5&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Uploading an attachment updates the corresponding document revision.
Revisions are tracked for the parent document, not individual attachments.</p>
</div>
</div>
<div class="section" id="delete-db-design-design-doc-attachment">
<h2>9.4.7. <tt class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/db/_design/design-doc/attachment</span></tt><a class="headerlink" href="#delete-db-design-design-doc-attachment" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/db/_design/design-doc/attachment</span></tt></li>
<li><strong>Request</strong>: None</li>
<li><strong>Response</strong>: JSON status</li>
<li><strong>Admin Privileges Required</strong>: no</li>
<li><strong>Query Arguments</strong>:<ul>
<li><strong>Argument</strong>: rev<ul>
<li><strong>Description</strong>:  Current document revision</li>
<li><strong>Optional</strong>: no</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
</ul>
</li>
<li><strong>HTTP Headers</strong><ul>
<li><strong>Header</strong>: <tt class="docutils literal"><span class="pre">If-Match</span></tt><ul>
<li><strong>Description</strong>: Current revision of the document for validation</li>
<li><strong>Optional</strong>: yes</li>
</ul>
</li>
</ul>
</li>
<li><strong>Return Codes</strong>:<ul>
<li><strong>200</strong>:
Attachment deleted successfully</li>
<li><strong>409</strong>:
Supplied revision is incorrect or missing</li>
</ul>
</li>
</ul>
<p>Deletes the attachment <tt class="docutils literal"><span class="pre">attachment</span></tt> to the specified
<tt class="docutils literal"><span class="pre">_design/design-doc</span></tt>. You must supply the <tt class="docutils literal"><span class="pre">rev</span></tt> argument with the
current revision to delete the attachment.</p>
<p>For example to delete the attachment <tt class="docutils literal"><span class="pre">view.css</span></tt> from the design
document <tt class="docutils literal"><span class="pre">recipes</span></tt>:</p>
<div class="highlight-http"><pre>DELETE http://couchdb:5984/recipes/_design/recipes/view.css?rev=9-3db559f13a845c7751d407404cdeaa4a</pre>
</div>
<p>The returned JSON contains the updated revision information for the
parent document:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;_design/recipes&quot;</span>
   <span class="s2">&quot;ok&quot;</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
   <span class="s2">&quot;rev&quot;</span> <span class="o">:</span> <span class="s2">&quot;10-f3b15bb408961f8dcc3d86c7d3b54c4c&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="get-db-design-design-doc-info">
<h2>9.4.8. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_info</span></tt><a class="headerlink" href="#get-db-design-design-doc-info" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_info</span></tt></li>
<li><strong>Request</strong>: None</li>
<li><strong>Response</strong>: JSON of the design document information</li>
<li><strong>Admin Privileges Required</strong>: no</li>
</ul>
<p>Obtains information about a given design document, including the index,
index size and current status of the design document and associated
index information.</p>
<p>For example, to get the information for the <tt class="docutils literal"><span class="pre">recipes</span></tt> design document:</p>
<div class="highlight-http"><pre>GET http://couchdb:5984/recipes/_design/recipes/_info
Content-Type: application/json</pre>
</div>
<p>This returns the following JSON structure:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;name&quot;</span> <span class="o">:</span> <span class="s2">&quot;recipes&quot;</span>
   <span class="s2">&quot;view_index&quot;</span> <span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;compact_running&quot;</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">&quot;updater_running&quot;</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">&quot;language&quot;</span> <span class="o">:</span> <span class="s2">&quot;javascript&quot;</span><span class="p">,</span>
      <span class="s2">&quot;purge_seq&quot;</span> <span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
      <span class="s2">&quot;waiting_commit&quot;</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">&quot;waiting_clients&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;signature&quot;</span> <span class="o">:</span> <span class="s2">&quot;fc65594ee76087a3b8c726caf5b40687&quot;</span><span class="p">,</span>
      <span class="s2">&quot;update_seq&quot;</span> <span class="o">:</span> <span class="mi">375031</span><span class="p">,</span>
      <span class="s2">&quot;disk_size&quot;</span> <span class="o">:</span> <span class="mi">16491</span>
   <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The individual fields in the returned JSON structure are detailed below:</p>
<ul class="simple">
<li><strong>name</strong>:  Name/ID of Design Document</li>
<li><strong>view_index</strong>:  View Index<ul>
<li><strong>compact_running</strong>:  Indicates whether a compaction routine is currently
running on the view</li>
<li><strong>disk_size</strong>:  Size in bytes of the view as stored on disk</li>
<li><strong>language</strong>:  Language for the defined views</li>
<li><strong>purge_seq</strong>:  The purge sequence that has been processed</li>
<li><strong>signature</strong>:  MD5 signature of the views for the design document</li>
<li><strong>update_seq</strong>:  The update sequence of the corresponding database that
has been indexed</li>
<li><strong>updater_running</strong>:  Indicates if the view is currently being updated</li>
<li><strong>waiting_clients</strong>:  Number of clients waiting on views from this design
document</li>
<li><strong>waiting_commit</strong>:  Indicates if there are outstanding commits to the
underlying database that need to processed</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="get-db-design-design-doc-view-view-name">
<span id="views"></span><span id="api-get-view"></span><h2>9.4.9. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_view/view-name</span></tt><a class="headerlink" href="#get-db-design-design-doc-view-view-name" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_view/view-name</span></tt></li>
<li><strong>Request</strong>: None</li>
<li><strong>Response</strong>: JSON of the documents returned by the view</li>
<li><strong>Admin Privileges Required</strong>: no</li>
<li><strong>Query Arguments</strong>:<ul>
<li><strong>Argument</strong>: descending<ul>
<li><strong>Description</strong>:  Return the documents in descending by key order</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: boolean</li>
<li><strong>Default</strong>: false</li>
</ul>
</li>
<li><strong>Argument</strong>: endkey<ul>
<li><strong>Description</strong>:  Stop returning records when the specified key is reached</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
<li><strong>Argument</strong>: endkey_docid<ul>
<li><strong>Description</strong>:  Stop returning records when the specified document
ID is reached</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
<li><strong>Argument</strong>: group<ul>
<li><strong>Description</strong>:  Group the results using the reduce function to a
group or single row</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: boolean</li>
<li><strong>Default</strong>: false</li>
</ul>
</li>
<li><strong>Argument</strong>: group_level<ul>
<li><strong>Description</strong>:  Specify the group level to be used</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: numeric</li>
</ul>
</li>
<li><strong>Argument</strong>: include_docs<ul>
<li><strong>Description</strong>:  Include the full content of the documents in the return</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: boolean</li>
<li><strong>Default</strong>: false</li>
</ul>
</li>
<li><strong>Argument</strong>: inclusive_end<ul>
<li><strong>Description</strong>:  Specifies whether the specified end key should be
included in the result</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: boolean</li>
<li><strong>Default</strong>: true</li>
</ul>
</li>
<li><strong>Argument</strong>: key<ul>
<li><strong>Description</strong>:  Return only documents that match the specified key</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
<li><strong>Argument</strong>: limit<ul>
<li><strong>Description</strong>:  Limit the number of the returned documents to the
specified number</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: numeric</li>
</ul>
</li>
<li><strong>Argument</strong>: reduce<ul>
<li><strong>Description</strong>:  Use the reduction function</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: boolean</li>
<li><strong>Default</strong>: true</li>
</ul>
</li>
<li><strong>Argument</strong>: skip<ul>
<li><strong>Description</strong>:  Skip this number of records before starting to return
the results</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: numeric</li>
<li><strong>Default</strong>: 0</li>
</ul>
</li>
<li><strong>Argument</strong>: stale<ul>
<li><strong>Description</strong>:  Allow the results from a stale view to be used</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
<li><strong>Default</strong>:</li>
<li><strong>Supported Values</strong><ul>
<li><strong>ok</strong>: Allow stale views</li>
</ul>
</li>
</ul>
</li>
<li><strong>Argument</strong>: startkey<ul>
<li><strong>Description</strong>:  Return records starting with the specified key</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
<li><strong>Argument</strong>: startkey_docid<ul>
<li><strong>Description</strong>:  Return records starting with the specified document ID</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
<li><strong>Argument</strong>: update_seq<ul>
<li><strong>Description</strong>:  Include the update sequence in the generated results</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: boolean</li>
<li><strong>Default</strong>: false</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Executes the specified <tt class="docutils literal"><span class="pre">view-name</span></tt> from the specified <tt class="docutils literal"><span class="pre">design-doc</span></tt>
design document.</p>
<div class="section" id="querying-views-and-indexes">
<h3>9.4.9.1. Querying Views and Indexes<a class="headerlink" href="#querying-views-and-indexes" title="Permalink to this headline">¶</a></h3>
<p>The definition of a view within a design document also creates an index
based on the key information defined within each view. The production
and use of the index significantly increases the speed of access and
searching or selecting documents from the view.</p>
<p>However, the index is not updated when new documents are added or
modified in the database. Instead, the index is generated or updated,
either when the view is first accessed, or when the view is accessed
after a document has been updated. In each case, the index is updated
before the view query is executed against the database.</p>
<p>View indexes are updated incrementally in the following situations:</p>
<ul class="simple">
<li>A new document has been added to the database.</li>
<li>A document has been deleted from the database.</li>
<li>A document in the database has been updated.</li>
</ul>
<p>View indexes are rebuilt entirely when the view definition changes. To
achieve this, a &#8216;fingerprint&#8217; of the view definition is created when the
design document is updated. If the fingerprint changes, then the view
indexes are entirely rebuilt. This ensures that changes to the view
definitions are reflected in the view indexes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">View index rebuilds occur when one view from the same the view group
(i.e. all the views defined within a single a design document) has
been determined as needing a rebuild. For example, if if you have a
design document with different views, and you update the database,
all three view indexes within the design document will be updated.</p>
</div>
<p>Because the view is updated when it has been queried, it can result in a
delay in returned information when the view is accessed, especially if
there are a large number of documents in the database and the view index
does not exist. There are a number of ways to mitigate, but not
completely eliminate, these issues. These include:</p>
<ul class="simple">
<li>Create the view definition (and associated design documents) on your
database before allowing insertion or updates to the documents. If
this is allowed while the view is being accessed, the index can be
updated incrementally.</li>
<li>Manually force a view request from the database. You can do this
either before users are allowed to use the view, or you can access
the view manually after documents are added or updated.</li>
<li>Use the <tt class="docutils literal"><span class="pre">/db/_changes</span></tt> method to monitor for changes to the
database and then access the view to force the corresponding view
index to be updated. See <a class="reference internal" href="database.html#api-changes"><em>GET /db/_changes</em></a> for more information.</li>
<li>Use a monitor with the <tt class="docutils literal"><span class="pre">update_notification</span></tt> section of the CouchDB
configuration file to monitor for changes to your database, and
trigger a view query to force the view to be updated. For more
information, see <a class="reference internal" href="../configuring.html#update-notifications"><em>Update Notifications</em></a>.</li>
</ul>
<p>None of these can completely eliminate the need for the indexes to be
rebuilt or updated when the view is accessed, but they may lessen the
effects on end-users of the index update affecting the user experience.</p>
<p>Another alternative is to allow users to access a &#8216;stale&#8217; version of the
view index, rather than forcing the index to be updated and displaying
the updated results. Using a stale view may not return the latest
information, but will return the results of the view query using an
existing version of the index.</p>
<p>For example, to access the existing stale view <tt class="docutils literal"><span class="pre">by_recipe</span></tt> in the
<tt class="docutils literal"><span class="pre">recipes</span></tt> design document:</p>
<div class="highlight-text"><div class="highlight"><pre>http://couchdb:5984/recipes/_design/recipes/_view/by_recipe?stale=ok
</pre></div>
</div>
<p>Accessing a stale view:</p>
<ul class="simple">
<li>Does not trigger a rebuild of the view indexes, even if there have
been changes since the last access.</li>
<li>Returns the current version of the view index, if a current version
exists.</li>
<li>Returns an empty result set if the given view index does exist.</li>
</ul>
<p>As an alternative, you use the <tt class="docutils literal"><span class="pre">update_after</span></tt> value to the <tt class="docutils literal"><span class="pre">stale</span></tt>
parameter. This causes the view to be returned as a stale view, but for
the update process to be triggered after the view information has been
returned to the client.</p>
<p>In addition to using stale views, you can also make use of the
<tt class="docutils literal"><span class="pre">update_seq</span></tt> query argument. Using this query argument generates the
view information including the update sequence of the database from
which the view was generated. The returned value can be compared this to
the current update sequence exposed in the database information
(returned by <a class="reference internal" href="database.html#api-get-db"><em>GET /db</em></a>).</p>
</div>
<div class="section" id="sorting-returned-rows">
<h3>9.4.9.2. Sorting Returned Rows<a class="headerlink" href="#sorting-returned-rows" title="Permalink to this headline">¶</a></h3>
<p>Each element within the returned array is sorted using native UTF-8
sorting according to the contents of the key portion of the emitted
content. The basic order of output is as follows:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">null</span></tt></li>
<li><tt class="docutils literal"><span class="pre">false</span></tt></li>
<li><tt class="docutils literal"><span class="pre">true</span></tt></li>
<li>Numbers</li>
<li>Text (case sensitive, lowercase first)</li>
<li>Arrays (according to the values of each element, in order)</li>
<li>Objects (according to the values of keys, in key order)</li>
</ul>
<p>You can reverse the order of the returned view information by using the
<tt class="docutils literal"><span class="pre">descending</span></tt> query value set to true. For example, Retrieving the list
of recipes using the <tt class="docutils literal"><span class="pre">by_title</span></tt> (limited to 5 records) view:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;offset&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
   <span class="s2">&quot;rows&quot;</span> <span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;3-tiersalmonspinachandavocadoterrine&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;3-tier salmon, spinach and avocado terrine&quot;</span><span class="p">,</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="s2">&quot;3-tier salmon, spinach and avocado terrine&quot;</span>
         <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Aberffrawcake&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;Aberffraw cake&quot;</span><span class="p">,</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="s2">&quot;Aberffraw cake&quot;</span>
         <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Adukiandorangecasserole-microwave&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;Aduki and orange casserole - microwave&quot;</span><span class="p">,</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="s2">&quot;Aduki and orange casserole - microwave&quot;</span>
         <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Aioli-garlicmayonnaise&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;Aioli - garlic mayonnaise&quot;</span><span class="p">,</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="s2">&quot;Aioli - garlic mayonnaise&quot;</span>
         <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Alabamapeanutchicken&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;Alabama peanut chicken&quot;</span><span class="p">,</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="s2">&quot;Alabama peanut chicken&quot;</span>
         <span class="p">]</span>
      <span class="p">}</span>
   <span class="p">],</span>
   <span class="s2">&quot;total_rows&quot;</span> <span class="o">:</span> <span class="mi">2667</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Requesting the same in descending order will reverse the entire view
content. For example the request</p>
<div class="highlight-http"><pre>GET http://couchdb:5984/recipes/_design/recipes/_view/by_title?limit=5&amp;descending=true
Accept: application/json
Content-Type: application/json</pre>
</div>
<p>Returns the last 5 records from the view:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;offset&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
   <span class="s2">&quot;rows&quot;</span> <span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Zucchiniinagrodolcesweet-sourcourgettes&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;Zucchini in agrodolce (sweet-sour courgettes)&quot;</span><span class="p">,</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="s2">&quot;Zucchini in agrodolce (sweet-sour courgettes)&quot;</span>
         <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Zingylemontart&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;Zingy lemon tart&quot;</span><span class="p">,</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="s2">&quot;Zingy lemon tart&quot;</span>
         <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Zestyseafoodavocado&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;Zesty seafood avocado&quot;</span><span class="p">,</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="s2">&quot;Zesty seafood avocado&quot;</span>
         <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Zabaglione&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;Zabaglione&quot;</span><span class="p">,</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="s2">&quot;Zabaglione&quot;</span>
         <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Yogurtraita&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;Yogurt raita&quot;</span><span class="p">,</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="kc">null</span><span class="p">,</span>
            <span class="s2">&quot;Yogurt raita&quot;</span>
         <span class="p">]</span>
      <span class="p">}</span>
   <span class="p">],</span>
   <span class="s2">&quot;total_rows&quot;</span> <span class="o">:</span> <span class="mi">2667</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The sorting direction is applied before the filtering applied using the
<tt class="docutils literal"><span class="pre">startkey</span></tt> and <tt class="docutils literal"><span class="pre">endkey</span></tt> query arguments. For example the following
query:</p>
<div class="highlight-http"><pre>GET http://couchdb:5984/recipes/_design/recipes/_view/by_ingredient?startkey=%22carrots%22&amp;endkey=%22egg%22
Accept: application/json
Content-Type: application/json</pre>
</div>
<p>Will operate correctly when listing all the matching entries between
“carrots” and <tt class="docutils literal"><span class="pre">egg</span></tt>. If the order of output is reversed with the
<tt class="docutils literal"><span class="pre">descending</span></tt> query argument, the view request will return no entries:</p>
<div class="highlight-http"><pre>GET http://couchdb:5984/recipes/_design/recipes/_view/by_ingredient?descending=true&amp;startkey=%22carrots%22&amp;endkey=%22egg%22
Accept: application/json
Content-Type: application/json</pre>
</div>
<p>The returned result is empty:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;total_rows&quot;</span> <span class="o">:</span> <span class="mi">26453</span><span class="p">,</span>
   <span class="s2">&quot;rows&quot;</span> <span class="o">:</span> <span class="p">[],</span>
   <span class="s2">&quot;offset&quot;</span> <span class="o">:</span> <span class="mi">21882</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The results will be empty because the entries in the view are reversed
before the key filter is applied, and therefore the <tt class="docutils literal"><span class="pre">endkey</span></tt> of “egg”
will be seen before the <tt class="docutils literal"><span class="pre">startkey</span></tt> of “carrots”, resulting in an empty
list.</p>
<p>Instead, you should reverse the values supplied to the <tt class="docutils literal"><span class="pre">startkey</span></tt> and
<tt class="docutils literal"><span class="pre">endkey</span></tt> parameters to match the descending sorting applied to the
keys. Changing the previous example to:</p>
<div class="highlight-http"><pre>GET http://couchdb:5984/recipes/_design/recipes/_view/by_ingredient?descending=true&amp;startkey=%22egg%22&amp;endkey=%22carrots%22
Accept: application/json
Content-Type: application/json</pre>
</div>
</div>
<div class="section" id="specifying-start-and-end-values">
<h3>9.4.9.3. Specifying Start and End Values<a class="headerlink" href="#specifying-start-and-end-values" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">startkey</span></tt> and <tt class="docutils literal"><span class="pre">endkey</span></tt> query arguments can be used to specify
the range of values to be displayed when querying the view.</p>
</div>
<div class="section" id="using-limits-and-skipping-rows">
<h3>9.4.9.4. Using Limits and Skipping Rows<a class="headerlink" href="#using-limits-and-skipping-rows" title="Permalink to this headline">¶</a></h3>
<p>TBC</p>
</div>
<div class="section" id="view-reduction-and-grouping">
<h3>9.4.9.5. View Reduction and Grouping<a class="headerlink" href="#view-reduction-and-grouping" title="Permalink to this headline">¶</a></h3>
<p>TBC</p>
</div>
</div>
<div class="section" id="post-db-design-design-doc-view-view-name">
<h2>9.4.10. <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_view/view-name</span></tt><a class="headerlink" href="#post-db-design-design-doc-view-view-name" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_view/view-name</span></tt></li>
<li><strong>Request</strong>:  List of keys to be returned from specified view</li>
<li><strong>Response</strong>:  JSON of the documents returned by the view</li>
<li><strong>Admin Privileges Required</strong>: no</li>
<li><strong>Query Arguments</strong>:<ul>
<li><strong>Argument</strong>: descending<ul>
<li><strong>Description</strong>:  Return the documents in descending by key order</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: boolean</li>
<li><strong>Default</strong>: false</li>
</ul>
</li>
<li><strong>Argument</strong>: endkey<ul>
<li><strong>Description</strong>:  Stop returning records when the specified key is reached</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
<li><strong>Argument</strong>: endkey_docid<ul>
<li><strong>Description</strong>:  Stop returning records when the specified document ID
is reached</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
<li><strong>Argument</strong>: group<ul>
<li><strong>Description</strong>:  Group the results using the reduce function to a group
or single row</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: boolean</li>
<li><strong>Default</strong>: false</li>
</ul>
</li>
<li><strong>Argument</strong>: group_level<ul>
<li><strong>Description</strong>:  Specify the group level to be used</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: numeric</li>
</ul>
</li>
<li><strong>Argument</strong>: include_docs<ul>
<li><strong>Description</strong>:  Include the full content of the documents in the return</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: boolean</li>
<li><strong>Default</strong>: false</li>
</ul>
</li>
<li><strong>Argument</strong>: inclusive_end<ul>
<li><strong>Description</strong>:  Specifies whether the specified end key should be
included in the result</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: boolean</li>
<li><strong>Default</strong>: true</li>
</ul>
</li>
<li><strong>Argument</strong>: key<ul>
<li><strong>Description</strong>:  Return only documents that match the specified key</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
<li><strong>Argument</strong>: limit<ul>
<li><strong>Description</strong>:  Limit the number of the returned documents to the
specified number</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: numeric</li>
</ul>
</li>
<li><strong>Argument</strong>: reduce<ul>
<li><strong>Description</strong>:  Use the reduction function</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: boolean</li>
<li><strong>Default</strong>: true</li>
</ul>
</li>
<li><strong>Argument</strong>: skip<ul>
<li><strong>Description</strong>:  Skip this number of records before starting to return
the results</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: numeric</li>
<li><strong>Default</strong>: 0</li>
</ul>
</li>
<li><strong>Argument</strong>: stale<ul>
<li><strong>Description</strong>:  Allow the results from a stale view to be used</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
<li><strong>Default</strong>:</li>
<li><strong>Supported Values</strong>:<ul>
<li><strong>ok</strong>: Allow stale views</li>
</ul>
</li>
</ul>
</li>
<li><strong>Argument</strong>: startkey<ul>
<li><strong>Description</strong>:  Return records starting with the specified key</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
<li><strong>Argument</strong>: startkey_docid<ul>
<li><strong>Description</strong>:  Return records starting with the specified document ID</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
<li><strong>Argument</strong>: update_seq<ul>
<li><strong>Description</strong>:  Include the update sequence in the generated results</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: boolean</li>
<li><strong>Default</strong>: false</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Executes the specified <tt class="docutils literal"><span class="pre">view-name</span></tt> from the specified <tt class="docutils literal"><span class="pre">design-doc</span></tt>
design document. Unlike the <tt class="docutils literal"><span class="pre">GET</span></tt> method for accessing views, the
<tt class="docutils literal"><span class="pre">POST</span></tt> method supports the specification of explicit keys to be
retrieved from the view results. The remainder of the <tt class="docutils literal"><span class="pre">POST</span></tt> view
functionality is identical to the <a class="reference internal" href="#api-get-view"><em>GET /db/_design/design-doc/_view/view-name</em></a> API.</p>
<p>For example, the request below will return all the recipes where the key
for the view matches either “claret” or “clear apple cider” :</p>
<div class="highlight-http"><pre>POST http://couchdb:5984/recipes/_design/recipes/_view/by_ingredient
Content-Type: application/json

{
   "keys" : [
      "claret",
      "clear apple juice"
   ]
}</pre>
</div>
<p>The returned view data contains the standard view information, but only
where the keys match.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;total_rows&quot;</span> <span class="o">:</span> <span class="mi">26484</span><span class="p">,</span>
   <span class="s2">&quot;rows&quot;</span> <span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="s2">&quot;Scotch collops&quot;</span>
         <span class="p">],</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Scotchcollops&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;claret&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="s2">&quot;Stand pie&quot;</span>
         <span class="p">],</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Standpie&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;clear apple juice&quot;</span>
      <span class="p">}</span>
   <span class="p">],</span>
   <span class="s2">&quot;offset&quot;</span> <span class="o">:</span> <span class="mi">6324</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="multi-document-fetching">
<h3>9.4.10.1. Multi-document Fetching<a class="headerlink" href="#multi-document-fetching" title="Permalink to this headline">¶</a></h3>
<p>By combining the <tt class="docutils literal"><span class="pre">POST</span></tt> method to a given view with the
<tt class="docutils literal"><span class="pre">include_docs=true</span></tt> query argument you can obtain multiple documents
from a database. The result is more efficient than using multiple
<a class="reference internal" href="documents.html#api-get-doc"><em>GET /db/doc</em></a> requests.</p>
<p>For example, sending the following request for ingredients matching
“claret” and “clear apple juice”:</p>
<div class="highlight-http"><pre>POST http://couchdb:5984/recipes/_design/recipes/_view/by_ingredient?include_docs=true
Content-Type: application/json

{
   "keys" : [
      "claret",
      "clear apple juice"
   ]
}</pre>
</div>
<p>Returns the full document for each recipe:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
   <span class="s2">&quot;offset&quot;</span> <span class="o">:</span> <span class="mi">6324</span><span class="p">,</span>
   <span class="s2">&quot;rows&quot;</span> <span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;doc&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Scotchcollops&quot;</span><span class="p">,</span>
            <span class="s2">&quot;_rev&quot;</span> <span class="o">:</span> <span class="s2">&quot;1-bcbdf724f8544c89697a1cbc4b9f0178&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cooktime&quot;</span> <span class="o">:</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ingredients&quot;</span> <span class="o">:</span> <span class="p">[</span>
               <span class="p">{</span>
                  <span class="s2">&quot;ingredient&quot;</span> <span class="o">:</span> <span class="s2">&quot;onion&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;ingredtext&quot;</span> <span class="o">:</span> <span class="s2">&quot;onion, peeled and chopped&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;meastext&quot;</span> <span class="o">:</span> <span class="s2">&quot;1&quot;</span>
               <span class="p">},</span>
            <span class="p">...</span>
            <span class="p">],</span>
            <span class="s2">&quot;keywords&quot;</span> <span class="o">:</span> <span class="p">[</span>
               <span class="s2">&quot;cook method.hob, oven, grill@hob&quot;</span><span class="p">,</span>
               <span class="s2">&quot;diet@wheat-free&quot;</span><span class="p">,</span>
               <span class="s2">&quot;diet@peanut-free&quot;</span><span class="p">,</span>
               <span class="s2">&quot;special collections@classic recipe&quot;</span><span class="p">,</span>
               <span class="s2">&quot;cuisine@british traditional&quot;</span><span class="p">,</span>
               <span class="s2">&quot;diet@corn-free&quot;</span><span class="p">,</span>
               <span class="s2">&quot;diet@citrus-free&quot;</span><span class="p">,</span>
               <span class="s2">&quot;special collections@very easy&quot;</span><span class="p">,</span>
               <span class="s2">&quot;diet@shellfish-free&quot;</span><span class="p">,</span>
               <span class="s2">&quot;main ingredient@meat&quot;</span><span class="p">,</span>
               <span class="s2">&quot;occasion@christmas&quot;</span><span class="p">,</span>
               <span class="s2">&quot;meal type@main&quot;</span><span class="p">,</span>
               <span class="s2">&quot;diet@egg-free&quot;</span><span class="p">,</span>
               <span class="s2">&quot;diet@gluten-free&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;preptime&quot;</span> <span class="o">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span>
            <span class="s2">&quot;servings&quot;</span> <span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
            <span class="s2">&quot;subtitle&quot;</span> <span class="o">:</span> <span class="s2">&quot;This recipe comes from an old recipe book of 1683 called &#39;The Gentlewoman&#39;s Kitchen&#39;. This is an excellent way of making a rich and full-flavoured meat dish in a very short time.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;title&quot;</span> <span class="o">:</span> <span class="s2">&quot;Scotch collops&quot;</span><span class="p">,</span>
            <span class="s2">&quot;totaltime&quot;</span> <span class="o">:</span> <span class="s2">&quot;18&quot;</span>
         <span class="p">},</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Scotchcollops&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;claret&quot;</span><span class="p">,</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="s2">&quot;Scotch collops&quot;</span>
         <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;doc&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Standpie&quot;</span><span class="p">,</span>
            <span class="s2">&quot;_rev&quot;</span> <span class="o">:</span> <span class="s2">&quot;1-bff6edf3ca2474a243023f2dad432a5a&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cooktime&quot;</span> <span class="o">:</span> <span class="s2">&quot;92&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ingredients&quot;</span> <span class="o">:</span> <span class="p">[</span>
<span class="p">...</span>            <span class="p">],</span>
            <span class="s2">&quot;keywords&quot;</span> <span class="o">:</span> <span class="p">[</span>
               <span class="s2">&quot;diet@dairy-free&quot;</span><span class="p">,</span>
               <span class="s2">&quot;diet@peanut-free&quot;</span><span class="p">,</span>
               <span class="s2">&quot;special collections@classic recipe&quot;</span><span class="p">,</span>
               <span class="s2">&quot;cuisine@british traditional&quot;</span><span class="p">,</span>
               <span class="s2">&quot;diet@corn-free&quot;</span><span class="p">,</span>
               <span class="s2">&quot;diet@citrus-free&quot;</span><span class="p">,</span>
               <span class="s2">&quot;occasion@buffet party&quot;</span><span class="p">,</span>
               <span class="s2">&quot;diet@shellfish-free&quot;</span><span class="p">,</span>
               <span class="s2">&quot;occasion@picnic&quot;</span><span class="p">,</span>
               <span class="s2">&quot;special collections@lunchbox&quot;</span><span class="p">,</span>
               <span class="s2">&quot;main ingredient@meat&quot;</span><span class="p">,</span>
               <span class="s2">&quot;convenience@serve with salad for complete meal&quot;</span><span class="p">,</span>
               <span class="s2">&quot;meal type@main&quot;</span><span class="p">,</span>
               <span class="s2">&quot;cook method.hob, oven, grill@hob / oven&quot;</span><span class="p">,</span>
               <span class="s2">&quot;diet@cow dairy-free&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;preptime&quot;</span> <span class="o">:</span> <span class="s2">&quot;30&quot;</span><span class="p">,</span>
            <span class="s2">&quot;servings&quot;</span> <span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span>
            <span class="s2">&quot;subtitle&quot;</span> <span class="o">:</span> <span class="s2">&quot;Serve this pie with pickled vegetables and potato salad.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;title&quot;</span> <span class="o">:</span> <span class="s2">&quot;Stand pie&quot;</span><span class="p">,</span>
            <span class="s2">&quot;totaltime&quot;</span> <span class="o">:</span> <span class="s2">&quot;437&quot;</span>
         <span class="p">},</span>
         <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;Standpie&quot;</span><span class="p">,</span>
         <span class="s2">&quot;key&quot;</span> <span class="o">:</span> <span class="s2">&quot;clear apple juice&quot;</span><span class="p">,</span>
         <span class="s2">&quot;value&quot;</span> <span class="o">:</span> <span class="p">[</span>
            <span class="s2">&quot;Stand pie&quot;</span>
         <span class="p">]</span>
      <span class="p">}</span>
   <span class="p">],</span>
   <span class="s2">&quot;total_rows&quot;</span> <span class="o">:</span> <span class="mi">26484</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="get-db-design-design-doc-show-show-name">
<h2>9.4.11. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_show/show-name</span></tt><a class="headerlink" href="#get-db-design-design-doc-show-show-name" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_show/show-name</span></tt></li>
<li><strong>Request</strong>:  None</li>
<li><strong>Response</strong>:  Returns the result of the show</li>
<li><strong>Admin Privileges Required</strong>: no</li>
<li><strong>Query Arguments</strong>:<ul>
<li><strong>Argument</strong>: details<ul>
<li><strong>Description</strong>:  Indicates whether details should be included</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
<li><strong>Argument</strong>: format<ul>
<li><strong>Description</strong>:  Format of the returned information</li>
<li><strong>Optional</strong>: yes</li>
<li><strong>Type</strong>: string</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="post-db-design-design-doc-show-show-name-doc">
<h2>9.4.12. <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_show/show-name/doc</span></tt><a class="headerlink" href="#post-db-design-design-doc-show-show-name-doc" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_show/show-name</span></tt></li>
<li><strong>Request</strong>:  Custom data</li>
<li><strong>Response</strong>:  Returns the result of the show</li>
<li><strong>Admin Privileges Required</strong>: no</li>
</ul>
</div>
<div class="section" id="get-db-design-design-doc-list-list-name-other-design-doc-view-name">
<h2>9.4.13. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_list/list-name/other-design-doc/view-name</span></tt><a class="headerlink" href="#get-db-design-design-doc-list-list-name-other-design-doc-view-name" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_list/list-name/other-design-doc/view-name</span></tt></li>
<li><strong>Request</strong>:  TBC</li>
<li><strong>Response</strong>:  TBC</li>
<li><strong>Admin Privileges Required</strong>: no</li>
</ul>
</div>
<div class="section" id="post-db-design-design-doc-list-list-name-other-design-doc-view-name">
<h2>9.4.14. <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_list/list-name/other-design-doc/view-name</span></tt><a class="headerlink" href="#post-db-design-design-doc-list-list-name-other-design-doc-view-name" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_list/list-name/other-design-doc/view-name</span></tt></li>
<li><strong>Request</strong>:  TBC</li>
<li><strong>Response</strong>:  TBC</li>
<li><strong>Admin Privileges Required</strong>: no</li>
</ul>
</div>
<div class="section" id="get-db-design-design-doc-list-list-name-view-name">
<h2>9.4.15. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_list/list-name/view-name</span></tt><a class="headerlink" href="#get-db-design-design-doc-list-list-name-view-name" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_list/list-name/view-name</span></tt></li>
<li><strong>Request</strong>:  TBC</li>
<li><strong>Response</strong>:  TBC</li>
<li><strong>Admin Privileges Required</strong>: no</li>
</ul>
</div>
<div class="section" id="post-db-design-design-doc-list-list-name-view-name">
<h2>9.4.16. <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_list/list-name/view-name</span></tt><a class="headerlink" href="#post-db-design-design-doc-list-list-name-view-name" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_list/list-name/view-name</span></tt></li>
<li><strong>Request</strong>:  TBC</li>
<li><strong>Response</strong>:  TBC</li>
<li><strong>Admin Privileges Required</strong>: no</li>
</ul>
</div>
<div class="section" id="put-db-design-design-doc-update-updatename-doc">
<h2>9.4.17. <tt class="docutils literal"><span class="pre">PUT</span> <span class="pre">/db/_design/design-doc/_update/updatename/doc</span></tt><a class="headerlink" href="#put-db-design-design-doc-update-updatename-doc" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_update/updatename/doc</span></tt></li>
<li><strong>Request</strong>:  TBC</li>
<li><strong>Response</strong>:  TBC</li>
<li><strong>Admin Privileges Required</strong>: no</li>
</ul>
</div>
<div class="section" id="post-db-design-design-doc-update-updatename">
<h2>9.4.18. <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_update/updatename</span></tt><a class="headerlink" href="#post-db-design-design-doc-update-updatename" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">PUT</span> <span class="pre">/db/_design/design-doc/_update/updatename/doc</span></tt></li>
<li><strong>Request</strong>:  TBC</li>
<li><strong>Response</strong>:  TBC</li>
<li><strong>Admin Privileges Required</strong>: no</li>
</ul>
</div>
<div class="section" id="all-db-design-design-doc-rewrite-rewrite-name-anything">
<h2>9.4.19. <tt class="docutils literal"><span class="pre">ALL</span> <span class="pre">/db/_design/design-doc/_rewrite/rewrite-name/anything</span></tt><a class="headerlink" href="#all-db-design-design-doc-rewrite-rewrite-name-anything" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Method</strong>: <tt class="docutils literal"><span class="pre">ALL</span> <span class="pre">/db/_design/design-doc/_rewrite/rewrite-name/anything</span></tt></li>
<li><strong>Request</strong>:  TBC</li>
<li><strong>Response</strong>:  TBC</li>
<li><strong>Admin Privileges Required</strong>: no</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>

<!--

Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.

-->

<div id="searchbox" style="display: none">

<h3>Quick Search</h3>

<form class="search" action="search.html" method="get">
<input type="text" name="q">
<input type="submit" value="Go">
<input type="hidden" name="check_keywords" value="yes">
<input type="hidden" name="area" value="default">
</form>

<br>

</div>

<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">9.4. Design Document Methods</a><ul>
<li><a class="reference internal" href="#get-db-design-design-doc">9.4.1. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc</span></tt></a></li>
<li><a class="reference internal" href="#put-db-design-design-doc">9.4.2. <tt class="docutils literal"><span class="pre">PUT</span> <span class="pre">/db/_design/design-doc</span></tt></a></li>
<li><a class="reference internal" href="#delete-db-design-design-doc">9.4.3. <tt class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/db/_design/design-doc</span></tt></a></li>
<li><a class="reference internal" href="#copy-db-design-design-doc">9.4.4. <tt class="docutils literal"><span class="pre">COPY</span> <span class="pre">/db/_design/design-doc</span></tt></a><ul>
<li><a class="reference internal" href="#copying-a-design-document">9.4.4.1. Copying a Design Document</a></li>
<li><a class="reference internal" href="#copying-from-a-specific-revision">9.4.4.2. Copying from a Specific Revision</a></li>
<li><a class="reference internal" href="#copying-to-an-existing-design-document">9.4.4.3. Copying to an Existing Design Document</a></li>
</ul>
</li>
<li><a class="reference internal" href="#get-db-design-design-doc-attachment">9.4.5. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/attachment</span></tt></a></li>
<li><a class="reference internal" href="#put-db-design-design-doc-attachment">9.4.6. <tt class="docutils literal"><span class="pre">PUT</span> <span class="pre">/db/_design/design-doc/attachment</span></tt></a></li>
<li><a class="reference internal" href="#delete-db-design-design-doc-attachment">9.4.7. <tt class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/db/_design/design-doc/attachment</span></tt></a></li>
<li><a class="reference internal" href="#get-db-design-design-doc-info">9.4.8. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_info</span></tt></a></li>
<li><a class="reference internal" href="#get-db-design-design-doc-view-view-name">9.4.9. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_view/view-name</span></tt></a><ul>
<li><a class="reference internal" href="#querying-views-and-indexes">9.4.9.1. Querying Views and Indexes</a></li>
<li><a class="reference internal" href="#sorting-returned-rows">9.4.9.2. Sorting Returned Rows</a></li>
<li><a class="reference internal" href="#specifying-start-and-end-values">9.4.9.3. Specifying Start and End Values</a></li>
<li><a class="reference internal" href="#using-limits-and-skipping-rows">9.4.9.4. Using Limits and Skipping Rows</a></li>
<li><a class="reference internal" href="#view-reduction-and-grouping">9.4.9.5. View Reduction and Grouping</a></li>
</ul>
</li>
<li><a class="reference internal" href="#post-db-design-design-doc-view-view-name">9.4.10. <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_view/view-name</span></tt></a><ul>
<li><a class="reference internal" href="#multi-document-fetching">9.4.10.1. Multi-document Fetching</a></li>
</ul>
</li>
<li><a class="reference internal" href="#get-db-design-design-doc-show-show-name">9.4.11. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_show/show-name</span></tt></a></li>
<li><a class="reference internal" href="#post-db-design-design-doc-show-show-name-doc">9.4.12. <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_show/show-name/doc</span></tt></a></li>
<li><a class="reference internal" href="#get-db-design-design-doc-list-list-name-other-design-doc-view-name">9.4.13. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_list/list-name/other-design-doc/view-name</span></tt></a></li>
<li><a class="reference internal" href="#post-db-design-design-doc-list-list-name-other-design-doc-view-name">9.4.14. <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_list/list-name/other-design-doc/view-name</span></tt></a></li>
<li><a class="reference internal" href="#get-db-design-design-doc-list-list-name-view-name">9.4.15. <tt class="docutils literal"><span class="pre">GET</span> <span class="pre">/db/_design/design-doc/_list/list-name/view-name</span></tt></a></li>
<li><a class="reference internal" href="#post-db-design-design-doc-list-list-name-view-name">9.4.16. <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_list/list-name/view-name</span></tt></a></li>
<li><a class="reference internal" href="#put-db-design-design-doc-update-updatename-doc">9.4.17. <tt class="docutils literal"><span class="pre">PUT</span> <span class="pre">/db/_design/design-doc/_update/updatename/doc</span></tt></a></li>
<li><a class="reference internal" href="#post-db-design-design-doc-update-updatename">9.4.18. <tt class="docutils literal"><span class="pre">POST</span> <span class="pre">/db/_design/design-doc/_update/updatename</span></tt></a></li>
<li><a class="reference internal" href="#all-db-design-design-doc-rewrite-rewrite-name-anything">9.4.19. <tt class="docutils literal"><span class="pre">ALL</span> <span class="pre">/db/_design/design-doc/_rewrite/rewrite-name/anything</span></tt></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="local.html"
                        title="previous chapter">9.3. Local (non-replicating) Document Methods</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="misc.html"
                        title="next chapter">9.5. Miscellaneous Methods</a></p><!--

Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.

-->

<!--

Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.

-->

<h3>More Help</h3>

<ul>
<li><a href="https://couchdb.apache.org/">Homepage</a></li>
<li><a href="http://wiki.apache.org/couchdb/">Wiki</a></li>
<li><a href="https://couchdb.apache.org/#mailing-list">Mailing Lists</a></li>
<li><a href="http://webchat.freenode.net/?channels=couchdb">IRC</a></li>
<li><a href="https://issues.apache.org/jira/browse/CouchDB">Issues</a></li>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="misc.html" title="9.5. Miscellaneous Methods"
             >next</a> |</li>
        <li class="right" >
          <a href="local.html" title="9.3. Local (non-replicating) Document Methods"
             >previous</a> |</li>
        <li><a href="../index.html">Apache CouchDB 1.4 Manual</a> &raquo;</li>
          <li><a href="reference.html" >9. API Reference</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2013, The Apache Software Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
 <!-- End original user content -->


<br/>
<br/>
<br/>


<style type="text/css">
  #version_menu, .rtd-badge.rtd {
    -webkit-transition: all 0.25s 0.75s;
    transition: all 0.25s 0.75s;
  }
  .footer_popout:hover #version_menu, .footer_popout:hover .rtd-badge.rtd {
    -webkit-transition: all 0.25s 0s;
    transition: all 0.25s 0s;
  }
  .rtd-badge {
    position: fixed;
    display: block;
    bottom: 5px;
    height: 40px;
    text-indent: -9999em;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
  }
  #version_menu {
    position: fixed;
    visibility: hidden;
    opacity: 0;
    bottom: 11px;
    right: 47px;
    list-style-type: none;
    margin: 0;
  }
  .footer_popout:hover #version_menu {
    visibility: visible;
    opacity: 1;
    right: 166px;
  }
  #version_menu li {
    display: block;
    float: right;
  }
  #version_menu li a {
    display: block;
    padding: 6px 10px 4px 10px;
    margin: 7px 7px 0 0;
    font-weight: bold;
    font-size: 14px;
    height: 20px;
    line-height: 17px;
    text-decoration: none;
    color: #fff;
    background: #8ca1af url(//media.readthedocs.org//images/gradient-light.png) bottom left repeat-x;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 1px #465158;
    -moz-box-shadow: 0 1px 1px #465158;
    -webkit-box-shadow: 0 1px 1px #465158;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5);
  }
  #version_menu li a:hover {
    text-decoration: none;
    background-color: #697983;
    box-shadow: 0 1px 0px #465158;
    -moz-box-shadow: 0 1px 0px #465158;
    -webkit-box-shadow: 0 1px 0px #465158;
  }
  .rtd-badge.rtd {
    background: #3b4449 url(//media.readthedocs.org//images/badge-rtd.png) scroll top left no-repeat;
    border: 1px solid #282E32;
    width: 41px;
    right: 5px;
  }
  .footer_popout:hover .rtd-badge.rtd {
    width: 160px;
  }
  .rtd-badge.revsys { background: #465158 url(//media.readthedocs.org//images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .rtd-badge.revsys-inline-sponsored {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(//media.readthedocs.org//images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .rtd-badge.revsys-inline {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(//media.readthedocs.org//images/badge-revsys-sm.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 205px;
    right: 173px;
  }

</style>
<div class="rtd_doc_footer">
  <div class="footer_popout">
    <a href="//readthedocs.org/projects/couchdb/?fromdocs=couchdb" class="rtd-badge rtd"> Brought to you by Read the Docs</a>
    <ul id="version_menu">
      
        <li><a href="/en/latest/">latest</a></li>
      
        <li><a href="/en/1.4.x/">1.4.x</a></li>
      
        <li><a href="/en/1.3.x/">1.3.x</a></li>
      
    </ul>
  </div>
</div>
<!-- RTD Analytics Code -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17997319-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>




  </body>
</html>