

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>10. JSON Structure Reference &mdash; Apache CouchDB 1.4 Manual</title>
<!-- RTD <head> -->
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" src="//media.readthedocs.org/javascript/underscore.js"></script>
<script type="text/javascript" src="//media.readthedocs.org/javascript/doctools.js"></script>

<script type="text/javascript">
  // This is included here for Javascript that doesn't have access to the templates.
  var doc_version = "1.4.x";
  var doc_slug = "couchdb";
  var page_name = "json-structure";
</script>

<script type="text/javascript" src="//media.readthedocs.org/javascript/rtd.js"></script>
<!-- end RTD <head> -->

    
    <link rel="stylesheet" href="_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Apache CouchDB 1.4 Manual" href="index.html" />
    <link rel="next" title="11. Configuration Reference" href="config_reference.html" />
    <link rel="prev" title="9.7. Authentication Methods" href="api/authn.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="config_reference.html" title="11. Configuration Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="api/authn.html" title="9.7. Authentication Methods"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Apache CouchDB 1.4 Manual</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="json-structure-reference">
<h1>10. JSON Structure Reference<a class="headerlink" href="#json-structure-reference" title="Permalink to this headline">¶</a></h1>
<p>The following appendix provides a quick reference to all the JSON structures
that you can supply to CouchDB, or get in return to requests.</p>
<div class="section" id="all-database-documents">
<h2>10.1. All Database Documents<a class="headerlink" href="#all-database-documents" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>total_rows</td>
<td>Number of documents in the database/view</td>
</tr>
<tr class="row-odd"><td>offset</td>
<td>Offset where the document list started</td>
</tr>
<tr class="row-even"><td>update_seq (optional)</td>
<td>Current update sequence for the database</td>
</tr>
<tr class="row-odd"><td>rows [array]</td>
<td>Array of document object</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bulk-document-response">
<h2>10.2. Bulk Document Response<a class="headerlink" href="#bulk-document-response" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>docs [array]</td>
<td>Bulk Docs Returned Documents</td>
</tr>
<tr class="row-odd"><td>id</td>
<td>Document ID</td>
</tr>
<tr class="row-even"><td>error</td>
<td>Error type</td>
</tr>
<tr class="row-odd"><td>reason</td>
<td>Error string with extended reason</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bulk-documents">
<h2>10.3. Bulk Documents<a class="headerlink" href="#bulk-documents" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>all_or_nothing (optional)</td>
<td>Sets the database commit mode to use
all-or-nothing semantics</td>
</tr>
<tr class="row-odd"><td>docs [array]</td>
<td>Bulk Documents Document</td>
</tr>
<tr class="row-even"><td>_id (optional)</td>
<td>Document ID</td>
</tr>
<tr class="row-odd"><td>_rev (optional)</td>
<td>Revision ID (when updating an existing
document)</td>
</tr>
<tr class="row-even"><td>_deleted (optional)</td>
<td>Whether the document should be deleted</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="changes-information-for-a-database">
<h2>10.4. Changes information for a database<a class="headerlink" href="#changes-information-for-a-database" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>last_seq</td>
<td>Last change sequence number</td>
</tr>
<tr class="row-odd"><td>results [array]</td>
<td>Changes made to a database</td>
</tr>
<tr class="row-even"><td>seq</td>
<td>Update sequence number</td>
</tr>
<tr class="row-odd"><td>id</td>
<td>Document ID</td>
</tr>
<tr class="row-even"><td>changes [array]</td>
<td>List of changes, field-by-field, for this
document</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="couchdb-document">
<h2>10.5. CouchDB Document<a class="headerlink" href="#couchdb-document" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_id (optional)</td>
<td>Document ID</td>
</tr>
<tr class="row-odd"><td>_rev (optional)</td>
<td>Revision ID (when updating an existing
document)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="couchdb-error-status">
<h2>10.6. CouchDB Error Status<a class="headerlink" href="#couchdb-error-status" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>id</td>
<td>Document ID</td>
</tr>
<tr class="row-odd"><td>error</td>
<td>Error type</td>
</tr>
<tr class="row-even"><td>reason</td>
<td>Error string with extended reason</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="couchdb-database-information-object">
<span id="dbinfo-object"></span><h2>10.7. CouchDB database information object<a class="headerlink" href="#couchdb-database-information-object" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>db_name</td>
<td>The name of the database.</td>
</tr>
<tr class="row-odd"><td>committed_update_seq</td>
<td>The number of committed update.</td>
</tr>
<tr class="row-even"><td>doc_count</td>
<td>A count of the documents in the specified
database.</td>
</tr>
<tr class="row-odd"><td>doc_del_count</td>
<td>Number of deleted documents</td>
</tr>
<tr class="row-even"><td>compact_running</td>
<td>Set to true if the database compaction
routine is operating on this database.</td>
</tr>
<tr class="row-odd"><td>disk_format_version</td>
<td>The version of the physical format used for
the data when it is stored on disk.</td>
</tr>
<tr class="row-even"><td>disk_size</td>
<td>Size in bytes of the data as stored on the
disk. Views indexes are not included in the
calculation.</td>
</tr>
<tr class="row-odd"><td>instance_start_time</td>
<td>Timestamp of when the database was opened,
expressed in microseconds since the epoch.</td>
</tr>
<tr class="row-even"><td>purge_seq</td>
<td>The number of purge operations on the
database.</td>
</tr>
<tr class="row-odd"><td>update_seq</td>
<td>The current number of updates to the
database.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="design-document">
<h2>10.8. Design Document<a class="headerlink" href="#design-document" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_id</td>
<td>Design Document ID</td>
</tr>
<tr class="row-odd"><td>_rev</td>
<td>Design Document Revision</td>
</tr>
<tr class="row-even"><td>views</td>
<td>View</td>
</tr>
<tr class="row-odd"><td>viewname</td>
<td>View Definition</td>
</tr>
<tr class="row-even"><td>map</td>
<td>Map Function for View</td>
</tr>
<tr class="row-odd"><td>reduce (optional)</td>
<td>Reduce Function for View</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="design-document-information">
<h2>10.9. Design Document Information<a class="headerlink" href="#design-document-information" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>name</td>
<td>Name/ID of Design Document</td>
</tr>
<tr class="row-odd"><td>view_index</td>
<td>View Index</td>
</tr>
<tr class="row-even"><td>compact_running</td>
<td>Indicates whether a compaction routine is
currently running on the view</td>
</tr>
<tr class="row-odd"><td>disk_size</td>
<td>Size in bytes of the view as stored on disk</td>
</tr>
<tr class="row-even"><td>language</td>
<td>Language for the defined views</td>
</tr>
<tr class="row-odd"><td>purge_seq</td>
<td>The purge sequence that has been processed</td>
</tr>
<tr class="row-even"><td>signature</td>
<td>MD5 signature of the views for the design
document</td>
</tr>
<tr class="row-odd"><td>update_seq</td>
<td>The update sequence of the corresponding
database that has been indexed</td>
</tr>
<tr class="row-even"><td>updater_running</td>
<td>Indicates if the view is currently being
updated</td>
</tr>
<tr class="row-odd"><td>waiting_clients</td>
<td>Number of clients waiting on views from this
design document</td>
</tr>
<tr class="row-even"><td>waiting_commit</td>
<td>Indicates if there are outstanding commits
to the underlying database that need to
processed</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="document-with-attachments">
<h2>10.10. Document with Attachments<a class="headerlink" href="#document-with-attachments" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_id (optional)</td>
<td>Document ID</td>
</tr>
<tr class="row-odd"><td>_rev (optional)</td>
<td>Revision ID (when updating an existing
document)</td>
</tr>
<tr class="row-even"><td>_attachments (optional)</td>
<td>Document Attachment</td>
</tr>
<tr class="row-odd"><td>filename</td>
<td>Attachment information</td>
</tr>
<tr class="row-even"><td>content_type</td>
<td>MIME Content type string</td>
</tr>
<tr class="row-odd"><td>data</td>
<td>File attachment content, Base64 encoded</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="list-of-active-tasks">
<h2>10.11. List of Active Tasks<a class="headerlink" href="#list-of-active-tasks" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>tasks [array]</td>
<td>Active Task</td>
</tr>
<tr class="row-odd"><td>pid</td>
<td>Process ID</td>
</tr>
<tr class="row-even"><td>status</td>
<td>Task status message</td>
</tr>
<tr class="row-odd"><td>task</td>
<td>Task name</td>
</tr>
<tr class="row-even"><td>type</td>
<td>Operation Type</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="replication-settings">
<span id="id1"></span><h2>10.12. Replication Settings<a class="headerlink" href="#replication-settings" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>source</td>
<td>Source database name or URL</td>
</tr>
<tr class="row-odd"><td>target</td>
<td>Target database name or URL</td>
</tr>
<tr class="row-even"><td>create_target (optional)</td>
<td>Creates the target database</td>
</tr>
<tr class="row-odd"><td>continuous (optional)</td>
<td>Configure the replication to be continuous</td>
</tr>
<tr class="row-even"><td>cancel (optional)</td>
<td>Cancels the replication</td>
</tr>
<tr class="row-odd"><td>doc_ids (optional)</td>
<td>Array of document IDs to be synchronized</td>
</tr>
<tr class="row-even"><td>proxy (optional)</td>
<td>Address of a proxy server through which
replication should occur</td>
</tr>
<tr class="row-odd"><td>since_seq (optional)</td>
<td>Sequence from which the replication should
start</td>
</tr>
<tr class="row-even"><td>filter (optional)</td>
<td>name of the filter function in the form of
ddoc/myfilter</td>
</tr>
<tr class="row-odd"><td>query_params (optional)</td>
<td>query parameter that are passed to the
filter function; value should be a document
containing parameters as members</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="replication-status">
<span id="id2"></span><h2>10.13. Replication Status<a class="headerlink" href="#replication-status" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ok</td>
<td>Replication status</td>
</tr>
<tr class="row-odd"><td>session_id</td>
<td>Unique session ID</td>
</tr>
<tr class="row-even"><td>source_last_seq</td>
<td>Last sequence number read from source
database</td>
</tr>
<tr class="row-odd"><td>history [array]</td>
<td>Replication History</td>
</tr>
<tr class="row-even"><td>session_id</td>
<td>Session ID for this replication operation</td>
</tr>
<tr class="row-odd"><td>recorded_seq</td>
<td>Last recorded sequence number</td>
</tr>
<tr class="row-even"><td>docs_read</td>
<td>Number of documents read</td>
</tr>
<tr class="row-odd"><td>docs_written</td>
<td>Number of documents written to target</td>
</tr>
<tr class="row-even"><td>doc_write_failures</td>
<td>Number of document write failures</td>
</tr>
<tr class="row-odd"><td>start_time</td>
<td>Date/Time replication operation started</td>
</tr>
<tr class="row-even"><td>start_last_seq</td>
<td>First sequence number in changes stream</td>
</tr>
<tr class="row-odd"><td>end_time</td>
<td>Date/Time replication operation completed</td>
</tr>
<tr class="row-even"><td>end_last_seq</td>
<td>Last sequence number in changes stream</td>
</tr>
<tr class="row-odd"><td>missing_checked</td>
<td>Number of missing documents checked</td>
</tr>
<tr class="row-even"><td>missing_found</td>
<td>Number of missing documents found</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="request-object">
<span id="id3"></span><h2>10.14. Request object<a class="headerlink" href="#request-object" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>body</td>
<td>Request body data as <cite>string</cite>.
If request method is <cite>GET</cite> method contains
this field contains <tt class="docutils literal"><span class="pre">&quot;undefined&quot;</span></tt> value,
while if <cite>DELETE</cite> or <cite>HEAD</cite> value is <tt class="docutils literal"><span class="pre">&quot;&quot;</span></tt>
(empty string)</td>
</tr>
<tr class="row-odd"><td>cookie</td>
<td>Cookies <cite>object</cite>.</td>
</tr>
<tr class="row-even"><td>form</td>
<td>Form data <cite>object</cite>.
Contains decoded body as key-value pairs if
<cite>Content-Type</cite> header was
<tt class="docutils literal"><span class="pre">application/x-www-form-urlencoded</span></tt>.</td>
</tr>
<tr class="row-odd"><td>headers</td>
<td>Request headers <cite>object</cite>.</td>
</tr>
<tr class="row-even"><td>id</td>
<td>Requested document id <cite>string</cite> if it was
specified or <tt class="docutils literal"><span class="pre">null</span></tt> otherwise.</td>
</tr>
<tr class="row-odd"><td>info</td>
<td><a class="reference internal" href="#dbinfo-object"><em>Database information</em></a></td>
</tr>
<tr class="row-even"><td>method</td>
<td>Request method as <cite>string</cite> or <cite>array</cite>.
String value is method is one of: <cite>HEAD</cite>,
<cite>GET</cite>, <cite>POST</cite>, <cite>PUT</cite>, <cite>DELETE</cite>, <cite>OPTIONS</cite>,
and <cite>TRACE</cite>, otherwise it will be
represented as array of char codes.</td>
</tr>
<tr class="row-odd"><td>path</td>
<td>List of requested path sections.</td>
</tr>
<tr class="row-even"><td>peer</td>
<td>Request source IP address.</td>
</tr>
<tr class="row-odd"><td>query</td>
<td>URL query parameters <cite>object</cite>.
Note that multiple keys not supported and
last key value suppress others.</td>
</tr>
<tr class="row-even"><td>requested_path</td>
<td>List of actual requested path section.</td>
</tr>
<tr class="row-odd"><td>raw_path</td>
<td>Raw requested path <cite>string</cite>.</td>
</tr>
<tr class="row-even"><td>secObj</td>
<td><a class="reference internal" href="#security-object"><em>Security Object</em></a>.</td>
</tr>
<tr class="row-odd"><td>userCtx</td>
<td><a class="reference internal" href="#userctx-object"><em>User Context Object</em></a>.</td>
</tr>
<tr class="row-even"><td>uuid</td>
<td>Generated UUID by specified algorithm in
config file.</td>
</tr>
</tbody>
</table>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;body&quot;</span><span class="o">:</span> <span class="s2">&quot;undefined&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cookie&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;AuthSession&quot;</span><span class="o">:</span> <span class="s2">&quot;cm9vdDo1MDZBRjQzRjrfcuikzPRfAn-EA37FmjyfM8G8Lw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;m&quot;</span><span class="o">:</span> <span class="s2">&quot;3234&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;form&quot;</span><span class="o">:</span> <span class="p">{},</span>
    <span class="s2">&quot;headers&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;Accept&quot;</span><span class="o">:</span> <span class="s2">&quot;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Accept-Charset&quot;</span><span class="o">:</span> <span class="s2">&quot;ISO-8859-1,utf-8;q=0.7,*;q=0.3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Accept-Encoding&quot;</span><span class="o">:</span> <span class="s2">&quot;gzip,deflate,sdch&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Accept-Language&quot;</span><span class="o">:</span> <span class="s2">&quot;en-US,en;q=0.8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Connection&quot;</span><span class="o">:</span> <span class="s2">&quot;keep-alive&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Cookie&quot;</span><span class="o">:</span> <span class="s2">&quot;m=3234:t|3247:t|6493:t|6967:t|34e2:|18c3:t|2c69:t|5acb:t|ca3:t|c01:t|5e55:t|77cb:t|2a03:t|1d98:t|47ba:t|64b8:t|4a01:t; AuthSession=cm9vdDo1MDZBRjQzRjrfcuikzPRfAn-EA37FmjyfM8G8Lw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Host&quot;</span><span class="o">:</span> <span class="s2">&quot;127.0.0.1:5984&quot;</span><span class="p">,</span>
        <span class="s2">&quot;User-Agent&quot;</span><span class="o">:</span> <span class="s2">&quot;Mozilla/5.0 (Windows NT 5.2) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.75 Safari/535.7&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;info&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;committed_update_seq&quot;</span><span class="o">:</span> <span class="mi">2701412</span><span class="p">,</span>
        <span class="s2">&quot;compact_running&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="s2">&quot;data_size&quot;</span><span class="o">:</span> <span class="mi">7580843252</span><span class="p">,</span>
        <span class="s2">&quot;db_name&quot;</span><span class="o">:</span> <span class="s2">&quot;mailbox&quot;</span><span class="p">,</span>
        <span class="s2">&quot;disk_format_version&quot;</span><span class="o">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="s2">&quot;disk_size&quot;</span><span class="o">:</span> <span class="mi">14325313673</span><span class="p">,</span>
        <span class="s2">&quot;doc_count&quot;</span><span class="o">:</span> <span class="mi">2262757</span><span class="p">,</span>
        <span class="s2">&quot;doc_del_count&quot;</span><span class="o">:</span> <span class="mi">560</span><span class="p">,</span>
        <span class="s2">&quot;instance_start_time&quot;</span><span class="o">:</span> <span class="s2">&quot;1347601025628957&quot;</span><span class="p">,</span>
        <span class="s2">&quot;purge_seq&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;update_seq&quot;</span><span class="o">:</span> <span class="mi">2701412</span>
    <span class="p">},</span>
    <span class="s2">&quot;method&quot;</span><span class="o">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
    <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;mailbox&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_design&quot;</span><span class="p">,</span>
        <span class="s2">&quot;request&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_show&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dump&quot;</span><span class="p">,</span>
        <span class="s2">&quot;foo&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;peer&quot;</span><span class="o">:</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;query&quot;</span><span class="o">:</span> <span class="p">{},</span>
    <span class="s2">&quot;raw_path&quot;</span><span class="o">:</span> <span class="s2">&quot;/mailbox/_design/request/_show/dump/foo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;requested_path&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;mailbox&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_design&quot;</span><span class="p">,</span>
        <span class="s2">&quot;request&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_show&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dump&quot;</span><span class="p">,</span>
        <span class="s2">&quot;foo&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;secObj&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;admins&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;names&quot;</span><span class="o">:</span> <span class="p">[</span>
                <span class="s2">&quot;Bob&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;roles&quot;</span><span class="o">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="s2">&quot;members&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;names&quot;</span><span class="o">:</span> <span class="p">[</span>
                <span class="s2">&quot;Mike&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Alice&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;roles&quot;</span><span class="o">:</span> <span class="p">[]</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;userCtx&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;db&quot;</span><span class="o">:</span> <span class="s2">&quot;mailbox&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Mike&quot;</span><span class="p">,</span>
        <span class="s2">&quot;roles&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="s2">&quot;user&quot;</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;uuid&quot;</span><span class="o">:</span> <span class="s2">&quot;3184f9d1ea934e1f81a24c71bde5c168&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="response-object">
<span id="id4"></span><h2>10.15. Response object<a class="headerlink" href="#response-object" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>code</td>
<td>HTTP status code <cite>number</cite>.</td>
</tr>
<tr class="row-odd"><td>json</td>
<td>JSON encodable <cite>object</cite>.
Implicitly sets <cite>Content-Type</cite> header as
<tt class="docutils literal"><span class="pre">application/json</span></tt>.</td>
</tr>
<tr class="row-even"><td>body</td>
<td>Raw response text <cite>string</cite>.
Implicitly sets <cite>Content-Type</cite> header as
<tt class="docutils literal"><span class="pre">text/html;</span> <span class="pre">charset=utf-8</span></tt>.</td>
</tr>
<tr class="row-odd"><td>base64</td>
<td>Base64 encoded <cite>string</cite>.
Implicitly sets <cite>Content-Type</cite> header as
<tt class="docutils literal"><span class="pre">application/binary</span></tt>.</td>
</tr>
<tr class="row-even"><td>headers</td>
<td>Response headers <cite>object</cite>.
<cite>Content-Type</cite> header from this object
overrides any implicitly assigned one.</td>
</tr>
<tr class="row-odd"><td>stop</td>
<td><cite>boolean</cite> signal to stop iteration over
view result rows (for list functions only)</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last"><tt class="docutils literal"><span class="pre">body</span></tt>, <tt class="docutils literal"><span class="pre">base64</span></tt> and <tt class="docutils literal"><span class="pre">json</span></tt> object keys are overlaps each other and
the last wins. Since most realizations of key-value objects doesn&#8217;t preserve
key order mixing them may create confusing situation. Try to use only one of
them.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Any custom property makes CouchDB raise internal exception.
Also <cite>Response object</cite> could be a simple string value which would be
implicitly wrapped into <tt class="docutils literal"><span class="pre">{&quot;body&quot;:</span> <span class="pre">...}</span></tt> object.</p>
</div>
</div>
<div class="section" id="returned-couchdb-document-with-detailed-revision-info">
<h2>10.16. Returned CouchDB Document with Detailed Revision Info<a class="headerlink" href="#returned-couchdb-document-with-detailed-revision-info" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_id (optional)</td>
<td>Document ID</td>
</tr>
<tr class="row-odd"><td>_rev (optional)</td>
<td>Revision ID (when updating an existing
document)</td>
</tr>
<tr class="row-even"><td>_revs_info [array]</td>
<td>CouchDB Document Extended Revision Info</td>
</tr>
<tr class="row-odd"><td>rev</td>
<td>Full revision string</td>
</tr>
<tr class="row-even"><td>status</td>
<td>Status of the revision</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="returned-couchdb-document-with-revision-info">
<h2>10.17. Returned CouchDB Document with Revision Info<a class="headerlink" href="#returned-couchdb-document-with-revision-info" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_id (optional)</td>
<td>Document ID</td>
</tr>
<tr class="row-odd"><td>_rev (optional)</td>
<td>Revision ID (when updating an existing
document)</td>
</tr>
<tr class="row-even"><td>_revisions</td>
<td>CouchDB Document Revisions</td>
</tr>
<tr class="row-odd"><td>ids [array]</td>
<td>Array of valid revision IDs, in reverse
order (latest first)</td>
</tr>
<tr class="row-even"><td>start</td>
<td>Prefix number for the latest revision</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="returned-document-with-attachments">
<h2>10.18. Returned Document with Attachments<a class="headerlink" href="#returned-document-with-attachments" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_id (optional)</td>
<td>Document ID</td>
</tr>
<tr class="row-odd"><td>_rev (optional)</td>
<td>Revision ID (when updating an existing
document)</td>
</tr>
<tr class="row-even"><td>_attachments (optional)</td>
<td>Document Attachment</td>
</tr>
<tr class="row-odd"><td>filename</td>
<td>Attachment</td>
</tr>
<tr class="row-even"><td>stub</td>
<td>Indicates whether the attachment is a stub</td>
</tr>
<tr class="row-odd"><td>content_type</td>
<td>MIME Content type string</td>
</tr>
<tr class="row-even"><td>length</td>
<td>Length (bytes) of the attachment data</td>
</tr>
<tr class="row-odd"><td>revpos</td>
<td>Revision where this attachment exists</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="security-object">
<span id="id5"></span><h2>10.19. Security Object<a class="headerlink" href="#security-object" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>admins</td>
<td>Roles/Users with admin privileges</td>
</tr>
<tr class="row-odd"><td>roles [array]</td>
<td>List of roles with parent privilege</td>
</tr>
<tr class="row-even"><td>users [array]</td>
<td>List of users with parent privilege</td>
</tr>
<tr class="row-odd"><td>readers</td>
<td>Roles/Users with reader privileges</td>
</tr>
<tr class="row-even"><td>roles [array]</td>
<td>List of roles with parent privilege</td>
</tr>
<tr class="row-odd"><td>users [array]</td>
<td>List of users with parent privilege</td>
</tr>
</tbody>
</table>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;admins&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;names&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="s2">&quot;Bob&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;roles&quot;</span><span class="o">:</span> <span class="p">[]</span>
    <span class="p">},</span>
    <span class="s2">&quot;members&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;names&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="s2">&quot;Mike&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Alice&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;roles&quot;</span><span class="o">:</span> <span class="p">[]</span>
    <span class="p">}</span>
  <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="user-context-object">
<span id="userctx-object"></span><h2>10.20. User Context Object<a class="headerlink" href="#user-context-object" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>db</td>
<td>Database name in context of provided
operation.</td>
</tr>
<tr class="row-odd"><td>name</td>
<td>User name.</td>
</tr>
<tr class="row-even"><td>roles</td>
<td>List of user roles.</td>
</tr>
</tbody>
</table>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;db&quot;</span><span class="o">:</span> <span class="s2">&quot;mailbox&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="s2">&quot;roles&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;_admin&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="view-head-information">
<span id="view-head-info-object"></span><h2>10.21. View Head Information<a class="headerlink" href="#view-head-information" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>total_rows</td>
<td>Number of documents in the view</td>
</tr>
<tr class="row-odd"><td>offset</td>
<td>Offset where the document list started</td>
</tr>
</tbody>
</table>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;total_rows&quot;</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="s2">&quot;offset&quot;</span><span class="o">:</span> <span class="mi">3</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="number-handling">
<span id="id6"></span><h2>10.22. Number Handling<a class="headerlink" href="#number-handling" title="Permalink to this headline">¶</a></h2>
<p>Any numbers defined in JSON that contain a decimal point or exponent
will be passed through the Erlang VM&#8217;s idea of the &#8220;double&#8221; data type.
Any numbers that are used in views will pass through the views idea of
a number (the common JavaScript case means even integers pass through
a double due to JavaScript&#8217;s definition of a number).</p>
<p>Consider this document that we write to CouchDB:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="o">:</span><span class="s2">&quot;30b3b38cdbd9e3a587de9b8122000cff&quot;</span><span class="p">,</span>
  <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="mf">1.1</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now let’s read that document back from CouchDB:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="o">:</span><span class="s2">&quot;30b3b38cdbd9e3a587de9b8122000cff&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_rev&quot;</span><span class="o">:</span><span class="s2">&quot;1-f065cee7c3fd93aa50f6c97acde93030&quot;</span><span class="p">,</span>
  <span class="s2">&quot;number&quot;</span><span class="o">:</span><span class="mf">1.1000000000000000888</span>
<span class="p">}</span>
</pre></div>
</div>
<p>What happens is CouchDB is changing the textual representation of the
result of decoding what it was given into some numerical format. In most
cases this is an <a class="reference external" href="https://en.wikipedia.org/wiki/IEEE_754-2008">IEEE 754</a> double precision floating point number which
is exactly what almost all other languages use as well.</p>
<p>What CouchDB does a bit differently than other languages is that it
does not attempt to pretty print the resulting output to use the
shortest number of characters. For instance, this is why we have this
relationship:</p>
<div class="highlight-erlang"><div class="highlight"><pre><span class="nn">ejson</span><span class="p">:</span><span class="nf">encode</span><span class="p">(</span><span class="nn">ejson</span><span class="p">:</span><span class="nf">decode</span><span class="p">(</span><span class="o">&lt;&lt;</span><span class="s">&quot;1.1&quot;</span><span class="o">&gt;&gt;</span><span class="p">)).</span>
<span class="o">&lt;&lt;</span><span class="s">&quot;1.1000000000000000888&quot;</span><span class="o">&gt;&gt;</span>
</pre></div>
</div>
<p>What can be confusing here is that internally those two formats
decode into the same IEEE-754 representation. And more importantly, it
will decode into a fairly close representation when passed through all
major parsers that I know about.</p>
<p>While we&#8217;ve only been discussing cases where the textual
representation changes, another important case is when an input value
is contains more precision than can actually represented in a double.
(You could argue that this case is actually &#8220;losing&#8221; data if you don&#8217;t
accept that numbers are stored in doubles).</p>
<p>Here&#8217;s a log for a couple of the more common JSON libraries I happen
to have on my machine:</p>
<p>Spidermonkey:</p>
<div class="highlight-json"><pre>$ js -h 2&gt;&amp;1 | head -n 1
JavaScript-C 1.8.5 2011-03-31
$ js
js&gt; JSON.stringify(JSON.parse("1.01234567890123456789012345678901234567890"))
"1.0123456789012346"
js&gt; var f = JSON.stringify(JSON.parse("1.01234567890123456789012345678901234567890"))
js&gt; JSON.stringify(JSON.parse(f))
"1.0123456789012346"</pre>
</div>
<p>Node:</p>
<div class="highlight-json"><pre>$ node -v
v0.6.15
$ node
JSON.stringify(JSON.parse("1.01234567890123456789012345678901234567890"))
'1.0123456789012346'
var f = JSON.stringify(JSON.parse("1.01234567890123456789012345678901234567890"))
undefined
JSON.stringify(JSON.parse(f))
'1.0123456789012346'</pre>
</div>
<p>Python:</p>
<div class="highlight-json"><pre>$ python
Python 2.7.2 (default, Jun 20 2012, 16:23:33)
[GCC 4.2.1 Compatible Apple Clang 4.0 (tags/Apple/clang-418.0.60)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
import json
json.dumps(json.loads("1.01234567890123456789012345678901234567890"))
'1.0123456789012346'
f = json.dumps(json.loads("1.01234567890123456789012345678901234567890"))
json.dumps(json.loads(f))
'1.0123456789012346'</pre>
</div>
<p>Ruby:</p>
<div class="highlight-json"><pre>$ irb --version
irb 0.9.5(05/04/13)
require 'JSON'
=&gt; true
JSON.dump(JSON.load("[1.01234567890123456789012345678901234567890]"))
=&gt; "[1.01234567890123]"
f = JSON.dump(JSON.load("[1.01234567890123456789012345678901234567890]"))
=&gt; "[1.01234567890123]"
JSON.dump(JSON.load(f))
=&gt; "[1.01234567890123]"</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A small aside on Ruby, it requires a top level object or array, so I just
wrapped the value. Should be obvious it doesn&#8217;t affect the result of
parsing the number though.</p>
</div>
<p>Ejson (CouchDB&#8217;s current parser) at CouchDB sha 168a663b:</p>
<div class="highlight-json"><pre>$ ./utils/run -i
Erlang R14B04 (erts-5.8.5) [source] [64-bit] [smp:2:2] [rq:2]
[async-threads:4] [hipe] [kernel-poll:true]

Eshell V5.8.5  (abort with ^G)
1&gt; ejson:encode(ejson:decode(&lt;&lt;"1.01234567890123456789012345678901234567890"&gt;&gt;)).
&lt;&lt;"1.0123456789012346135"&gt;&gt;
2&gt; F = ejson:encode(ejson:decode(&lt;&lt;"1.01234567890123456789012345678901234567890"&gt;&gt;)).
&lt;&lt;"1.0123456789012346135"&gt;&gt;
3&gt; ejson:encode(ejson:decode(F)).
&lt;&lt;"1.0123456789012346135"&gt;&gt;</pre>
</div>
<p>As you can see they all pretty much behave the same except for Ruby
actually does appear to be losing some precision over the other
libraries.</p>
<p>The astute observer will notice that ejson (the CouchDB JSON library)
reported an extra three digits. While its tempting to think that this
is due to some internal difference, its just a more specific case of
the 1.1 input as described above.</p>
<p>The important point to realize here is that a double can only hold a
finite number of values. What we&#8217;re doing here is generating a string
that when passed through the &#8220;standard&#8221; floating point parsing
algorithms (ie, strtod) will result in the same bit pattern in memory
as we started with. Or, slightly different, the bytes in a JSON
serialized number are chosen such that they refer to a single specific
value that a double can represent.</p>
<p>The important point to understand is that we&#8217;re mapping from one
infinite set onto a finite set. An easy way to see this is by
reflecting on this:</p>
<div class="highlight-json"><pre>1.0 == 1.00 == 1.000 = 1.(infinite zeroes)</pre>
</div>
<p>Obviously a computer can&#8217;t hold infinite bytes so we have to
decimate our infinitely sized set to a finite set that can be
represented concisely.</p>
<p>The game that other JSON libraries are playing is merely:</p>
<p>&#8220;How few characters do I have to use to select this specific value for a double&#8221;</p>
<p>And that game has lots and lots of subtle details that are difficult
to duplicate in C without a significant amount of effort (it took
Python over a year to get it sorted with their fancy build systems
that automatically run on a number of different architectures).</p>
<p>Hopefully we&#8217;ve shown that CouchDB is not doing anything &#8220;funky&#8221; by
changing input. Its behaving the same as any other common JSON library
does, its just not pretty printing its output.</p>
<p>On the other hand, if you actually are in a position where an IEEE-754
double is not a satisfactory datatype for your numbers, then the
answer as has been stated is to not pass your numbers through this
representation. In JSON this is accomplished by encoding them as a
string or by using integer types (although integer types can still
bite you if you use a platform that has a different integer
representation than normal, ie, JavaScript).</p>
<p>Also, if anyone is really interested in changing this behavior, I&#8217;m
all ears for contributions to <a class="reference external" href="https://github.com/davisp/jiffy">jiffy</a> (which is theoretically going to
replace ejson when I get around to updating the build system). The
places I&#8217;ve looked for inspiration are TCL and Python. If you know a
decent implementation of this float printing algorithm give me a
holler.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>

<!--

Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.

-->

<div id="searchbox" style="display: none">

<h3>Quick Search</h3>

<form class="search" action="search.html" method="get">
<input type="text" name="q">
<input type="submit" value="Go">
<input type="hidden" name="check_keywords" value="yes">
<input type="hidden" name="area" value="default">
</form>

<br>

</div>

<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">10. JSON Structure Reference</a><ul>
<li><a class="reference internal" href="#all-database-documents">10.1. All Database Documents</a></li>
<li><a class="reference internal" href="#bulk-document-response">10.2. Bulk Document Response</a></li>
<li><a class="reference internal" href="#bulk-documents">10.3. Bulk Documents</a></li>
<li><a class="reference internal" href="#changes-information-for-a-database">10.4. Changes information for a database</a></li>
<li><a class="reference internal" href="#couchdb-document">10.5. CouchDB Document</a></li>
<li><a class="reference internal" href="#couchdb-error-status">10.6. CouchDB Error Status</a></li>
<li><a class="reference internal" href="#couchdb-database-information-object">10.7. CouchDB database information object</a></li>
<li><a class="reference internal" href="#design-document">10.8. Design Document</a></li>
<li><a class="reference internal" href="#design-document-information">10.9. Design Document Information</a></li>
<li><a class="reference internal" href="#document-with-attachments">10.10. Document with Attachments</a></li>
<li><a class="reference internal" href="#list-of-active-tasks">10.11. List of Active Tasks</a></li>
<li><a class="reference internal" href="#replication-settings">10.12. Replication Settings</a></li>
<li><a class="reference internal" href="#replication-status">10.13. Replication Status</a></li>
<li><a class="reference internal" href="#request-object">10.14. Request object</a></li>
<li><a class="reference internal" href="#response-object">10.15. Response object</a></li>
<li><a class="reference internal" href="#returned-couchdb-document-with-detailed-revision-info">10.16. Returned CouchDB Document with Detailed Revision Info</a></li>
<li><a class="reference internal" href="#returned-couchdb-document-with-revision-info">10.17. Returned CouchDB Document with Revision Info</a></li>
<li><a class="reference internal" href="#returned-document-with-attachments">10.18. Returned Document with Attachments</a></li>
<li><a class="reference internal" href="#security-object">10.19. Security Object</a></li>
<li><a class="reference internal" href="#user-context-object">10.20. User Context Object</a></li>
<li><a class="reference internal" href="#view-head-information">10.21. View Head Information</a></li>
<li><a class="reference internal" href="#number-handling">10.22. Number Handling</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="api/authn.html"
                        title="previous chapter">9.7. Authentication Methods</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="config_reference.html"
                        title="next chapter">11. Configuration Reference</a></p><!--

Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.

-->

<!--

Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.

-->

<h3>More Help</h3>

<ul>
<li><a href="https://couchdb.apache.org/">Homepage</a></li>
<li><a href="http://wiki.apache.org/couchdb/">Wiki</a></li>
<li><a href="https://couchdb.apache.org/#mailing-list">Mailing Lists</a></li>
<li><a href="http://webchat.freenode.net/?channels=couchdb">IRC</a></li>
<li><a href="https://issues.apache.org/jira/browse/CouchDB">Issues</a></li>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="config_reference.html" title="11. Configuration Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="api/authn.html" title="9.7. Authentication Methods"
             >previous</a> |</li>
        <li><a href="index.html">Apache CouchDB 1.4 Manual</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2013, The Apache Software Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
 <!-- End original user content -->


<br/>
<br/>
<br/>


<style type="text/css">
  #version_menu, .rtd-badge.rtd {
    -webkit-transition: all 0.25s 0.75s;
    transition: all 0.25s 0.75s;
  }
  .footer_popout:hover #version_menu, .footer_popout:hover .rtd-badge.rtd {
    -webkit-transition: all 0.25s 0s;
    transition: all 0.25s 0s;
  }
  .rtd-badge {
    position: fixed;
    display: block;
    bottom: 5px;
    height: 40px;
    text-indent: -9999em;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
  }
  #version_menu {
    position: fixed;
    visibility: hidden;
    opacity: 0;
    bottom: 11px;
    right: 47px;
    list-style-type: none;
    margin: 0;
  }
  .footer_popout:hover #version_menu {
    visibility: visible;
    opacity: 1;
    right: 166px;
  }
  #version_menu li {
    display: block;
    float: right;
  }
  #version_menu li a {
    display: block;
    padding: 6px 10px 4px 10px;
    margin: 7px 7px 0 0;
    font-weight: bold;
    font-size: 14px;
    height: 20px;
    line-height: 17px;
    text-decoration: none;
    color: #fff;
    background: #8ca1af url(//media.readthedocs.org//images/gradient-light.png) bottom left repeat-x;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 1px #465158;
    -moz-box-shadow: 0 1px 1px #465158;
    -webkit-box-shadow: 0 1px 1px #465158;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5);
  }
  #version_menu li a:hover {
    text-decoration: none;
    background-color: #697983;
    box-shadow: 0 1px 0px #465158;
    -moz-box-shadow: 0 1px 0px #465158;
    -webkit-box-shadow: 0 1px 0px #465158;
  }
  .rtd-badge.rtd {
    background: #3b4449 url(//media.readthedocs.org//images/badge-rtd.png) scroll top left no-repeat;
    border: 1px solid #282E32;
    width: 41px;
    right: 5px;
  }
  .footer_popout:hover .rtd-badge.rtd {
    width: 160px;
  }
  .rtd-badge.revsys { background: #465158 url(//media.readthedocs.org//images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .rtd-badge.revsys-inline-sponsored {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(//media.readthedocs.org//images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .rtd-badge.revsys-inline {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(//media.readthedocs.org//images/badge-revsys-sm.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 205px;
    right: 173px;
  }

</style>
<div class="rtd_doc_footer">
  <div class="footer_popout">
    <a href="//readthedocs.org/projects/couchdb/?fromdocs=couchdb" class="rtd-badge rtd"> Brought to you by Read the Docs</a>
    <ul id="version_menu">
      
        <li><a href="/en/latest/">latest</a></li>
      
        <li><a href="/en/1.4.x/">1.4.x</a></li>
      
        <li><a href="/en/1.3.x/">1.3.x</a></li>
      
    </ul>
  </div>
</div>
<!-- RTD Analytics Code -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17997319-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>




  </body>
</html>