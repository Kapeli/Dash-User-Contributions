

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>13. Release History &mdash; Apache CouchDB 1.4 Manual</title>
<!-- RTD <head> -->
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" src="//media.readthedocs.org/javascript/underscore.js"></script>
<script type="text/javascript" src="//media.readthedocs.org/javascript/doctools.js"></script>

<script type="text/javascript">
  // This is included here for Javascript that doesn't have access to the templates.
  var doc_version = "1.4.x";
  var doc_slug = "couchdb";
  var page_name = "changelog";
</script>

<script type="text/javascript" src="//media.readthedocs.org/javascript/rtd.js"></script>
<!-- end RTD <head> -->

    
    <link rel="stylesheet" href="_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Apache CouchDB 1.4 Manual" href="index.html" />
    <link rel="prev" title="12. Contributing to this Documentation" href="contributing.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="contributing.html" title="12. Contributing to this Documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Apache CouchDB 1.4 Manual</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="release-history">
<h1>13. Release History<a class="headerlink" href="#release-history" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#x-branch" id="id118">1.4.x Branch</a></li>
<li><a class="reference internal" href="#id2" id="id119">1.3.x Branch</a></li>
<li><a class="reference internal" href="#id7" id="id120">1.2.x Branch</a></li>
<li><a class="reference internal" href="#id19" id="id121">1.1.x Branch</a></li>
<li><a class="reference internal" href="#id33" id="id122">1.0.x Branch</a></li>
<li><a class="reference internal" href="#id62" id="id123">0.11.x Branch</a></li>
<li><a class="reference internal" href="#id85" id="id124">0.10.x Branch</a></li>
<li><a class="reference internal" href="#id92" id="id125">0.9.x Branch</a></li>
<li><a class="reference internal" href="#id106" id="id126">0.8.x Branch</a></li>
</ul>
</div>
<div class="section" id="x-branch">
<h2><a class="toc-backref" href="#id118">13.1. 1.4.x Branch</a><a class="headerlink" href="#x-branch" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id1">
<ul class="simple">
<li><a class="reference internal" href="#upgrade-notes" id="id127">Upgrade Notes</a></li>
<li><a class="reference internal" href="#version-1-4-0" id="id128">Version 1.4.0</a></li>
</ul>
</div>
<div class="section" id="upgrade-notes">
<h3><a class="toc-backref" href="#id127">13.1.1. Upgrade Notes</a><a class="headerlink" href="#upgrade-notes" title="Permalink to this headline">¶</a></h3>
<p>We now support Erlang/OTP R16B and R16B01; the minimum required version is R14B.</p>
<p>User document role values must now be strings. Other types of values will be
refused when saving the user document.</p>
</div>
<div class="section" id="version-1-4-0">
<h3><a class="toc-backref" href="#id128">13.1.2. Version 1.4.0</a><a class="headerlink" href="#version-1-4-0" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1684">COUCHDB-1684</a>: Support for server-wide changes feed reporting on creation,
updates and deletion of databases. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=917d8988">#917d8988</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1139">COUCHDB-1139</a>: it&#8217;s possible to apply <a class="reference internal" href="ddocs.html#listfun"><em>list</em></a>
functions to <tt class="docutils literal"><span class="pre">_all_docs</span></tt> view. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=54fd258e">#54fd258e</a></li>
<li>Automatic loading of CouchDB plugins. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=3fab6bb5">#3fab6bb5</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1634">COUCHDB-1634</a>: Reduce PBKDF2 work factor. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=f726bc4d">#f726bc4d</a></li>
<li>Allow storing pre-hashed admin passwords via <cite>_config</cite> API.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=c98ba561">#c98ba561</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1772">COUCHDB-1772</a>: Prevent invalid JSON output when using <cite>all_or_nothing</cite>
<cite>_bulk_docs</cite> API. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=dfd39d57">#dfd39d57</a></li>
<li>Add a <a class="reference internal" href="config_reference.html#config-couch-httpd-auth"><em>configurable whitelist</em></a> of user
document properties. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=8d7ab8b1">#8d7ab8b1</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1852">COUCHDB-1852</a>: Support Last-Event-ID header in EventSource changes feeds.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=dfd2199a">#dfd2199a</a></li>
<li>Much improved documentation, including an <a class="reference internal" href="ddocs.html#vdufun"><em>expanded description</em></a> of <cite>validate_doc_update</cite> functions (commit:<cite>ef9ac469</cite>) and
a description of how  CouchDB handles JSON <a class="reference internal" href="json-structure.html#number-handling"><em>number values</em></a> (<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=bbd93f77">#bbd93f77</a>).</li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1632">COUCHDB-1632</a>: Ignore epilogues in multipart/related MIME attachments.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=2b4ab67a">#2b4ab67a</a></li>
<li>Split up replicator_db tests into multiple independent tests.</li>
</ul>
</div>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id119">13.2. 1.3.x Branch</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id3">
<ul class="simple">
<li><a class="reference internal" href="#id4" id="id129">Upgrade Notes</a></li>
<li><a class="reference internal" href="#version-1-3-1" id="id130">Version 1.3.1</a></li>
<li><a class="reference internal" href="#version-1-3-0" id="id131">Version 1.3.0</a></li>
</ul>
</div>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id129">13.2.1. Upgrade Notes</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>You can upgrade your existing CouchDB 1.0.x installation to 1.3.0
without any specific steps or migration. When you run CouchDB, the
existing data and index files will be opened and used as normal.</p>
<p>The first time you run a compaction routine on your database within 1.3.0,
the data structure and indexes will be updated to the new version of the
CouchDB database format that can only be read by CouchDB 1.3.0 and later.
This step is not reversible. Once the data files have been updated and
migrated to the new version the data files will no longer work with a
CouchDB 1.0.x release.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you want to retain support for opening the data files in
CouchDB 1.0.x you must back up your data files before performing the
upgrade and compaction process.</p>
</div>
</div>
<div class="section" id="version-1-3-1">
<h3><a class="toc-backref" href="#id130">13.2.2. Version 1.3.1</a><a class="headerlink" href="#version-1-3-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="replicator">
<h4>13.2.2.1. Replicator<a class="headerlink" href="#replicator" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1788">COUCHDB-1788</a>: Tolerate missing source and target fields in _replicator docs.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=869f42e2">#869f42e2</a></li>
</ul>
</div>
<div class="section" id="log-system">
<h4>13.2.2.2. Log System<a class="headerlink" href="#log-system" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Don&#8217;t log about missing .compact files. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=06f1a8dc">#06f1a8dc</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1794">COUCHDB-1794</a>: Fix bug in WARN level logging from 1.3.0.</li>
</ul>
</div>
<div class="section" id="view-server">
<h4>13.2.2.3. View Server<a class="headerlink" href="#view-server" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1792">COUCHDB-1792</a>: Fix the -S option to couchjs to increase memory limits.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=cfaa66cd">#cfaa66cd</a></li>
</ul>
</div>
<div class="section" id="miscellaneous">
<h4>13.2.2.4. Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Improve documentation: better structure, improve language, less duplication.</li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1784">COUCHDB-1784</a>: Improvements to test suite and VPATH build system.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=01afaa4f">#01afaa4f</a></li>
</ul>
</div>
</div>
<div class="section" id="version-1-3-0">
<h3><a class="toc-backref" href="#id131">13.2.3. Version 1.3.0</a><a class="headerlink" href="#version-1-3-0" title="Permalink to this headline">¶</a></h3>
<div class="section" id="database-core">
<h4>13.2.3.1. Database core<a class="headerlink" href="#database-core" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1512">COUCHDB-1512</a>: Validate bind address before assignment. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=09ead8a0">#09ead8a0</a></li>
<li>Restore <tt class="docutils literal"><span class="pre">max_document_size</span></tt> protection. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=bf1eb135">#bf1eb135</a></li>
</ul>
</div>
<div class="section" id="documentation">
<h4>13.2.3.2. Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1523">COUCHDB-1523</a>: Import CouchBase documentation and convert them into
<a class="reference external" href="http://sphinx.pocoo.org/">Sphinx docs</a></li>
</ul>
</div>
<div class="section" id="futon">
<h4>13.2.3.3. Futon<a class="headerlink" href="#futon" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1470">COUCHDB-1470</a>: Futon raises popup on attempt to navigate to missed/deleted
document. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=5da40eef">#5da40eef</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1383">COUCHDB-1383</a>: Futon view editor won&#8217;t allow you to save original view after
saving a revision. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=ce48342">#ce48342</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-627">COUCHDB-627</a>: Support all timezones. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=b1a049bb">#b1a049bb</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-509">COUCHDB-509</a>: Added view request duration to Futon. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=2d2c7d1e">#2d2c7d1e</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1473">COUCHDB-1473</a>, <a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1472">COUCHDB-1472</a>: Disable buttons for actions that the user
doesn&#8217;t have permissions to. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=7156254d">#7156254d</a></li>
</ul>
</div>
<div class="section" id="http-interface">
<h4>13.2.3.4. HTTP Interface<a class="headerlink" href="#http-interface" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-431">COUCHDB-431</a>: Introduce experimental <a class="reference internal" href="configuring.html#cors"><em>CORS support</em></a>.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=b90e4021">#b90e4021</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1537">COUCHDB-1537</a>: Include user name in show/list <cite>ETags</cite>. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=ac320479">#ac320479</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1511">COUCHDB-1511</a>: CouchDB checks <cite>roles</cite> field for <cite>_users</cite> database documents
with more care. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=41205000">#41205000</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1502">COUCHDB-1502</a>: Allow users to delete own _users doc. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=f0d6f19bc8">#f0d6f19bc8</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1501">COUCHDB-1501</a>: <a class="reference internal" href="changes.html#changes"><em>Changes feed</em></a> now can take special parameter
<tt class="docutils literal"><span class="pre">since=now</span></tt> to emit changes since current point of time. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=3bbb2612">#3bbb2612</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1442">COUCHDB-1442</a>: No longer rewrites the <cite>X-CouchDB-Requested-Path</cite> during
recursive calls to the rewriter. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=56744f2f">#56744f2f</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1441">COUCHDB-1441</a>: Limit recursion depth in the URL rewriter.
Defaults to a maximum of 100 invocations but is configurable.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=d076976c">#d076976c</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1381">COUCHDB-1381</a>: Add jquery.couch support for Windows 8 Metro apps.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=dfc5d37c">#dfc5d37c</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1337">COUCHDB-1337</a>: Use MD5 for attachment ETag header value. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=6d912c9f">#6d912c9f</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1321">COUCHDB-1321</a>: Variables in rewrite rules breaks OAuth authentication.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=c307ba95">#c307ba95</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1285">COUCHDB-1285</a>: Allow configuration of vendor and modules version in CouchDB
welcome message. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=3c24a94d">#3c24a94d</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1277">COUCHDB-1277</a>: Better query parameter support and code clarity:
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=7e3c69ba">#7e3c69ba</a><ul>
<li>Responses to documents created/modified via form data <cite>POST</cite> to /db/doc or
copied with <cite>COPY</cite> should now include <cite>Location</cite> header.</li>
<li>Form data POST to /db/doc now includes an <cite>ETag</cite> response header.</li>
<li><tt class="docutils literal"><span class="pre">?batch=ok</span></tt> is now supported for <cite>COPY</cite> and <cite>POST</cite> /db/doc updates.</li>
<li><tt class="docutils literal"><span class="pre">?new_edits=false</span></tt> is now supported for more operations.</li>
</ul>
</li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1210">COUCHDB-1210</a>: Files starting with underscore can be attached and updated now.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=05858792">#05858792</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1097">COUCHDB-1097</a>: Allow <cite>OPTIONS</cite> request to shows and lists functions.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=9f53704a">#9f53704a</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1026">COUCHDB-1026</a>: Database names are encoded with respect of special characters
in the rewriter now. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=272d6415">#272d6415</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-986">COUCHDB-986</a>: Added Server-Sent Events protocol to db changes API.
See <a class="reference external" href="http://www.w3.org/TR/eventsource/">http://www.w3.org/TR/eventsource/</a> for details. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=093d2aa6">#093d2aa6</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-887">COUCHDB-887</a>: Fix <tt class="docutils literal"><span class="pre">bytes</span></tt> and <tt class="docutils literal"><span class="pre">offset</span></tt> parameters semantic for <cite>_log</cite>
resource (<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=blobdiff;f=src/couchdb/couch_log.erl;h=1b05f4db2;hp=0befe7aab;hb=ad700014;hpb=7809f3ca">explanation</a>)
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=ad700014">#ad700014</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-764">COUCHDB-764</a>, <a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-514">COUCHDB-514</a>, <a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-430">COUCHDB-430</a>: Fix sending HTTP headers from
<tt class="docutils literal"><span class="pre">_list</span></tt> function, <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=2a74f88375">#2a74f88375</a></li>
<li>Send a 202 response for <cite>_restart</cite>. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=b213e16f">#b213e16f</a></li>
<li>Make password hashing synchronous when using the /_config/admins API.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=08071a80">#08071a80</a></li>
<li>Fix <cite>_session</cite> for IE7.</li>
<li>Return <tt class="docutils literal"><span class="pre">X-Couch-Id</span></tt> header if doc is created, <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=98515bf0b9">#98515bf0b9</a></li>
<li>Allow any 2xx code to indicate success, <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=0d50103cfd">#0d50103cfd</a></li>
<li>Restore 400 error for empty PUT, <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=2057b895">#2057b895</a></li>
<li>Add support to serve single file with CouchDB, <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=2774531ff2">#2774531ff2</a></li>
<li>Support auth cookies with <tt class="docutils literal"><span class="pre">:</span></tt> characters, <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=d9566c831d">#d9566c831d</a></li>
</ul>
</div>
<div class="section" id="id5">
<h4>13.2.3.5. Log System<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1380">COUCHDB-1380</a>: Minor fixes for logrotate support.</li>
<li>Improve file I/O error logging and handling, <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=4b6475da">#4b6475da</a></li>
<li>Module Level Logging, <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=b58f069167">#b58f069167</a></li>
<li>Log 5xx responses at error level, <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=e896b0b7">#e896b0b7</a></li>
<li>Log problems opening database at ERROR level except for auto-created
system dbs, <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=41667642f7">#41667642f7</a></li>
</ul>
</div>
<div class="section" id="id6">
<h4>13.2.3.6. Replicator<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1557">COUCHDB-1557</a>: Upgrade some code to use BIFs bring good improvements for
replication.</li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1363">COUCHDB-1363</a>: Fix rarely occurred, but still race condition in changes feed
if a quick burst of changes happens while replication is starting the
replication can go stale. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=573a7bb9">#573a7bb9</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1323">COUCHDB-1323</a>: Replicator now acts as standalone application.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=f913ca6e">#f913ca6e</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1259">COUCHDB-1259</a>: Stabilize replication id, <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=c6252d6d7f">#c6252d6d7f</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1248">COUCHDB-1248</a>: <cite>HTTP 500</cite> error now doesn&#8217;t occurs when replicating with
<tt class="docutils literal"><span class="pre">?doc_ids=null</span></tt>. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=bea76dbf">#bea76dbf</a></li>
</ul>
</div>
<div class="section" id="security">
<h4>13.2.3.7. Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1060">COUCHDB-1060</a>: Passwords are now hashed using the PBKDF2 algorithm with a
configurable work factor. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=7d418134">#7d418134</a></li>
</ul>
</div>
<div class="section" id="source-repository">
<h4>13.2.3.8. Source Repository<a class="headerlink" href="#source-repository" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The source repository was migrated from <a class="reference external" href="https://svn.apache.org/repos/asf/couchdb">SVN</a> to <a class="reference external" href="https://git-wip-us.apache.org/repos/asf/couchdb.git">Git</a>.</li>
</ul>
</div>
<div class="section" id="storage-system">
<h4>13.2.3.9. Storage System<a class="headerlink" href="#storage-system" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fixed unnecessary conflict when deleting and creating a
document in the same batch.</li>
</ul>
</div>
<div class="section" id="test-suite">
<h4>13.2.3.10. Test Suite<a class="headerlink" href="#test-suite" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1563">COUCHDB-1563</a>: Ensures urlPrefix is set in all ajax requests.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=07a6af222">#07a6af222</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1389">COUCHDB-1389</a>: Improved tracebacks printed by the JS CLI tests.</li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1339">COUCHDB-1339</a>: Use shell trap to catch dying beam processes during test runs.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=2921c78">#2921c78</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1338">COUCHDB-1338</a>: Start CouchDB with <tt class="docutils literal"><span class="pre">port=0</span></tt>. While CouchDB might be already
running on the default port 5984, port number 0 let the TCP stack figure out a
free port to run. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=127cbe3">#127cbe3</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1321">COUCHDB-1321</a>: Moved the JS test suite to the CLI.</li>
<li>Improved the reliability of a number of tests.</li>
<li>Fix race condition for test running on faster hardware.</li>
</ul>
</div>
<div class="section" id="url-rewriter-vhosts">
<h4>13.2.3.11. URL Rewriter &amp; Vhosts<a class="headerlink" href="#url-rewriter-vhosts" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1026">COUCHDB-1026</a>: Database name is encoded during rewriting
(allowing embedded /&#8217;s, etc). <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=272d6415">#272d6415</a></li>
</ul>
</div>
<div class="section" id="uuid-algorithms">
<h4>13.2.3.12. UUID Algorithms<a class="headerlink" href="#uuid-algorithms" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1373">COUCHDB-1373</a>: Added the utc_id algorithm <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=5ab712a2">#5ab712a2</a></li>
</ul>
</div>
<div class="section" id="query-and-view-server">
<h4>13.2.3.13. Query and View Server<a class="headerlink" href="#query-and-view-server" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1491">COUCHDB-1491</a>: Clenaup view tables. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=c37204b7">#c37204b7</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1483">COUCHDB-1483</a>: Update handlers requires valid doc ids. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=72ea7e38">#72ea7e38</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1445">COUCHDB-1445</a>: CouchDB tries no more to delete view file if it couldn&#8217;t open
it, even if the error is <cite>emfile</cite>.</li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1444">COUCHDB-1444</a>: Fix missed_named_view error that occurs on existed design
documents and views. <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=b59ac98b">#b59ac98b</a></li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1372">COUCHDB-1372</a>: <cite>_stats</cite> builtin reduce function no longer produces error for
empty view result.</li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-410">COUCHDB-410</a>: More graceful error handling for JavaScript validate_doc_update
functions.</li>
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-111">COUCHDB-111</a>: Improve the errors reported by the javascript view server
to provide a more friendly error report when something goes wrong.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=0c619ed">#0c619ed</a></li>
<li>Deprecate E4X support, <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=cdfdda2314">#cdfdda2314</a></li>
</ul>
</div>
<div class="section" id="windows">
<h4>13.2.3.14. Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1482">COUCHDB-1482</a>: Use correct linker flang to build <cite>snappy_nif.dll</cite> on Windows.
<a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=a6eaf9f1">#a6eaf9f1</a></li>
<li>Allows building cleanly on Windows without cURL, <a class="reference external" href="https://git-wip-us.apache.org/repos/asf?p=couchdb.git;a=commit;h=fb670f5712">#fb670f5712</a></li>
</ul>
</div>
</div>
</div>
<div class="section" id="id7">
<h2><a class="toc-backref" href="#id120">13.3. 1.2.x Branch</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id8">
<ul class="simple">
<li><a class="reference internal" href="#id9" id="id132">Upgrade Notes</a></li>
<li><a class="reference internal" href="#version-1-2-1" id="id133">Version 1.2.1</a></li>
<li><a class="reference internal" href="#version-1-2-0" id="id134">Version 1.2.0</a></li>
</ul>
</div>
<div class="section" id="id9">
<h3><a class="toc-backref" href="#id132">13.3.1. Upgrade Notes</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This version drops support for the database format that was introduced in
version 0.9.0. Compact your older databases (that have not been compacted
for a long time) before upgrading, or they will become inaccessible.</p>
</div>
<div class="section" id="security-changes">
<h4>13.3.1.1. Security changes<a class="headerlink" href="#security-changes" title="Permalink to this headline">¶</a></h4>
<p>The interface to the <tt class="docutils literal"><span class="pre">_users</span></tt> and <tt class="docutils literal"><span class="pre">_replicator</span></tt> databases have been
changed so that non-administrator users can see less information:</p>
<ul class="simple">
<li>In the <tt class="docutils literal"><span class="pre">_users</span></tt> database:<ul>
<li>User documents can now only be read by the respective users, as well as
administrators. Other users cannot read these documents.</li>
<li>Views can only be defined and queried by administrator users.</li>
<li>The <tt class="docutils literal"><span class="pre">_changes</span></tt> feed can only be queried by administrator users.</li>
</ul>
</li>
<li>In the <tt class="docutils literal"><span class="pre">_replicator</span></tt> database:<ul>
<li>Documents now have a forced <tt class="docutils literal"><span class="pre">owner</span></tt> field that corresponds to the
authenticated user that created them.</li>
<li>Non-owner users will not see confidential information like passwords or
OAuth tokens in replication documents; they can still see the other
contents of those documents. Administrators can see everything.</li>
<li>Views can only be defined and queried by administrators.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="database-compression">
<h4>13.3.1.2. Database Compression<a class="headerlink" href="#database-compression" title="Permalink to this headline">¶</a></h4>
<p>The new optional (but enabled by default) compression of disk files requires
an upgrade of the on-disk format (5 -&gt; 6) which occurs on creation for new
databases and views, and on compaction for existing files. This format is not
supported in previous releases, so rollback would require replication to the
previous CouchDB release or restoring from backup.</p>
<p>Compression can be disabled by setting <tt class="docutils literal"><span class="pre">compression</span> <span class="pre">=</span> <span class="pre">none</span></tt> in your
<tt class="docutils literal"><span class="pre">local.ini</span></tt> <tt class="docutils literal"><span class="pre">[couchdb]</span></tt> section, but the on-disk format will still be
upgraded.</p>
</div>
</div>
<div class="section" id="version-1-2-1">
<h3><a class="toc-backref" href="#id133">13.3.2. Version 1.2.1</a><a class="headerlink" href="#version-1-2-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id10">
<h4>13.3.2.1. Security<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fixed CVE-2012-5641: Apache CouchDB Information disclosure via unescaped
backslashes in URLs on Windows</li>
<li>Fixed CVE-2012-5649: Apache CouchDB JSONP arbitrary code execution with Adobe
Flash</li>
<li>Fixed CVE-2012-5650: Apache CouchDB DOM based Cross-Site Scripting via Futon
UI</li>
</ul>
</div>
<div class="section" id="id11">
<h4>13.3.2.2. HTTP Interface<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>No longer rewrites the X-CouchDB-Requested-Path during recursive
calls to the rewriter.</li>
<li>Limit recursion depth in the URL rewriter. Defaults to a maximum
of 100 invocations but is configurable.</li>
</ul>
</div>
<div class="section" id="build-system">
<h4>13.3.2.3. Build System<a class="headerlink" href="#build-system" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix couchdb start script.</li>
<li>Win: fix linker invocations.</li>
</ul>
</div>
<div class="section" id="id12">
<h4>13.3.2.4. Futon<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Disable buttons that aren&#8217;t available for the logged-in user.</li>
</ul>
</div>
<div class="section" id="replication">
<h4>13.3.2.5. Replication<a class="headerlink" href="#replication" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix potential timeouts.</li>
</ul>
</div>
<div class="section" id="view-system">
<h4>13.3.2.6. View System<a class="headerlink" href="#view-system" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Change use of signals to avoid broken view groups.</li>
</ul>
</div>
</div>
<div class="section" id="version-1-2-0">
<h3><a class="toc-backref" href="#id134">13.3.3. Version 1.2.0</a><a class="headerlink" href="#version-1-2-0" title="Permalink to this headline">¶</a></h3>
<div class="section" id="authentication">
<h4>13.3.3.1. Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix use of OAuth with VHosts and URL rewriting.</li>
<li>OAuth secrets can now be stored in the users system database
as an alternative to key value pairs in the .ini configuration.
By default this is disabled (secrets are stored in the .ini)
but can be enabled via the .ini configuration key <cite>use_users_db</cite>
in the <cite>couch_httpd_oauth</cite> section.</li>
<li>Documents in the _users database are no longer publicly
readable.</li>
<li>Confidential information in the _replication database is no
longer publicly readable.</li>
<li>Password hashes are now calculated by CouchDB. Clients are no
longer required to do this manually.</li>
<li>Cookies used for authentication can be made persistent by enabling
the .ini configuration key <cite>allow_persistent_cookies</cite> in the
<cite>couch_httpd_auth</cite> section.</li>
</ul>
</div>
<div class="section" id="id13">
<h4>13.3.3.2. Build System<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>cURL is no longer required to build CouchDB as it is only
used by the command line JS test runner. If cURL is available
when building CouchJS you can enable the HTTP bindings by
passing -H on the command line.</li>
<li>Temporarily made <cite>make check</cite> pass with R15B. A more thorough
fix is in the works (<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1424">COUCHDB-1424</a>).</li>
<li>Fixed &#8211;with-js-include and &#8211;with-js-lib options.</li>
<li>Added &#8211;with-js-lib-name option.</li>
</ul>
</div>
<div class="section" id="id14">
<h4>13.3.3.3. Futon<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The <cite>Status</cite> screen (active tasks) now displays two new task status
fields: <cite>Started on</cite> and <cite>Updated on</cite>.</li>
<li>Futon remembers view code every time it is saved, allowing to save an
edit that amounts to a revert.</li>
</ul>
</div>
<div class="section" id="id15">
<h4>13.3.3.4. HTTP Interface<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added a native JSON parser.</li>
<li>The _active_tasks API now offers more granular fields. Each
task type is now able to expose different properties.</li>
<li>Added built-in changes feed filter <cite>_view</cite>.</li>
<li>Fixes to the <cite>_changes</cite> feed heartbeat option which caused
heartbeats to be missed when used with a filter. This caused
timeouts of continuous pull replications with a filter.</li>
<li>Properly restart the SSL socket on configuration changes.</li>
</ul>
</div>
<div class="section" id="id16">
<h4>13.3.3.5. Replicator<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>A new replicator implementation. It offers more performance and
configuration options.</li>
<li>Passing non-string values to query_params is now a 400 bad
request. This is to reduce the surprise that all parameters
are converted to strings internally.</li>
<li>Added optional field <cite>since_seq</cite> to replication objects/documents.
It allows to bootstrap a replication from a specific source sequence
number.</li>
<li>Simpler replication cancellation. In addition to the current method,
replications can now be canceled by specifying the replication ID
instead of the original replication object/document.</li>
</ul>
</div>
<div class="section" id="id17">
<h4>13.3.3.6. Storage System<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added optional database and view index file compression (using Google&#8217;s
snappy or zlib&#8217;s deflate). This feature is enabled by default, but it
can be disabled by adapting local.ini accordingly. The on-disk format
is upgraded on compaction and new DB/view creation to support this.</li>
<li>Several performance improvements, most notably regarding database writes
and view indexing.</li>
<li>Computation of the size of the latest MVCC snapshot data and all its
supporting metadata, both for database and view index files. This
information is exposed as the <cite>data_size</cite> attribute in the database and
view group information URIs.</li>
<li>The size of the buffers used for database and view compaction is now
configurable.</li>
<li>Added support for automatic database and view compaction. This feature
is disabled by default, but it can be enabled via the .ini configuration.</li>
<li>Performance improvements for the built-in changes feed filters <cite>_doc_ids</cite>
and <cite>_design</cite>.</li>
</ul>
</div>
<div class="section" id="id18">
<h4>13.3.3.7. View Server<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Add CoffeeScript (<a class="reference external" href="http://coffeescript.org/">http://coffeescript.org/</a>) as a first class view server
language.</li>
<li>Fixed old index file descriptor leaks after a view cleanup.</li>
<li>The requested_path property keeps the pre-rewrite path even when no VHost
configuration is matched.</li>
<li>Fixed incorrect reduce query results when using pagination parameters.</li>
<li>Made icu_driver work with Erlang R15B and later.</li>
</ul>
</div>
<div class="section" id="oauth">
<h4>13.3.3.8. OAuth<a class="headerlink" href="#oauth" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Updated bundled erlang_oauth library to the latest version.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="id19">
<h2><a class="toc-backref" href="#id121">13.4. 1.1.x Branch</a><a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id20">
<ul class="simple">
<li><a class="reference internal" href="#version-1-1-2" id="id135">Version 1.1.2</a></li>
<li><a class="reference internal" href="#version-1-1-1" id="id136">Version 1.1.1</a></li>
<li><a class="reference internal" href="#version-1-1-0" id="id137">Version 1.1.0</a></li>
</ul>
</div>
<div class="section" id="version-1-1-2">
<h3><a class="toc-backref" href="#id135">13.4.1. Version 1.1.2</a><a class="headerlink" href="#version-1-1-2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id21">
<h4>13.4.1.1. Security<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fixed CVE-2012-5641: Apache CouchDB Information disclosure via unescaped
backslashes in URLs on Windows.</li>
<li>Fixed CVE-2012-5649: Apache CouchDB JSONP arbitrary code execution with
Adobe Flash.</li>
<li>Fixed CVE-2012-5650: Apache CouchDB DOM based Cross-Site Scripting via Futon
UI.</li>
</ul>
</div>
<div class="section" id="id22">
<h4>13.4.1.2. HTTP Interface<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>ETag of attachment changes only when the attachment changes, not
the document.</li>
<li>Fix retrieval of headers larger than 4k.</li>
<li>Allow OPTIONS HTTP method for list requests.</li>
<li>Don&#8217;t attempt to encode invalid json.</li>
</ul>
</div>
<div class="section" id="id23">
<h4>13.4.1.3. Replicator<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix pull replication of documents with many revisions.</li>
<li>Fix replication from an HTTP source to an HTTP target.</li>
</ul>
</div>
<div class="section" id="id24">
<h4>13.4.1.4. View Server<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Avoid invalidating view indexes when running out of file descriptors.</li>
</ul>
</div>
<div class="section" id="id25">
<h4>13.4.1.5. Log System<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Improvements to log messages for file-related errors.</li>
</ul>
</div>
<div class="section" id="id26">
<h4>13.4.1.6. Build System<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Don&#8217;t <cite>ln</cite> the <cite>couchjs</cite> install target on Windows</li>
<li>Remove ICU version dependency on Windows.</li>
<li>Improve SpiderMonkey version detection.</li>
</ul>
</div>
</div>
<div class="section" id="version-1-1-1">
<h3><a class="toc-backref" href="#id136">13.4.2. Version 1.1.1</a><a class="headerlink" href="#version-1-1-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Support SpiderMonkey 1.8.5</li>
<li>Add configurable maximum to the number of bytes returned by _log.</li>
<li>Allow CommonJS modules to be an empty string.</li>
<li>Bump minimum Erlang version to R13B02.</li>
<li>Do not run deleted validate_doc_update functions.</li>
<li>ETags for views include current sequence if include_docs=true.</li>
<li>Fix bug where duplicates can appear in _changes feed.</li>
<li>Fix bug where update handlers break after conflict resolution.</li>
<li>Fix bug with _replicator where include &#8220;filter&#8221; could crash couch.</li>
<li>Fix crashes when compacting large views.</li>
<li>Fix file descriptor leak in _log</li>
<li>Fix missing revisions in _changes?style=all_docs.</li>
<li>Improve handling of compaction at max_dbs_open limit.</li>
<li>JSONP responses now send &#8220;text/javascript&#8221; for Content-Type.</li>
<li>Link to ICU 4.2 on Windows.</li>
<li>Permit forward slashes in path to update functions.</li>
<li>Reap couchjs processes that hit reduce_overflow error.</li>
<li>Status code can be specified in update handlers.</li>
<li>Support provides() in show functions.</li>
<li>_view_cleanup when ddoc has no views now removes all index files.</li>
<li>max_replication_retry_count now supports &#8220;infinity&#8221;.</li>
<li>Fix replication crash when source database has a document with empty ID.</li>
<li>Fix deadlock when assigning couchjs processes to serve requests.</li>
<li>Fixes to the document multipart PUT API.</li>
<li>Fixes regarding file descriptor leaks for databases with views.</li>
</ul>
</div>
<div class="section" id="version-1-1-0">
<h3><a class="toc-backref" href="#id137">13.4.3. Version 1.1.0</a><a class="headerlink" href="#version-1-1-0" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All CHANGES for 1.0.2 and 1.0.3 also apply to 1.1.0.</p>
</div>
<div class="section" id="externals">
<h4>13.4.3.1. Externals<a class="headerlink" href="#externals" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added OS Process module to manage daemons outside of CouchDB.</li>
<li>Added HTTP Proxy handler for more scalable externals.</li>
</ul>
</div>
<div class="section" id="id27">
<h4>13.4.3.2. Futon<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added a &#8220;change password&#8221;-feature to Futon.</li>
</ul>
</div>
<div class="section" id="id28">
<h4>13.4.3.3. HTTP Interface<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Native SSL support.</li>
<li>Added support for HTTP range requests for attachments.</li>
<li>Added built-in filters for <cite>_changes</cite>: <cite>_doc_ids</cite> and <cite>_design</cite>.</li>
<li>Added configuration option for TCP_NODELAY aka &#8220;Nagle&#8221;.</li>
<li>Allow POSTing arguments to <cite>_changes</cite>.</li>
<li>Allow <cite>keys</cite> parameter for GET requests to views.</li>
<li>Allow wildcards in vhosts definitions.</li>
<li>More granular ETag support for views.</li>
<li>More flexible URL rewriter.</li>
<li>Added support for recognizing &#8220;Q values&#8221; and media parameters in
HTTP Accept headers.</li>
<li>Validate doc ids that come from a PUT to a URL.</li>
</ul>
</div>
<div class="section" id="id29">
<h4>13.4.3.4. Replicator<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added <cite>_replicator</cite> database to manage replications.</li>
<li>Fixed issues when an endpoint is a remote database accessible via SSL.</li>
<li>Added support for continuous by-doc-IDs replication.</li>
<li>Fix issue where revision info was omitted when replicating attachments.</li>
<li>Integrity of attachment replication is now verified by MD5.</li>
</ul>
</div>
<div class="section" id="id30">
<h4>13.4.3.5. Storage System<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Multiple micro-optimizations when reading data.</li>
</ul>
</div>
<div class="section" id="id31">
<h4>13.4.3.6. URL Rewriter &amp; Vhosts<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix for variable substituion</li>
</ul>
</div>
<div class="section" id="id32">
<h4>13.4.3.7. View Server<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added CommonJS support to map functions.</li>
<li>Added <cite>stale=update_after</cite> query option that triggers a view update after
returning a <cite>stale=ok</cite> response.</li>
<li>Warn about empty result caused by <cite>startkey</cite> and <cite>endkey</cite> limiting.</li>
<li>Built-in reduce function <cite>_sum</cite> now accepts lists of integers as input.</li>
<li>Added view query aliases start_key, end_key, start_key_doc_id and
end_key_doc_id.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="id33">
<h2><a class="toc-backref" href="#id122">13.5. 1.0.x Branch</a><a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id34">
<ul class="simple">
<li><a class="reference internal" href="#version-1-0-4" id="id138">Version 1.0.4</a></li>
<li><a class="reference internal" href="#version-1-0-3" id="id139">Version 1.0.3</a></li>
<li><a class="reference internal" href="#version-1-0-2" id="id140">Version 1.0.2</a></li>
<li><a class="reference internal" href="#version-1-0-1" id="id141">Version 1.0.1</a></li>
<li><a class="reference internal" href="#version-1-0-0" id="id142">Version 1.0.0</a></li>
</ul>
</div>
<div class="section" id="version-1-0-4">
<h3><a class="toc-backref" href="#id138">13.5.1. Version 1.0.4</a><a class="headerlink" href="#version-1-0-4" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id35">
<h4>13.5.1.1. Security<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fixed CVE-2012-5641: Apache CouchDB Information disclosure via unescaped
backslashes in URLs on Windows.</li>
<li>Fixed CVE-2012-5649: Apache CouchDB JSONP arbitrary code execution with
Adobe Flash.</li>
<li>Fixed CVE-2012-5650: Apache CouchDB DOM based Cross-Site Scripting via Futon
UI.</li>
</ul>
</div>
<div class="section" id="id36">
<h4>13.5.1.2. Log System<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix file descriptor leak in <cite>_log</cite>.</li>
</ul>
</div>
<div class="section" id="id37">
<h4>13.5.1.3. HTTP Interface<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix missing revisions in <cite>_changes?style=all_docs</cite>.</li>
<li>Fix validation of attachment names.</li>
</ul>
</div>
<div class="section" id="id38">
<h4>13.5.1.4. View System<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Avoid invalidating view indexes when running out of file descriptors.</li>
</ul>
</div>
<div class="section" id="id39">
<h4>13.5.1.5. Replicator<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix a race condition where replications can go stale.</li>
</ul>
</div>
</div>
<div class="section" id="version-1-0-3">
<h3><a class="toc-backref" href="#id139">13.5.2. Version 1.0.3</a><a class="headerlink" href="#version-1-0-3" title="Permalink to this headline">¶</a></h3>
<div class="section" id="general">
<h4>13.5.2.1. General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fixed compatibility issues with Erlang R14B02.</li>
</ul>
</div>
<div class="section" id="etap-test-suite">
<h4>13.5.2.2. Etap Test Suite<a class="headerlink" href="#etap-test-suite" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Etap tests no longer require use of port 5984. They now use a randomly
selected port so they won&#8217;t clash with a running CouchDB.</li>
</ul>
</div>
<div class="section" id="id40">
<h4>13.5.2.3. Futon<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Made compatible with jQuery 1.5.x.</li>
</ul>
</div>
<div class="section" id="id41">
<h4>13.5.2.4. HTTP Interface<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix bug that allows invalid UTF-8 after valid escapes.</li>
<li>The query parameter <cite>include_docs</cite> now honors the parameter <cite>conflicts</cite>.
This applies to queries against map views, _all_docs and _changes.</li>
<li>Added support for inclusive_end with reduce views.</li>
</ul>
</div>
<div class="section" id="id42">
<h4>13.5.2.5. Replicator<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Enabled replication over IPv6.</li>
<li>Fixed for crashes in continuous and filtered changes feeds.</li>
<li>Fixed error when restarting replications in OTP R14B02.</li>
<li>Upgrade ibrowse to version 2.2.0.</li>
<li>Fixed bug when using a filter and a limit of 1.</li>
</ul>
</div>
<div class="section" id="id43">
<h4>13.5.2.6. Security<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fixed OAuth signature computation in OTP R14B02.</li>
<li>Handle passwords with : in them.</li>
</ul>
</div>
<div class="section" id="id44">
<h4>13.5.2.7. Storage System<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>More performant queries against _changes and _all_docs when using the
<cite>include_docs</cite> parameter.</li>
</ul>
</div>
<div class="section" id="id45">
<h4>13.5.2.8. Windows<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Windows builds now require ICU &gt;= 4.4.0 and Erlang &gt;= R14B03. See
<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1152">COUCHDB-1152</a>, and <a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-963">COUCHDB-963</a> + OTP-9139 for more information.</li>
</ul>
</div>
</div>
<div class="section" id="version-1-0-2">
<h3><a class="toc-backref" href="#id140">13.5.3. Version 1.0.2</a><a class="headerlink" href="#version-1-0-2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id46">
<h4>13.5.3.1. Security<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fixed CVE-2010-3854: Apache CouchDB Cross Site Scripting Issue.</li>
</ul>
</div>
<div class="section" id="id47">
<h4>13.5.3.2. Futon<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Make test suite work with Safari and Chrome.</li>
<li>Fixed animated progress spinner.</li>
<li>Fix raw view document link due to overzealous URI encoding.</li>
<li>Spell javascript correctly in loadScript(uri).</li>
</ul>
</div>
<div class="section" id="id48">
<h4>13.5.3.3. HTTP Interface<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Allow reduce=false parameter in map-only views.</li>
<li>Fix parsing of Accept headers.</li>
<li>Fix for multipart GET APIs when an attachment was created during a
local-local replication. See <a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-1022">COUCHDB-1022</a> for details.</li>
</ul>
</div>
<div class="section" id="id49">
<h4>13.5.3.4. Log System<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Reduce lengthy stack traces.</li>
<li>Allow logging of native &lt;xml&gt; types.</li>
</ul>
</div>
<div class="section" id="id50">
<h4>13.5.3.5. Replicator<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Updated ibrowse library to 2.1.2 fixing numerous replication issues.</li>
<li>Make sure that the replicator respects HTTP settings defined in the config.</li>
<li>Fix error when the ibrowse connection closes unexpectedly.</li>
<li>Fix authenticated replication (with HTTP basic auth) of design documents
with attachments.</li>
<li>Various fixes to make replication more resilient for edge-cases.</li>
</ul>
</div>
<div class="section" id="id51">
<h4>13.5.3.6. Storage System<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix leaking file handles after compacting databases and views.</li>
<li>Fix databases forgetting their validation function after compaction.</li>
<li>Fix occasional timeout errors after successfully compacting large databases.</li>
<li>Fix ocassional error when writing to a database that has just been compacted.</li>
<li>Fix occasional timeout errors on systems with slow or heavily loaded IO.</li>
<li>Fix for OOME when compactions include documents with many conflicts.</li>
<li>Fix for missing attachment compression when MIME types included parameters.</li>
<li>Preserve purge metadata during compaction to avoid spurious view rebuilds.</li>
<li>Fix spurious conflicts introduced when uploading an attachment after
a doc has been in a conflict. See <a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-902">COUCHDB-902</a> for details.</li>
<li>Fix for frequently edited documents in multi-master deployments being
duplicated in _changes and _all_docs.  See <a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-968">COUCHDB-968</a> for details on how
to repair.</li>
<li>Significantly higher read and write throughput against database and
view index files.</li>
</ul>
</div>
<div class="section" id="id52">
<h4>13.5.3.7. View Server<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Don&#8217;t trigger view updates when requesting <cite>_design/doc/_info</cite>.</li>
<li>Fix for circular references in CommonJS requires.</li>
<li>Made isArray() function available to functions executed in the query server.</li>
<li>Documents are now sealed before being passed to map functions.</li>
<li>Force view compaction failure when duplicated document data exists. When
this error is seen in the logs users should rebuild their views from
scratch to fix the issue. See <a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-999">COUCHDB-999</a> for details.</li>
</ul>
</div>
</div>
<div class="section" id="version-1-0-1">
<h3><a class="toc-backref" href="#id141">13.5.4. Version 1.0.1</a><a class="headerlink" href="#version-1-0-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id53">
<h4>13.5.4.1. Security<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fixed CVE-2010-2234: Apache CouchDB Cross Site Request Forgery Attack.</li>
</ul>
</div>
<div class="section" id="id54">
<h4>13.5.4.2. Authentication<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h4>
<ul>
<li><dl class="first docutils">
<dt>Enable basic-auth popup when required to access the server, to prevent</dt>
<dd><p class="first last">people from getting locked out.</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="build-and-system-integration">
<h4>13.5.4.3. Build and System Integration<a class="headerlink" href="#build-and-system-integration" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Included additional source files for distribution.</li>
</ul>
</div>
<div class="section" id="id55">
<h4>13.5.4.4. Futon<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>User interface element for querying stale (cached) views.</li>
</ul>
</div>
<div class="section" id="id56">
<h4>13.5.4.5. HTTP Interface<a class="headerlink" href="#id56" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Expose <cite>committed_update_seq</cite> for monitoring purposes.</li>
<li>Show fields saved along with _deleted=true. Allows for auditing of deletes.</li>
<li>More robust Accept-header detection.</li>
</ul>
</div>
<div class="section" id="id57">
<h4>13.5.4.6. Replicator<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added support for replication via an HTTP/HTTPS proxy.</li>
<li>Fix pull replication of attachments from 0.11 to 1.0.x.</li>
<li>Make the _changes feed work with non-integer seqnums.</li>
</ul>
</div>
<div class="section" id="id58">
<h4>13.5.4.7. Storage System<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix data corruption bug <a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-844">COUCHDB-844</a>. Please see
<a class="reference external" href="http://couchdb.apache.org/notice/1.0.1.html">http://couchdb.apache.org/notice/1.0.1.html</a> for details.</li>
</ul>
</div>
</div>
<div class="section" id="version-1-0-0">
<h3><a class="toc-backref" href="#id142">13.5.5. Version 1.0.0</a><a class="headerlink" href="#version-1-0-0" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id59">
<h4>13.5.5.1. Security<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added authentication caching, to avoid repeated opening and closing of the
users database for each request requiring authentication.</li>
</ul>
</div>
<div class="section" id="id60">
<h4>13.5.5.2. Storage System<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Small optimization for reordering result lists.</li>
<li>More efficient header commits.</li>
<li>Use O_APPEND to save lseeks.</li>
<li>Faster implementation of pread_iolist(). Further improves performance on
concurrent reads.</li>
</ul>
</div>
<div class="section" id="id61">
<h4>13.5.5.3. View Server<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Faster default view collation.</li>
<li>Added option to include update_seq in view responses.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="id62">
<h2><a class="toc-backref" href="#id123">13.6. 0.11.x Branch</a><a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id63">
<ul class="simple">
<li><a class="reference internal" href="#version-0-11-2" id="id143">Version 0.11.2</a></li>
<li><a class="reference internal" href="#version-0-11-1" id="id144">Version 0.11.1</a></li>
<li><a class="reference internal" href="#version-0-11-0" id="id145">Version 0.11.0</a></li>
</ul>
</div>
<div class="section" id="version-0-11-2">
<h3><a class="toc-backref" href="#id143">13.6.1. Version 0.11.2</a><a class="headerlink" href="#version-0-11-2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id64">
<h4>13.6.1.1. Security<a class="headerlink" href="#id64" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fixed CVE-2010-2234: Apache CouchDB Cross Site Request Forgery Attack.</li>
<li>Avoid potential DOS attack by guarding all creation of atoms.</li>
</ul>
</div>
<div class="section" id="id65">
<h4>13.6.1.2. Authentication<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>User documents can now be deleted by admins or the user.</li>
</ul>
</div>
<div class="section" id="id66">
<h4>13.6.1.3. Futon<a class="headerlink" href="#id66" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Add some Futon files that were missing from the Makefile.</li>
</ul>
</div>
<div class="section" id="id67">
<h4>13.6.1.4. HTTP Interface<a class="headerlink" href="#id67" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Better error messages on invalid URL requests.</li>
</ul>
</div>
<div class="section" id="id68">
<h4>13.6.1.5. Replicator<a class="headerlink" href="#id68" title="Permalink to this headline">¶</a></h4>
<ul>
<li><dl class="first docutils">
<dt>Fix bug when pushing design docs by non-admins, which was hanging the</dt>
<dd><p class="first last">replicator for no good reason.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Fix bug when pulling design documents from a source that requires</dt>
<dd><p class="first last">basic-auth.</p>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="version-0-11-1">
<h3><a class="toc-backref" href="#id144">13.6.2. Version 0.11.1</a><a class="headerlink" href="#version-0-11-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id69">
<h4>13.6.2.1. Build and System Integration<a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Output of <cite>couchdb &#8211;help</cite> has been improved.</li>
<li>Fixed compatibility with the Erlang R14 series.</li>
<li>Fixed warnings on Linux builds.</li>
<li>Fixed build error when aclocal needs to be called during the build.</li>
<li>Require ICU 4.3.1.</li>
<li>Fixed compatibility with Solaris.</li>
</ul>
</div>
<div class="section" id="configuration-system">
<h4>13.6.2.2. Configuration System<a class="headerlink" href="#configuration-system" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fixed timeout with large .ini files.</li>
</ul>
</div>
<div class="section" id="id70">
<h4>13.6.2.3. Futon<a class="headerlink" href="#id70" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Use &#8220;expando links&#8221; for over-long document values in Futon.</li>
<li>Added continuous replication option.</li>
<li>Added option to replicating test results anonymously to a community
CouchDB instance.</li>
<li>Allow creation and deletion of config entries.</li>
<li>Fixed display issues with doc ids that have escaped characters.</li>
<li>Fixed various UI issues.</li>
</ul>
</div>
<div class="section" id="id71">
<h4>13.6.2.4. HTTP Interface<a class="headerlink" href="#id71" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Mask passwords in active tasks and logging.</li>
<li>Update mochijson2 to allow output of BigNums not in float form.</li>
<li>Added support for X-HTTP-METHOD-OVERRIDE.</li>
<li>Better error message for database names.</li>
<li>Disable jsonp by default.</li>
<li>Accept gzip encoded standalone attachments.</li>
<li>Made max_concurrent_connections configurable.</li>
<li>Made changes API more robust.</li>
<li>Send newly generated document rev to callers of an update function.</li>
</ul>
</div>
<div class="section" id="javascript-clients">
<h4>13.6.2.5. JavaScript Clients<a class="headerlink" href="#javascript-clients" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added tests for couch.js and jquery.couch.js</li>
<li>Added changes handler to jquery.couch.js.</li>
<li>Added cache busting to jquery.couch.js if the user agent is msie.</li>
<li>Added support for multi-document-fetch (via _all_docs) to jquery.couch.js.</li>
<li>Added attachment versioning to jquery.couch.js.</li>
<li>Added option to control ensure_full_commit to jquery.couch.js.</li>
<li>Added list functionality to jquery.couch.js.</li>
<li>Fixed issues where bulkSave() wasn&#8217;t sending a POST body.</li>
</ul>
</div>
<div class="section" id="id72">
<h4>13.6.2.6. Log System<a class="headerlink" href="#id72" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Log HEAD requests as HEAD, not GET.</li>
<li>Keep massive JSON blobs out of the error log.</li>
<li>Fixed a timeout issue.</li>
</ul>
</div>
<div class="section" id="replication-system">
<h4>13.6.2.7. Replication System<a class="headerlink" href="#replication-system" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Refactored various internal APIs related to attachment streaming.</li>
<li>Fixed hanging replication.</li>
<li>Fixed keepalive issue.</li>
</ul>
</div>
<div class="section" id="id73">
<h4>13.6.2.8. Security<a class="headerlink" href="#id73" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added authentication redirect URL to log in clients.</li>
<li>Fixed query parameter encoding issue in oauth.js.</li>
<li>Made authentication timeout configurable.</li>
<li>Temporary views are now admin-only resources.</li>
</ul>
</div>
<div class="section" id="id74">
<h4>13.6.2.9. Storage System<a class="headerlink" href="#id74" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Don&#8217;t require a revpos for attachment stubs.</li>
<li>Added checking to ensure when a revpos is sent with an attachment stub,
it&#8217;s correct.</li>
<li>Make file deletions async to avoid pauses during compaction and db
deletion.</li>
<li>Fixed for wrong offset when writing headers and converting them to blocks,
only triggered when header is larger than 4k.</li>
<li>Preserve _revs_limit and instance_start_time after compaction.</li>
</ul>
</div>
<div class="section" id="id75">
<h4>13.6.2.10. Test Suite<a class="headerlink" href="#id75" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Made the test suite overall more reliable.</li>
</ul>
</div>
<div class="section" id="id76">
<h4>13.6.2.11. View Server<a class="headerlink" href="#id76" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Provide a UUID to update functions (and all other functions) that they can
use to create new docs.</li>
<li>Upgrade CommonJS modules support to 1.1.1.</li>
<li>Fixed erlang filter funs and normalize filter fun API.</li>
<li>Fixed hang in view shutdown.</li>
</ul>
</div>
<div class="section" id="id77">
<h4>13.6.2.12. URL Rewriter &amp; Vhosts<a class="headerlink" href="#id77" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Allow more complex keys in rewriter.</li>
<li>Allow global rewrites so system defaults are available in vhosts.</li>
<li>Allow isolation of databases with vhosts.</li>
<li>Fix issue with passing variables to query parameters.</li>
</ul>
</div>
</div>
<div class="section" id="version-0-11-0">
<h3><a class="toc-backref" href="#id145">13.6.3. Version 0.11.0</a><a class="headerlink" href="#version-0-11-0" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id78">
<h4>13.6.3.1. Build and System Integration<a class="headerlink" href="#id78" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Updated and improved source documentation.</li>
<li>Fixed distribution preparation for building on Mac OS X.</li>
<li>Added support for building a Windows installer as part of &#8216;make dist&#8217;.</li>
<li>Bug fix for building couch.app&#8217;s module list.</li>
<li>ETap tests are now run during make distcheck. This included a number of
updates to the build system to properly support VPATH builds.</li>
<li>Gavin McDonald setup a build-bot instance. More info can be found at
<a class="reference external" href="http://ci.apache.org/buildbot.html">http://ci.apache.org/buildbot.html</a></li>
</ul>
</div>
<div class="section" id="id79">
<h4>13.6.3.2. Futon<a class="headerlink" href="#id79" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added a button for view compaction.</li>
<li>JSON strings are now displayed as-is in the document view, without the
escaping of new-lines and quotes. That dramatically improves readability of
multi-line strings.</li>
<li>Same goes for editing of JSON string values. When a change to a field value is
submitted, and the value is not valid JSON it is assumed to be a string. This
improves editing of multi-line strings a lot.</li>
<li>Hitting tab in textareas no longer moves focus to the next form field, but
simply inserts a tab character at the current caret position.</li>
<li>Fixed some font declarations.</li>
</ul>
</div>
<div class="section" id="id80">
<h4>13.6.3.3. HTTP Interface<a class="headerlink" href="#id80" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Provide Content-MD5 header support for attachments.</li>
<li>Added URL Rewriter handler.</li>
<li>Added virtual host handling.</li>
</ul>
</div>
<div class="section" id="id81">
<h4>13.6.3.4. Replication<a class="headerlink" href="#id81" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added option to implicitly create replication target databases.</li>
<li>Avoid leaking file descriptors on automatic replication restarts.</li>
<li>Added option to replicate a list of documents by id.</li>
<li>Allow continuous replication to be cancelled.</li>
</ul>
</div>
<div class="section" id="runtime-statistics">
<h4>13.6.3.5. Runtime Statistics<a class="headerlink" href="#runtime-statistics" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Statistics are now calculated for a moving window instead of non-overlapping
timeframes.</li>
<li>Fixed a problem with statistics timers and system sleep.</li>
<li>Moved statistic names to a term file in the priv directory.</li>
</ul>
</div>
<div class="section" id="id82">
<h4>13.6.3.6. Security<a class="headerlink" href="#id82" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fixed CVE-2010-0009: Apache CouchDB Timing Attack Vulnerability.</li>
<li>Added default cookie-authentication and users database.</li>
<li>Added Futon user interface for user signup and login.</li>
<li>Added per-database reader access control lists.</li>
<li>Added per-database security object for configuration data in validation
functions.</li>
<li>Added proxy authentication handler</li>
</ul>
</div>
<div class="section" id="id83">
<h4>13.6.3.7. Storage System<a class="headerlink" href="#id83" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Adds batching of multiple updating requests, to improve throughput with many
writers. Removed the now redundant couch_batch_save module.</li>
<li>Adds configurable compression of attachments.</li>
</ul>
</div>
<div class="section" id="id84">
<h4>13.6.3.8. View Server<a class="headerlink" href="#id84" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added optional &#8216;raw&#8217; binary collation for faster view builds where Unicode
collation is not important.</li>
<li>Improved view index build time by reducing ICU collation callouts.</li>
<li>Improved view information objects.</li>
<li>Bug fix for partial updates during view builds.</li>
<li>Move query server to a design-doc based protocol.</li>
<li>Use json2.js for JSON serialization for compatiblity with native JSON.</li>
<li>Major refactoring of couchjs to lay the groundwork for disabling cURL
support. The new HTTP interaction acts like a synchronous XHR. Example usage
of the new system is in the JavaScript CLI test runner.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="id85">
<h2><a class="toc-backref" href="#id124">13.7. 0.10.x Branch</a><a class="headerlink" href="#id85" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id86">
<ul class="simple">
<li><a class="reference internal" href="#version-0-10-1" id="id146">Version 0.10.1</a></li>
<li><a class="reference internal" href="#version-0-10-0" id="id147">Version 0.10.0</a></li>
</ul>
</div>
<div class="section" id="version-0-10-1">
<h3><a class="toc-backref" href="#id146">13.7.1. Version 0.10.1</a><a class="headerlink" href="#version-0-10-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id87">
<h4>13.7.1.1. Build and System Integration<a class="headerlink" href="#id87" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Test suite now works with the distcheck target.</li>
</ul>
</div>
<div class="section" id="id88">
<h4>13.7.1.2. Replicator<a class="headerlink" href="#id88" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Stability enhancements regarding redirects, timeouts, OAuth.</li>
</ul>
</div>
<div class="section" id="query-server">
<h4>13.7.1.3. Query Server<a class="headerlink" href="#query-server" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Avoid process leaks</li>
<li>Allow list and view to span languages</li>
</ul>
</div>
<div class="section" id="stats">
<h4>13.7.1.4. Stats<a class="headerlink" href="#stats" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Eliminate new process flood on system wake</li>
</ul>
</div>
</div>
<div class="section" id="version-0-10-0">
<h3><a class="toc-backref" href="#id147">13.7.2. Version 0.10.0</a><a class="headerlink" href="#version-0-10-0" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id89">
<h4>13.7.2.1. Build and System Integration<a class="headerlink" href="#id89" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Changed <cite>couchdb</cite> script configuration options.</li>
<li>Added default.d and local.d configuration directories to load sequence.</li>
</ul>
</div>
<div class="section" id="id90">
<h4>13.7.2.2. HTTP Interface<a class="headerlink" href="#id90" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added optional cookie-based authentication handler.</li>
<li>Added optional two-legged OAuth authentication handler.</li>
</ul>
</div>
<div class="section" id="storage-format">
<h4>13.7.2.3. Storage Format<a class="headerlink" href="#storage-format" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Add move headers with checksums to the end of database files for extra robust
storage and faster storage.</li>
</ul>
</div>
<div class="section" id="id91">
<h4>13.7.2.4. View Server<a class="headerlink" href="#id91" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added native Erlang views for high-performance applications.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="id92">
<h2><a class="toc-backref" href="#id125">13.8. 0.9.x Branch</a><a class="headerlink" href="#id92" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id93">
<ul class="simple">
<li><a class="reference internal" href="#version-0-9-2" id="id148">Version 0.9.2</a></li>
<li><a class="reference internal" href="#version-0-9-1" id="id149">Version 0.9.1</a></li>
<li><a class="reference internal" href="#version-0-9-0" id="id150">Version 0.9.0</a></li>
</ul>
</div>
<div class="section" id="version-0-9-2">
<h3><a class="toc-backref" href="#id148">13.8.1. Version 0.9.2</a><a class="headerlink" href="#version-0-9-2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id94">
<h4>13.8.1.1. Build and System Integration<a class="headerlink" href="#id94" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Remove branch callbacks to allow building couchjs against newer versions of
Spidermonkey.</li>
</ul>
</div>
<div class="section" id="id95">
<h4>13.8.1.2. Replication<a class="headerlink" href="#id95" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix replication with 0.10 servers initiated by an 0.9 server (<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-559">COUCHDB-559</a>).</li>
</ul>
</div>
</div>
<div class="section" id="version-0-9-1">
<h3><a class="toc-backref" href="#id149">13.8.2. Version 0.9.1</a><a class="headerlink" href="#version-0-9-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id96">
<h4>13.8.2.1. Build and System Integration<a class="headerlink" href="#id96" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>PID file directory is now created by the SysV/BSD daemon scripts.</li>
<li>Fixed the environment variables shown by the configure script.</li>
<li>Fixed the build instructions shown by the configure script.</li>
<li>Updated ownership and permission advice in <cite>README</cite> for better security.</li>
</ul>
</div>
<div class="section" id="configuration-and-stats-system">
<h4>13.8.2.2. Configuration and stats system<a class="headerlink" href="#configuration-and-stats-system" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Corrected missing configuration file error message.</li>
<li>Fixed incorrect recording of request time.</li>
</ul>
</div>
<div class="section" id="id97">
<h4>13.8.2.3. Database Core<a class="headerlink" href="#id97" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Document validation for underscore prefixed variables.</li>
<li>Made attachment storage less sparse.</li>
<li>Fixed problems when a database with delayed commits pending is considered
idle, and subject to losing changes when shutdown. (<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-334">COUCHDB-334</a>)</li>
</ul>
</div>
<div class="section" id="external-handlers">
<h4>13.8.2.4. External Handlers<a class="headerlink" href="#external-handlers" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix POST requests.</li>
</ul>
</div>
<div class="section" id="id98">
<h4>13.8.2.5. Futon<a class="headerlink" href="#id98" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Redirect when loading a deleted view URI from the cookie.</li>
</ul>
</div>
<div class="section" id="id99">
<h4>13.8.2.6. HTTP Interface<a class="headerlink" href="#id99" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Attachment requests respect the &#8220;rev&#8221; query-string parameter.</li>
</ul>
</div>
<div class="section" id="javascript-view-server">
<h4>13.8.2.7. JavaScript View Server<a class="headerlink" href="#javascript-view-server" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Useful JavaScript Error messages.</li>
</ul>
</div>
<div class="section" id="id100">
<h4>13.8.2.8. Replication<a class="headerlink" href="#id100" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added support for Unicode characters transmitted as UTF-16 surrogate pairs.</li>
<li>URL-encode attachment names when necessary.</li>
<li>Pull specific revisions of an attachment, instead of just the latest one.</li>
<li>Work around a rare chunk-merging problem in ibrowse.</li>
<li>Work with documents containing Unicode characters outside the Basic
Multilingual Plane.</li>
</ul>
</div>
</div>
<div class="section" id="version-0-9-0">
<h3><a class="toc-backref" href="#id150">13.8.3. Version 0.9.0</a><a class="headerlink" href="#version-0-9-0" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id101">
<h4>13.8.3.1. Build and System Integration<a class="headerlink" href="#id101" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The <cite>couchdb</cite> script now supports system chainable configuration files.</li>
<li>The Mac OS X daemon script now redirects STDOUT and STDERR like SysV/BSD.</li>
<li>The build and system integration have been improved for portability.</li>
<li>Added COUCHDB_OPTIONS to etc/default/couchdb file.</li>
<li>Remove COUCHDB_INI_FILE and COUCHDB_PID_FILE from etc/default/couchdb file.</li>
<li>Updated <cite>configure.ac</cite> to manually link <cite>libm</cite> for portability.</li>
<li>Updated <cite>configure.ac</cite> to extended default library paths.</li>
<li>Removed inets configuration files.</li>
<li>Added command line test runner.</li>
<li>Created dev target for make.</li>
</ul>
</div>
<div class="section" id="id102">
<h4>13.8.3.2. Configuration and stats system<a class="headerlink" href="#id102" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Separate default and local configuration files.</li>
<li>HTTP interface for configuration changes.</li>
<li>Statistics framework with HTTP query API.</li>
</ul>
</div>
<div class="section" id="id103">
<h4>13.8.3.3. Database Core<a class="headerlink" href="#id103" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Faster B-tree implementation.</li>
<li>Changed internal JSON term format.</li>
<li>Improvements to Erlang VM interactions under heavy load.</li>
<li>User context and administrator role.</li>
<li>Update validations with design document validation functions.</li>
<li>Document purge functionality.</li>
<li>Ref-counting for database file handles.</li>
</ul>
</div>
<div class="section" id="design-document-resource-paths">
<h4>13.8.3.4. Design Document Resource Paths<a class="headerlink" href="#design-document-resource-paths" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added httpd_design_handlers config section.</li>
<li>Moved _view to httpd_design_handlers.</li>
<li>Added ability to render documents as non-JSON content-types with _show and
_list functions, which are also httpd_design_handlers.</li>
</ul>
</div>
<div class="section" id="futon-utility-client">
<h4>13.8.3.5. Futon Utility Client<a class="headerlink" href="#futon-utility-client" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added pagination to the database listing page.</li>
<li>Implemented attachment uploading from the document page.</li>
<li>Added page that shows the current configuration, and allows modification of
option values.</li>
<li>Added a JSON &#8220;source view&#8221; for document display.</li>
<li>JSON data in view rows is now syntax highlighted.</li>
<li>Removed the use of an iframe for better integration with browser history and
bookmarking.</li>
<li>Full database listing in the sidebar has been replaced by a short list of
recent databases.</li>
<li>The view editor now allows selection of the view language if there is more
than one configured.</li>
<li>Added links to go to the raw view or document URI.</li>
<li>Added status page to display currently running tasks in CouchDB.</li>
<li>JavaScript test suite split into multiple files.</li>
<li>Pagination for reduce views.</li>
</ul>
</div>
<div class="section" id="id104">
<h4>13.8.3.6. HTTP Interface<a class="headerlink" href="#id104" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added client side UUIDs for idempotent document creation</li>
<li>HTTP COPY for documents</li>
<li>Streaming of chunked attachment PUTs to disk</li>
<li>Remove negative count feature</li>
<li>Add include_docs option for view queries</li>
<li>Add multi-key view post for views</li>
<li>Query parameter validation</li>
<li>Use stale=ok to request potentially cached view index</li>
<li>External query handler module for full-text or other indexers.</li>
<li>Etags for attachments, views, shows and lists</li>
<li>Show and list functions for rendering documents and views as developer
controlled content-types.</li>
<li>Attachment names may use slashes to allow uploading of nested directories
(useful for static web hosting).</li>
<li>Option for a view to run over design documents.</li>
<li>Added newline to JSON responses. Closes bike-shed.</li>
</ul>
</div>
<div class="section" id="id105">
<h4>13.8.3.7. Replication<a class="headerlink" href="#id105" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Using ibrowse.</li>
<li>Checkpoint replications so failures are less expensive.</li>
<li>Automatically retry of failed replications.</li>
<li>Stream attachments in pull-replication.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="id106">
<h2><a class="toc-backref" href="#id126">13.9. 0.8.x Branch</a><a class="headerlink" href="#id106" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id107">
<ul class="simple">
<li><a class="reference internal" href="#version-0-8-1-incubating" id="id151">Version 0.8.1-incubating</a></li>
<li><a class="reference internal" href="#version-0-8-0-incubating" id="id152">Version 0.8.0-incubating</a></li>
</ul>
</div>
<div class="section" id="version-0-8-1-incubating">
<h3><a class="toc-backref" href="#id151">13.9.1. Version 0.8.1-incubating</a><a class="headerlink" href="#version-0-8-1-incubating" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id108">
<h4>13.9.1.1. Build and System Integration<a class="headerlink" href="#id108" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The <cite>couchdb</cite> script no longer uses <cite>awk</cite> for configuration checks as this
was causing portability problems.</li>
<li>Updated <cite>sudo</cite> example in <cite>README</cite> to use the <cite>-i</cite> option, this fixes
problems when invoking from a directory the <cite>couchdb</cite> user cannot access.</li>
</ul>
</div>
<div class="section" id="id109">
<h4>13.9.1.2. Database Core<a class="headerlink" href="#id109" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix for replication problems where the write queues can get backed up if the
writes aren&#8217;t happening fast enough to keep up with the reads. For a large
replication, this can exhaust memory and crash, or slow down the machine
dramatically. The fix keeps only one document in the write queue at a time.</li>
<li>Fix for databases sometimes incorrectly reporting that they contain 0
documents after compaction.</li>
<li>CouchDB now uses ibrowse instead of inets for its internal HTTP client
implementation. This means better replication stability.</li>
</ul>
</div>
<div class="section" id="id110">
<h4>13.9.1.3. Futon<a class="headerlink" href="#id110" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The view selector dropdown should now work in Opera and Internet Explorer
even when it includes optgroups for design documents. (<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-81">COUCHDB-81</a>)</li>
</ul>
</div>
<div class="section" id="id111">
<h4>13.9.1.4. JavaScript View Server<a class="headerlink" href="#id111" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Sealing of documents has been disabled due to an incompatibility with
SpiderMonkey 1.9.</li>
<li>Improve error handling for undefined values emitted by map functions.
(<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-83">COUCHDB-83</a>)</li>
</ul>
</div>
<div class="section" id="id112">
<h4>13.9.1.5. HTTP Interface<a class="headerlink" href="#id112" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Fix for chunked responses where chunks were always being split into multiple
TCP packets, which caused problems with the test suite under Safari, and in
some other cases.</li>
<li>Fix for an invalid JSON response body being returned for some kinds of
views. (<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-84">COUCHDB-84</a>)</li>
<li>Fix for connections not getting closed after rejecting a chunked request.
(<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-55">COUCHDB-55</a>)</li>
<li>CouchDB can now be bound to IPv6 addresses.</li>
<li>The HTTP <cite>Server</cite> header now contains the versions of CouchDB and Erlang.</li>
</ul>
</div>
</div>
<div class="section" id="version-0-8-0-incubating">
<h3><a class="toc-backref" href="#id152">13.9.2. Version 0.8.0-incubating</a><a class="headerlink" href="#version-0-8-0-incubating" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id113">
<h4>13.9.2.1. Build and System Integration<a class="headerlink" href="#id113" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>CouchDB can automatically respawn following a server crash.</li>
<li>Database server no longer refuses to start with a stale PID file.</li>
<li>System logrotate configuration provided.</li>
<li>Improved handling of ICU shared libraries.</li>
<li>The <cite>couchdb</cite> script now automatically enables SMP support in Erlang.</li>
<li>The <cite>couchdb</cite> and <cite>couchjs</cite> scripts have been improved for portability.</li>
<li>The build and system integration have been improved for portability.</li>
</ul>
</div>
<div class="section" id="id114">
<h4>13.9.2.2. Database Core<a class="headerlink" href="#id114" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The view engine has been completely decoupled from the storage engine. Index
data is now stored in separate files, and the format of the main database
file has changed.</li>
<li>Databases can now be compacted to reclaim space used for deleted documents
and old document revisions.</li>
<li>Support for incremental map/reduce views has been added.</li>
<li>To support map/reduce, the structure of design documents has changed. View
values are now JSON objects containing at least a <cite>map</cite> member, and
optionally a <cite>reduce</cite> member.</li>
<li>View servers are now identified by name (for example <cite>javascript</cite>) instead of
by media type.</li>
<li>Automatically generated document IDs are now based on proper UUID generation
using the crypto module.</li>
<li>The field <cite>content-type</cite> in the JSON representation of attachments has been
renamed to <cite>content_type</cite> (underscore).</li>
</ul>
</div>
<div class="section" id="id115">
<h4>13.9.2.3. Futon<a class="headerlink" href="#id115" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>When adding a field to a document, Futon now just adds a field with an
autogenerated name instead of prompting for the name with a dialog. The name
is automatically put into edit mode so that it can be changed immediately.</li>
<li>Fields are now sorted alphabetically by name when a document is displayed.</li>
<li>Futon can be used to create and update permanent views.</li>
<li>The maximum number of rows to display per page on the database page can now
be adjusted.</li>
<li>Futon now uses the XMLHTTPRequest API asynchronously to communicate with the
CouchDB HTTP server, so that most operations no longer block the browser.</li>
<li>View results sorting can now be switched between ascending and descending by
clicking on the <cite>Key</cite> column header.</li>
<li>Fixed a bug where documents that contained a <cite>&#64;</cite> character could not be
viewed. (<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-12">COUCHDB-12</a>)</li>
<li>The database page now provides a <cite>Compact</cite> button to trigger database
compaction. (<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-38">COUCHDB-38</a>)</li>
<li>Fixed portential double encoding of document IDs and other URI segments in
many instances. (<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-39">COUCHDB-39</a>)</li>
<li>Improved display of attachments.</li>
<li>The JavaScript Shell has been removed due to unresolved licensing issues.</li>
</ul>
</div>
<div class="section" id="id116">
<h4>13.9.2.4. JavaScript View Server<a class="headerlink" href="#id116" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>SpiderMonkey is no longer included with CouchDB, but rather treated as a
normal external dependency. A simple C program (<cite>_couchjs</cite>) is provided that
links against an existing SpiderMonkey installation and uses the interpreter
embedding API.</li>
<li>View functions using the default JavaScript view server can now do logging
using the global <cite>log(message)</cite> function. Log messages are directed into the
CouchDB log at <cite>INFO</cite> level. (<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-59">COUCHDB-59</a>)</li>
<li>The global <cite>map(key, value)</cite> function made available to view code has been
renamed to <cite>emit(key, value)</cite>.</li>
<li>Fixed handling of exceptions raised by view functions.</li>
</ul>
</div>
<div class="section" id="id117">
<h4>13.9.2.5. HTTP Interface<a class="headerlink" href="#id117" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>CouchDB now uses MochiWeb instead of inets for the HTTP server
implementation. Among other things, this means that the extra configuration
files needed for inets (such as <cite>couch_httpd.conf</cite>) are no longer used.</li>
<li>The HTTP interface now completely supports the <cite>HEAD</cite> method. (<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-3">COUCHDB-3</a>)</li>
<li>Improved compliance of <cite>Etag</cite> handling with the HTTP specification.
(<a class="reference external" href="https://issues.apache.org/jira/browse/COUCHDB-13">COUCHDB-13</a>)</li>
<li>Etags are no longer included in responses to document <cite>GET</cite> requests that
include query string parameters causing the JSON response to change without
the revision or the URI having changed.</li>
<li>The bulk document update API has changed slightly on both the request and the
response side. In addition, bulk updates are now atomic.</li>
<li>CouchDB now uses <cite>TCP_NODELAY</cite> to fix performance problems with persistent
connections on some platforms due to nagling.</li>
<li>Including a <cite>?descending=false</cite> query string parameter in requests to views
no longer raises an error.</li>
<li>Requests to unknown top-level reserved URLs (anything with a leading
underscore) now return a <cite>unknown_private_path</cite> error instead of the
confusing <cite>illegal_database_name</cite>.</li>
<li>The Temporary view handling now expects a JSON request body, where the JSON
is an object with at least a <cite>map</cite> member, and optional <cite>reduce</cite> and
<cite>language</cite> members.</li>
<li>Temporary views no longer determine the view server based on the Content-Type
header of the <cite>POST</cite> request, but rather by looking for a <cite>language</cite> member
in the JSON body of the request.</li>
<li>The status code of responses to <cite>DELETE</cite> requests is now 200 to reflect that
that the deletion is performed synchronously.</li>
</ul>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>

<!--

Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.

-->

<div id="searchbox" style="display: none">

<h3>Quick Search</h3>

<form class="search" action="search.html" method="get">
<input type="text" name="q">
<input type="submit" value="Go">
<input type="hidden" name="check_keywords" value="yes">
<input type="hidden" name="area" value="default">
</form>

<br>

</div>

<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">13. Release History</a><ul>
<li><a class="reference internal" href="#x-branch">13.1. 1.4.x Branch</a><ul>
<li><a class="reference internal" href="#upgrade-notes">13.1.1. Upgrade Notes</a></li>
<li><a class="reference internal" href="#version-1-4-0">13.1.2. Version 1.4.0</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">13.2. 1.3.x Branch</a><ul>
<li><a class="reference internal" href="#id4">13.2.1. Upgrade Notes</a></li>
<li><a class="reference internal" href="#version-1-3-1">13.2.2. Version 1.3.1</a><ul>
<li><a class="reference internal" href="#replicator">13.2.2.1. Replicator</a></li>
<li><a class="reference internal" href="#log-system">13.2.2.2. Log System</a></li>
<li><a class="reference internal" href="#view-server">13.2.2.3. View Server</a></li>
<li><a class="reference internal" href="#miscellaneous">13.2.2.4. Miscellaneous</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-1-3-0">13.2.3. Version 1.3.0</a><ul>
<li><a class="reference internal" href="#database-core">13.2.3.1. Database core</a></li>
<li><a class="reference internal" href="#documentation">13.2.3.2. Documentation</a></li>
<li><a class="reference internal" href="#futon">13.2.3.3. Futon</a></li>
<li><a class="reference internal" href="#http-interface">13.2.3.4. HTTP Interface</a></li>
<li><a class="reference internal" href="#id5">13.2.3.5. Log System</a></li>
<li><a class="reference internal" href="#id6">13.2.3.6. Replicator</a></li>
<li><a class="reference internal" href="#security">13.2.3.7. Security</a></li>
<li><a class="reference internal" href="#source-repository">13.2.3.8. Source Repository</a></li>
<li><a class="reference internal" href="#storage-system">13.2.3.9. Storage System</a></li>
<li><a class="reference internal" href="#test-suite">13.2.3.10. Test Suite</a></li>
<li><a class="reference internal" href="#url-rewriter-vhosts">13.2.3.11. URL Rewriter &amp; Vhosts</a></li>
<li><a class="reference internal" href="#uuid-algorithms">13.2.3.12. UUID Algorithms</a></li>
<li><a class="reference internal" href="#query-and-view-server">13.2.3.13. Query and View Server</a></li>
<li><a class="reference internal" href="#windows">13.2.3.14. Windows</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id7">13.3. 1.2.x Branch</a><ul>
<li><a class="reference internal" href="#id9">13.3.1. Upgrade Notes</a><ul>
<li><a class="reference internal" href="#security-changes">13.3.1.1. Security changes</a></li>
<li><a class="reference internal" href="#database-compression">13.3.1.2. Database Compression</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-1-2-1">13.3.2. Version 1.2.1</a><ul>
<li><a class="reference internal" href="#id10">13.3.2.1. Security</a></li>
<li><a class="reference internal" href="#id11">13.3.2.2. HTTP Interface</a></li>
<li><a class="reference internal" href="#build-system">13.3.2.3. Build System</a></li>
<li><a class="reference internal" href="#id12">13.3.2.4. Futon</a></li>
<li><a class="reference internal" href="#replication">13.3.2.5. Replication</a></li>
<li><a class="reference internal" href="#view-system">13.3.2.6. View System</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-1-2-0">13.3.3. Version 1.2.0</a><ul>
<li><a class="reference internal" href="#authentication">13.3.3.1. Authentication</a></li>
<li><a class="reference internal" href="#id13">13.3.3.2. Build System</a></li>
<li><a class="reference internal" href="#id14">13.3.3.3. Futon</a></li>
<li><a class="reference internal" href="#id15">13.3.3.4. HTTP Interface</a></li>
<li><a class="reference internal" href="#id16">13.3.3.5. Replicator</a></li>
<li><a class="reference internal" href="#id17">13.3.3.6. Storage System</a></li>
<li><a class="reference internal" href="#id18">13.3.3.7. View Server</a></li>
<li><a class="reference internal" href="#oauth">13.3.3.8. OAuth</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id19">13.4. 1.1.x Branch</a><ul>
<li><a class="reference internal" href="#version-1-1-2">13.4.1. Version 1.1.2</a><ul>
<li><a class="reference internal" href="#id21">13.4.1.1. Security</a></li>
<li><a class="reference internal" href="#id22">13.4.1.2. HTTP Interface</a></li>
<li><a class="reference internal" href="#id23">13.4.1.3. Replicator</a></li>
<li><a class="reference internal" href="#id24">13.4.1.4. View Server</a></li>
<li><a class="reference internal" href="#id25">13.4.1.5. Log System</a></li>
<li><a class="reference internal" href="#id26">13.4.1.6. Build System</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-1-1-1">13.4.2. Version 1.1.1</a></li>
<li><a class="reference internal" href="#version-1-1-0">13.4.3. Version 1.1.0</a><ul>
<li><a class="reference internal" href="#externals">13.4.3.1. Externals</a></li>
<li><a class="reference internal" href="#id27">13.4.3.2. Futon</a></li>
<li><a class="reference internal" href="#id28">13.4.3.3. HTTP Interface</a></li>
<li><a class="reference internal" href="#id29">13.4.3.4. Replicator</a></li>
<li><a class="reference internal" href="#id30">13.4.3.5. Storage System</a></li>
<li><a class="reference internal" href="#id31">13.4.3.6. URL Rewriter &amp; Vhosts</a></li>
<li><a class="reference internal" href="#id32">13.4.3.7. View Server</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id33">13.5. 1.0.x Branch</a><ul>
<li><a class="reference internal" href="#version-1-0-4">13.5.1. Version 1.0.4</a><ul>
<li><a class="reference internal" href="#id35">13.5.1.1. Security</a></li>
<li><a class="reference internal" href="#id36">13.5.1.2. Log System</a></li>
<li><a class="reference internal" href="#id37">13.5.1.3. HTTP Interface</a></li>
<li><a class="reference internal" href="#id38">13.5.1.4. View System</a></li>
<li><a class="reference internal" href="#id39">13.5.1.5. Replicator</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-1-0-3">13.5.2. Version 1.0.3</a><ul>
<li><a class="reference internal" href="#general">13.5.2.1. General</a></li>
<li><a class="reference internal" href="#etap-test-suite">13.5.2.2. Etap Test Suite</a></li>
<li><a class="reference internal" href="#id40">13.5.2.3. Futon</a></li>
<li><a class="reference internal" href="#id41">13.5.2.4. HTTP Interface</a></li>
<li><a class="reference internal" href="#id42">13.5.2.5. Replicator</a></li>
<li><a class="reference internal" href="#id43">13.5.2.6. Security</a></li>
<li><a class="reference internal" href="#id44">13.5.2.7. Storage System</a></li>
<li><a class="reference internal" href="#id45">13.5.2.8. Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-1-0-2">13.5.3. Version 1.0.2</a><ul>
<li><a class="reference internal" href="#id46">13.5.3.1. Security</a></li>
<li><a class="reference internal" href="#id47">13.5.3.2. Futon</a></li>
<li><a class="reference internal" href="#id48">13.5.3.3. HTTP Interface</a></li>
<li><a class="reference internal" href="#id49">13.5.3.4. Log System</a></li>
<li><a class="reference internal" href="#id50">13.5.3.5. Replicator</a></li>
<li><a class="reference internal" href="#id51">13.5.3.6. Storage System</a></li>
<li><a class="reference internal" href="#id52">13.5.3.7. View Server</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-1-0-1">13.5.4. Version 1.0.1</a><ul>
<li><a class="reference internal" href="#id53">13.5.4.1. Security</a></li>
<li><a class="reference internal" href="#id54">13.5.4.2. Authentication</a></li>
<li><a class="reference internal" href="#build-and-system-integration">13.5.4.3. Build and System Integration</a></li>
<li><a class="reference internal" href="#id55">13.5.4.4. Futon</a></li>
<li><a class="reference internal" href="#id56">13.5.4.5. HTTP Interface</a></li>
<li><a class="reference internal" href="#id57">13.5.4.6. Replicator</a></li>
<li><a class="reference internal" href="#id58">13.5.4.7. Storage System</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-1-0-0">13.5.5. Version 1.0.0</a><ul>
<li><a class="reference internal" href="#id59">13.5.5.1. Security</a></li>
<li><a class="reference internal" href="#id60">13.5.5.2. Storage System</a></li>
<li><a class="reference internal" href="#id61">13.5.5.3. View Server</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id62">13.6. 0.11.x Branch</a><ul>
<li><a class="reference internal" href="#version-0-11-2">13.6.1. Version 0.11.2</a><ul>
<li><a class="reference internal" href="#id64">13.6.1.1. Security</a></li>
<li><a class="reference internal" href="#id65">13.6.1.2. Authentication</a></li>
<li><a class="reference internal" href="#id66">13.6.1.3. Futon</a></li>
<li><a class="reference internal" href="#id67">13.6.1.4. HTTP Interface</a></li>
<li><a class="reference internal" href="#id68">13.6.1.5. Replicator</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-11-1">13.6.2. Version 0.11.1</a><ul>
<li><a class="reference internal" href="#id69">13.6.2.1. Build and System Integration</a></li>
<li><a class="reference internal" href="#configuration-system">13.6.2.2. Configuration System</a></li>
<li><a class="reference internal" href="#id70">13.6.2.3. Futon</a></li>
<li><a class="reference internal" href="#id71">13.6.2.4. HTTP Interface</a></li>
<li><a class="reference internal" href="#javascript-clients">13.6.2.5. JavaScript Clients</a></li>
<li><a class="reference internal" href="#id72">13.6.2.6. Log System</a></li>
<li><a class="reference internal" href="#replication-system">13.6.2.7. Replication System</a></li>
<li><a class="reference internal" href="#id73">13.6.2.8. Security</a></li>
<li><a class="reference internal" href="#id74">13.6.2.9. Storage System</a></li>
<li><a class="reference internal" href="#id75">13.6.2.10. Test Suite</a></li>
<li><a class="reference internal" href="#id76">13.6.2.11. View Server</a></li>
<li><a class="reference internal" href="#id77">13.6.2.12. URL Rewriter &amp; Vhosts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-11-0">13.6.3. Version 0.11.0</a><ul>
<li><a class="reference internal" href="#id78">13.6.3.1. Build and System Integration</a></li>
<li><a class="reference internal" href="#id79">13.6.3.2. Futon</a></li>
<li><a class="reference internal" href="#id80">13.6.3.3. HTTP Interface</a></li>
<li><a class="reference internal" href="#id81">13.6.3.4. Replication</a></li>
<li><a class="reference internal" href="#runtime-statistics">13.6.3.5. Runtime Statistics</a></li>
<li><a class="reference internal" href="#id82">13.6.3.6. Security</a></li>
<li><a class="reference internal" href="#id83">13.6.3.7. Storage System</a></li>
<li><a class="reference internal" href="#id84">13.6.3.8. View Server</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id85">13.7. 0.10.x Branch</a><ul>
<li><a class="reference internal" href="#version-0-10-1">13.7.1. Version 0.10.1</a><ul>
<li><a class="reference internal" href="#id87">13.7.1.1. Build and System Integration</a></li>
<li><a class="reference internal" href="#id88">13.7.1.2. Replicator</a></li>
<li><a class="reference internal" href="#query-server">13.7.1.3. Query Server</a></li>
<li><a class="reference internal" href="#stats">13.7.1.4. Stats</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-10-0">13.7.2. Version 0.10.0</a><ul>
<li><a class="reference internal" href="#id89">13.7.2.1. Build and System Integration</a></li>
<li><a class="reference internal" href="#id90">13.7.2.2. HTTP Interface</a></li>
<li><a class="reference internal" href="#storage-format">13.7.2.3. Storage Format</a></li>
<li><a class="reference internal" href="#id91">13.7.2.4. View Server</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id92">13.8. 0.9.x Branch</a><ul>
<li><a class="reference internal" href="#version-0-9-2">13.8.1. Version 0.9.2</a><ul>
<li><a class="reference internal" href="#id94">13.8.1.1. Build and System Integration</a></li>
<li><a class="reference internal" href="#id95">13.8.1.2. Replication</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-9-1">13.8.2. Version 0.9.1</a><ul>
<li><a class="reference internal" href="#id96">13.8.2.1. Build and System Integration</a></li>
<li><a class="reference internal" href="#configuration-and-stats-system">13.8.2.2. Configuration and stats system</a></li>
<li><a class="reference internal" href="#id97">13.8.2.3. Database Core</a></li>
<li><a class="reference internal" href="#external-handlers">13.8.2.4. External Handlers</a></li>
<li><a class="reference internal" href="#id98">13.8.2.5. Futon</a></li>
<li><a class="reference internal" href="#id99">13.8.2.6. HTTP Interface</a></li>
<li><a class="reference internal" href="#javascript-view-server">13.8.2.7. JavaScript View Server</a></li>
<li><a class="reference internal" href="#id100">13.8.2.8. Replication</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-9-0">13.8.3. Version 0.9.0</a><ul>
<li><a class="reference internal" href="#id101">13.8.3.1. Build and System Integration</a></li>
<li><a class="reference internal" href="#id102">13.8.3.2. Configuration and stats system</a></li>
<li><a class="reference internal" href="#id103">13.8.3.3. Database Core</a></li>
<li><a class="reference internal" href="#design-document-resource-paths">13.8.3.4. Design Document Resource Paths</a></li>
<li><a class="reference internal" href="#futon-utility-client">13.8.3.5. Futon Utility Client</a></li>
<li><a class="reference internal" href="#id104">13.8.3.6. HTTP Interface</a></li>
<li><a class="reference internal" href="#id105">13.8.3.7. Replication</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id106">13.9. 0.8.x Branch</a><ul>
<li><a class="reference internal" href="#version-0-8-1-incubating">13.9.1. Version 0.8.1-incubating</a><ul>
<li><a class="reference internal" href="#id108">13.9.1.1. Build and System Integration</a></li>
<li><a class="reference internal" href="#id109">13.9.1.2. Database Core</a></li>
<li><a class="reference internal" href="#id110">13.9.1.3. Futon</a></li>
<li><a class="reference internal" href="#id111">13.9.1.4. JavaScript View Server</a></li>
<li><a class="reference internal" href="#id112">13.9.1.5. HTTP Interface</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-0-8-0-incubating">13.9.2. Version 0.8.0-incubating</a><ul>
<li><a class="reference internal" href="#id113">13.9.2.1. Build and System Integration</a></li>
<li><a class="reference internal" href="#id114">13.9.2.2. Database Core</a></li>
<li><a class="reference internal" href="#id115">13.9.2.3. Futon</a></li>
<li><a class="reference internal" href="#id116">13.9.2.4. JavaScript View Server</a></li>
<li><a class="reference internal" href="#id117">13.9.2.5. HTTP Interface</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="contributing.html"
                        title="previous chapter">12. Contributing to this Documentation</a></p><!--

Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.

-->

<!--

Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.

-->

<h3>More Help</h3>

<ul>
<li><a href="https://couchdb.apache.org/">Homepage</a></li>
<li><a href="http://wiki.apache.org/couchdb/">Wiki</a></li>
<li><a href="https://couchdb.apache.org/#mailing-list">Mailing Lists</a></li>
<li><a href="http://webchat.freenode.net/?channels=couchdb">IRC</a></li>
<li><a href="https://issues.apache.org/jira/browse/CouchDB">Issues</a></li>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="contributing.html" title="12. Contributing to this Documentation"
             >previous</a> |</li>
        <li><a href="index.html">Apache CouchDB 1.4 Manual</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2013, The Apache Software Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
 <!-- End original user content -->


<br/>
<br/>
<br/>


<style type="text/css">
  #version_menu, .rtd-badge.rtd {
    -webkit-transition: all 0.25s 0.75s;
    transition: all 0.25s 0.75s;
  }
  .footer_popout:hover #version_menu, .footer_popout:hover .rtd-badge.rtd {
    -webkit-transition: all 0.25s 0s;
    transition: all 0.25s 0s;
  }
  .rtd-badge {
    position: fixed;
    display: block;
    bottom: 5px;
    height: 40px;
    text-indent: -9999em;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
  }
  #version_menu {
    position: fixed;
    visibility: hidden;
    opacity: 0;
    bottom: 11px;
    right: 47px;
    list-style-type: none;
    margin: 0;
  }
  .footer_popout:hover #version_menu {
    visibility: visible;
    opacity: 1;
    right: 166px;
  }
  #version_menu li {
    display: block;
    float: right;
  }
  #version_menu li a {
    display: block;
    padding: 6px 10px 4px 10px;
    margin: 7px 7px 0 0;
    font-weight: bold;
    font-size: 14px;
    height: 20px;
    line-height: 17px;
    text-decoration: none;
    color: #fff;
    background: #8ca1af url(//media.readthedocs.org//images/gradient-light.png) bottom left repeat-x;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 1px #465158;
    -moz-box-shadow: 0 1px 1px #465158;
    -webkit-box-shadow: 0 1px 1px #465158;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5);
  }
  #version_menu li a:hover {
    text-decoration: none;
    background-color: #697983;
    box-shadow: 0 1px 0px #465158;
    -moz-box-shadow: 0 1px 0px #465158;
    -webkit-box-shadow: 0 1px 0px #465158;
  }
  .rtd-badge.rtd {
    background: #3b4449 url(//media.readthedocs.org//images/badge-rtd.png) scroll top left no-repeat;
    border: 1px solid #282E32;
    width: 41px;
    right: 5px;
  }
  .footer_popout:hover .rtd-badge.rtd {
    width: 160px;
  }
  .rtd-badge.revsys { background: #465158 url(//media.readthedocs.org//images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .rtd-badge.revsys-inline-sponsored {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(//media.readthedocs.org//images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .rtd-badge.revsys-inline {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(//media.readthedocs.org//images/badge-revsys-sm.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 205px;
    right: 173px;
  }

</style>
<div class="rtd_doc_footer">
  <div class="footer_popout">
    <a href="//readthedocs.org/projects/couchdb/?fromdocs=couchdb" class="rtd-badge rtd"> Brought to you by Read the Docs</a>
    <ul id="version_menu">
      
        <li><a href="/en/latest/">latest</a></li>
      
        <li><a href="/en/1.4.x/">1.4.x</a></li>
      
        <li><a href="/en/1.3.x/">1.3.x</a></li>
      
    </ul>
  </div>
</div>
<!-- RTD Analytics Code -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17997319-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>




  </body>
</html>