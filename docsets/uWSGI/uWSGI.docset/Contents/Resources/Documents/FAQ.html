
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Frequently Asked Questions (FAQ) &#8212; uWSGI 2.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Things to know (best practices and “issues”) READ IT !!!" href="ThingsToKnow.html" />
    <link rel="prev" title="Web server integration" href="WebServers.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ThingsToKnow.html" title="Things to know (best practices and “issues”) READ IT !!!"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="WebServers.html" title="Web server integration"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">uWSGI 2.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="frequently-asked-questions-faq">
<h1>Frequently Asked Questions (FAQ)<a class="headerlink" href="#frequently-asked-questions-faq" title="Permalink to this headline">¶</a></h1>
<div class="section" id="why-should-i-choose-uwsgi">
<h2>Why should I choose uWSGI?<a class="headerlink" href="#why-should-i-choose-uwsgi" title="Permalink to this headline">¶</a></h2>
<p>Because you can! :) uWSGI wants to be a complete web application deployment
solution with batteries included:</p>
<blockquote>
<div><ul class="simple">
<li><p><span class="xref std std-doc">ProcessManagement</span></p></li>
<li><p>Management of long-running tasks</p></li>
<li><p><a class="reference internal" href="RPC.html"><span class="doc">uWSGI RPC Stack</span></a></p></li>
<li><p><span class="xref std std-doc">Clustering</span></p></li>
<li><p><span class="xref std std-doc">LoadBalancing</span></p></li>
<li><p><span class="xref std std-doc">Monitoring</span></p></li>
<li><p><span class="xref std std-doc">ResourceLimiting</span></p></li>
</ul>
</div></blockquote>
<p>… and many other annoying everyday tasks that you’d have to delegate to
external scripts and manual sysadmin tasks.</p>
<p>If you are searching for a simple server for your WSGI, PSGI or Rack app, uWSGI
may not be for you. Though, if you are building an app which needs to be rock
solid, fast, and easy to distribute and optimize for various loads, you will
most likely find yourself needing uWSGI.</p>
<p>The best definition for uWSGI is “Swiss Army Knife for your network applications”.</p>
</div>
<div class="section" id="what-about-the-protocol">
<h2>What about the protocol?<a class="headerlink" href="#what-about-the-protocol" title="Permalink to this headline">¶</a></h2>
<p>The uwsgi (all lowercase) protocol is derived from SCGI but with binary string
length representations and a 4-byte header that includes the size of the var
block (16 bit length) and a couple of general-purpose bytes.  We are not
reinventing the wheel. Binary management is much easier and cheaper than string
parsing, and every single bit of power is required for our projects. If you
need proof, look at the <a class="reference internal" href="Protocol.html"><span class="doc">official protocol documentation</span></a> and
you will understand why a new protocol was needed.  Obviously, you are free to
use the other supported protocols. Remember, if you cannot use uWSGI in some
scenario, it is a uWSGI bug.</p>
</div>
<div class="section" id="can-i-use-it-in-cluster-environments">
<h2>Can I use it in cluster environments?<a class="headerlink" href="#can-i-use-it-in-cluster-environments" title="Permalink to this headline">¶</a></h2>
<p>Yes, this is one of the main features of the uWSGI stack.  You can have
multiple instances bound on different servers, and using the load balancing
facilities of your webserver/proxy/router you can distribute your load.
Systems like <a class="reference internal" href="RPC.html"><span class="doc">uWSGI RPC Stack</span></a> allows you to fast call functions on remote nodes, and
<a class="reference internal" href="Legion.html"><span class="doc">The uWSGI Legion subsystem</span></a> allows you to elect a master in a multi-node setup.</p>
</div>
<div class="section" id="so-why-all-those-timeout-configuration-flags">
<h2>So, why all those timeout configuration flags?<a class="headerlink" href="#so-why-all-those-timeout-configuration-flags" title="Permalink to this headline">¶</a></h2>
<p>Choosing sane timeouts is the key to high availability.  Do not trust network
applications that do not permit you to choose a timeout.</p>
</div>
<div class="section" id="i-need-help-what-do-i-do">
<h2>I need help! What do I do?<a class="headerlink" href="#i-need-help-what-do-i-do" title="Permalink to this headline">¶</a></h2>
<p>Post a message on the uWSGI mailing list including your</p>
<ul class="simple">
<li><p>Operating system version</p></li>
<li><p>CPU architecture</p></li>
<li><p>Webserver used (if any)</p></li>
<li><p>uWSGI version</p></li>
<li><p>uWSGI command line or config files</p></li>
</ul>
<p>You should add the <cite>–show-config</cite> option and post the output in the message.
It will be very useful for finding out just what’s wrong with your uWSGI.  You
can also <span class="xref std std-doc">rebuild uWSGI</span> with debug symbols and run it under a
debugger like <cite>gdb</cite>.</p>
<p>uWSGI is an enormous project with hundreds of options. You should be prepared
that not everything will go right at the first shot. Ask for help, ask for help
and ask for help. If you are frustrated, do not waste time blaming and ranting
- instead simply join the list and ask for help. This is open source, if you
only rant you are doing nothing useful.</p>
</div>
<div class="section" id="i-am-not-a-sysadmin-nor-a-unix-guru-can-i-use-uwsgi">
<h2>I am not a sysadmin, nor a UNIX guru. Can I use uWSGI?<a class="headerlink" href="#i-am-not-a-sysadmin-nor-a-unix-guru-can-i-use-uwsgi" title="Permalink to this headline">¶</a></h2>
<p>That’s a good question :) But sadly there is no simple answer.  uWSGI has not
been developed with simplicity in mind, but with versatility.  You can try it
by starting with one of the quickstarts and if you have problems, simply ask
for help in the list or on the IRC channel.</p>
</div>
<div class="section" id="how-can-i-buy-commercial-support-for-my-company">
<h2>How can I buy commercial support for my company?<a class="headerlink" href="#how-can-i-buy-commercial-support-for-my-company" title="Permalink to this headline">¶</a></h2>
<p>Send an email to info at unbit.it with the word “uWSGI” in the subject. The
email you send should include your company information and your specific
request. We will reply as soon as possible.</p>
</div>
<div class="section" id="will-this-allow-me-to-run-my-awesome-apps-on-my-ancient-close-minded-isp">
<h2>Will this allow me to run my awesome apps on my ancient close-minded ISP?<a class="headerlink" href="#will-this-allow-me-to-run-my-awesome-apps-on-my-ancient-close-minded-isp" title="Permalink to this headline">¶</a></h2>
<p>Probably not. The uWSGI server requires a modern platform/environment.</p>
</div>
<div class="section" id="where-are-the-benchmarks">
<h2>Where are the benchmarks?<a class="headerlink" href="#where-are-the-benchmarks" title="Permalink to this headline">¶</a></h2>
<p>Sorry, we only do “official” benchmarks for regression testing. If benchmarks
are very important to you, you can search on the mailing list, make your own
benchmarks or search on Google.  uWSGI gives precedence to machine health, so
do not expect your <cite>ab</cite> test with an unrealistic number of concurrent
connections to be managed flawlessly without tuning.  Some socket and
networking knowledge is required if you want to make a valid benchmark (and
avoid geek rage in your blog comments ;).  Also remember that uWSGI can be
run in various modes, so avoid comparing it configured in preforking mode
with another server in non-blocking/async mode if you do not want to look
ridiculous.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you see your tests failing at higher concurrency rates you are probably
hitting your OS socket backlog queue limit (maximum of 128 slots on Linux,
tunable via <cite>/proc/sys/net/somaxconn</cite> and
<cite>/proc/sys/net/ipv4/tcp_max_syn_backlog</cite> for TCP sockets).</p>
<p>You can set this value in uWSGI with the <cite>listen</cite> configuration option.</p>
</div>
</div>
<div class="section" id="ha-server-xxx-is-faster-than-uwsgi-take-that">
<h2>Ha! Server XXX is faster than uWSGI! Take that!<a class="headerlink" href="#ha-server-xxx-is-faster-than-uwsgi-take-that" title="Permalink to this headline">¶</a></h2>
<p>As already stated uWSGI is not a silver bullet, it is not meant to be liked by
the whole world and it is obviously not the fastest server out there.  It is a
piece of software following an “approach” to problems you may not like or that
you may conversely love. The approach taken will work better for certain cases
than others, and each application should be analyzed on it’s own merits using
appropriate and accruate real-world benchmarks.</p>
</div>
<div class="section" id="what-is-harakiri-mode">
<h2>What is ‘Harakiri mode’?<a class="headerlink" href="#what-is-harakiri-mode" title="Permalink to this headline">¶</a></h2>
<p>At Unbit we host hundreds of unreliable web apps on our servers. All of them
run on hardly constrained (at kernel level) environments where having processes
block due to an implementation error will result in taking down an entire site.
The harakiri mode has two operational modes:</p>
<ul class="simple">
<li><p>one that we define as “raw and a bit unreliable” (used for simple setup without a process manager)</p></li>
<li><p>and another one that we define as “reliable” that depends on the presence of the uWSGI process manager (see <span class="xref std std-doc">ProcessManagement</span>).</p></li>
</ul>
<p>The first one sets a simple alarm at the start of every request. If the process
gets a <cite>SIGALRM</cite> signal, it terminates itself. We call this unreliable, because
your app or some module you use could overwrite or simply cancel the alarm with
a simple call to <cite>alarm()</cite>.</p>
<p>The second one uses a master process shared memory area (via <cite>mmap</cite>) that
maintains statistics on every worker in the pool. At the start of every
request, the worker sets a timestamp representing the time after which the process
will be killed in its dedicated area. This timestamp is zeroed after every
successful request. If the master process finds a worker with a timestamp in
the past it will mercilessly kill it.</p>
</div>
<div class="section" id="will-my-app-run-faster-with-uwsgi">
<h2>Will my app run faster with uWSGI?<a class="headerlink" href="#will-my-app-run-faster-with-uwsgi" title="Permalink to this headline">¶</a></h2>
<p>It’s unlikely. The biggest bottleneck in web app deployment is the application
itself. If you want a faster environment, optimize your code or use techniques
such as clustering or caching. We say that uWSGI is fast because it introduces
a very little overhead in the deployment structure.</p>
</div>
<div class="section" id="what-are-the-most-important-options-for-performance-and-robustness-in-the-uwsgi-environment">
<h2>What are the most important options for performance and robustness in the uWSGI environment?<a class="headerlink" href="#what-are-the-most-important-options-for-performance-and-robustness-in-the-uwsgi-environment" title="Permalink to this headline">¶</a></h2>
<p>By default, uWSGI is configured with sane “almost-good-for-all” values. But if
and when things start going wild, tuning is a must.</p>
<ul class="simple">
<li><p>Increasing (or decreasing) timeout is important, as is modifying the socket listen queue size.</p></li>
<li><p>Think about threading. If you do not need threads, do not enable them.</p></li>
<li><p>If you are running only a single application you can disable multiple interpreters.</p></li>
<li><p>Always remember to enable the master process in production environments. See <span class="xref std std-doc">ProcessManagement</span>.</p></li>
<li><p>Adding workers does not mean “increasing performance”, so choose a good value
for the <cite>workers</cite> option based on the nature of your app (IO bound, CPU bound,
IO waiting…)</p></li>
</ul>
</div>
<div class="section" id="why-not-simply-use-http-as-the-protocol">
<h2>Why not simply use HTTP as the protocol?<a class="headerlink" href="#why-not-simply-use-http-as-the-protocol" title="Permalink to this headline">¶</a></h2>
<p>A good question with a simple answer: HTTP parsing is slow, really slow.  Why
should we do a complex task twice? The web server has already parsed the
request! The <a class="reference internal" href="Protocol.html"><span class="doc">uwsgi protocol</span></a> is very simple to parse for a
machine, while HTTP is very easy to parse for a human.  As soon as humans are
being used as servers, we will abandon the uwsgi protocol in favor of the HTTP
protocol.  All this said, you can use uWSGI via <a class="reference internal" href="HTTP.html"><span class="doc">Native HTTP support</span></a>, <span class="xref std std-doc">FastCGI</span>,
<span class="xref std std-doc">ZeroMQ</span> and other protocols as well.</p>
</div>
<div class="section" id="why-do-you-support-multiple-methods-of-configuration">
<h2>Why do you support multiple methods of configuration?<a class="headerlink" href="#why-do-you-support-multiple-methods-of-configuration" title="Permalink to this headline">¶</a></h2>
<p>System administration is all about skills and taste. uWSGI tries to give
sysadmins as many choices as possible for integration with whatever
infrastructure is already available.  Having multiple methods of configuration is
just one way we achieve this.</p>
</div>
<div class="section" id="what-is-the-best-webserver-handler">
<h2>What is the best webserver handler?<a class="headerlink" href="#what-is-the-best-webserver-handler" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference internal" href="WebServers.html"><span class="doc">Web server integration</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Frequently Asked Questions (FAQ)</a><ul>
<li><a class="reference internal" href="#why-should-i-choose-uwsgi">Why should I choose uWSGI?</a></li>
<li><a class="reference internal" href="#what-about-the-protocol">What about the protocol?</a></li>
<li><a class="reference internal" href="#can-i-use-it-in-cluster-environments">Can I use it in cluster environments?</a></li>
<li><a class="reference internal" href="#so-why-all-those-timeout-configuration-flags">So, why all those timeout configuration flags?</a></li>
<li><a class="reference internal" href="#i-need-help-what-do-i-do">I need help! What do I do?</a></li>
<li><a class="reference internal" href="#i-am-not-a-sysadmin-nor-a-unix-guru-can-i-use-uwsgi">I am not a sysadmin, nor a UNIX guru. Can I use uWSGI?</a></li>
<li><a class="reference internal" href="#how-can-i-buy-commercial-support-for-my-company">How can I buy commercial support for my company?</a></li>
<li><a class="reference internal" href="#will-this-allow-me-to-run-my-awesome-apps-on-my-ancient-close-minded-isp">Will this allow me to run my awesome apps on my ancient close-minded ISP?</a></li>
<li><a class="reference internal" href="#where-are-the-benchmarks">Where are the benchmarks?</a></li>
<li><a class="reference internal" href="#ha-server-xxx-is-faster-than-uwsgi-take-that">Ha! Server XXX is faster than uWSGI! Take that!</a></li>
<li><a class="reference internal" href="#what-is-harakiri-mode">What is ‘Harakiri mode’?</a></li>
<li><a class="reference internal" href="#will-my-app-run-faster-with-uwsgi">Will my app run faster with uWSGI?</a></li>
<li><a class="reference internal" href="#what-are-the-most-important-options-for-performance-and-robustness-in-the-uwsgi-environment">What are the most important options for performance and robustness in the uWSGI environment?</a></li>
<li><a class="reference internal" href="#why-not-simply-use-http-as-the-protocol">Why not simply use HTTP as the protocol?</a></li>
<li><a class="reference internal" href="#why-do-you-support-multiple-methods-of-configuration">Why do you support multiple methods of configuration?</a></li>
<li><a class="reference internal" href="#what-is-the-best-webserver-handler">What is the best webserver handler?</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="WebServers.html"
                        title="previous chapter">Web server integration</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ThingsToKnow.html"
                        title="next chapter">Things to know (best practices and “issues”) READ IT !!!</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/FAQ.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ThingsToKnow.html" title="Things to know (best practices and “issues”) READ IT !!!"
             >next</a> |</li>
        <li class="right" >
          <a href="WebServers.html" title="Web server integration"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">uWSGI 2.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2012-2016, uWSGI.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.
    </div>
  </body>
</html>