<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>App Engine Python SDK: google.appengine.datastore.datastore_rpc.MultiRpc Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="common.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gae-python.logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">App Engine Python SDK
   &#160;<span id="projectnumber">v1.6.9 rev.445</span>
   </div>
   <div id="projectbrief">The Python runtime is available as an experimental Preview feature.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>google</b></li><li class="navelem"><b>appengine</b></li><li class="navelem"><b>datastore</b></li><li class="navelem"><b>datastore_rpc</b></li><li class="navelem"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__rpc_1_1_multi_rpc.html">MultiRpc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgoogle_1_1appengine_1_1datastore_1_1datastore__rpc_1_1_multi_rpc-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">google.appengine.datastore.datastore_rpc.MultiRpc Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for google.appengine.datastore.datastore_rpc.MultiRpc:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgoogle_1_1appengine_1_1datastore_1_1datastore__rpc_1_1_multi_rpc.png" usemap="#google.appengine.datastore.datastore_rpc.MultiRpc_map" alt=""/>
  <map id="google.appengine.datastore.datastore_rpc.MultiRpc_map" name="google.appengine.datastore.datastore_rpc.MultiRpc_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5eaa24cff1bf75e24b185d396cda25e0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__rpc_1_1_multi_rpc.html#a5eaa24cff1bf75e24b185d396cda25e0">__init__</a></td></tr>
<tr class="separator:a5eaa24cff1bf75e24b185d396cda25e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5067b0d9659f4fa311f8e731e20a6974"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__rpc_1_1_multi_rpc.html#a5067b0d9659f4fa311f8e731e20a6974">rpcs</a></td></tr>
<tr class="separator:a5067b0d9659f4fa311f8e731e20a6974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2c54b5ddecb640d8b2dd8c7700eb68f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__rpc_1_1_multi_rpc.html#aa2c54b5ddecb640d8b2dd8c7700eb68f">state</a></td></tr>
<tr class="separator:aa2c54b5ddecb640d8b2dd8c7700eb68f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cbdb8a435015452d5132d3ea9785794"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__rpc_1_1_multi_rpc.html#a1cbdb8a435015452d5132d3ea9785794">wait</a></td></tr>
<tr class="separator:a1cbdb8a435015452d5132d3ea9785794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab26cdd24d6cdcd2e14c2fb331f666c2d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__rpc_1_1_multi_rpc.html#ab26cdd24d6cdcd2e14c2fb331f666c2d">check_success</a></td></tr>
<tr class="separator:ab26cdd24d6cdcd2e14c2fb331f666c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf95c5968b9d140cf029bcb4fd2a3a48"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__rpc_1_1_multi_rpc.html#aaf95c5968b9d140cf029bcb4fd2a3a48">get_result</a></td></tr>
<tr class="separator:aaf95c5968b9d140cf029bcb4fd2a3a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd6e9d790e62e9c89bfb1ec9b38fcb9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__rpc_1_1_multi_rpc.html#affd6e9d790e62e9c89bfb1ec9b38fcb9">flatten</a></td></tr>
<tr class="separator:affd6e9d790e62e9c89bfb1ec9b38fcb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e60c14fbe39aa79d5d43cbc90553940"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__rpc_1_1_multi_rpc.html#a3e60c14fbe39aa79d5d43cbc90553940">wait_any</a></td></tr>
<tr class="separator:a3e60c14fbe39aa79d5d43cbc90553940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dece1908257eb88a79aed475e03ffee"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__rpc_1_1_multi_rpc.html#a5dece1908257eb88a79aed475e03ffee">wait_all</a></td></tr>
<tr class="separator:a5dece1908257eb88a79aed475e03ffee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A wrapper around multiple UserRPC objects.

This provides an API similar to that of UserRPC, but wraps multiple
RPCs such that e.g. .wait() blocks until all wrapped RPCs are
complete, and .get_result() returns the combined results from all
wrapped RPCs.

Class methods:
  flatten(rpcs): Expand a list of UserRPCs and MultiRpcs
    into a list of UserRPCs.
  wait_any(rpcs): Call UserRPC.wait_any(flatten(rpcs)).
  wait_all(rpcs): Call UserRPC.wait_all(flatten(rpcs)).

Instance methods:
  wait(): Wait for all RPCs.
  check_success(): Wait and then check success for all RPCs.
  get_result(): Wait for all, check successes, then merge
    all results.

Instance attributes:
  rpcs: The list of wrapped RPCs (returns a copy).
  state: The combined state of all RPCs.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5eaa24cff1bf75e24b185d396cda25e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.datastore.datastore_rpc.MultiRpc.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rpcs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extra_hook</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Constructor.

Args:
  rpcs: A list of UserRPC and MultiRpc objects; it is flattened
before being stored.
  extra_hook: Optional function to be applied to the final result
or list of results.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab26cdd24d6cdcd2e14c2fb331f666c2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.datastore.datastore_rpc.MultiRpc.check_success </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check success of all wrapped RPCs, failing if any of the failed.

This mimics the UserRPC.check_success() method.

NOTE: This first waits for all wrapped RPCs to finish before
checking the success of any of them.  This makes debugging easier.
</pre> 
</div>
</div>
<a class="anchor" id="affd6e9d790e62e9c89bfb1ec9b38fcb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.datastore.datastore_rpc.MultiRpc.flatten </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rpcs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a list of UserRPCs, expanding MultiRpcs in the argument list.

For example: given 4 UserRPCs rpc1 through rpc4,
flatten(rpc1, MultiRpc([rpc2, rpc3], rpc4)
returns [rpc1, rpc2, rpc3, rpc4].

Args:
  rpcs: A list of UserRPC and MultiRpc objects.

Returns:
  A list of UserRPC objects.
</pre> 
</div>
</div>
<a class="anchor" id="aaf95c5968b9d140cf029bcb4fd2a3a48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.datastore.datastore_rpc.MultiRpc.get_result </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the combined results of all wrapped RPCs.

This mimics the UserRPC.get_results() method.  Multiple results
are combined using the following rules:

1. If there are no wrapped RPCs, an empty list is returned.

2. If exactly one RPC is wrapped, its result is returned.

3. If more than one RPC is wrapped, the result is always a list,
   which is constructed from the wrapped results as follows:

   a. A wrapped result equal to None is ignored;

   b. A wrapped result that is a list (but not any other type of
  sequence!) has its elements added to the result list.

   c. Any other wrapped result is appended to the result list.

After all results are combined, if __extra_hook is set, it is
called with the combined results and its return value becomes the
final result.

NOTE: This first waits for all wrapped RPCs to finish, and then
checks all their success.  This makes debugging easier.
</pre> 
</div>
</div>
<a class="anchor" id="a5067b0d9659f4fa311f8e731e20a6974"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.datastore.datastore_rpc.MultiRpc.rpcs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get a flattened list containing the RPCs wrapped.

This returns a copy to prevent users from modifying the state.
</pre> 
</div>
</div>
<a class="anchor" id="aa2c54b5ddecb640d8b2dd8c7700eb68f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.datastore.datastore_rpc.MultiRpc.state </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the combined state of the wrapped RPCs.

This mimics the UserRPC.state property.  If all wrapped RPCs have
the same state, that state is returned; otherwise, RUNNING is
returned (which here really means 'neither fish nor flesh').
</pre> 
</div>
</div>
<a class="anchor" id="a1cbdb8a435015452d5132d3ea9785794"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.datastore.datastore_rpc.MultiRpc.wait </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Wait for all wrapped RPCs to finish.

This mimics the UserRPC.wait() method.
</pre> 
</div>
</div>
<a class="anchor" id="a5dece1908257eb88a79aed475e03ffee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.datastore.datastore_rpc.MultiRpc.wait_all </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rpcs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Wait until all RPCs passed in are finished.

This mimics UserRPC.wait_all().

Args:
  rpcs: A list of UserRPC and MultiRpc objects.
</pre> 
</div>
</div>
<a class="anchor" id="a3e60c14fbe39aa79d5d43cbc90553940"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.datastore.datastore_rpc.MultiRpc.wait_any </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rpcs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Wait until one of the RPCs passed in is finished.

This mimics UserRPC.wait_any().

Args:
  rpcs: A list of UserRPC and MultiRpc objects.

Returns:
  A UserRPC object or None.
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>code/googleappengine-read-only/python/google/appengine/datastore/datastore_rpc.py</li>
</ul>
</div><!-- contents -->
<address class="footer">
    <small>Maintained by <a href="http://www.tzmartin.com">tzmartin</a></small>
</address>