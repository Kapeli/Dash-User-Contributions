<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>App Engine Python SDK: google.appengine.datastore.datastore_query.Batcher Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="common.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gae-python.logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">App Engine Python SDK
   &#160;<span id="projectnumber">v1.6.9 rev.445</span>
   </div>
   <div id="projectbrief">The Python runtime is available as an experimental Preview feature.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>google</b></li><li class="navelem"><b>appengine</b></li><li class="navelem"><b>datastore</b></li><li class="navelem"><b>datastore_query</b></li><li class="navelem"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__query_1_1_batcher.html">Batcher</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classgoogle_1_1appengine_1_1datastore_1_1datastore__query_1_1_batcher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">google.appengine.datastore.datastore_query.Batcher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for google.appengine.datastore.datastore_query.Batcher:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgoogle_1_1appengine_1_1datastore_1_1datastore__query_1_1_batcher.png" usemap="#google.appengine.datastore.datastore_query.Batcher_map" alt=""/>
  <map id="google.appengine.datastore.datastore_query.Batcher_map" name="google.appengine.datastore.datastore_query.Batcher_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8828d017ae670a90ec6f20115b96f03e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__query_1_1_batcher.html#a8828d017ae670a90ec6f20115b96f03e">__init__</a></td></tr>
<tr class="separator:a8828d017ae670a90ec6f20115b96f03e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad824da8f6c8a656845845e308fb308e9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__query_1_1_batcher.html#ad824da8f6c8a656845845e308fb308e9">next</a></td></tr>
<tr class="separator:ad824da8f6c8a656845845e308fb308e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33dd0bfe08877961b017a91a0de78e92"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1datastore_1_1datastore__query_1_1_batcher.html#a33dd0bfe08877961b017a91a0de78e92">next_batch</a></td></tr>
<tr class="separator:a33dd0bfe08877961b017a91a0de78e92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11cb47ab12f736dff644611e35fcb772"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11cb47ab12f736dff644611e35fcb772"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__getstate__</b></td></tr>
<tr class="separator:a11cb47ab12f736dff644611e35fcb772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d43fda129d4afdb18d0d9b2436452e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d43fda129d4afdb18d0d9b2436452e3"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__iter__</b></td></tr>
<tr class="separator:a3d43fda129d4afdb18d0d9b2436452e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aaf1e897bd2b81bbfb654d23bf11a200a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaf1e897bd2b81bbfb654d23bf11a200a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ASYNC_ONLY</b> = None</td></tr>
<tr class="separator:aaf1e897bd2b81bbfb654d23bf11a200a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc1540cf8bc226386005a6ada3244084"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adc1540cf8bc226386005a6ada3244084"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>AT_LEAST_OFFSET</b> = 0</td></tr>
<tr class="separator:adc1540cf8bc226386005a6ada3244084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46fd26d7a8224a767312e0e5950d5b6c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a46fd26d7a8224a767312e0e5950d5b6c"></a>
tuple&#160;</td><td class="memItemRight" valign="bottom"><b>AT_LEAST_ONE</b> = object()</td></tr>
<tr class="separator:a46fd26d7a8224a767312e0e5950d5b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A class that implements the Iterator interface for Batches.

Typically constructed by a call to Query.run().

The class hides the "best effort" nature of the datastore by potentially
making multiple requests to the datastore and merging the resulting batches.
This is accomplished efficiently by prefetching results and mixing both
non-blocking and blocking calls to the datastore as needed.

Iterating through batches is almost always more efficient than pulling all
results at once as RPC latency is hidden by asynchronously prefetching
results.

The batches produce by this class cannot be used to fetch the next batch
(through Batch.next_batch()) as before the current batch is returned the
request for the next batch has already been sent.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8828d017ae670a90ec6f20115b96f03e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.datastore.datastore_query.Batcher.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>query_options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>first_async_batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Constructor.

Although this class can be manually constructed, it is preferable to use
Query.run(query_options).

Args:
  query_options: The QueryOptions used to create the first batch.
  first_async_batch: The first batch produced by
Query.run_async(query_options).
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad824da8f6c8a656845845e308fb308e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.datastore.datastore_query.Batcher.next </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the next batch. See .next_batch().</pre> 
</div>
</div>
<a class="anchor" id="a33dd0bfe08877961b017a91a0de78e92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.datastore.datastore_query.Batcher.next_batch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_batch_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the next batch.

The batch returned by this function cannot be used to fetch the next batch
(through Batch.next_batch()). Instead this function will always return None.
To retrieve the next batch use .next() or .next_batch(N).

This function may return a batch larger than min_to_fetch, but will never
return smaller unless there are no more results.

Special values can be used for min_batch_size:
  ASYNC_ONLY - Do not perform any synchrounous fetches from the datastore
even if the this produces a batch with no results.
  AT_LEAST_OFFSET - Only pull enough results to satifiy the offset.
  AT_LEAST_ONE - Pull batches until at least one result is returned.

Args:
  min_batch_size: The minimum number of results to retrieve or one of
(ASYNC_ONLY, AT_LEAST_OFFSET, AT_LEAST_ONE)

Returns:
  The next Batch of results.
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>code/googleappengine-read-only/python/google/appengine/datastore/datastore_query.py</li>
</ul>
</div><!-- contents -->
<address class="footer">
    <small>Maintained by <a href="http://www.tzmartin.com">tzmartin</a></small>
</address>