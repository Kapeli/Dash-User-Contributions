<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>App Engine Python SDK: google.appengine.tools.sdk_update_checker.SDKUpdateChecker Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="common.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gae-python.logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">App Engine Python SDK
   &#160;<span id="projectnumber">v1.6.9 rev.445</span>
   </div>
   <div id="projectbrief">The Python runtime is available as an experimental Preview feature.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>google</b></li><li class="navelem"><b>appengine</b></li><li class="navelem"><b>tools</b></li><li class="navelem"><b>sdk_update_checker</b></li><li class="navelem"><a class="el" href="classgoogle_1_1appengine_1_1tools_1_1sdk__update__checker_1_1_s_d_k_update_checker.html">SDKUpdateChecker</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classgoogle_1_1appengine_1_1tools_1_1sdk__update__checker_1_1_s_d_k_update_checker-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">google.appengine.tools.sdk_update_checker.SDKUpdateChecker Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for google.appengine.tools.sdk_update_checker.SDKUpdateChecker:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgoogle_1_1appengine_1_1tools_1_1sdk__update__checker_1_1_s_d_k_update_checker.png" usemap="#google.appengine.tools.sdk_update_checker.SDKUpdateChecker_map" alt=""/>
  <map id="google.appengine.tools.sdk_update_checker.SDKUpdateChecker_map" name="google.appengine.tools.sdk_update_checker.SDKUpdateChecker_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a54c88dcca3ac9e914ddcfc2e468f51ba"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1tools_1_1sdk__update__checker_1_1_s_d_k_update_checker.html#a54c88dcca3ac9e914ddcfc2e468f51ba">__init__</a></td></tr>
<tr class="separator:a54c88dcca3ac9e914ddcfc2e468f51ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af67948a58bb31e5138bc5313b34b6e83"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1tools_1_1sdk__update__checker_1_1_s_d_k_update_checker.html#af67948a58bb31e5138bc5313b34b6e83">CheckSupportedVersion</a></td></tr>
<tr class="separator:af67948a58bb31e5138bc5313b34b6e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698de64c6943b503def27025f083eedd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1tools_1_1sdk__update__checker_1_1_s_d_k_update_checker.html#a698de64c6943b503def27025f083eedd">CheckForUpdates</a></td></tr>
<tr class="separator:a698de64c6943b503def27025f083eedd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9a5080600012d7153ac3e932e2fe14"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1tools_1_1sdk__update__checker_1_1_s_d_k_update_checker.html#abf9a5080600012d7153ac3e932e2fe14">AllowedToCheckForUpdates</a></td></tr>
<tr class="separator:abf9a5080600012d7153ac3e932e2fe14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:afb57f72b7c1f8561bb3ed7499a11229f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1tools_1_1sdk__update__checker_1_1_s_d_k_update_checker.html#afb57f72b7c1f8561bb3ed7499a11229f">MakeNagFilename</a></td></tr>
<tr class="separator:afb57f72b7c1f8561bb3ed7499a11229f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad43242ee614988294fb86c67bf820cec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad43242ee614988294fb86c67bf820cec"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>rpcserver</b></td></tr>
<tr class="separator:ad43242ee614988294fb86c67bf820cec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206b9dbef4518965dcbfa3a2ec784d53"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a206b9dbef4518965dcbfa3a2ec784d53"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>isdir</b></td></tr>
<tr class="separator:a206b9dbef4518965dcbfa3a2ec784d53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace50417c5907d38083a434a4f7f2cc74"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace50417c5907d38083a434a4f7f2cc74"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>isfile</b></td></tr>
<tr class="separator:ace50417c5907d38083a434a4f7f2cc74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a345414b97ce6910f9b3706bbab5d9d8a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a345414b97ce6910f9b3706bbab5d9d8a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>open</b></td></tr>
<tr class="separator:a345414b97ce6910f9b3706bbab5d9d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015f3bd33f37356eea538ee8df2314ee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a015f3bd33f37356eea538ee8df2314ee"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>runtimes</b></td></tr>
<tr class="separator:a015f3bd33f37356eea538ee8df2314ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c1217f542890579278b312289f3ce88"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c1217f542890579278b312289f3ce88"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>runtime_to_api_version</b></td></tr>
<tr class="separator:a9c1217f542890579278b312289f3ce88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Determines if the local SDK is the latest version.

Nags the user when there are updates to the SDK.  As the SDK becomes
more out of date, the language in the nagging gets stronger.  We
store a little yaml file in the user's home directory so that we nag
the user only once a week.

The yaml file has the following field:
  'timestamp': Last time we nagged the user in seconds since the epoch.

Attributes:
  rpcserver: An AbstractRpcServer instance used to check for the latest SDK.
  config: The app's AppInfoExternal.  Needed to determine which api_version
    the app is using.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a54c88dcca3ac9e914ddcfc2e468f51ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.tools.sdk_update_checker.SDKUpdateChecker.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rpcserver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>configs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>isdir</em> = <code>os.path.isdir</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>isfile</em> = <code>os.path.isfile</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>open_fn</em> = <code>open</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a new SDKUpdateChecker.

Args:
  rpcserver: The AbstractRpcServer to use.
  configs: A list of yaml objects or a single yaml object that specify the
  configuration of this application.
  isdir: Replacement for os.path.isdir (for testing).
  isfile: Replacement for os.path.isfile (for testing).
  open_fn: Replacement for the open builtin (for testing).
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abf9a5080600012d7153ac3e932e2fe14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.tools.sdk_update_checker.SDKUpdateChecker.AllowedToCheckForUpdates </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>input_fn</em> = <code>raw_input</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Determines if the user wants to check for updates.

On startup, the dev_appserver wants to check for updates to the SDK.
Because this action reports usage to Google when the user is not
otherwise communicating with Google (e.g. pushing a new app version),
the user must opt in.

If the user does not have a nag file, we will query the user and
save the response in the nag file.  Subsequent calls to this function
will re-use that response.

Args:
  input_fn: used to collect user input. This is for testing only.

Returns:
  True if the user wants to check for updates.  False otherwise.
</pre> 
</div>
</div>
<a class="anchor" id="a698de64c6943b503def27025f083eedd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.tools.sdk_update_checker.SDKUpdateChecker.CheckForUpdates </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Queries the server for updates and nags the user if appropriate.

Queries the server for the latest SDK version at the same time reporting
the local SDK version.  The server will respond with a yaml document
containing the fields:
  'release': The name of the release (e.g. 1.2).
  'timestamp': The time the release was created (YYYY-MM-DD HH:MM AM/PM TZ).
  'api_versions': A list of api_version strings (e.g. ['1', 'beta']).

We will nag the user with increasing severity if:
- There is a new release.
- There is a new release with a new api_version.
- There is a new release that does not support an api_version named in
  a configuration in self.configs.
</pre> 
</div>
</div>
<a class="anchor" id="af67948a58bb31e5138bc5313b34b6e83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.tools.sdk_update_checker.SDKUpdateChecker.CheckSupportedVersion </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Determines if the app's api_version is supported by the SDK.

Uses the api_version field from the AppInfoExternal to determine if
the SDK supports that api_version.

Raises:
  sys.exit if the api_version is not supported.
</pre> 
</div>
</div>
<a class="anchor" id="afb57f72b7c1f8561bb3ed7499a11229f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.tools.sdk_update_checker.SDKUpdateChecker.MakeNagFilename </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Returns the filename for the nag file for this user.</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>code/googleappengine-read-only/python/google/appengine/tools/sdk_update_checker.py</li>
</ul>
</div><!-- contents -->
<address class="footer">
    <small>Maintained by <a href="http://www.tzmartin.com">tzmartin</a></small>
</address>