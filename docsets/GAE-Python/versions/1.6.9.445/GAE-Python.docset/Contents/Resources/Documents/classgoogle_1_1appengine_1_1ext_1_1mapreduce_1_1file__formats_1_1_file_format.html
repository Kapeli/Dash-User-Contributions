<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>App Engine Python SDK: google.appengine.ext.mapreduce.file_formats.FileFormat Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="common.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gae-python.logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">App Engine Python SDK
   &#160;<span id="projectnumber">v1.6.9 rev.445</span>
   </div>
   <div id="projectbrief">The Python runtime is available as an experimental Preview feature.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>google</b></li><li class="navelem"><b>appengine</b></li><li class="navelem"><b>ext</b></li><li class="navelem"><b>mapreduce</b></li><li class="navelem"><b>file_formats</b></li><li class="navelem"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html">FileFormat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">google.appengine.ext.mapreduce.file_formats.FileFormat Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for google.appengine.ext.mapreduce.file_formats.FileFormat:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.png" usemap="#google.appengine.ext.mapreduce.file_formats.FileFormat_map" alt=""/>
  <map id="google.appengine.ext.mapreduce.file_formats.FileFormat_map" name="google.appengine.ext.mapreduce.file_formats.FileFormat_map">
<area href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1___binary_format.html" alt="google.appengine.ext.mapreduce.file_formats._BinaryFormat" shape="rect" coords="0,112,361,136"/>
<area href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1___text_format.html" alt="google.appengine.ext.mapreduce.file_formats._TextFormat" shape="rect" coords="556,112,917,136"/>
<area href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1___zip_format.html" alt="google.appengine.ext.mapreduce.file_formats._ZipFormat" shape="rect" coords="927,112,1288,136"/>
<area href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1___base64_format.html" alt="google.appengine.ext.mapreduce.file_formats._Base64Format" shape="rect" coords="0,168,361,192"/>
<area href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1___c_s_v_format.html" alt="google.appengine.ext.mapreduce.file_formats._CSVFormat" shape="rect" coords="371,168,732,192"/>
<area href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1___lines_format.html" alt="google.appengine.ext.mapreduce.file_formats._LinesFormat" shape="rect" coords="742,168,1103,192"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0e1c85e41c3e30de62f6773fcf45e224"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#a0e1c85e41c3e30de62f6773fcf45e224">__init__</a></td></tr>
<tr class="separator:a0e1c85e41c3e30de62f6773fcf45e224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559c3c3d5985c5f91ffb4a0cfd9289e0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#a559c3c3d5985c5f91ffb4a0cfd9289e0">get_current_file</a></td></tr>
<tr class="separator:a559c3c3d5985c5f91ffb4a0cfd9289e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a791acd096d52bb00d736deb4efa0a415"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#a791acd096d52bb00d736deb4efa0a415">get_index</a></td></tr>
<tr class="separator:a791acd096d52bb00d736deb4efa0a415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6832b1dd4fa48f1b08f7f231f418c0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#a1a6832b1dd4fa48f1b08f7f231f418c0">increment_index</a></td></tr>
<tr class="separator:a1a6832b1dd4fa48f1b08f7f231f418c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0306836bb9e7305603369d8d792d0fd0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#a0306836bb9e7305603369d8d792d0fd0">get_cache</a></td></tr>
<tr class="separator:a0306836bb9e7305603369d8d792d0fd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac534df95bea153f96157695e941a2dcd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#ac534df95bea153f96157695e941a2dcd">default_instance</a></td></tr>
<tr class="separator:ac534df95bea153f96157695e941a2dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a367f5d1d7076aae083f10927235606e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a367f5d1d7076aae083f10927235606e3"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__repr__</b></td></tr>
<tr class="separator:a367f5d1d7076aae083f10927235606e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afecbe2837d1d513c11955f0fececd3be"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afecbe2837d1d513c11955f0fececd3be"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__str__</b></td></tr>
<tr class="separator:afecbe2837d1d513c11955f0fececd3be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a103c129025148cd12eeaff72805b735c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#a103c129025148cd12eeaff72805b735c">checkpoint</a></td></tr>
<tr class="separator:a103c129025148cd12eeaff72805b735c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3ac7b060d97e7c3cad1e7033e53d5c4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#ad3ac7b060d97e7c3cad1e7033e53d5c4">to_json</a></td></tr>
<tr class="separator:ad3ac7b060d97e7c3cad1e7033e53d5c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb1f698ec27912e511c7f9f485b0ad5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#a0bb1f698ec27912e511c7f9f485b0ad5">from_json</a></td></tr>
<tr class="separator:a0bb1f698ec27912e511c7f9f485b0ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2df5e8bbca3cd54c4266a7d0090eb9bd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#a2df5e8bbca3cd54c4266a7d0090eb9bd">can_split</a></td></tr>
<tr class="separator:a2df5e8bbca3cd54c4266a7d0090eb9bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71cc3b9cc16e93aa417f8896616c44ab"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#a71cc3b9cc16e93aa417f8896616c44ab">split</a></td></tr>
<tr class="separator:a71cc3b9cc16e93aa417f8896616c44ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8374198cf32584e59283a4199030420b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8374198cf32584e59283a4199030420b"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__iter__</b></td></tr>
<tr class="separator:a8374198cf32584e59283a4199030420b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21dd29c17f3a0143186636f94aff1b2a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#a21dd29c17f3a0143186636f94aff1b2a">preprocess</a></td></tr>
<tr class="separator:a21dd29c17f3a0143186636f94aff1b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9726cd6cbf7309b6cb3f459fbc4a198"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#aa9726cd6cbf7309b6cb3f459fbc4a198">next</a></td></tr>
<tr class="separator:aa9726cd6cbf7309b6cb3f459fbc4a198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bec675953e70f29a8a2a74c4ae268db"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1file__formats_1_1_file_format.html#a7bec675953e70f29a8a2a74c4ae268db">get_next</a></td></tr>
<tr class="separator:a7bec675953e70f29a8a2a74c4ae268db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a09d0f87dd5b2e6278df2eb793f3a8417"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a09d0f87dd5b2e6278df2eb793f3a8417"></a>
tuple&#160;</td><td class="memItemRight" valign="bottom"><b>ARGUMENTS</b> = set()</td></tr>
<tr class="separator:a09d0f87dd5b2e6278df2eb793f3a8417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb4d77d1ebb6d57fed50b48edf2911a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb4d77d1ebb6d57fed50b48edf2911a5"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>NAME</b> = '_file'</td></tr>
<tr class="separator:abb4d77d1ebb6d57fed50b48edf2911a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">FileFormat can operate/iterate on files of a specific format.

Life cycle of FileFormat:
  1. Two ways that FileFormat is created: file_format_root.split creates
     FileFormat from scratch. FileFormatRoot.from_json creates FileFormat
     from serialized json str. Either way, it is associated with a
     FileFormatRoot. It should never be instantiated directly.
  2. Root acts as a coordinator among FileFormats. Root initializes
     its many fields so that FileFormat knows how to iterate over its inputs.
  3. Its next() method is used to iterate.
  4. It keeps iterating until either root calls its to_json() or root
     sends it a StopIteration.

How to define a new format:
  1. Subclass this.
  2. Override NAME and ARGUMENTS. file_format_parser._FileFormatParser
     uses them to validate a format string contains only legal
     names and arguments.
  3. Optionally override preprocess(). See method doc.
  4. Override get_next(). Used by next() to fetch the next content to
     return. See method.
  5. Optionally override split() if this format supports it. See method.
  6. Write unit tests. Tricky logics (to/from_json, advance
     current input file) are shared. Thus as long as you respected
     get_next()'s pre/post conditions, tests are very simple.
  7. Register your format at FORMATS.

Attributes:
  ARGUMENTS: a set of acceptable arguments to this format. Used for parsing
      this format.
  NAME: the name of this format. Used for parsing this format.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0e1c85e41c3e30de62f6773fcf45e224"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index_range</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize.

Args:
  index: the index of the subfile to read from the current file.
  index_range: a tuple [start_index, end_index) that if defined, should
bound index. When index is end_index, current file is consumed.
  kwargs: kwargs for a specific FileFormat. What arguments are accepted
and their semantics depend on each subclass's interpretation.

Raises:
  ValueError: if some argument is not expected by the format.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2df5e8bbca3cd54c4266a7d0090eb9bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.can_split </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Indicates whether this format support splitting within a file boundary.

Returns:
  True if a FileFormat allows its inputs to be splitted into
different shards.
</pre> 
</div>
</div>
<a class="anchor" id="a103c129025148cd12eeaff72805b735c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.checkpoint </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Save _index before updating it to support potential rollback.</pre> 
</div>
</div>
<a class="anchor" id="ac534df95bea153f96157695e941a2dcd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.default_instance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create an default instance of FileFormat.

Used by parser to create default instances.

Args:
  kwargs: kwargs parser parsed from user input.

Returns:
  A default instance of FileFormat.
</pre> 
</div>
</div>
<a class="anchor" id="a0bb1f698ec27912e511c7f9f485b0ad5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.from_json </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>json</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Deserialize from json compatible structure.</pre> 
</div>
</div>
<a class="anchor" id="a0306836bb9e7305603369d8d792d0fd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.get_cache </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get cache to store expensive objects.

Some formats need expensive initialization to even start iteration.
They can store the initialized objects into the cache and try to retrieve
the objects from the cache at later iterations.

For example, a zip format needs to create a ZipFile object to iterate over
the zipfile. It can avoid doing so on every "next" call by storing the
ZipFile into cache.

Cache does not guarantee persistence. It is cleared at pickles.
It is also intentionally cleared after the currently iterated file is
entirely consumed.

Returns:
  A dict to store temporary objects.
</pre> 
</div>
</div>
<a class="anchor" id="a559c3c3d5985c5f91ffb4a0cfd9289e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.get_current_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the current file to iterate upon.

Returns:
  A Python file object. This file is already seeked to the position from
  last iteration. If read raises EOF, that means the file is exhausted.
</pre> 
</div>
</div>
<a class="anchor" id="a791acd096d52bb00d736deb4efa0a415"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.get_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get index.

If the format is an archive format, get_index() tells the format which
subfile from current file should it process. This value is maintained
across pickles and resets to 0 when a new file starts.

Returns:
  index of the subfile to process from current file.
</pre> 
</div>
</div>
<a class="anchor" id="a7bec675953e70f29a8a2a74c4ae268db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.get_next </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Finds the next content to return.

Expected steps of any implementation:
  1. Call get_current_file() to get the file to iterate on.
  2. If nothing is read, raise EOFError. Otherwise, process the
 contents read in anyway. _kwargs is guaranteed to be a dict
 containing all arguments and values specified by user.
  3. If the format is an archive format, use get_index() to
 see which subfile to read. Call increment_index() if
 finished current subfile. These two methods will make sure
 the index is maintained during (de)serialization.
  4. Return the processed contents either as a file-like object or
 Python str. NO UNICODE.

Returns:
  The str or file like object if got anything to return.

Raises:
  EOFError if no content is found to return.
</pre> 
</div>
</div>
<a class="anchor" id="a1a6832b1dd4fa48f1b08f7f231f418c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.increment_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Increment index.

Increment index value after finished processing the current subfile from
current file.
</pre> 
</div>
</div>
<a class="anchor" id="aa9726cd6cbf7309b6cb3f459fbc4a198"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.next </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a file-like object containing next content.

Returns:
  A file-like object containing next content.

Raises:
  ValueError: if content is of none str type.
</pre> 
</div>
</div>
<a class="anchor" id="a21dd29c17f3a0143186636f94aff1b2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.preprocess </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Does preprocessing on the file-like object and returns another one.

Normally a FileFormat directly reads from the file returned by
get_current_file(). But some formats need to preprocess that file entirely
before iteration can starts (e.g. text formats need to decode first).

Args:
  file_object: read from this object and process its content.

Returns:
  a file-like object containing processed contents. This file object will
  be returned by get_current_file() instead. If the returned object
  is newly created, close the old one.
</pre> 
</div>
</div>
<a class="anchor" id="a71cc3b9cc16e93aa417f8896616c44ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.split </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>desired_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>input_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Splits a single chunk of desired_size from file.

FileFormatRoot uses this method to ask FileFormat how to split
one file of this format.

This method takes an opened file and a start_index. If file
size is bigger than desired_size, the method determines a chunk of the
file whose size is close to desired_size. The chuck is indicated by
[start_index, end_index). If the file is smaller than desired_size,
the chunk will include the rest of the input_file.

This method also indicates how many bytes are consumed by this chunk
by returning size_left to the caller.

Args:
  desired_size: desired number of bytes for this split. Positive int.
  start_index: the index to start this split. The index is not necessarily
an offset. In zipfile, for example, it's the index of the member file
in the archive. Non negative int.
  input_file: opened Files API file to split. Do not close this file.
  cache: a dict to cache any object over multiple calls if needed.

Returns:
  Returns a tuple of (size_left, end_index). If end_index equals
  start_index, the file is fully split.
</pre> 
</div>
</div>
<a class="anchor" id="ad3ac7b060d97e7c3cad1e7033e53d5c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.file_formats.FileFormat.to_json </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Serialize states to a json compatible structure.</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>code/googleappengine-read-only/python/google/appengine/ext/mapreduce/file_formats.py</li>
</ul>
</div><!-- contents -->
<address class="footer">
    <small>Maintained by <a href="http://www.tzmartin.com">tzmartin</a></small>
</address>