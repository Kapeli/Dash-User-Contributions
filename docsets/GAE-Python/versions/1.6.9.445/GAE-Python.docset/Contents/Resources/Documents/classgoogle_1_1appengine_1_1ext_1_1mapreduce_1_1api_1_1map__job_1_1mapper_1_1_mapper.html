<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>App Engine Python SDK: google.appengine.ext.mapreduce.api.map_job.mapper.Mapper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="common.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gae-python.logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">App Engine Python SDK
   &#160;<span id="projectnumber">v1.6.9 rev.445</span>
   </div>
   <div id="projectbrief">The Python runtime is available as an experimental Preview feature.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>google</b></li><li class="navelem"><b>appengine</b></li><li class="navelem"><b>ext</b></li><li class="navelem"><b>mapreduce</b></li><li class="navelem"><b>api</b></li><li class="navelem"><b>map_job</b></li><li class="navelem"><b>mapper</b></li><li class="navelem"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1mapper_1_1_mapper.html">Mapper</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1mapper_1_1_mapper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">google.appengine.ext.mapreduce.api.map_job.mapper.Mapper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for google.appengine.ext.mapreduce.api.map_job.mapper.Mapper:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1mapper_1_1_mapper.png" usemap="#google.appengine.ext.mapreduce.api.map_job.mapper.Mapper_map" alt=""/>
  <map id="google.appengine.ext.mapreduce.api.map_job.mapper.Mapper_map" name="google.appengine.ext.mapreduce.api.map_job.mapper.Mapper_map">
<area href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle.html" alt="google.appengine.ext.mapreduce.api.map_job.shard_life_cycle._ShardLifeCycle" shape="rect" coords="0,56,469,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae81f3773440c862491e0e05250ea8271"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1mapper_1_1_mapper.html#ae81f3773440c862491e0e05250ea8271">__init__</a></td></tr>
<tr class="separator:ae81f3773440c862491e0e05250ea8271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6052f22b8cfd45f3f22222c0e22081a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1mapper_1_1_mapper.html#af6052f22b8cfd45f3f22222c0e22081a">__call__</a></td></tr>
<tr class="separator:af6052f22b8cfd45f3f22222c0e22081a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle.html">google.appengine.ext.mapreduce.api.map_job.shard_life_cycle._ShardLifeCycle</a></td></tr>
<tr class="memitem:a49539106e6a0f53b89b5f0acdd3b9caa inherit pub_methods_classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle.html#a49539106e6a0f53b89b5f0acdd3b9caa">begin_shard</a></td></tr>
<tr class="separator:a49539106e6a0f53b89b5f0acdd3b9caa inherit pub_methods_classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f40e4e6088a95ee06d15a4b65b6fd2e inherit pub_methods_classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle.html#a1f40e4e6088a95ee06d15a4b65b6fd2e">end_shard</a></td></tr>
<tr class="separator:a1f40e4e6088a95ee06d15a4b65b6fd2e inherit pub_methods_classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ba39578b14ff404b83a04570afa6c19 inherit pub_methods_classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle.html#a0ba39578b14ff404b83a04570afa6c19">begin_slice</a></td></tr>
<tr class="separator:a0ba39578b14ff404b83a04570afa6c19 inherit pub_methods_classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87cd70b10acf56261ac2bc5ad1923ef1 inherit pub_methods_classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle.html#a87cd70b10acf56261ac2bc5ad1923ef1">end_slice</a></td></tr>
<tr class="separator:a87cd70b10acf56261ac2bc5ad1923ef1 inherit pub_methods_classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1api_1_1map__job_1_1shard__life__cycle_1_1___shard_life_cycle"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Interface user's mapper should implement.

Each shard initiates one instance. The instance is pickled
and unpickled if a shard can't finish within the boundary of a single
task (a.k.a a slice of the shard).

Upon shard retry, a new instance will be used.

Upon slice retry, the instance is unpickled from its state
at the end of last slice.

Be wary of the size of your mapper instances. They have to be persisted
across slices.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae81f3773440c862491e0e05250ea8271"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.api.map_job.mapper.Mapper.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Init.

Init must not take additional arguments.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af6052f22b8cfd45f3f22222c0e22081a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.api.map_job.mapper.Mapper.__call__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>slice_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Called for every value yielded by input reader.

Normal case:
This method is invoked exactly once on each input value. If an
output writer is provided, this method can repeated call ctx.emit to
write to output writer.

On retries:
Upon slice retry, some input value may have been processed by
the previous attempt. This should not be a problem if your logic
is idempotent (e.g write to datastore by key) but could be a
problem otherwise (e.g write to cloud storage) and may result
in duplicates.

Advanced usage:
Implementation can mimic combiner by tallying in-memory and
and emit when memory is filling up or when end_slice() is called.
CAUTION! Carefully tune to not to exceed memory limit or request deadline.

Args:
  slice_ctx: map_job.SliceContext object.
  val: a single value yielded by your input reader. The type
depends on the input reader. For example, some may yield a single
datastore entity, others may yield a (int, str) tuple.
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>code/googleappengine-read-only/python/google/appengine/ext/mapreduce/api/map_job/mapper.py</li>
</ul>
</div><!-- contents -->
<address class="footer">
    <small>Maintained by <a href="http://www.tzmartin.com">tzmartin</a></small>
</address>