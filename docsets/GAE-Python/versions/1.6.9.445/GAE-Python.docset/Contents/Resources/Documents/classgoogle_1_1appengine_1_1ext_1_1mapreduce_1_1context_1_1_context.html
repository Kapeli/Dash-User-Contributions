<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>App Engine Python SDK: google.appengine.ext.mapreduce.context.Context Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="common.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gae-python.logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">App Engine Python SDK
   &#160;<span id="projectnumber">v1.6.9 rev.445</span>
   </div>
   <div id="projectbrief">The Python runtime is available as an experimental Preview feature.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>google</b></li><li class="navelem"><b>appengine</b></li><li class="navelem"><b>ext</b></li><li class="navelem"><b>mapreduce</b></li><li class="navelem"><b>context</b></li><li class="navelem"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1context_1_1_context.html">Context</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1context_1_1_context-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">google.appengine.ext.mapreduce.context.Context Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for google.appengine.ext.mapreduce.context.Context:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1context_1_1_context.png" usemap="#google.appengine.ext.mapreduce.context.Context_map" alt=""/>
  <map id="google.appengine.ext.mapreduce.context.Context_map" name="google.appengine.ext.mapreduce.context.Context_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac20b3a5b5dd8684e6190b361613c0940"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1context_1_1_context.html#ac20b3a5b5dd8684e6190b361613c0940">__init__</a></td></tr>
<tr class="separator:ac20b3a5b5dd8684e6190b361613c0940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13f877b8713ab21f204a95fc7a4a8977"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1context_1_1_context.html#a13f877b8713ab21f204a95fc7a4a8977">flush</a></td></tr>
<tr class="separator:a13f877b8713ab21f204a95fc7a4a8977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af899fe9509f94f1d56fdc7ef431243b0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1context_1_1_context.html#af899fe9509f94f1d56fdc7ef431243b0">register_pool</a></td></tr>
<tr class="separator:af899fe9509f94f1d56fdc7ef431243b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb7deff974d9e7893d9a8e3e313f157"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1context_1_1_context.html#a5fb7deff974d9e7893d9a8e3e313f157">get_pool</a></td></tr>
<tr class="separator:a5fb7deff974d9e7893d9a8e3e313f157"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a7d77279efa5578b3bb8d970886c36a1a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d77279efa5578b3bb8d970886c36a1a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mapreduce_spec</b></td></tr>
<tr class="separator:a7d77279efa5578b3bb8d970886c36a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13819a52e471e9359325071c5d463681"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13819a52e471e9359325071c5d463681"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>task_retry_count</b></td></tr>
<tr class="separator:a13819a52e471e9359325071c5d463681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8f5cc141dd45ee6ee85c90693e881b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3a8f5cc141dd45ee6ee85c90693e881b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mapreduce_id</b></td></tr>
<tr class="separator:a3a8f5cc141dd45ee6ee85c90693e881b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1d67d51d761fbe83f5d5ad347ff3218"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad1d67d51d761fbe83f5d5ad347ff3218"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>shard_id</b></td></tr>
<tr class="separator:ad1d67d51d761fbe83f5d5ad347ff3218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1168bb6c0f17529d10bb66b196afbf6f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1168bb6c0f17529d10bb66b196afbf6f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>counters</b></td></tr>
<tr class="separator:a1168bb6c0f17529d10bb66b196afbf6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">MapReduce execution context.

The main purpose of Context is to facilitate IO. User code, input reader,
and output writer code can plug in pools (see Pool class) to Context to
batch operations.

There is a single Context instance associated with each worker thread.
It can be accessed via context.get(). handlers.MapperWorkerHandler creates
this instance before any IO code (input_reader, output_writer, user functions)
is called.

Each Pool decides how to batch and when to flush.
Context and all its pools are flushed by the end of a slice.
Upon error in slice execution, what is flushed is undefined. (See _Counters
for an exception).

Properties:
  mapreduce_spec: current mapreduce specification as model.MapreduceSpec.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac20b3a5b5dd8684e6190b361613c0940"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.context.Context.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mapreduce_spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shard_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>task_retry_count</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Constructor.

Args:
  mapreduce_spec: mapreduce specification as model.MapreduceSpec.
  shard_state: an instance of model.ShardState. This has to be the same
instance as the one MapperWorkerHandler mutates. All mutations are
flushed to datastore in the end of the slice.
  task_retry_count: how many times this task has been retried.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a13f877b8713ab21f204a95fc7a4a8977"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.context.Context.flush </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Flush all information recorded in context.</pre> 
</div>
</div>
<a class="anchor" id="a5fb7deff974d9e7893d9a8e3e313f157"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.context.Context.get_pool </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Obtains an instance of registered pool.

Args:
  key: pool key as string.

Returns:
  an instance of the pool registered earlier, or None.
</pre> 
</div>
</div>
<a class="anchor" id="af899fe9509f94f1d56fdc7ef431243b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.context.Context.register_pool </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Register an arbitrary pool to be flushed together with this context.

Args:
  key: pool key as string.
  pool: a pool instance.
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>code/googleappengine-read-only/python/google/appengine/ext/mapreduce/context.py</li>
</ul>
</div><!-- contents -->
<address class="footer">
    <small>Maintained by <a href="http://www.tzmartin.com">tzmartin</a></small>
</address>