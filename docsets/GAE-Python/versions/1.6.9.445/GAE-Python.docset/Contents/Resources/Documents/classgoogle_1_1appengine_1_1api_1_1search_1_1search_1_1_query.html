<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>App Engine Python SDK: google.appengine.api.search.search.Query Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="common.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gae-python.logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">App Engine Python SDK
   &#160;<span id="projectnumber">v1.6.9 rev.445</span>
   </div>
   <div id="projectbrief">The Python runtime is available as an experimental Preview feature.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>google</b></li><li class="navelem"><b>appengine</b></li><li class="navelem"><b>api</b></li><li class="navelem"><b>search</b></li><li class="navelem"><b>search</b></li><li class="navelem"><a class="el" href="classgoogle_1_1appengine_1_1api_1_1search_1_1search_1_1_query.html">Query</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgoogle_1_1appengine_1_1api_1_1search_1_1search_1_1_query-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">google.appengine.api.search.search.Query Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for google.appengine.api.search.search.Query:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgoogle_1_1appengine_1_1api_1_1search_1_1search_1_1_query.png" usemap="#google.appengine.api.search.search.Query_map" alt=""/>
  <map id="google.appengine.api.search.search.Query_map" name="google.appengine.api.search.search.Query_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:affbe8c69f6667ff52fca764d3a8f1e41"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1api_1_1search_1_1search_1_1_query.html#affbe8c69f6667ff52fca764d3a8f1e41">__init__</a></td></tr>
<tr class="separator:affbe8c69f6667ff52fca764d3a8f1e41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d3b101cfc0471aa0862822bd63c41a1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1api_1_1search_1_1search_1_1_query.html#a0d3b101cfc0471aa0862822bd63c41a1">query_string</a></td></tr>
<tr class="separator:a0d3b101cfc0471aa0862822bd63c41a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb1d3e824ee9fc39846273c05f65903f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1api_1_1search_1_1search_1_1_query.html#adb1d3e824ee9fc39846273c05f65903f">options</a></td></tr>
<tr class="separator:adb1d3e824ee9fc39846273c05f65903f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Represents a request on the search service to query the index.</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="affbe8c69f6667ff52fca764d3a8f1e41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.api.search.search.Query.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>query_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>options</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initializer.

For example, the following code fragment requests a search for
documents where 'first' occurs in subject and 'good' occurs anywhere,
returning at most 20 documents, starting the search from 'cursor token',
returning another single document cursor for the results, sorting by
subject in descending order, returning the author, subject, and summary
fields as well as a snippeted field content.

  results = index.search(Query(
  query_string='subject:first good',
  options=QueryOptions(
      limit=20,
      cursor=Cursor(),
      sort_options=SortOptions(
          expressions=[
              SortExpression(expression='subject')],
          limit=1000),
      returned_fields=['author', 'subject', 'summary'],
      snippeted_fields=['content'])))

In order to get a Cursor, you specify a Cursor in QueryOptions.cursor
and extract the Cursor for the next request from results.cursor to
continue from the last found document, as shown below:

  results = index.search(
  Query(query_string='subject:first good',
        options=QueryOptions(cursor=results.cursor)))

Args:
  query_string: The query to match against documents in the index. A query
is a boolean expression containing terms.  For example, the query
  'job tag:"very important" sent &lt;= 2011-02-28'
finds documents with the term job in any field, that contain the
phrase "very important" in a tag field, and a sent date up to and
including 28th February, 2011.  You can use combinations of
  '(cat OR feline) food NOT dog'
to find documents which contain the term cat or feline as well as food,
but do not mention the term dog. A further example,
  'category:televisions brand:sony price &gt;= 300 price &lt; 400'
will return documents which have televisions in a category field, a
sony brand and a price field which is 300 (inclusive) to 400
(exclusive).  See
https://developers.google.com/appengine/docs/python/search/overview#Expressions
for a list of expressions that can be used in queries.
  options: A QueryOptions describing post-processing of search results.
Raises:
  QueryError: If the query string is not parseable.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="adb1d3e824ee9fc39846273c05f65903f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.api.search.search.Query.options </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns QueryOptions defining post-processing on the search results.</pre> 
</div>
</div>
<a class="anchor" id="a0d3b101cfc0471aa0862822bd63c41a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.api.search.search.Query.query_string </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the query string to be applied to search service.</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>code/googleappengine-read-only/python/google/appengine/api/search/search.py</li>
</ul>
</div><!-- contents -->
<address class="footer">
    <small>Maintained by <a href="http://www.tzmartin.com">tzmartin</a></small>
</address>