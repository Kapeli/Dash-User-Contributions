<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>App Engine Python SDK: google.appengine.ext.mapreduce.lib.input_reader._gcs.GCSInputReader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="common.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gae-python.logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">App Engine Python SDK
   &#160;<span id="projectnumber">v1.6.9 rev.445</span>
   </div>
   <div id="projectbrief">The Python runtime is available as an experimental Preview feature.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>google</b></li><li class="navelem"><b>appengine</b></li><li class="navelem"><b>ext</b></li><li class="navelem"><b>mapreduce</b></li><li class="navelem"><b>lib</b></li><li class="navelem"><b>input_reader</b></li><li class="navelem"><b>_gcs</b></li><li class="navelem"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1lib_1_1input__reader_1_1__gcs_1_1_g_c_s_input_reader.html">GCSInputReader</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1lib_1_1input__reader_1_1__gcs_1_1_g_c_s_input_reader-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">google.appengine.ext.mapreduce.lib.input_reader._gcs.GCSInputReader Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for google.appengine.ext.mapreduce.lib.input_reader._gcs.GCSInputReader:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1lib_1_1input__reader_1_1__gcs_1_1_g_c_s_input_reader.png" usemap="#google.appengine.ext.mapreduce.lib.input_reader._gcs.GCSInputReader_map" alt=""/>
  <map id="google.appengine.ext.mapreduce.lib.input_reader._gcs.GCSInputReader_map" name="google.appengine.ext.mapreduce.lib.input_reader._gcs.GCSInputReader_map">
<area href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1lib_1_1input__reader_1_1__gcs_1_1_g_c_s_record_input_reader.html" alt="google.appengine.ext.mapreduce.lib.input_reader._gcs.GCSRecordInputReader" shape="rect" coords="0,112,463,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6eb708baa7c652f1f1d41c9eaf6af1a0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1lib_1_1input__reader_1_1__gcs_1_1_g_c_s_input_reader.html#a6eb708baa7c652f1f1d41c9eaf6af1a0">__init__</a></td></tr>
<tr class="separator:a6eb708baa7c652f1f1d41c9eaf6af1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f3006cbe868e8b2166c6474c9ccb684"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1lib_1_1input__reader_1_1__gcs_1_1_g_c_s_input_reader.html#a6f3006cbe868e8b2166c6474c9ccb684">validate</a></td></tr>
<tr class="separator:a6f3006cbe868e8b2166c6474c9ccb684"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d0c8e322b596b4b02be6d493aed568a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1lib_1_1input__reader_1_1__gcs_1_1_g_c_s_input_reader.html#a8d0c8e322b596b4b02be6d493aed568a">split_input</a></td></tr>
<tr class="separator:a8d0c8e322b596b4b02be6d493aed568a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873583714e5a605582822be0e0410860"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a873583714e5a605582822be0e0410860"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>from_json</b></td></tr>
<tr class="separator:a873583714e5a605582822be0e0410860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28efd5ad0c826a65168128ce3b365659"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28efd5ad0c826a65168128ce3b365659"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>to_json</b></td></tr>
<tr class="separator:a28efd5ad0c826a65168128ce3b365659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b273d74e1a8f25c705cd483562b340"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1lib_1_1input__reader_1_1__gcs_1_1_g_c_s_input_reader.html#a15b273d74e1a8f25c705cd483562b340">next</a></td></tr>
<tr class="separator:a15b273d74e1a8f25c705cd483562b340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a5fa400bd6132fe224f8f832221eda"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88a5fa400bd6132fe224f8f832221eda"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__str__</b></td></tr>
<tr class="separator:a88a5fa400bd6132fe224f8f832221eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b3dc4fa439a3aa151350ff4502756b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1ext_1_1mapreduce_1_1lib_1_1input__reader_1_1__gcs_1_1_g_c_s_input_reader.html#ac6b3dc4fa439a3aa151350ff4502756b">params_to_json</a></td></tr>
<tr class="separator:ac6b3dc4fa439a3aa151350ff4502756b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e6dbe7ca40874b6adfaaf573a87af6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab6e6dbe7ca40874b6adfaaf573a87af6"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>params_from_json</b></td></tr>
<tr class="separator:ab6e6dbe7ca40874b6adfaaf573a87af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a858795e1fa816d5c2988d44cb8eab6b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a858795e1fa816d5c2988d44cb8eab6b5"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>COUNTER_FILE_READ</b> = &quot;file-read&quot;</td></tr>
<tr class="separator:a858795e1fa816d5c2988d44cb8eab6b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bda6160f7e2385121a76b9e21445914"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5bda6160f7e2385121a76b9e21445914"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>COUNTER_FILE_MISSING</b> = &quot;file-missing&quot;</td></tr>
<tr class="separator:a5bda6160f7e2385121a76b9e21445914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1ea54da388fa3ed3f7a784ba261ea9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d1ea54da388fa3ed3f7a784ba261ea9"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>BUCKET_NAME_PARAM</b> = &quot;bucket_name&quot;</td></tr>
<tr class="separator:a4d1ea54da388fa3ed3f7a784ba261ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f43c0faa2003cf424a17c6744bf3d76"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f43c0faa2003cf424a17c6744bf3d76"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>OBJECT_NAMES_PARAM</b> = &quot;objects&quot;</td></tr>
<tr class="separator:a9f43c0faa2003cf424a17c6744bf3d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e78d9129d722da5c65db975910da4b4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e78d9129d722da5c65db975910da4b4"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>BUFFER_SIZE_PARAM</b> = &quot;buffer_size&quot;</td></tr>
<tr class="separator:a7e78d9129d722da5c65db975910da4b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf44f90872428c87a0b808aa7f2aae6f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf44f90872428c87a0b808aa7f2aae6f"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>DELIMITER_PARAM</b> = &quot;delimiter&quot;</td></tr>
<tr class="separator:acf44f90872428c87a0b808aa7f2aae6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36d46f5ff43406f05ae66fbcea978869"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36d46f5ff43406f05ae66fbcea978869"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>PATH_FILTER_PARAM</b> = &quot;path_filter&quot;</td></tr>
<tr class="separator:a36d46f5ff43406f05ae66fbcea978869"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Input reader from Google Cloud Storage using the cloudstorage library.

Required configuration in the mapper_spec.input_reader dictionary.
  BUCKET_NAME_PARAM: name of the bucket to use. No "/" prefix or suffix.
  OBJECT_NAMES_PARAM: a list of object names or prefixes. All objects must be
    in the BUCKET_NAME_PARAM bucket. If the name ends with a * it will be
    treated as prefix and all objects with matching names will be read.
    Entries should not start with a slash unless that is part of the object's
    name. An example list could be:
    ["my-1st-input-file", "directory/my-2nd-file", "some/other/dir/input-*"]
    To retrieve all files "*" will match every object in the bucket. If a file
    is listed twice or is covered by multiple prefixes it will be read twice,
    there is no de-duplication.

Optional configuration in the mapper_sec.input_reader dictionary.
  BUFFER_SIZE_PARAM: the size of the read buffer for each file handle.
  PATH_FILTER_PARAM: an instance of PathFilter. PathFilter is a predicate
    on which filenames to read.
  DELIMITER_PARAM: str. The delimiter that signifies directory.
    If you have too many files to shard on the granularity of individual
    files, you can specify this to enable shallow splitting. In this mode,
    the reader only goes one level deep during "*" expansion and stops when
    the delimiter is encountered.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6eb708baa7c652f1f1d41c9eaf6af1a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.lib.input_reader._gcs.GCSInputReader.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filenames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>buffer_size</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_account_id</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>delimiter</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path_filter</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize a GoogleCloudStorageInputReader instance.

Args:
  filenames: A list of Google Cloud Storage filenames of the form
'/bucket/objectname'.
  index: Index of the next filename to read.
  buffer_size: The size of the read buffer, None to use default.
  _account_id: Internal use only. See cloudstorage documentation.
  delimiter: Delimiter used as path separator. See class doc.
  path_filter: An instance of PathFilter.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a15b273d74e1a8f25c705cd483562b340"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.lib.input_reader._gcs.GCSInputReader.next </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a handler to the next file.

Non existent files will be logged and skipped. The file might have been
removed after input splitting.

Returns:
  The next input from this input reader in the form of a cloudstorage
  ReadBuffer that supports a File-like interface (read, readline, seek,
  tell, and close). An error may be raised if the file can not be opened.

Raises:
  StopIteration: The list of files has been exhausted.
</pre> 
</div>
</div>
<a class="anchor" id="ac6b3dc4fa439a3aa151350ff4502756b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.lib.input_reader._gcs.GCSInputReader.params_to_json </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Inherit docs.</pre> 
</div>
</div>
<a class="anchor" id="a8d0c8e322b596b4b02be6d493aed568a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.lib.input_reader._gcs.GCSInputReader.split_input </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>job_config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a list of input readers.

An equal number of input files are assigned to each shard (+/- 1). If there
are fewer files than shards, fewer than the requested number of shards will
be used. Input files are currently never split (although for some formats
could be and may be split in a future implementation).

Args:
  job_config: map_job.JobConfig

Returns:
  A list of InputReaders. None when no input data can be found.
</pre> 
</div>
</div>
<a class="anchor" id="a6f3006cbe868e8b2166c6474c9ccb684"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.ext.mapreduce.lib.input_reader._gcs.GCSInputReader.validate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>job_config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Validate mapper specification.

Args:
  job_config: map_job.JobConfig.

Raises:
  BadReaderParamsError: if the specification is invalid for any reason such
as missing the bucket name or providing an invalid bucket name.
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>code/googleappengine-read-only/python/google/appengine/ext/mapreduce/lib/input_reader/_gcs.py</li>
</ul>
</div><!-- contents -->
<address class="footer">
    <small>Maintained by <a href="http://www.tzmartin.com">tzmartin</a></small>
</address>