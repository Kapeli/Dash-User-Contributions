<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>App Engine Python SDK: google.appengine.tools.appcfg.VacuumIndexesOperation Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="common.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gae-python.logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">App Engine Python SDK
   &#160;<span id="projectnumber">v1.6.9 rev.445</span>
   </div>
   <div id="projectbrief">The Python runtime is available as an experimental Preview feature.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>google</b></li><li class="navelem"><b>appengine</b></li><li class="navelem"><b>tools</b></li><li class="navelem"><b>appcfg</b></li><li class="navelem"><a class="el" href="classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_vacuum_indexes_operation.html">VacuumIndexesOperation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_vacuum_indexes_operation-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">google.appengine.tools.appcfg.VacuumIndexesOperation Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for google.appengine.tools.appcfg.VacuumIndexesOperation:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_vacuum_indexes_operation.png" usemap="#google.appengine.tools.appcfg.VacuumIndexesOperation_map" alt=""/>
  <map id="google.appengine.tools.appcfg.VacuumIndexesOperation_map" name="google.appengine.tools.appcfg.VacuumIndexesOperation_map">
<area href="classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation.html" alt="google.appengine.tools.appcfg.IndexOperation" shape="rect" coords="0,56,335,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7d7adfc1f82e9c448b506e30eed5c0c1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_vacuum_indexes_operation.html#a7d7adfc1f82e9c448b506e30eed5c0c1">__init__</a></td></tr>
<tr class="separator:a7d7adfc1f82e9c448b506e30eed5c0c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a604659f1be8d9f597cbc22c99f6a18c1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_vacuum_indexes_operation.html#a604659f1be8d9f597cbc22c99f6a18c1">GetConfirmation</a></td></tr>
<tr class="separator:a604659f1be8d9f597cbc22c99f6a18c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb890f95c1426d1c7adc7fc37c2c57f9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_vacuum_indexes_operation.html#acb890f95c1426d1c7adc7fc37c2c57f9">DoVacuum</a></td></tr>
<tr class="separator:acb890f95c1426d1c7adc7fc37c2c57f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation.html">google.appengine.tools.appcfg.IndexOperation</a></td></tr>
<tr class="memitem:a41e73110aa05306371f6f9da376a6947 inherit pub_methods_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation.html#a41e73110aa05306371f6f9da376a6947">__init__</a></td></tr>
<tr class="separator:a41e73110aa05306371f6f9da376a6947 inherit pub_methods_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec2c3dac1ee0625e6899a92be1f5dfe inherit pub_methods_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation.html#a0ec2c3dac1ee0625e6899a92be1f5dfe">DoDiff</a></td></tr>
<tr class="separator:a0ec2c3dac1ee0625e6899a92be1f5dfe inherit pub_methods_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de63a9123efeb5e58d15592d2260ccd inherit pub_methods_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation.html#a3de63a9123efeb5e58d15592d2260ccd">DoDelete</a></td></tr>
<tr class="separator:a3de63a9123efeb5e58d15592d2260ccd inherit pub_methods_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a1438bcc5bf02707dff382ac38806f0fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1438bcc5bf02707dff382ac38806f0fe"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>force</b></td></tr>
<tr class="separator:a1438bcc5bf02707dff382ac38806f0fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a746a8f71f3083749ac4415953cd93e59"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a746a8f71f3083749ac4415953cd93e59"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>confirmation_fn</b></td></tr>
<tr class="separator:a746a8f71f3083749ac4415953cd93e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation.html">google.appengine.tools.appcfg.IndexOperation</a></td></tr>
<tr class="memitem:a1d273b1c06ce964f7cbb9da12e83dbec inherit pub_attribs_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d273b1c06ce964f7cbb9da12e83dbec"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>rpcserver</b></td></tr>
<tr class="separator:a1d273b1c06ce964f7cbb9da12e83dbec inherit pub_attribs_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6809b96435d70f9b1a2b1fe19c34c9c inherit pub_attribs_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab6809b96435d70f9b1a2b1fe19c34c9c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>error_fh</b></td></tr>
<tr class="separator:ab6809b96435d70f9b1a2b1fe19c34c9c inherit pub_attribs_classgoogle_1_1appengine_1_1tools_1_1appcfg_1_1_index_operation"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Provide facilities to request the deletion of datastore indexes.</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7d7adfc1f82e9c448b506e30eed5c0c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.tools.appcfg.VacuumIndexesOperation.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rpcserver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>force</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>confirmation_fn</em> = <code>raw_input</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>error_fh</em> = <code>sys.stderr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates a new VacuumIndexesOperation.

Args:
  rpcserver: The RPC server to use.  Should be an instance of HttpRpcServer
or TestRpcServer.
  force: True to force deletion of indexes, else False.
  confirmation_fn: Function used for getting input form user.
  error_fh: Where to send status and error messages.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="acb890f95c1426d1c7adc7fc37c2c57f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.tools.appcfg.VacuumIndexesOperation.DoVacuum </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>definitions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Vacuum indexes in datastore.

This method will query the server to determine which indexes are not
being used according to the user's local index.yaml file.  Once it has
made this determination, it confirms with the user which unused indexes
should be deleted.  Once confirmation for each index is receives, it
deletes those indexes.

Because another user may in theory delete the same indexes at the same
time as the user, there is a potential race condition.  In this rare cases,
some of the indexes previously confirmed for deletion will not be found.
The user is notified which indexes these were.

Args:
  definitions: datastore_index.IndexDefinitions as loaded from users
index.yaml file.
</pre> 
</div>
</div>
<a class="anchor" id="a604659f1be8d9f597cbc22c99f6a18c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def google.appengine.tools.appcfg.VacuumIndexesOperation.GetConfirmation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get confirmation from user to delete an index.

This method will enter an input loop until the user provides a
response it is expecting.  Valid input is one of three responses:

  y: Confirm deletion of index.
  n: Do not delete index.
  a: Delete all indexes without asking for further confirmation.

If the user enters nothing at all, the default action is to skip
that index and do not delete.

If the user selects 'a', as a side effect, the 'force' flag is set.

Args:
  index: Index to confirm.

Returns:
  True if user enters 'y' or 'a'.  False if user enter 'n'.
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>code/googleappengine-read-only/python/google/appengine/tools/appcfg.py</li>
</ul>
</div><!-- contents -->
<address class="footer">
    <small>Maintained by <a href="http://www.tzmartin.com">tzmartin</a></small>
</address>