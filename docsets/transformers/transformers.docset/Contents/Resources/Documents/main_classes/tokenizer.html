
<!DOCTYPE html>

<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Tokenizer — transformers 2.6.0 documentation</title>
<link href="../_static/favicon.ico" rel="shortcut icon"/>
<script src="../_static/js/modernizr.min.js" type="text/javascript"></script>
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js" type="text/javascript"></script>
<script src="../_static/jquery.js"></script>
<script src="../_static/underscore.js"></script>
<script src="../_static/doctools.js"></script>
<script src="../_static/language_data.js"></script>
<script src="../_static/js/custom.js"></script>
<script src="../_static/js/theme.js" type="text/javascript"></script>
<link href="../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/huggingface.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/code-snippets.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/hidesidebar.css" rel="stylesheet" type="text/css"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="pipelines.html" rel="next" title="Pipelines"/>
<link href="model.html" rel="prev" title="Models"/>
</head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../index.html"> transformers
          

          
          </a>
<div role="search">
<form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
<input name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div>
<div aria-label="main navigation" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<p class="caption"><span class="caption-text">Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pretrained_models.html">Pretrained models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_sharing.html">Model upload and sharing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks.html">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../serialization.html">Loading Google AI or OpenAI pre-trained weights or PyTorch dump</a></li>
<li class="toctree-l1"><a class="reference internal" href="../serialization.html#serialization-best-practices">Serialization best-practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../converting_tensorflow_models.html">Converting Tensorflow Checkpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">Migrating from pytorch-pretrained-bert</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bertology.html">BERTology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../torchscript.html">TorchScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../multilingual.html">Multi-lingual models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks.html">Benchmarks</a></li>
</ul>
<p class="caption"><span class="caption-text">Main classes</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Models</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tokenizer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pretrainedtokenizer"><code class="docutils literal notranslate"><span class="pre">PreTrainedTokenizer</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pipelines.html">Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimizer_schedules.html">Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimizer_schedules.html#schedules">Schedules</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimizer_schedules.html#gradient-strategies">Gradient Strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="processors.html">Processors</a></li>
</ul>
<p class="caption"><span class="caption-text">Package Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/auto.html">AutoModels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/bert.html">BERT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/gpt.html">OpenAI GPT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/transformerxl.html">Transformer XL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/gpt2.html">OpenAI GPT2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/xlm.html">XLM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/xlnet.html">XLNet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/roberta.html">RoBERTa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/distilbert.html">DistilBERT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/ctrl.html">CTRL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/camembert.html">CamemBERT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/albert.html">ALBERT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/xlmroberta.html">XLM-RoBERTa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/flaubert.html">FlauBERT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/bart.html">Bart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_doc/t5.html">T5</a></li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="top navigation" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../index.html">transformers</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a href="../index.html">Docs</a> »</li>
<li>Tokenizer</li>
<li class="wy-breadcrumbs-aside">
<a href="../_sources/main_classes/tokenizer.rst.txt" rel="nofollow"> View page source</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="section" id="tokenizer">
<h1>Tokenizer<a class="headerlink" href="#tokenizer" title="Permalink to this headline">¶</a></h1>
<p>The base class <code class="docutils literal notranslate"><span class="pre">PreTrainedTokenizer</span></code> implements the common methods for loading/saving a tokenizer either from a local file or directory, or from a pretrained tokenizer provided by the library (downloaded from HuggingFace’s AWS S3 repository).</p>
<p><code class="docutils literal notranslate"><span class="pre">PreTrainedTokenizer</span></code> is the main entry point into tokenizers as it also implements the main methods for using all the tokenizers:</p>
<ul class="simple">
<li><p>tokenizing, converting tokens to ids and back and encoding/decoding,</p></li>
<li><p>adding new tokens to the vocabulary in a way that is independant of the underlying structure (BPE, SentencePiece…),</p></li>
<li><p>managing special tokens (adding them, assigning them to roles, making sure they are not split during tokenization)</p></li>
</ul>
<div class="section" id="pretrainedtokenizer">
<h2><code class="docutils literal notranslate"><span class="pre">PreTrainedTokenizer</span></code><a class="headerlink" href="#pretrainedtokenizer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="transformers.PreTrainedTokenizer"><a name="//apple_ref/cpp/Class/transformers.PreTrainedTokenizer"></a>
<em class="property">class </em><code class="sig-prename descclassname">transformers.</code><code class="sig-name descname">PreTrainedTokenizer</code><span class="sig-paren">(</span><em class="sig-param">max_len=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all tokenizers.
Handle all the shared methods for tokenization and special tokens as well as methods downloading/caching/loading pretrained tokenizers as well as adding tokens to the vocabulary.</p>
<p>This class also contain the added tokens in a unified way on top of all tokenizers so we don’t have to handle the specific vocabulary augmentation methods of the various underlying dictionary structures (BPE, sentencepiece…).</p>
<p>Class attributes (overridden by derived classes):</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">vocab_files_names</span></code>: a python <code class="docutils literal notranslate"><span class="pre">dict</span></code> with, as keys, the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> keyword name of each vocabulary file required by the model, and as associated values, the filename for saving the associated file (string).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pretrained_vocab_files_map</span></code>: a python <code class="docutils literal notranslate"><span class="pre">dict</span> <span class="pre">of</span> <span class="pre">dict</span></code> the high-level keys being the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> keyword name of each vocabulary file required by the model, the low-level being the <cite>short-cut-names</cite> (string) of the pretrained models with, as associated values, the <cite>url</cite> (string) to the associated pretrained vocabulary file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_model_input_sizes</span></code>: a python <code class="docutils literal notranslate"><span class="pre">dict</span></code> with, as keys, the <cite>short-cut-names</cite> (string) of the pretrained models, and as associated values, the maximum length of the sequence inputs of this model, or None if the model has no maximum input size.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pretrained_init_configuration</span></code>: a python <code class="docutils literal notranslate"><span class="pre">dict</span></code> with, as keys, the <cite>short-cut-names</cite> (string) of the pretrained models, and as associated values, a dictionnary of specific arguments to pass to the <code class="docutils literal notranslate"><span class="pre">__init__``method</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">tokenizer</span> <span class="pre">class</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">pretrained</span> <span class="pre">model</span> <span class="pre">when</span> <span class="pre">loading</span> <span class="pre">the</span> <span class="pre">tokenizer</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">``from_pretrained()</span></code> method.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bos_token</strong> (<em>-</em>) – (<cite>Optional</cite>) string: a beginning of sentence token. Will be associated to <code class="docutils literal notranslate"><span class="pre">self.bos_token</span></code> and <code class="docutils literal notranslate"><span class="pre">self.bos_token_id</span></code></p></li>
<li><p><strong>eos_token</strong> (<em>-</em>) – (<cite>Optional</cite>) string: an end of sentence token. Will be associated to <code class="docutils literal notranslate"><span class="pre">self.eos_token</span></code> and <code class="docutils literal notranslate"><span class="pre">self.eos_token_id</span></code></p></li>
<li><p><strong>unk_token</strong> (<em>-</em>) – (<cite>Optional</cite>) string: an unknown token. Will be associated to <code class="docutils literal notranslate"><span class="pre">self.unk_token</span></code> and <code class="docutils literal notranslate"><span class="pre">self.unk_token_id</span></code></p></li>
<li><p><strong>sep_token</strong> (<em>-</em>) – (<cite>Optional</cite>) string: a separation token (e.g. to separate context and query in an input sequence). Will be associated to <code class="docutils literal notranslate"><span class="pre">self.sep_token</span></code> and <code class="docutils literal notranslate"><span class="pre">self.sep_token_id</span></code></p></li>
<li><p><strong>pad_token</strong> (<em>-</em>) – (<cite>Optional</cite>) string: a padding token. Will be associated to <code class="docutils literal notranslate"><span class="pre">self.pad_token</span></code> and <code class="docutils literal notranslate"><span class="pre">self.pad_token_id</span></code></p></li>
<li><p><strong>cls_token</strong> (<em>-</em>) – (<cite>Optional</cite>) string: a classification token (e.g. to extract a summary of an input sequence leveraging self-attention along the full depth of the model). Will be associated to <code class="docutils literal notranslate"><span class="pre">self.cls_token</span></code> and <code class="docutils literal notranslate"><span class="pre">self.cls_token_id</span></code></p></li>
<li><p><strong>mask_token</strong> (<em>-</em>) – (<cite>Optional</cite>) string: a masking token (e.g. when training a model with masked-language modeling). Will be associated to <code class="docutils literal notranslate"><span class="pre">self.mask_token</span></code> and <code class="docutils literal notranslate"><span class="pre">self.mask_token_id</span></code></p></li>
<li><p><strong>additional_special_tokens</strong> (<em>-</em>) – (<cite>Optional</cite>) list: a list of additional special tokens. Adding all special tokens here ensure they won’t be split by the tokenization process. Will be associated to <code class="docutils literal notranslate"><span class="pre">self.additional_special_tokens</span></code> and <code class="docutils literal notranslate"><span class="pre">self.additional_special_tokens_ids</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.add_special_tokens"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.add_special_tokens"></a>
<code class="sig-name descname">add_special_tokens</code><span class="sig-paren">(</span><em class="sig-param">special_tokens_dict</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.add_special_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.add_special_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a dictionary of special tokens (eos, pad, cls…) to the encoder and link them
to class attributes. If special tokens are NOT in the vocabulary, they are added
to it (indexed starting from the last index of the current vocabulary).</p>
<p>Using <cite>add_special_tokens</cite> will ensure your special tokens can be used in several ways:</p>
<ul class="simple">
<li><p>special tokens are carefully handled by the tokenizer (they are never split)</p></li>
<li><p>you can easily refer to special tokens using tokenizer class attributes like <cite>tokenizer.cls_token</cite>. This makes it easy to develop model-agnostic training and fine-tuning scripts.</p></li>
</ul>
<p>When possible, special tokens are already registered for provided pretrained models (ex: BertTokenizer cls_token is already registered to be ‘[CLS]’ and XLM’s one is also registered to be ‘&lt;/s&gt;’)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>special_tokens_dict</strong> – <p>dict of string. Keys should be in the list of predefined special attributes:
[<code class="docutils literal notranslate"><span class="pre">bos_token</span></code>, <code class="docutils literal notranslate"><span class="pre">eos_token</span></code>, <code class="docutils literal notranslate"><span class="pre">unk_token</span></code>, <code class="docutils literal notranslate"><span class="pre">sep_token</span></code>, <code class="docutils literal notranslate"><span class="pre">pad_token</span></code>, <code class="docutils literal notranslate"><span class="pre">cls_token</span></code>, <code class="docutils literal notranslate"><span class="pre">mask_token</span></code>,
<code class="docutils literal notranslate"><span class="pre">additional_special_tokens</span></code>].</p>
<p>Tokens are only added if they are not already in the vocabulary (tested by checking if the tokenizer assign the index of the <code class="docutils literal notranslate"><span class="pre">unk_token</span></code> to them).</p>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of tokens added to the vocabulary.</p>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let's see how to add a new classification token to GPT-2</span>
<span class="n">tokenizer</span> <span class="o">=</span> <span class="n">GPT2Tokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s1">'gpt2'</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">GPT2Model</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s1">'gpt2'</span><span class="p">)</span>

<span class="n">special_tokens_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'cls_token'</span><span class="p">:</span> <span class="s1">'&lt;CLS&gt;'</span><span class="p">}</span>

<span class="n">num_added_toks</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">add_special_tokens</span><span class="p">(</span><span class="n">special_tokens_dict</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'We have added'</span><span class="p">,</span> <span class="n">num_added_toks</span><span class="p">,</span> <span class="s1">'tokens'</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">resize_token_embeddings</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tokenizer</span><span class="p">))</span>  <span class="c1"># Notice: resize_token_embeddings expect to receive the full size of the new vocabulary, i.e. the length of the tokenizer.</span>

<span class="k">assert</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">cls_token</span> <span class="o">==</span> <span class="s1">'&lt;CLS&gt;'</span>
</pre></div>
</div>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.add_tokens"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.add_tokens"></a>
<code class="sig-name descname">add_tokens</code><span class="sig-paren">(</span><em class="sig-param">new_tokens</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.add_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.add_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a list of new tokens to the tokenizer class. If the new tokens are not in the
vocabulary, they are added to it with indices starting from length of the current vocabulary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_tokens</strong> – string or list of string. Each string is a token to add. Tokens are only added if they are not already in the vocabulary (tested by checking if the tokenizer assign the index of the <code class="docutils literal notranslate"><span class="pre">unk_token</span></code> to them).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of tokens added to the vocabulary.</p>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let's see how to increase the vocabulary of Bert model and tokenizer</span>
<span class="n">tokenizer</span> <span class="o">=</span> <span class="n">BertTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s1">'bert-base-uncased'</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">BertModel</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s1">'bert-base-uncased'</span><span class="p">)</span>

<span class="n">num_added_toks</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">add_tokens</span><span class="p">([</span><span class="s1">'new_tok1'</span><span class="p">,</span> <span class="s1">'my_new-tok2'</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'We have added'</span><span class="p">,</span> <span class="n">num_added_toks</span><span class="p">,</span> <span class="s1">'tokens'</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">resize_token_embeddings</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tokenizer</span><span class="p">))</span>  <span class="c1"># Notice: resize_token_embeddings expect to receive the full size of the new vocabulary, i.e. the length of the tokenizer.</span>
</pre></div>
</div>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.additional_special_tokens"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.additional_special_tokens"></a>
<em class="property">property </em><code class="sig-name descname">additional_special_tokens</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.additional_special_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>All the additional special tokens you may want to use (list of strings). Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.additional_special_tokens_ids"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.additional_special_tokens_ids"></a>
<em class="property">property </em><code class="sig-name descname">additional_special_tokens_ids</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.additional_special_tokens_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Ids of all the additional special tokens in the vocabulary (list of integers). Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.all_special_ids"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.all_special_ids"></a>
<em class="property">property </em><code class="sig-name descname">all_special_ids</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.all_special_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>List the vocabulary indices of the special tokens (‘&lt;unk&gt;’, ‘&lt;cls&gt;’…) mapped to
class attributes (cls_token, unk_token…).</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.all_special_tokens"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.all_special_tokens"></a>
<em class="property">property </em><code class="sig-name descname">all_special_tokens</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.all_special_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>List all the special tokens (‘&lt;unk&gt;’, ‘&lt;cls&gt;’…) mapped to class attributes
(cls_token, unk_token…).</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.batch_encode_plus"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.batch_encode_plus"></a>
<code class="sig-name descname">batch_encode_plus</code><span class="sig-paren">(</span><em class="sig-param">batch_text_or_text_pairs: Union[str, List[str]], add_special_tokens: bool = True, max_length: Optional[int] = None, stride: int = 0, truncation_strategy: str = 'longest_first', pad_to_max_length: bool = False, return_tensors: Optional[str] = None, return_token_type_ids: Optional[bool] = None, return_attention_masks: Optional[bool] = None, return_overflowing_tokens: bool = False, return_special_tokens_masks: bool = False, return_offsets_mapping: bool = False, return_input_lengths: bool = False, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.batch_encode_plus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.batch_encode_plus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary containing the encoded sequence or sequence pair and additional information:
the mask for sequence classification and the overflowing elements if a <code class="docutils literal notranslate"><span class="pre">max_length</span></code> is specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batch_text_or_text_pairs</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">List[str]</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">List[List[str]]</span></code>) – Batch of sequences or pair of sequences to be encoded.
This can be a list of string/string-sequences/int-sequences or a list of pair of
string/string-sequences/int-sequence (see details in encode_plus)</p></li>
<li><p><strong>add_special_tokens</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>) – If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the sequences will be encoded with the special tokens relative
to their model.</p></li>
<li><p><strong>max_length</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>) – If set to a number, will limit the total sequence returned so that it has a maximum length.
If there are overflowing tokens, those will be added to the returned dictionary</p></li>
<li><p><strong>stride</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, <cite>optional</cite>, defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>) – If set to a number along with max_length, the overflowing tokens returned will contain some tokens
from the main sequence returned. The value of this argument defines the number of additional tokens.</p></li>
<li><p><strong>truncation_strategy</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, <cite>optional</cite>, defaults to <cite>longest_first</cite>) – <p>String selected in the following options:</p>
<ul>
<li><p>’longest_first’ (default) Iteratively reduce the inputs sequence until the input is under max_length
starting from the longest one at each token (when there is a pair of input sequences)</p></li>
<li><p>’only_first’: Only truncate the first sequence</p></li>
<li><p>’only_second’: Only truncate the second sequence</p></li>
<li><p>’do_not_truncate’: Does not truncate (raise an error if the input sequence is longer than max_length)</p></li>
</ul>
</p></li>
<li><p><strong>pad_to_max_length</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>) – <p>If set to True, the returned sequences will be padded according to the model’s padding side and
padding index, up to their max length. If no max length is specified, the padding is done up to the
model’s max length. The tokenizer padding sides are handled by the class attribute <cite>padding_side</cite>
which can be set to the following strings:</p>
<ul>
<li><p>’left’: pads on the left of the sequences</p></li>
<li><p>’right’: pads on the right of the sequences</p></li>
</ul>
<p>Defaults to False: no padding.</p>
</p></li>
<li><p><strong>return_tensors</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>) – Can be set to ‘tf’ or ‘pt’ to return respectively TensorFlow <code class="xref py py-obj docutils literal notranslate"><span class="pre">tf.constant</span></code>
or PyTorch <code class="xref py py-obj docutils literal notranslate"><span class="pre">torch.Tensor</span></code> instead of a list of python integers.</p></li>
<li><p><strong>return_token_type_ids</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>) – <p>Whether to return token type IDs. If left to the default, will return the token type IDs according
to the specific tokenizer’s default, defined by the <code class="xref py py-obj docutils literal notranslate"><span class="pre">return_outputs</span></code> attribute.</p>
<p><a class="reference external" href="../glossary.html#token-type-ids">What are token type IDs?</a></p>
</p></li>
<li><p><strong>return_attention_masks</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">none</span></code>) – <p>Whether to return the attention mask. If left to the default, will return the attention mask according
to the specific tokenizer’s default, defined by the <code class="xref py py-obj docutils literal notranslate"><span class="pre">return_outputs</span></code> attribute.</p>
<p><a class="reference external" href="../glossary.html#attention-mask">What are attention masks?</a></p>
</p></li>
<li><p><strong>return_overflowing_tokens</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>) – Set to True to return overflowing token information (default False).</p></li>
<li><p><strong>return_special_tokens_masks</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>) – Set to True to return special tokens mask information (default False).</p></li>
<li><p><strong>return_offsets_mapping</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>) – Set to True to return (char_start, char_end) for each token (default False).
If using Python’s tokenizer, this method will raise NotImplementedError. This one is only available on
Rust-based tokenizers inheriting from PreTrainedTokenizerFast.</p></li>
<li><p><strong>return_input_lengths</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>) – If set the resulting dictionary will include the length of each sample</p></li>
<li><p><strong>**kwargs</strong> – passed to the <cite>self.tokenize()</cite> method</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A Dictionary of shape:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>{
    input_ids: list[List[int]],
    token_type_ids: list[List[int]] if return_token_type_ids is True (default)
    attention_mask: list[List[int]] if return_attention_mask is True (default)
    overflowing_tokens: list[List[int]] if a ``max_length`` is specified and return_overflowing_tokens is True
    num_truncated_tokens: List[int] if a ``max_length`` is specified and return_overflowing_tokens is True
    special_tokens_mask: list[List[int]] if ``add_special_tokens`` if set to ``True`` and return_special_tokens_mask is True
}
</pre></div>
</div>
<p>With the fields:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">input_ids</span></code>: list of token ids to be fed to a model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">token_type_ids</span></code>: list of token type ids to be fed to a model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">attention_mask</span></code>: list of indices specifying which tokens should be attended to by the model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overflowing_tokens</span></code>: list of overflowing tokens if a max length is specified.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_truncated_tokens</span></code>: number of overflowing tokens a <code class="docutils literal notranslate"><span class="pre">max_length</span></code> is specified</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">special_tokens_mask</span></code>: if adding special tokens, this is a list of [0, 1], with 0 specifying special added
tokens and 1 specifying sequence tokens.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.bos_token"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.bos_token"></a>
<em class="property">property </em><code class="sig-name descname">bos_token</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.bos_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Beginning of sentence token (string). Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.bos_token_id"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.bos_token_id"></a>
<em class="property">property </em><code class="sig-name descname">bos_token_id</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.bos_token_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the beginning of sentence token in the vocabulary. Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.build_inputs_with_special_tokens"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.build_inputs_with_special_tokens"></a>
<code class="sig-name descname">build_inputs_with_special_tokens</code><span class="sig-paren">(</span><em class="sig-param">token_ids_0</em>, <em class="sig-param">token_ids_1=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.build_inputs_with_special_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.build_inputs_with_special_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Build model inputs from a sequence or a pair of sequence for sequence classification tasks
by concatenating and adding special tokens.
A RoBERTa sequence has the following format:</p>
<blockquote>
<div><p>single sequence: &lt;s&gt; X &lt;/s&gt;
pair of sequences: &lt;s&gt; A &lt;/s&gt;&lt;/s&gt; B &lt;/s&gt;</p>
</div></blockquote>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.clean_up_tokenization"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.clean_up_tokenization"></a>
<em class="property">static </em><code class="sig-name descname">clean_up_tokenization</code><span class="sig-paren">(</span><em class="sig-param">out_string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.clean_up_tokenization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.clean_up_tokenization" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up a list of simple English tokenization artifacts like spaces before punctuations and abreviated forms.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.cls_token"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.cls_token"></a>
<em class="property">property </em><code class="sig-name descname">cls_token</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.cls_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Classification token (string). E.g. to extract a summary of an input sequence leveraging self-attention along the full depth of the model. Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.cls_token_id"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.cls_token_id"></a>
<em class="property">property </em><code class="sig-name descname">cls_token_id</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.cls_token_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the classification token in the vocabulary. E.g. to extract a summary of an input sequence leveraging self-attention along the full depth of the model. Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.convert_ids_to_tokens"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.convert_ids_to_tokens"></a>
<code class="sig-name descname">convert_ids_to_tokens</code><span class="sig-paren">(</span><em class="sig-param">ids</em>, <em class="sig-param">skip_special_tokens=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.convert_ids_to_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.convert_ids_to_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single index or a sequence of indices (integers) in a token ”
(resp.) a sequence of tokens (str), using the vocabulary and added tokens.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>skip_special_tokens</strong> – Don’t decode special tokens (self.all_special_tokens). Default: False</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.convert_tokens_to_ids"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.convert_tokens_to_ids"></a>
<code class="sig-name descname">convert_tokens_to_ids</code><span class="sig-paren">(</span><em class="sig-param">tokens</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.convert_tokens_to_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.convert_tokens_to_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a single token, or a sequence of tokens, (str) in a single integer id
(resp. a sequence of ids), using the vocabulary.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.convert_tokens_to_string"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.convert_tokens_to_string"></a>
<code class="sig-name descname">convert_tokens_to_string</code><span class="sig-paren">(</span><em class="sig-param">tokens</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.convert_tokens_to_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.convert_tokens_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a sequence of tokens (string) in a single string.
The most simple way to do it is ‘ ‘.join(self.convert_ids_to_tokens(token_ids))
but we often want to remove sub-word tokenization artifacts at the same time.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.decode"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.decode"></a>
<code class="sig-name descname">decode</code><span class="sig-paren">(</span><em class="sig-param">token_ids</em>, <em class="sig-param">skip_special_tokens=False</em>, <em class="sig-param">clean_up_tokenization_spaces=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a sequence of ids (integer) in a string, using the tokenizer and vocabulary
with options to remove special tokens and clean up tokenization spaces.
Similar to doing <code class="docutils literal notranslate"><span class="pre">self.convert_tokens_to_string(self.convert_ids_to_tokens(token_ids))</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>token_ids</strong> – list of tokenized input ids. Can be obtained using the <cite>encode</cite> or <cite>encode_plus</cite> methods.</p></li>
<li><p><strong>skip_special_tokens</strong> – if set to True, will replace special tokens.</p></li>
<li><p><strong>clean_up_tokenization_spaces</strong> – if set to True, will clean up the tokenization spaces.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.encode"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.encode"></a>
<code class="sig-name descname">encode</code><span class="sig-paren">(</span><em class="sig-param">text: str</em>, <em class="sig-param">text_pair: Optional[str] = None</em>, <em class="sig-param">add_special_tokens: bool = True</em>, <em class="sig-param">max_length: Optional[int] = None</em>, <em class="sig-param">stride: int = 0</em>, <em class="sig-param">truncation_strategy: str = 'longest_first'</em>, <em class="sig-param">pad_to_max_length: bool = False</em>, <em class="sig-param">return_tensors: Optional[str] = None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.encode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a string in a sequence of ids (integer), using the tokenizer and vocabulary.</p>
<p>Same as doing <code class="docutils literal notranslate"><span class="pre">self.convert_tokens_to_ids(self.tokenize(text))</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">List[str]</span></code>) – The first sequence to be encoded. This can be a string, a list of strings (tokenized string using
the <cite>tokenize</cite> method) or a list of integers (tokenized string ids using the <cite>convert_tokens_to_ids</cite>
method)</p></li>
<li><p><strong>text_pair</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">List[str]</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>) – Optional second sequence to be encoded. This can be a string, a list of strings (tokenized
string using the <cite>tokenize</cite> method) or a list of integers (tokenized string ids using the
<cite>convert_tokens_to_ids</cite> method)</p></li>
<li><p><strong>add_special_tokens</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>) – If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the sequences will be encoded with the special tokens relative
to their model.</p></li>
<li><p><strong>max_length</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>) – If set to a number, will limit the total sequence returned so that it has a maximum length.
If there are overflowing tokens, those will be added to the returned dictionary</p></li>
<li><p><strong>stride</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, <cite>optional</cite>, defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>) – If set to a number along with max_length, the overflowing tokens returned will contain some tokens
from the main sequence returned. The value of this argument defines the number of additional tokens.</p></li>
<li><p><strong>truncation_strategy</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, <cite>optional</cite>, defaults to <cite>longest_first</cite>) – <p>String selected in the following options:</p>
<ul>
<li><p>’longest_first’ (default) Iteratively reduce the inputs sequence until the input is under max_length
starting from the longest one at each token (when there is a pair of input sequences)</p></li>
<li><p>’only_first’: Only truncate the first sequence</p></li>
<li><p>’only_second’: Only truncate the second sequence</p></li>
<li><p>’do_not_truncate’: Does not truncate (raise an error if the input sequence is longer than max_length)</p></li>
</ul>
</p></li>
<li><p><strong>pad_to_max_length</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>) – <p>If set to True, the returned sequences will be padded according to the model’s padding side and
padding index, up to their max length. If no max length is specified, the padding is done up to the
model’s max length. The tokenizer padding sides are handled by the class attribute <cite>padding_side</cite>
which can be set to the following strings:</p>
<ul>
<li><p>’left’: pads on the left of the sequences</p></li>
<li><p>’right’: pads on the right of the sequences</p></li>
</ul>
<p>Defaults to False: no padding.</p>
</p></li>
<li><p><strong>return_tensors</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>) – Can be set to ‘tf’ or ‘pt’ to return respectively TensorFlow <code class="xref py py-obj docutils literal notranslate"><span class="pre">tf.constant</span></code>
or PyTorch <code class="xref py py-obj docutils literal notranslate"><span class="pre">torch.Tensor</span></code> instead of a list of python integers.</p></li>
<li><p><strong>**kwargs</strong> – passed to the <cite>self.tokenize()</cite> method</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.encode_plus"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.encode_plus"></a>
<code class="sig-name descname">encode_plus</code><span class="sig-paren">(</span><em class="sig-param">text: str</em>, <em class="sig-param">text_pair: Optional[str] = None</em>, <em class="sig-param">add_special_tokens: bool = True</em>, <em class="sig-param">max_length: Optional[int] = None</em>, <em class="sig-param">stride: int = 0</em>, <em class="sig-param">truncation_strategy: str = 'longest_first'</em>, <em class="sig-param">pad_to_max_length: bool = False</em>, <em class="sig-param">return_tensors: Optional[str] = None</em>, <em class="sig-param">return_token_type_ids: Optional[bool] = None</em>, <em class="sig-param">return_attention_mask: Optional[bool] = None</em>, <em class="sig-param">return_overflowing_tokens: bool = False</em>, <em class="sig-param">return_special_tokens_mask: bool = False</em>, <em class="sig-param">return_offsets_mapping: bool = False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.encode_plus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.encode_plus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary containing the encoded sequence or sequence pair and additional information:
the mask for sequence classification and the overflowing elements if a <code class="docutils literal notranslate"><span class="pre">max_length</span></code> is specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">List[str]</span></code>) – The first sequence to be encoded. This can be a string, a list of strings (tokenized string using
the <cite>tokenize</cite> method) or a list of integers (tokenized string ids using the <cite>convert_tokens_to_ids</cite>
method)</p></li>
<li><p><strong>text_pair</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">List[str]</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>) – Optional second sequence to be encoded. This can be a string, a list of strings (tokenized
string using the <cite>tokenize</cite> method) or a list of integers (tokenized string ids using the
<cite>convert_tokens_to_ids</cite> method)</p></li>
<li><p><strong>add_special_tokens</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code>) – If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the sequences will be encoded with the special tokens relative
to their model.</p></li>
<li><p><strong>max_length</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>) – If set to a number, will limit the total sequence returned so that it has a maximum length.
If there are overflowing tokens, those will be added to the returned dictionary</p></li>
<li><p><strong>stride</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, <cite>optional</cite>, defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>) – If set to a number along with max_length, the overflowing tokens returned will contain some tokens
from the main sequence returned. The value of this argument defines the number of additional tokens.</p></li>
<li><p><strong>truncation_strategy</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, <cite>optional</cite>, defaults to <cite>longest_first</cite>) – <p>String selected in the following options:</p>
<ul>
<li><p>’longest_first’ (default) Iteratively reduce the inputs sequence until the input is under max_length
starting from the longest one at each token (when there is a pair of input sequences)</p></li>
<li><p>’only_first’: Only truncate the first sequence</p></li>
<li><p>’only_second’: Only truncate the second sequence</p></li>
<li><p>’do_not_truncate’: Does not truncate (raise an error if the input sequence is longer than max_length)</p></li>
</ul>
</p></li>
<li><p><strong>pad_to_max_length</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>) – <p>If set to True, the returned sequences will be padded according to the model’s padding side and
padding index, up to their max length. If no max length is specified, the padding is done up to the
model’s max length. The tokenizer padding sides are handled by the class attribute <cite>padding_side</cite>
which can be set to the following strings:</p>
<ul>
<li><p>’left’: pads on the left of the sequences</p></li>
<li><p>’right’: pads on the right of the sequences</p></li>
</ul>
<p>Defaults to False: no padding.</p>
</p></li>
<li><p><strong>return_tensors</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>) – Can be set to ‘tf’ or ‘pt’ to return respectively TensorFlow <code class="xref py py-obj docutils literal notranslate"><span class="pre">tf.constant</span></code>
or PyTorch <code class="xref py py-obj docutils literal notranslate"><span class="pre">torch.Tensor</span></code> instead of a list of python integers.</p></li>
<li><p><strong>return_token_type_ids</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>) – <p>Whether to return token type IDs. If left to the default, will return the token type IDs according
to the specific tokenizer’s default, defined by the <code class="xref py py-obj docutils literal notranslate"><span class="pre">return_outputs</span></code> attribute.</p>
<p><a class="reference external" href="../glossary.html#token-type-ids">What are token type IDs?</a></p>
</p></li>
<li><p><strong>return_attention_mask</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">none</span></code>) – <p>Whether to return the attention mask. If left to the default, will return the attention mask according
to the specific tokenizer’s default, defined by the <code class="xref py py-obj docutils literal notranslate"><span class="pre">return_outputs</span></code> attribute.</p>
<p><a class="reference external" href="../glossary.html#attention-mask">What are attention masks?</a></p>
</p></li>
<li><p><strong>return_overflowing_tokens</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>) – Set to True to return overflowing token information (default False).</p></li>
<li><p><strong>return_special_tokens_mask</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>) – Set to True to return special tokens mask information (default False).</p></li>
<li><p><strong>return_offsets_mapping</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, <cite>optional</cite>, defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code>) – Set to True to return (char_start, char_end) for each token (default False).
If using Python’s tokenizer, this method will raise NotImplementedError. This one is only available on
Rust-based tokenizers inheriting from PreTrainedTokenizerFast.</p></li>
<li><p><strong>**kwargs</strong> – passed to the <cite>self.tokenize()</cite> method</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A Dictionary of shape:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>{
    input_ids: list[int],
    token_type_ids: list[int] if return_token_type_ids is True (default)
    attention_mask: list[int] if return_attention_mask is True (default)
    overflowing_tokens: list[int] if a ``max_length`` is specified and return_overflowing_tokens is True
    num_truncated_tokens: int if a ``max_length`` is specified and return_overflowing_tokens is True
    special_tokens_mask: list[int] if ``add_special_tokens`` if set to ``True`` and return_special_tokens_mask is True
}
</pre></div>
</div>
<p>With the fields:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">input_ids</span></code>: list of token ids to be fed to a model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">token_type_ids</span></code>: list of token type ids to be fed to a model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">attention_mask</span></code>: list of indices specifying which tokens should be attended to by the model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overflowing_tokens</span></code>: list of overflowing tokens if a max length is specified.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_truncated_tokens</span></code>: number of overflowing tokens a <code class="docutils literal notranslate"><span class="pre">max_length</span></code> is specified</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">special_tokens_mask</span></code>: if adding special tokens, this is a list of [0, 1], with 0 specifying special added
tokens and 1 specifying sequence tokens.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.eos_token"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.eos_token"></a>
<em class="property">property </em><code class="sig-name descname">eos_token</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.eos_token" title="Permalink to this definition">¶</a></dt>
<dd><p>End of sentence token (string). Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.eos_token_id"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.eos_token_id"></a>
<em class="property">property </em><code class="sig-name descname">eos_token_id</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.eos_token_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the end of sentence token in the vocabulary. Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.from_pretrained"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.from_pretrained"></a>
<em class="property">classmethod </em><code class="sig-name descname">from_pretrained</code><span class="sig-paren">(</span><em class="sig-param">*inputs</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.from_pretrained"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.from_pretrained" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a <a class="reference internal" href="#transformers.PreTrainedTokenizer" title="transformers.PreTrainedTokenizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">PreTrainedTokenizer</span></code></a> (or a derived class) from a predefined tokenizer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pretrained_model_name_or_path</strong> – <p>either:</p>
<ul>
<li><p>a string with the <cite>shortcut name</cite> of a predefined tokenizer to load from cache or download, e.g.: <code class="docutils literal notranslate"><span class="pre">bert-base-uncased</span></code>.</p></li>
<li><p>a string with the <cite>identifier name</cite> of a predefined tokenizer that was user-uploaded to our S3, e.g.: <code class="docutils literal notranslate"><span class="pre">dbmdz/bert-base-german-cased</span></code>.</p></li>
<li><p>a path to a <cite>directory</cite> containing vocabulary files required by the tokenizer, for instance saved using the <a class="reference internal" href="#transformers.PreTrainedTokenizer.save_pretrained" title="transformers.PreTrainedTokenizer.save_pretrained"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_pretrained()</span></code></a> method, e.g.: <code class="docutils literal notranslate"><span class="pre">./my_model_directory/</span></code>.</p></li>
<li><p>(not applicable to all derived classes, deprecated) a path or url to a single saved vocabulary file if and only if the tokenizer only requires a single vocabulary file (e.g. Bert, XLNet), e.g.: <code class="docutils literal notranslate"><span class="pre">./my_model_directory/vocab.txt</span></code>.</p></li>
</ul>
</p></li>
<li><p><strong>cache_dir</strong> – (<cite>optional</cite>) string:
Path to a directory in which a downloaded predefined tokenizer vocabulary files should be cached if the standard cache should not be used.</p></li>
<li><p><strong>force_download</strong> – (<cite>optional</cite>) boolean, default False:
Force to (re-)download the vocabulary files and override the cached versions if they exists.</p></li>
<li><p><strong>resume_download</strong> – (<cite>optional</cite>) boolean, default False:
Do not delete incompletely recieved file. Attempt to resume the download if such a file exists.</p></li>
<li><p><strong>proxies</strong> – (<cite>optional</cite>) dict, default None:
A dictionary of proxy servers to use by protocol or endpoint, e.g.: {‘http’: ‘foo.bar:3128’, ‘http://hostname’: ‘foo.bar:4012’}.
The proxies are used on each request.</p></li>
<li><p><strong>inputs</strong> – (<cite>optional</cite>) positional arguments: will be passed to the Tokenizer <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method.</p></li>
<li><p><strong>kwargs</strong> – (<cite>optional</cite>) keyword arguments: will be passed to the Tokenizer <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method. Can be used to set special tokens like <code class="docutils literal notranslate"><span class="pre">bos_token</span></code>, <code class="docutils literal notranslate"><span class="pre">eos_token</span></code>, <code class="docutils literal notranslate"><span class="pre">unk_token</span></code>, <code class="docutils literal notranslate"><span class="pre">sep_token</span></code>, <code class="docutils literal notranslate"><span class="pre">pad_token</span></code>, <code class="docutils literal notranslate"><span class="pre">cls_token</span></code>, <code class="docutils literal notranslate"><span class="pre">mask_token</span></code>, <code class="docutils literal notranslate"><span class="pre">additional_special_tokens</span></code>. See parameters in the doc string of <a class="reference internal" href="#transformers.PreTrainedTokenizer" title="transformers.PreTrainedTokenizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">PreTrainedTokenizer</span></code></a> for details.</p></li>
</ul>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># We can't instantiate directly the base class `PreTrainedTokenizer` so let's show our examples on a derived class: BertTokenizer</span>

<span class="c1"># Download vocabulary from S3 and cache.</span>
<span class="n">tokenizer</span> <span class="o">=</span> <span class="n">BertTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s1">'bert-base-uncased'</span><span class="p">)</span>

<span class="c1"># Download vocabulary from S3 (user-uploaded) and cache.</span>
<span class="n">tokenizer</span> <span class="o">=</span> <span class="n">BertTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s1">'dbmdz/bert-base-german-cased'</span><span class="p">)</span>

<span class="c1"># If vocabulary files are in a directory (e.g. tokenizer was saved using `save_pretrained('./test/saved_model/')`)</span>
<span class="n">tokenizer</span> <span class="o">=</span> <span class="n">BertTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s1">'./test/saved_model/'</span><span class="p">)</span>

<span class="c1"># If the tokenizer uses a single vocabulary file, you can point directly to this file</span>
<span class="n">tokenizer</span> <span class="o">=</span> <span class="n">BertTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s1">'./test/saved_model/my_vocab.txt'</span><span class="p">)</span>

<span class="c1"># You can link tokens to special vocabulary when instantiating</span>
<span class="n">tokenizer</span> <span class="o">=</span> <span class="n">BertTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s1">'bert-base-uncased'</span><span class="p">,</span> <span class="n">unk_token</span><span class="o">=</span><span class="s1">'&lt;unk&gt;'</span><span class="p">)</span>
<span class="c1"># You should be sure '&lt;unk&gt;' is in the vocabulary when doing that.</span>
<span class="c1"># Otherwise use tokenizer.add_special_tokens({'unk_token': '&lt;unk&gt;'}) instead)</span>
<span class="k">assert</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">unk_token</span> <span class="o">==</span> <span class="s1">'&lt;unk&gt;'</span>
</pre></div>
</div>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.get_special_tokens_mask"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.get_special_tokens_mask"></a>
<code class="sig-name descname">get_special_tokens_mask</code><span class="sig-paren">(</span><em class="sig-param">token_ids_0</em>, <em class="sig-param">token_ids_1=None</em>, <em class="sig-param">already_has_special_tokens=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.get_special_tokens_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.get_special_tokens_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves sequence ids from a token list that has no special tokens added. This method is called when adding
special tokens using the tokenizer <code class="docutils literal notranslate"><span class="pre">prepare_for_model</span></code> or <code class="docutils literal notranslate"><span class="pre">encode_plus</span></code> methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>token_ids_0</strong> – list of ids (must not contain special tokens)</p></li>
<li><p><strong>token_ids_1</strong> – Optional list of ids (must not contain special tokens), necessary when fetching sequence ids
for sequence pairs</p></li>
<li><p><strong>already_has_special_tokens</strong> – (default False) Set to True if the token list is already formated with
special tokens for the model</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1 for a special token, 0 for a sequence token.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A list of integers in the range [0, 1]</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.get_vocab"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.get_vocab"></a>
<code class="sig-name descname">get_vocab</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.get_vocab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.get_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the vocabulary as a dict of {token: index} pairs. <cite>tokenizer.get_vocab()[token]</cite> is equivalent to <cite>tokenizer.convert_tokens_to_ids(token)</cite> when <cite>token</cite> is in the vocab.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.mask_token"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.mask_token"></a>
<em class="property">property </em><code class="sig-name descname">mask_token</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.mask_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask token (string). E.g. when training a model with masked-language modeling. Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.mask_token_id"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.mask_token_id"></a>
<em class="property">property </em><code class="sig-name descname">mask_token_id</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.mask_token_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the mask token in the vocabulary. E.g. when training a model with masked-language modeling. Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.num_added_tokens"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.num_added_tokens"></a>
<code class="sig-name descname">num_added_tokens</code><span class="sig-paren">(</span><em class="sig-param">pair=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.num_added_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.num_added_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of added tokens when encoding a sequence with special tokens.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This encodes inputs and checks the number of added tokens, and is therefore not efficient. Do not put this
inside your training loop.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pair</strong> – Returns the number of added tokens in the case of a sequence pair if set to True, returns the
number of added tokens in the case of a single sequence if set to False.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of tokens added to sequences</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.pad_token"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.pad_token"></a>
<em class="property">property </em><code class="sig-name descname">pad_token</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.pad_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Padding token (string). Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.pad_token_id"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.pad_token_id"></a>
<em class="property">property </em><code class="sig-name descname">pad_token_id</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.pad_token_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the padding token in the vocabulary. Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.pad_token_type_id"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.pad_token_type_id"></a>
<em class="property">property </em><code class="sig-name descname">pad_token_type_id</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.pad_token_type_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the padding token type in the vocabulary.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.prepare_for_model"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.prepare_for_model"></a>
<code class="sig-name descname">prepare_for_model</code><span class="sig-paren">(</span><em class="sig-param">ids: List[int], pair_ids: Optional[List[int]] = None, max_length: Optional[int] = None, add_special_tokens: bool = True, stride: int = 0, truncation_strategy: str = 'longest_first', pad_to_max_length: bool = False, return_tensors: Optional[str] = None, return_token_type_ids: Optional[bool] = None, return_attention_mask: Optional[bool] = None, return_overflowing_tokens: bool = False, return_special_tokens_mask: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.prepare_for_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.prepare_for_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a sequence of input id, or a pair of sequences of inputs ids so that it can be used by the model.
It adds special tokens, truncates
sequences if overflowing while taking into account the special tokens and manages a window stride for
overflowing tokens</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ids</strong> – list of tokenized input ids. Can be obtained from a string by chaining the
<cite>tokenize</cite> and <cite>convert_tokens_to_ids</cite> methods.</p></li>
<li><p><strong>pair_ids</strong> – Optional second list of input ids. Can be obtained from a string by chaining the
<cite>tokenize</cite> and <cite>convert_tokens_to_ids</cite> methods.</p></li>
<li><p><strong>max_length</strong> – maximum length of the returned list. Will truncate by taking into account the special tokens.</p></li>
<li><p><strong>add_special_tokens</strong> – if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the sequences will be encoded with the special tokens relative
to their model.</p></li>
<li><p><strong>stride</strong> – window stride for overflowing tokens. Can be useful for edge effect removal when using sequential
list of inputs.</p></li>
<li><p><strong>truncation_strategy</strong> – <p>string selected in the following options:
- ‘longest_first’ (default) Iteratively reduce the inputs sequence until the input is under max_length</p>
<blockquote>
<div><p>starting from the longest one at each token (when there is a pair of input sequences)</p>
</div></blockquote>
<ul>
<li><p>’only_first’: Only truncate the first sequence</p></li>
<li><p>’only_second’: Only truncate the second sequence</p></li>
<li><p>’do_not_truncate’: Does not truncate (raise an error if the input sequence is longer than max_length)</p></li>
</ul>
</p></li>
<li><p><strong>pad_to_max_length</strong> – if set to True, the returned sequences will be padded according to the model’s padding side and
padding index, up to their max length. If no max length is specified, the padding is done up to the model’s max length.
The tokenizer padding sides are handled by the following strings:
- ‘left’: pads on the left of the sequences
- ‘right’: pads on the right of the sequences
Defaults to False: no padding.</p></li>
<li><p><strong>return_tensors</strong> – (optional) can be set to ‘tf’ or ‘pt’ to return respectively TensorFlow tf.constant
or PyTorch torch.Tensor instead of a list of python integers.</p></li>
<li><p><strong>return_token_type_ids</strong> – (optional) Set to False to avoid returning token_type_ids (default True).</p></li>
<li><p><strong>return_attention_mask</strong> – (optional) Set to False to avoid returning attention mask (default True)</p></li>
<li><p><strong>return_overflowing_tokens</strong> – (optional) Set to True to return overflowing token information (default False).</p></li>
<li><p><strong>return_special_tokens_mask</strong> – (optional) Set to True to return special tokens mask information (default False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A Dictionary of shape:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>{
    input_ids: list[int],
    token_type_ids: list[int] if return_token_type_ids is True (default)
    overflowing_tokens: list[int] if a ``max_length`` is specified and return_overflowing_tokens is True
    num_truncated_tokens: int if a ``max_length`` is specified and return_overflowing_tokens is True
    special_tokens_mask: list[int] if ``add_special_tokens`` if set to ``True`` and return_special_tokens_mask is True
}
</pre></div>
</div>
<dl>
<dt>With the fields:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">input_ids</span></code>: list of token ids to be fed to a model
<code class="docutils literal notranslate"><span class="pre">token_type_ids</span></code>: list of token type ids to be fed to a model</p>
<p><code class="docutils literal notranslate"><span class="pre">overflowing_tokens</span></code>: list of overflowing tokens if a max length is specified.
<code class="docutils literal notranslate"><span class="pre">num_truncated_tokens</span></code>: number of overflowing tokens a <code class="docutils literal notranslate"><span class="pre">max_length</span></code> is specified
<code class="docutils literal notranslate"><span class="pre">special_tokens_mask</span></code>: if adding special tokens, this is a list of [0, 1], with 0 specifying special added
tokens and 1 specifying sequence tokens.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.prepare_for_tokenization"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.prepare_for_tokenization"></a>
<code class="sig-name descname">prepare_for_tokenization</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.prepare_for_tokenization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.prepare_for_tokenization" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs any necessary transformations before tokenization</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.save_pretrained"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.save_pretrained"></a>
<code class="sig-name descname">save_pretrained</code><span class="sig-paren">(</span><em class="sig-param">save_directory</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.save_pretrained"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.save_pretrained" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Save the tokenizer vocabulary files together with:</dt><dd><ul class="simple">
<li><p>added tokens,</p></li>
<li><p>special-tokens-to-class-attributes-mapping,</p></li>
<li><p>tokenizer instantiation positional and keywords inputs (e.g. do_lower_case for Bert).</p></li>
</ul>
</dd>
</dl>
<p>This won’t save modifications other than (added tokens and special token mapping) you may have
applied to the tokenizer after the instantiation (e.g. modifying tokenizer.do_lower_case after creation).</p>
<p>This method make sure the full tokenizer can then be re-loaded using the <a class="reference internal" href="#transformers.PreTrainedTokenizer.from_pretrained" title="transformers.PreTrainedTokenizer.from_pretrained"><code class="xref py py-func docutils literal notranslate"><span class="pre">from_pretrained()</span></code></a> class method.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.save_vocabulary"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.save_vocabulary"></a>
<code class="sig-name descname">save_vocabulary</code><span class="sig-paren">(</span><em class="sig-param">save_directory</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.save_vocabulary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.save_vocabulary" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the tokenizer vocabulary to a directory. This method does <em>NOT</em> save added tokens
and special token mappings.</p>
<p>Please use <a class="reference internal" href="#transformers.PreTrainedTokenizer.save_pretrained" title="transformers.PreTrainedTokenizer.save_pretrained"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_pretrained()</span></code></a> <cite>()</cite> to save the full Tokenizer state if you want to reload it using the <a class="reference internal" href="#transformers.PreTrainedTokenizer.from_pretrained" title="transformers.PreTrainedTokenizer.from_pretrained"><code class="xref py py-func docutils literal notranslate"><span class="pre">from_pretrained()</span></code></a> class method.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.sep_token"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.sep_token"></a>
<em class="property">property </em><code class="sig-name descname">sep_token</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.sep_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Separation token (string). E.g. separate context and query in an input sequence. Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.sep_token_id"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.sep_token_id"></a>
<em class="property">property </em><code class="sig-name descname">sep_token_id</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.sep_token_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the separation token in the vocabulary. E.g. separate context and query in an input sequence. Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.special_tokens_map"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.special_tokens_map"></a>
<em class="property">property </em><code class="sig-name descname">special_tokens_map</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.special_tokens_map" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary mapping special token class attribute (cls_token, unk_token…) to their
values (‘&lt;unk&gt;’, ‘&lt;cls&gt;’…)</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.tokenize"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.tokenize"></a>
<code class="sig-name descname">tokenize</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.tokenize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a string in a sequence of tokens (string), using the tokenizer.
Split in words for word-based vocabulary or sub-words for sub-word-based
vocabularies (BPE/SentencePieces/WordPieces).</p>
<p>Take care of added tokens.</p>
<p>text: The sequence to be encoded.
add_prefix_space: Only applies to GPT-2 and RoBERTa tokenizers. When <cite>True</cite>, this ensures that the sequence</p>
<blockquote>
<div><p>begins with an empty space. False by default except for when using RoBERTa with <cite>add_special_tokens=True</cite>.</p>
</div></blockquote>
<p><a href="#id2"><span class="problematic" id="id3">**</span></a>kwargs: passed to the <cite>prepare_for_tokenization</cite> preprocessing method.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.truncate_sequences"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.truncate_sequences"></a>
<code class="sig-name descname">truncate_sequences</code><span class="sig-paren">(</span><em class="sig-param">ids</em>, <em class="sig-param">pair_ids=None</em>, <em class="sig-param">num_tokens_to_remove=0</em>, <em class="sig-param">truncation_strategy='longest_first'</em>, <em class="sig-param">stride=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.truncate_sequences"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.truncate_sequences" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncates a sequence pair in place to the maximum length.
truncation_strategy: string selected in the following options:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>‘longest_first’ (default) Iteratively reduce the inputs sequence until the input is under max_length</dt><dd><p>starting from the longest one at each token (when there is a pair of input sequences).
Overflowing tokens only contains overflow from the first sequence.</p>
</dd>
</dl>
</li>
<li><p>‘only_first’: Only truncate the first sequence. raise an error if the first sequence is shorter or equal to than num_tokens_to_remove.</p></li>
<li><p>‘only_second’: Only truncate the second sequence</p></li>
<li><p>‘do_not_truncate’: Does not truncate (raise an error if the input sequence is longer than max_length)</p></li>
</ul>
</div></blockquote>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.unk_token"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.unk_token"></a>
<em class="property">property </em><code class="sig-name descname">unk_token</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.unk_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Unknown token (string). Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.unk_token_id"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.unk_token_id"></a>
<em class="property">property </em><code class="sig-name descname">unk_token_id</code><a class="headerlink" href="#transformers.PreTrainedTokenizer.unk_token_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the unknown token in the vocabulary. Log an error if used while not having been set.</p>
</dd></dl>
<dl class="method">
<dt id="transformers.PreTrainedTokenizer.vocab_size"><a name="//apple_ref/cpp/Method/transformers.PreTrainedTokenizer.vocab_size"></a>
<code class="sig-name descname">vocab_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/transformers/tokenization_utils.html#PreTrainedTokenizer.vocab_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#transformers.PreTrainedTokenizer.vocab_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of the base vocabulary (without the added tokens)</p>
</dd></dl>
</dd></dl>
</div>
</div>
</div>
</div>
<footer>
<div aria-label="footer navigation" class="rst-footer-buttons" role="navigation">
<a accesskey="n" class="btn btn-neutral float-right" href="pipelines.html" rel="next" title="Pipelines">Next <span class="fa fa-arrow-circle-right"></span></a>
<a accesskey="p" class="btn btn-neutral float-left" href="model.html" rel="prev" title="Models"><span class="fa fa-arrow-circle-left"></span> Previous</a>
</div>
<hr/>
<div role="contentinfo">
<p>
        © Copyright 2020, huggingface

    </p>
</div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
</div>
</div>
</section>
</div>
<script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
<!-- Theme Analytics -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83738774-2', 'auto');
    ga('send', 'pageview');
    </script>
</body>
</html>